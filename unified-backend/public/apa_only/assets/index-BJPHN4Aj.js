var u1=Object.defineProperty;var f1=(e,t,n)=>t in e?u1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>f1(e,typeof t!="symbol"?t+"":t,n);function h1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p0={exports:{}},Ec={},g0={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=Symbol.for("react.element"),m1=Symbol.for("react.portal"),p1=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),x1=Symbol.for("react.profiler"),v1=Symbol.for("react.provider"),b1=Symbol.for("react.context"),y1=Symbol.for("react.forward_ref"),w1=Symbol.for("react.suspense"),S1=Symbol.for("react.memo"),N1=Symbol.for("react.lazy"),Vm=Symbol.iterator;function j1(e){return e===null||typeof e!="object"?null:(e=Vm&&e[Vm]||e["@@iterator"],typeof e=="function"?e:null)}var x0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v0=Object.assign,b0={};function Vs(e,t,n){this.props=e,this.context=t,this.refs=b0,this.updater=n||x0}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y0(){}y0.prototype=Vs.prototype;function Wf(e,t,n){this.props=e,this.context=t,this.refs=b0,this.updater=n||x0}var Hf=Wf.prototype=new y0;Hf.constructor=Wf;v0(Hf,Vs.prototype);Hf.isPureReactComponent=!0;var zm=Array.isArray,w0=Object.prototype.hasOwnProperty,Uf={current:null},S0={key:!0,ref:!0,__self:!0,__source:!0};function N0(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)w0.call(t,r)&&!S0.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:mo,type:e,key:s,ref:o,props:i,_owner:Uf.current}}function C1(e,t){return{$$typeof:mo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yf(e){return typeof e=="object"&&e!==null&&e.$$typeof===mo}function k1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bm=/\/+/g;function jd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?k1(""+e.key):t.toString(36)}function Cl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mo:case m1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+jd(o,0):r,zm(i)?(n="",e!=null&&(n=e.replace(Bm,"$&/")+"/"),Cl(i,t,n,"",function(d){return d})):i!=null&&(Yf(i)&&(i=C1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",zm(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+jd(s,l);o+=Cl(s,t,n,c,i)}else if(c=j1(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+jd(s,l++),o+=Cl(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zo(e,t,n){if(e==null)return e;var r=[],i=0;return Cl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function I1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},kl={transition:null},P1={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:kl,ReactCurrentOwner:Uf};function j0(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:zo,forEach:function(e,t,n){zo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zo(e,function(){t++}),t},toArray:function(e){return zo(e,function(t){return t})||[]},only:function(e){if(!Yf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=Vs;Ne.Fragment=p1;Ne.Profiler=x1;Ne.PureComponent=Wf;Ne.StrictMode=g1;Ne.Suspense=w1;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P1;Ne.act=j0;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Uf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w0.call(t,c)&&!S0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:mo,type:e.type,key:i,ref:s,props:r,_owner:o}};Ne.createContext=function(e){return e={$$typeof:b1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:v1,_context:e},e.Consumer=e};Ne.createElement=N0;Ne.createFactory=function(e){var t=N0.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:y1,render:e}};Ne.isValidElement=Yf;Ne.lazy=function(e){return{$$typeof:N1,_payload:{_status:-1,_result:e},_init:I1}};Ne.memo=function(e,t){return{$$typeof:S1,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=kl.transition;kl.transition={};try{e()}finally{kl.transition=t}};Ne.unstable_act=j0;Ne.useCallback=function(e,t){return Ot.current.useCallback(e,t)};Ne.useContext=function(e){return Ot.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Ot.current.useEffect(e,t)};Ne.useId=function(){return Ot.current.useId()};Ne.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Ot.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};Ne.useRef=function(e){return Ot.current.useRef(e)};Ne.useState=function(e){return Ot.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return Ot.current.useTransition()};Ne.version="18.3.1";g0.exports=Ne;var j=g0.exports;const Pe=$f(j),_1=h1({__proto__:null,default:Pe},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1=j,D1=Symbol.for("react.element"),R1=Symbol.for("react.fragment"),M1=Object.prototype.hasOwnProperty,T1=E1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A1={key:!0,ref:!0,__self:!0,__source:!0};function C0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)M1.call(t,r)&&!A1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:D1,type:e,key:s,ref:o,props:i,_owner:T1.current}}Ec.Fragment=R1;Ec.jsx=C0;Ec.jsxs=C0;p0.exports=Ec;var a=p0.exports,k0={exports:{}},on={},I0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,F){var V=R.length;R.push(F);e:for(;0<V;){var H=V-1>>>1,W=R[H];if(0<i(W,F))R[H]=F,R[V]=W,V=H;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],V=R.pop();if(V!==F){R[0]=V;e:for(var H=0,W=R.length,oe=W>>>1;H<oe;){var Z=2*(H+1)-1,U=R[Z],J=Z+1,le=R[J];if(0>i(U,V))J<W&&0>i(le,U)?(R[H]=le,R[J]=V,H=J):(R[H]=U,R[Z]=V,H=Z);else if(J<W&&0>i(le,V))R[H]=le,R[J]=V,H=J;else break e}}return F}function i(R,F){var V=R.sortIndex-F.sortIndex;return V!==0?V:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,m=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var F=n(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=R)r(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(d)}}function S(R){if(x=!1,b(R),!g)if(n(c)!==null)g=!0,D(w);else{var F=n(d);F!==null&&O(S,F.startTime-R)}}function w(R,F){g=!1,x&&(x=!1,p(k),k=-1),m=!0;var V=h;try{for(b(F),f=n(c);f!==null&&(!(f.expirationTime>F)||R&&!P());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var W=H(f.expirationTime<=F);F=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),b(F)}else r(c);f=n(c)}if(f!==null)var oe=!0;else{var Z=n(d);Z!==null&&O(S,Z.startTime-F),oe=!1}return oe}finally{f=null,h=V,m=!1}}var N=!1,C=null,k=-1,I=5,_=-1;function P(){return!(e.unstable_now()-_<I)}function L(){if(C!==null){var R=e.unstable_now();_=R;var F=!0;try{F=C(!0,R)}finally{F?Y():(N=!1,C=null)}}else N=!1}var Y;if(typeof v=="function")Y=function(){v(L)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,M=E.port2;E.port1.onmessage=L,Y=function(){M.postMessage(null)}}else Y=function(){y(L,0)};function D(R){C=R,N||(N=!0,Y())}function O(R,F){k=y(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,D(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var V=h;h=F;try{return R()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=h;h=R;try{return F()}finally{h=V}},e.unstable_scheduleCallback=function(R,F,V){var H=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?H+V:H):V=H,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,R={id:u++,callback:F,priorityLevel:R,startTime:V,expirationTime:W,sortIndex:-1},V>H?(R.sortIndex=V,t(d,R),n(c)===null&&R===n(d)&&(x?(p(k),k=-1):x=!0,O(S,V-H))):(R.sortIndex=W,t(c,R),g||m||(g=!0,D(w))),R},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(R){var F=h;return function(){var V=h;h=F;try{return R.apply(this,arguments)}finally{h=V}}}})(P0);I0.exports=P0;var O1=I0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=j,an=O1;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _0=new Set,Ta={};function Li(e,t){js(e,t),js(e+"Capture",t)}function js(e,t){for(Ta[e]=t,e=0;e<t.length;e++)_0.add(t[e])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=Object.prototype.hasOwnProperty,F1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$m={},Wm={};function V1(e){return ku.call(Wm,e)?!0:ku.call($m,e)?!1:F1.test(e)?Wm[e]=!0:($m[e]=!0,!1)}function z1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B1(e,t,n,r){if(t===null||typeof t>"u"||z1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gf=/[\-:]([a-z])/g;function qf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gf,qf);Nt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gf,qf);Nt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gf,qf);Nt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jf(e,t,n,r){var i=Nt.hasOwnProperty(t)?Nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B1(t,n,i,r)&&(n=null),r||i===null?V1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xr=L1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),Kf=Symbol.for("react.strict_mode"),Iu=Symbol.for("react.profiler"),E0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),Xf=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),R0=Symbol.for("react.offscreen"),Hm=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Hm&&e[Hm]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Cd;function ua(e){if(Cd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cd=t&&t[1]||""}return`
`+Cd+e}var kd=!1;function Id(e,t){if(!e||kd)return"";kd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{kd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ua(e):""}function $1(e){switch(e.tag){case 5:return ua(e.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 2:case 15:return e=Id(e.type,!1),e;case 11:return e=Id(e.type.render,!1),e;case 1:return e=Id(e.type,!0),e;default:return""}}function Eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ki:return"Fragment";case Ji:return"Portal";case Iu:return"Profiler";case Kf:return"StrictMode";case Pu:return"Suspense";case _u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D0:return(e.displayName||"Context")+".Consumer";case E0:return(e._context.displayName||"Context")+".Provider";case Qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xf:return t=e.displayName||null,t!==null?t:Eu(e.type)||"Memo";case Sr:t=e._payload,e=e._init;try{return Eu(e(t))}catch{}}return null}function W1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(t);case 8:return t===Kf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function M0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H1(e){var t=M0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $o(e){e._valueTracker||(e._valueTracker=H1(e))}function T0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=M0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Du(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Um(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A0(e,t){t=t.checked,t!=null&&Jf(e,"checked",t,!1)}function Ru(e,t){A0(e,t);var n=Yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mu(e,t.type,Yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ym(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mu(e,t,n){(t!=="number"||Wl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fa=Array.isArray;function ds(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(fa(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yr(n)}}function O0(e,t){var n=Yr(t.value),r=Yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wo,F0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Aa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U1=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(e){U1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ba[t]=ba[e]})});function V0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ba.hasOwnProperty(e)&&ba[e]?(""+t).trim():t+"px"}function z0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Y1=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ou(e,t){if(t){if(Y1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Lu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=null;function Zf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vu=null,us=null,fs=null;function Jm(e){if(e=xo(e)){if(typeof Vu!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Ac(t),Vu(e.stateNode,e.type,t))}}function B0(e){us?fs?fs.push(e):fs=[e]:us=e}function $0(){if(us){var e=us,t=fs;if(fs=us=null,Jm(e),t)for(e=0;e<t.length;e++)Jm(t[e])}}function W0(e,t){return e(t)}function H0(){}var Pd=!1;function U0(e,t,n){if(Pd)return e(t,n);Pd=!0;try{return W0(e,t,n)}finally{Pd=!1,(us!==null||fs!==null)&&(H0(),$0())}}function Oa(e,t){var n=e.stateNode;if(n===null)return null;var r=Ac(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var zu=!1;if(hr)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){zu=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{zu=!1}function G1(e,t,n,r,i,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var ya=!1,Hl=null,Ul=!1,Bu=null,q1={onError:function(e){ya=!0,Hl=e}};function J1(e,t,n,r,i,s,o,l,c){ya=!1,Hl=null,G1.apply(q1,arguments)}function K1(e,t,n,r,i,s,o,l,c){if(J1.apply(this,arguments),ya){if(ya){var d=Hl;ya=!1,Hl=null}else throw Error(B(198));Ul||(Ul=!0,Bu=d)}}function Fi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Y0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Km(e){if(Fi(e)!==e)throw Error(B(188))}function Q1(e){var t=e.alternate;if(!t){if(t=Fi(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Km(i),e;if(s===r)return Km(i),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function G0(e){return e=Q1(e),e!==null?q0(e):null}function q0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=q0(e);if(t!==null)return t;e=e.sibling}return null}var J0=an.unstable_scheduleCallback,Qm=an.unstable_cancelCallback,X1=an.unstable_shouldYield,Z1=an.unstable_requestPaint,nt=an.unstable_now,eS=an.unstable_getCurrentPriorityLevel,eh=an.unstable_ImmediatePriority,K0=an.unstable_UserBlockingPriority,Yl=an.unstable_NormalPriority,tS=an.unstable_LowPriority,Q0=an.unstable_IdlePriority,Dc=null,Yn=null;function nS(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Dc,e,void 0,(e.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:sS,rS=Math.log,iS=Math.LN2;function sS(e){return e>>>=0,e===0?32:31-(rS(e)/iS|0)|0}var Ho=64,Uo=4194304;function ha(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ha(l):(s&=o,s!==0&&(r=ha(s)))}else o=n&~i,o!==0?r=ha(o):s!==0&&(r=ha(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-En(t),i=1<<n,r|=e[n],t&=~i;return r}function aS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-En(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=aS(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function $u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X0(){var e=Ho;return Ho<<=1,!(Ho&4194240)&&(Ho=64),e}function _d(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function po(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-En(t),e[t]=n}function lS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-En(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function th(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-En(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ae=0;function Z0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ev,nh,tv,nv,rv,Wu=!1,Yo=[],Mr=null,Tr=null,Ar=null,La=new Map,Fa=new Map,jr=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":La.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fa.delete(t.pointerId)}}function Qs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=xo(t),t!==null&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dS(e,t,n,r,i){switch(t){case"focusin":return Mr=Qs(Mr,e,t,n,r,i),!0;case"dragenter":return Tr=Qs(Tr,e,t,n,r,i),!0;case"mouseover":return Ar=Qs(Ar,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return La.set(s,Qs(La.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fa.set(s,Qs(Fa.get(s)||null,e,t,n,r,i)),!0}return!1}function iv(e){var t=hi(e.target);if(t!==null){var n=Fi(t);if(n!==null){if(t=n.tag,t===13){if(t=Y0(n),t!==null){e.blockedOn=t,rv(e.priority,function(){tv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fu=r,n.target.dispatchEvent(r),Fu=null}else return t=xo(n),t!==null&&nh(t),e.blockedOn=n,!1;t.shift()}return!0}function Zm(e,t,n){Il(e)&&n.delete(t)}function uS(){Wu=!1,Mr!==null&&Il(Mr)&&(Mr=null),Tr!==null&&Il(Tr)&&(Tr=null),Ar!==null&&Il(Ar)&&(Ar=null),La.forEach(Zm),Fa.forEach(Zm)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,Wu||(Wu=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,uS)))}function Va(e){function t(i){return Xs(i,e)}if(0<Yo.length){Xs(Yo[0],e);for(var n=1;n<Yo.length;n++){var r=Yo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mr!==null&&Xs(Mr,e),Tr!==null&&Xs(Tr,e),Ar!==null&&Xs(Ar,e),La.forEach(t),Fa.forEach(t),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)iv(n),n.blockedOn===null&&jr.shift()}var hs=xr.ReactCurrentBatchConfig,ql=!0;function fS(e,t,n,r){var i=Ae,s=hs.transition;hs.transition=null;try{Ae=1,rh(e,t,n,r)}finally{Ae=i,hs.transition=s}}function hS(e,t,n,r){var i=Ae,s=hs.transition;hs.transition=null;try{Ae=4,rh(e,t,n,r)}finally{Ae=i,hs.transition=s}}function rh(e,t,n,r){if(ql){var i=Hu(e,t,n,r);if(i===null)Vd(e,t,r,Jl,n),Xm(e,r);else if(dS(i,e,t,n,r))r.stopPropagation();else if(Xm(e,r),t&4&&-1<cS.indexOf(e)){for(;i!==null;){var s=xo(i);if(s!==null&&ev(s),s=Hu(e,t,n,r),s===null&&Vd(e,t,r,Jl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vd(e,t,r,null,n)}}var Jl=null;function Hu(e,t,n,r){if(Jl=null,e=Zf(r),e=hi(e),e!==null)if(t=Fi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Y0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jl=e,null}function sv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eS()){case eh:return 1;case K0:return 4;case Yl:case tS:return 16;case Q0:return 536870912;default:return 16}default:return 16}}var kr=null,ih=null,Pl=null;function av(){if(Pl)return Pl;var e,t=ih,n=t.length,r,i="value"in kr?kr.value:kr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Pl=i.slice(e,1<r?1-r:void 0)}function _l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Go(){return!0}function ep(){return!1}function ln(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Go:ep,this.isPropagationStopped=ep,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sh=ln(zs),go=Xe({},zs,{view:0,detail:0}),mS=ln(go),Ed,Dd,Zs,Rc=Xe({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ah,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zs&&(Zs&&e.type==="mousemove"?(Ed=e.screenX-Zs.screenX,Dd=e.screenY-Zs.screenY):Dd=Ed=0,Zs=e),Ed)},movementY:function(e){return"movementY"in e?e.movementY:Dd}}),tp=ln(Rc),pS=Xe({},Rc,{dataTransfer:0}),gS=ln(pS),xS=Xe({},go,{relatedTarget:0}),Rd=ln(xS),vS=Xe({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),bS=ln(vS),yS=Xe({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wS=ln(yS),SS=Xe({},zs,{data:0}),np=ln(SS),NS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CS[e])?!!t[e]:!1}function ah(){return kS}var IS=Xe({},go,{key:function(e){if(e.key){var t=NS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ah,charCode:function(e){return e.type==="keypress"?_l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PS=ln(IS),_S=Xe({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rp=ln(_S),ES=Xe({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ah}),DS=ln(ES),RS=Xe({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),MS=ln(RS),TS=Xe({},Rc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AS=ln(TS),OS=[9,13,27,32],oh=hr&&"CompositionEvent"in window,wa=null;hr&&"documentMode"in document&&(wa=document.documentMode);var LS=hr&&"TextEvent"in window&&!wa,ov=hr&&(!oh||wa&&8<wa&&11>=wa),ip=" ",sp=!1;function lv(e,t){switch(e){case"keyup":return OS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qi=!1;function FS(e,t){switch(e){case"compositionend":return cv(t);case"keypress":return t.which!==32?null:(sp=!0,ip);case"textInput":return e=t.data,e===ip&&sp?null:e;default:return null}}function VS(e,t){if(Qi)return e==="compositionend"||!oh&&lv(e,t)?(e=av(),Pl=ih=kr=null,Qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ov&&t.locale!=="ko"?null:t.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zS[e.type]:t==="textarea"}function dv(e,t,n,r){B0(r),t=Kl(t,"onChange"),0<t.length&&(n=new sh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Sa=null,za=null;function BS(e){wv(e,0)}function Mc(e){var t=es(e);if(T0(t))return e}function $S(e,t){if(e==="change")return t}var uv=!1;if(hr){var Md;if(hr){var Td="oninput"in document;if(!Td){var op=document.createElement("div");op.setAttribute("oninput","return;"),Td=typeof op.oninput=="function"}Md=Td}else Md=!1;uv=Md&&(!document.documentMode||9<document.documentMode)}function lp(){Sa&&(Sa.detachEvent("onpropertychange",fv),za=Sa=null)}function fv(e){if(e.propertyName==="value"&&Mc(za)){var t=[];dv(t,za,e,Zf(e)),U0(BS,t)}}function WS(e,t,n){e==="focusin"?(lp(),Sa=t,za=n,Sa.attachEvent("onpropertychange",fv)):e==="focusout"&&lp()}function HS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mc(za)}function US(e,t){if(e==="click")return Mc(t)}function YS(e,t){if(e==="input"||e==="change")return Mc(t)}function GS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:GS;function Ba(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ku.call(t,i)||!Mn(e[i],t[i]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,t){var n=cp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cp(n)}}function hv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mv(){for(var e=window,t=Wl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wl(e.document)}return t}function lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qS(e){var t=mv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hv(n.ownerDocument.documentElement,n)){if(r!==null&&lh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dp(n,s);var o=dp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JS=hr&&"documentMode"in document&&11>=document.documentMode,Xi=null,Uu=null,Na=null,Yu=!1;function up(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yu||Xi==null||Xi!==Wl(r)||(r=Xi,"selectionStart"in r&&lh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&Ba(Na,r)||(Na=r,r=Kl(Uu,"onSelect"),0<r.length&&(t=new sh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xi)))}function qo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zi={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},Ad={},pv={};hr&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function Tc(e){if(Ad[e])return Ad[e];if(!Zi[e])return e;var t=Zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pv)return Ad[e]=t[n];return e}var gv=Tc("animationend"),xv=Tc("animationiteration"),vv=Tc("animationstart"),bv=Tc("transitionend"),yv=new Map,fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){yv.set(e,t),Li(t,[e])}for(var Od=0;Od<fp.length;Od++){var Ld=fp[Od],KS=Ld.toLowerCase(),QS=Ld[0].toUpperCase()+Ld.slice(1);Qr(KS,"on"+QS)}Qr(gv,"onAnimationEnd");Qr(xv,"onAnimationIteration");Qr(vv,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(bv,"onTransitionEnd");js("onMouseEnter",["mouseout","mouseover"]);js("onMouseLeave",["mouseout","mouseover"]);js("onPointerEnter",["pointerout","pointerover"]);js("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function hp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,K1(r,t,void 0,e),e.currentTarget=null}function wv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;hp(i,l,d),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;hp(i,l,d),s=c}}}if(Ul)throw e=Bu,Ul=!1,Bu=null,e}function Ye(e,t){var n=t[Qu];n===void 0&&(n=t[Qu]=new Set);var r=e+"__bubble";n.has(r)||(Sv(t,e,2,!1),n.add(r))}function Fd(e,t,n){var r=0;t&&(r|=4),Sv(n,e,r,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function $a(e){if(!e[Jo]){e[Jo]=!0,_0.forEach(function(n){n!=="selectionchange"&&(XS.has(n)||Fd(n,!1,e),Fd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,Fd("selectionchange",!1,t))}}function Sv(e,t,n,r){switch(sv(t)){case 1:var i=fS;break;case 4:i=hS;break;default:i=rh}n=i.bind(null,t,n,e),i=void 0,!zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vd(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=hi(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}U0(function(){var d=s,u=Zf(n),f=[];e:{var h=yv.get(e);if(h!==void 0){var m=sh,g=e;switch(e){case"keypress":if(_l(n)===0)break e;case"keydown":case"keyup":m=PS;break;case"focusin":g="focus",m=Rd;break;case"focusout":g="blur",m=Rd;break;case"beforeblur":case"afterblur":m=Rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=DS;break;case gv:case xv:case vv:m=bS;break;case bv:m=MS;break;case"scroll":m=mS;break;case"wheel":m=AS;break;case"copy":case"cut":case"paste":m=wS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rp}var x=(t&4)!==0,y=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var v=d,b;v!==null;){b=v;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,p!==null&&(S=Oa(v,p),S!=null&&x.push(Wa(v,S,b)))),y)break;v=v.return}0<x.length&&(h=new m(h,g,null,n,u),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Fu&&(g=n.relatedTarget||n.fromElement)&&(hi(g)||g[mr]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=d,g=g?hi(g):null,g!==null&&(y=Fi(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(x=tp,S="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=rp,S="onPointerLeave",p="onPointerEnter",v="pointer"),y=m==null?h:es(m),b=g==null?h:es(g),h=new x(S,v+"leave",m,n,u),h.target=y,h.relatedTarget=b,S=null,hi(u)===d&&(x=new x(p,v+"enter",g,n,u),x.target=b,x.relatedTarget=y,S=x),y=S,m&&g)t:{for(x=m,p=g,v=0,b=x;b;b=Yi(b))v++;for(b=0,S=p;S;S=Yi(S))b++;for(;0<v-b;)x=Yi(x),v--;for(;0<b-v;)p=Yi(p),b--;for(;v--;){if(x===p||p!==null&&x===p.alternate)break t;x=Yi(x),p=Yi(p)}x=null}else x=null;m!==null&&mp(f,h,m,x,!1),g!==null&&y!==null&&mp(f,y,g,x,!0)}}e:{if(h=d?es(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=$S;else if(ap(h))if(uv)w=YS;else{w=HS;var N=WS}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=US);if(w&&(w=w(e,d))){dv(f,w,n,u);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Mu(h,"number",h.value)}switch(N=d?es(d):window,e){case"focusin":(ap(N)||N.contentEditable==="true")&&(Xi=N,Uu=d,Na=null);break;case"focusout":Na=Uu=Xi=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,up(f,n,u);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":up(f,n,u)}var C;if(oh)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Qi?lv(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(ov&&n.locale!=="ko"&&(Qi||k!=="onCompositionStart"?k==="onCompositionEnd"&&Qi&&(C=av()):(kr=u,ih="value"in kr?kr.value:kr.textContent,Qi=!0)),N=Kl(d,k),0<N.length&&(k=new np(k,e,null,n,u),f.push({event:k,listeners:N}),C?k.data=C:(C=cv(n),C!==null&&(k.data=C)))),(C=LS?FS(e,n):VS(e,n))&&(d=Kl(d,"onBeforeInput"),0<d.length&&(u=new np("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=C))}wv(f,t)})}function Wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oa(e,n),s!=null&&r.unshift(Wa(e,s,i)),s=Oa(e,t),s!=null&&r.push(Wa(e,s,i))),e=e.return}return r}function Yi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Oa(n,s),c!=null&&o.unshift(Wa(n,c,l))):i||(c=Oa(n,s),c!=null&&o.push(Wa(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ZS=/\r\n?/g,eN=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(ZS,`
`).replace(eN,"")}function Ko(e,t,n){if(t=pp(t),pp(e)!==t&&n)throw Error(B(425))}function Ql(){}var Gu=null,qu=null;function Ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ku=typeof setTimeout=="function"?setTimeout:void 0,tN=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,nN=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(rN)}:Ku;function rN(e){setTimeout(function(){throw e})}function zd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Va(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Va(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),Un="__reactFiber$"+Bs,Ha="__reactProps$"+Bs,mr="__reactContainer$"+Bs,Qu="__reactEvents$"+Bs,iN="__reactListeners$"+Bs,sN="__reactHandles$"+Bs;function hi(e){var t=e[Un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[Un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xp(e);e!==null;){if(n=e[Un])return n;e=xp(e)}return t}e=n,n=e.parentNode}return null}function xo(e){return e=e[Un]||e[mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Ac(e){return e[Ha]||null}var Xu=[],ts=-1;function Xr(e){return{current:e}}function Ge(e){0>ts||(e.current=Xu[ts],Xu[ts]=null,ts--)}function He(e,t){ts++,Xu[ts]=e.current,e.current=t}var Gr={},_t=Xr(Gr),Ht=Xr(!1),ki=Gr;function Cs(e,t){var n=e.type.contextTypes;if(!n)return Gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(e){return e=e.childContextTypes,e!=null}function Xl(){Ge(Ht),Ge(_t)}function vp(e,t,n){if(_t.current!==Gr)throw Error(B(168));He(_t,t),He(Ht,n)}function Nv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(B(108,W1(e)||"Unknown",i));return Xe({},n,r)}function Zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,ki=_t.current,He(_t,e),He(Ht,Ht.current),!0}function bp(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Nv(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,Ge(Ht),Ge(_t),He(_t,e)):Ge(Ht),He(Ht,n)}var ar=null,Oc=!1,Bd=!1;function jv(e){ar===null?ar=[e]:ar.push(e)}function aN(e){Oc=!0,jv(e)}function Zr(){if(!Bd&&ar!==null){Bd=!0;var e=0,t=Ae;try{var n=ar;for(Ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ar=null,Oc=!1}catch(i){throw ar!==null&&(ar=ar.slice(e+1)),J0(eh,Zr),i}finally{Ae=t,Bd=!1}}return null}var ns=[],rs=0,ec=null,tc=0,hn=[],mn=0,Ii=null,lr=1,cr="";function oi(e,t){ns[rs++]=tc,ns[rs++]=ec,ec=e,tc=t}function Cv(e,t,n){hn[mn++]=lr,hn[mn++]=cr,hn[mn++]=Ii,Ii=e;var r=lr;e=cr;var i=32-En(r)-1;r&=~(1<<i),n+=1;var s=32-En(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,lr=1<<32-En(t)+i|n<<i|r,cr=s+e}else lr=1<<s|n<<i|r,cr=e}function ch(e){e.return!==null&&(oi(e,1),Cv(e,1,0))}function dh(e){for(;e===ec;)ec=ns[--rs],ns[rs]=null,tc=ns[--rs],ns[rs]=null;for(;e===Ii;)Ii=hn[--mn],hn[mn]=null,cr=hn[--mn],hn[mn]=null,lr=hn[--mn],hn[mn]=null}var tn=null,Qt=null,qe=!1,In=null;function kv(e,t){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,Qt=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ii!==null?{id:lr,overflow:cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tn=e,Qt=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ef(e){if(qe){var t=Qt;if(t){var n=t;if(!yp(e,t)){if(Zu(e))throw Error(B(418));t=Or(n.nextSibling);var r=tn;t&&yp(e,t)?kv(r,n):(e.flags=e.flags&-4097|2,qe=!1,tn=e)}}else{if(Zu(e))throw Error(B(418));e.flags=e.flags&-4097|2,qe=!1,tn=e}}}function wp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Qo(e){if(e!==tn)return!1;if(!qe)return wp(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ju(e.type,e.memoizedProps)),t&&(t=Qt)){if(Zu(e))throw Iv(),Error(B(418));for(;t;)kv(e,t),t=Or(t.nextSibling)}if(wp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qt=Or(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=tn?Or(e.stateNode.nextSibling):null;return!0}function Iv(){for(var e=Qt;e;)e=Or(e.nextSibling)}function ks(){Qt=tn=null,qe=!1}function uh(e){In===null?In=[e]:In.push(e)}var oN=xr.ReactCurrentBatchConfig;function ea(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sp(e){var t=e._init;return t(e._payload)}function Pv(e){function t(p,v){if(e){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function n(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=zr(p,v),p.index=0,p.sibling=null,p}function s(p,v,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,v,b,S){return v===null||v.tag!==6?(v=qd(b,p.mode,S),v.return=p,v):(v=i(v,b),v.return=p,v)}function c(p,v,b,S){var w=b.type;return w===Ki?u(p,v,b.props.children,S,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Sr&&Sp(w)===v.type)?(S=i(v,b.props),S.ref=ea(p,v,b),S.return=p,S):(S=Ol(b.type,b.key,b.props,null,p.mode,S),S.ref=ea(p,v,b),S.return=p,S)}function d(p,v,b,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Jd(b,p.mode,S),v.return=p,v):(v=i(v,b.children||[]),v.return=p,v)}function u(p,v,b,S,w){return v===null||v.tag!==7?(v=vi(b,p.mode,S,w),v.return=p,v):(v=i(v,b),v.return=p,v)}function f(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qd(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bo:return b=Ol(v.type,v.key,v.props,null,p.mode,b),b.ref=ea(p,null,v),b.return=p,b;case Ji:return v=Jd(v,p.mode,b),v.return=p,v;case Sr:var S=v._init;return f(p,S(v._payload),b)}if(fa(v)||Js(v))return v=vi(v,p.mode,b,null),v.return=p,v;Xo(p,v)}return null}function h(p,v,b,S){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(p,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bo:return b.key===w?c(p,v,b,S):null;case Ji:return b.key===w?d(p,v,b,S):null;case Sr:return w=b._init,h(p,v,w(b._payload),S)}if(fa(b)||Js(b))return w!==null?null:u(p,v,b,S,null);Xo(p,b)}return null}function m(p,v,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(b)||null,l(v,p,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bo:return p=p.get(S.key===null?b:S.key)||null,c(v,p,S,w);case Ji:return p=p.get(S.key===null?b:S.key)||null,d(v,p,S,w);case Sr:var N=S._init;return m(p,v,b,N(S._payload),w)}if(fa(S)||Js(S))return p=p.get(b)||null,u(v,p,S,w,null);Xo(v,S)}return null}function g(p,v,b,S){for(var w=null,N=null,C=v,k=v=0,I=null;C!==null&&k<b.length;k++){C.index>k?(I=C,C=null):I=C.sibling;var _=h(p,C,b[k],S);if(_===null){C===null&&(C=I);break}e&&C&&_.alternate===null&&t(p,C),v=s(_,v,k),N===null?w=_:N.sibling=_,N=_,C=I}if(k===b.length)return n(p,C),qe&&oi(p,k),w;if(C===null){for(;k<b.length;k++)C=f(p,b[k],S),C!==null&&(v=s(C,v,k),N===null?w=C:N.sibling=C,N=C);return qe&&oi(p,k),w}for(C=r(p,C);k<b.length;k++)I=m(C,p,k,b[k],S),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?k:I.key),v=s(I,v,k),N===null?w=I:N.sibling=I,N=I);return e&&C.forEach(function(P){return t(p,P)}),qe&&oi(p,k),w}function x(p,v,b,S){var w=Js(b);if(typeof w!="function")throw Error(B(150));if(b=w.call(b),b==null)throw Error(B(151));for(var N=w=null,C=v,k=v=0,I=null,_=b.next();C!==null&&!_.done;k++,_=b.next()){C.index>k?(I=C,C=null):I=C.sibling;var P=h(p,C,_.value,S);if(P===null){C===null&&(C=I);break}e&&C&&P.alternate===null&&t(p,C),v=s(P,v,k),N===null?w=P:N.sibling=P,N=P,C=I}if(_.done)return n(p,C),qe&&oi(p,k),w;if(C===null){for(;!_.done;k++,_=b.next())_=f(p,_.value,S),_!==null&&(v=s(_,v,k),N===null?w=_:N.sibling=_,N=_);return qe&&oi(p,k),w}for(C=r(p,C);!_.done;k++,_=b.next())_=m(C,p,k,_.value,S),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?k:_.key),v=s(_,v,k),N===null?w=_:N.sibling=_,N=_);return e&&C.forEach(function(L){return t(p,L)}),qe&&oi(p,k),w}function y(p,v,b,S){if(typeof b=="object"&&b!==null&&b.type===Ki&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Bo:e:{for(var w=b.key,N=v;N!==null;){if(N.key===w){if(w=b.type,w===Ki){if(N.tag===7){n(p,N.sibling),v=i(N,b.props.children),v.return=p,p=v;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Sr&&Sp(w)===N.type){n(p,N.sibling),v=i(N,b.props),v.ref=ea(p,N,b),v.return=p,p=v;break e}n(p,N);break}else t(p,N);N=N.sibling}b.type===Ki?(v=vi(b.props.children,p.mode,S,b.key),v.return=p,p=v):(S=Ol(b.type,b.key,b.props,null,p.mode,S),S.ref=ea(p,v,b),S.return=p,p=S)}return o(p);case Ji:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(p,v.sibling),v=i(v,b.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else t(p,v);v=v.sibling}v=Jd(b,p.mode,S),v.return=p,p=v}return o(p);case Sr:return N=b._init,y(p,v,N(b._payload),S)}if(fa(b))return g(p,v,b,S);if(Js(b))return x(p,v,b,S);Xo(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(p,v.sibling),v=i(v,b),v.return=p,p=v):(n(p,v),v=qd(b,p.mode,S),v.return=p,p=v),o(p)):n(p,v)}return y}var Is=Pv(!0),_v=Pv(!1),nc=Xr(null),rc=null,is=null,fh=null;function hh(){fh=is=rc=null}function mh(e){var t=nc.current;Ge(nc),e._currentValue=t}function tf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ms(e,t){rc=e,fh=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function yn(e){var t=e._currentValue;if(fh!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if(rc===null)throw Error(B(308));is=e,rc.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var mi=null;function ph(e){mi===null?mi=[e]:mi.push(e)}function Ev(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ph(t)):(n.next=i.next,i.next=n),t.interleaved=n,pr(e,r)}function pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nr=!1;function gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pr(e,n)}return i=r.interleaved,i===null?(t.next=t,ph(r)):(t.next=i.next,i.next=t),r.interleaved=t,pr(e,n)}function El(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,th(e,n)}}function Np(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ic(e,t,n,r){var i=e.updateQueue;Nr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,u=d=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(h=t,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Xe({},f,h);break e;case 2:Nr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);_i|=o,e.lanes=o,e.memoizedState=f}}function jp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var vo={},Gn=Xr(vo),Ua=Xr(vo),Ya=Xr(vo);function pi(e){if(e===vo)throw Error(B(174));return e}function xh(e,t){switch(He(Ya,t),He(Ua,e),He(Gn,vo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}Ge(Gn),He(Gn,t)}function Ps(){Ge(Gn),Ge(Ua),Ge(Ya)}function Rv(e){pi(Ya.current);var t=pi(Gn.current),n=Au(t,e.type);t!==n&&(He(Ua,e),He(Gn,n))}function vh(e){Ua.current===e&&(Ge(Gn),Ge(Ua))}var Ke=Xr(0);function sc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $d=[];function bh(){for(var e=0;e<$d.length;e++)$d[e]._workInProgressVersionPrimary=null;$d.length=0}var Dl=xr.ReactCurrentDispatcher,Wd=xr.ReactCurrentBatchConfig,Pi=0,Qe=null,lt=null,ut=null,ac=!1,ja=!1,Ga=0,lN=0;function Ct(){throw Error(B(321))}function yh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mn(e[n],t[n]))return!1;return!0}function wh(e,t,n,r,i,s){if(Pi=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dl.current=e===null||e.memoizedState===null?fN:hN,e=n(r,i),ja){s=0;do{if(ja=!1,Ga=0,25<=s)throw Error(B(301));s+=1,ut=lt=null,t.updateQueue=null,Dl.current=mN,e=n(r,i)}while(ja)}if(Dl.current=oc,t=lt!==null&&lt.next!==null,Pi=0,ut=lt=Qe=null,ac=!1,t)throw Error(B(300));return e}function Sh(){var e=Ga!==0;return Ga=0,e}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Qe.memoizedState=ut=e:ut=ut.next=e,ut}function wn(){if(lt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=ut===null?Qe.memoizedState:ut.next;if(t!==null)ut=t,lt=e;else{if(e===null)throw Error(B(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ut===null?Qe.memoizedState=ut=e:ut=ut.next=e}return ut}function qa(e,t){return typeof t=="function"?t(e):t}function Hd(e){var t=wn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((Pi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Qe.lanes|=u,_i|=u}d=d.next}while(d!==null&&d!==s);c===null?o=r:c.next=l,Mn(r,t.memoizedState)||(Wt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Qe.lanes|=s,_i|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ud(e){var t=wn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Mn(s,t.memoizedState)||(Wt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Mv(){}function Tv(e,t){var n=Qe,r=wn(),i=t(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,Wt=!0),r=r.queue,Nh(Lv.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Ja(9,Ov.bind(null,n,r,i,t),void 0,null),ht===null)throw Error(B(349));Pi&30||Av(n,t,i)}return i}function Av(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ov(e,t,n,r){t.value=n,t.getSnapshot=r,Fv(t)&&Vv(e)}function Lv(e,t,n){return n(function(){Fv(t)&&Vv(e)})}function Fv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mn(e,n)}catch{return!0}}function Vv(e){var t=pr(e,1);t!==null&&Dn(t,e,1,-1)}function Cp(e){var t=Wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t.queue=e,e=e.dispatch=uN.bind(null,Qe,e),[t.memoizedState,e]}function Ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zv(){return wn().memoizedState}function Rl(e,t,n,r){var i=Wn();Qe.flags|=e,i.memoizedState=Ja(1|t,n,void 0,r===void 0?null:r)}function Lc(e,t,n,r){var i=wn();r=r===void 0?null:r;var s=void 0;if(lt!==null){var o=lt.memoizedState;if(s=o.destroy,r!==null&&yh(r,o.deps)){i.memoizedState=Ja(t,n,s,r);return}}Qe.flags|=e,i.memoizedState=Ja(1|t,n,s,r)}function kp(e,t){return Rl(8390656,8,e,t)}function Nh(e,t){return Lc(2048,8,e,t)}function Bv(e,t){return Lc(4,2,e,t)}function $v(e,t){return Lc(4,4,e,t)}function Wv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hv(e,t,n){return n=n!=null?n.concat([e]):null,Lc(4,4,Wv.bind(null,t,e),n)}function jh(){}function Uv(e,t){var n=wn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yv(e,t){var n=wn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gv(e,t,n){return Pi&21?(Mn(n,t)||(n=X0(),Qe.lanes|=n,_i|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=n)}function cN(e,t){var n=Ae;Ae=n!==0&&4>n?n:4,e(!0);var r=Wd.transition;Wd.transition={};try{e(!1),t()}finally{Ae=n,Wd.transition=r}}function qv(){return wn().memoizedState}function dN(e,t,n){var r=Vr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jv(e))Kv(t,n);else if(n=Ev(e,t,n,r),n!==null){var i=At();Dn(n,e,r,i),Qv(n,t,r)}}function uN(e,t,n){var r=Vr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jv(e))Kv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Mn(l,o)){var c=t.interleaved;c===null?(i.next=i,ph(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Ev(e,t,i,r),n!==null&&(i=At(),Dn(n,e,r,i),Qv(n,t,r))}}function Jv(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function Kv(e,t){ja=ac=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,th(e,n)}}var oc={readContext:yn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},fN={readContext:yn,useCallback:function(e,t){return Wn().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:kp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4194308,4,Wv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rl(4,2,e,t)},useMemo:function(e,t){var n=Wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dN.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=Wn();return e={current:e},t.memoizedState=e},useState:Cp,useDebugValue:jh,useDeferredValue:function(e){return Wn().memoizedState=e},useTransition:function(){var e=Cp(!1),t=e[0];return e=cN.bind(null,e[1]),Wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,i=Wn();if(qe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),ht===null)throw Error(B(349));Pi&30||Av(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,kp(Lv.bind(null,r,s,e),[e]),r.flags|=2048,Ja(9,Ov.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Wn(),t=ht.identifierPrefix;if(qe){var n=cr,r=lr;n=(r&~(1<<32-En(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ga++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hN={readContext:yn,useCallback:Uv,useContext:yn,useEffect:Nh,useImperativeHandle:Hv,useInsertionEffect:Bv,useLayoutEffect:$v,useMemo:Yv,useReducer:Hd,useRef:zv,useState:function(){return Hd(qa)},useDebugValue:jh,useDeferredValue:function(e){var t=wn();return Gv(t,lt.memoizedState,e)},useTransition:function(){var e=Hd(qa)[0],t=wn().memoizedState;return[e,t]},useMutableSource:Mv,useSyncExternalStore:Tv,useId:qv,unstable_isNewReconciler:!1},mN={readContext:yn,useCallback:Uv,useContext:yn,useEffect:Nh,useImperativeHandle:Hv,useInsertionEffect:Bv,useLayoutEffect:$v,useMemo:Yv,useReducer:Ud,useRef:zv,useState:function(){return Ud(qa)},useDebugValue:jh,useDeferredValue:function(e){var t=wn();return lt===null?t.memoizedState=e:Gv(t,lt.memoizedState,e)},useTransition:function(){var e=Ud(qa)[0],t=wn().memoizedState;return[e,t]},useMutableSource:Mv,useSyncExternalStore:Tv,useId:qv,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fc={isMounted:function(e){return(e=e._reactInternals)?Fi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=At(),i=Vr(e),s=fr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Lr(e,s,i),t!==null&&(Dn(t,e,i,r),El(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=At(),i=Vr(e),s=fr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Lr(e,s,i),t!==null&&(Dn(t,e,i,r),El(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=At(),r=Vr(e),i=fr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Lr(e,i,r),t!==null&&(Dn(t,e,r,n),El(t,e,r))}};function Ip(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ba(n,r)||!Ba(i,s):!0}function Xv(e,t,n){var r=!1,i=Gr,s=t.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=Ut(t)?ki:_t.current,r=t.contextTypes,s=(r=r!=null)?Cs(e,i):Gr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Pp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fc.enqueueReplaceState(t,t.state,null)}function rf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gh(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=Ut(t)?ki:_t.current,i.context=Cs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(nf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Fc.enqueueReplaceState(i,i.state,null),ic(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _s(e,t){try{var n="",r=t;do n+=$1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Yd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pN=typeof WeakMap=="function"?WeakMap:Map;function Zv(e,t,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cc||(cc=!0,pf=r),sf(e,t)},n}function eb(e,t,n){n=fr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sf(e,t),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function _p(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_N.bind(null,e,t,n),t.then(e,e))}function Ep(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fr(-1,1),t.tag=2,Lr(n,t,1))),n.lanes|=1),e)}var gN=xr.ReactCurrentOwner,Wt=!1;function Tt(e,t,n,r){t.child=e===null?_v(t,null,n,r):Is(t,e.child,n,r)}function Rp(e,t,n,r,i){n=n.render;var s=t.ref;return ms(t,i),r=wh(e,t,n,r,s,i),n=Sh(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gr(e,t,i)):(qe&&n&&ch(t),t.flags|=1,Tt(e,t,r,i),t.child)}function Mp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Rh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,tb(e,t,s,r,i)):(e=Ol(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ba,n(o,r)&&e.ref===t.ref)return gr(e,t,i)}return t.flags|=1,e=zr(s,r),e.ref=t.ref,e.return=t,t.child=e}function tb(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ba(s,r)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,gr(e,t,i)}return af(e,t,n,r,i)}function nb(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(as,Jt),Jt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(as,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(as,Jt),Jt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,He(as,Jt),Jt|=r;return Tt(e,t,i,n),t.child}function rb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function af(e,t,n,r,i){var s=Ut(n)?ki:_t.current;return s=Cs(t,s),ms(t,i),n=wh(e,t,n,r,s,i),r=Sh(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gr(e,t,i)):(qe&&r&&ch(t),t.flags|=1,Tt(e,t,n,i),t.child)}function Tp(e,t,n,r,i){if(Ut(n)){var s=!0;Zl(t)}else s=!1;if(ms(t,i),t.stateNode===null)Ml(e,t),Xv(t,n,r),rf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=yn(d):(d=Ut(n)?ki:_t.current,d=Cs(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Pp(t,o,r,d),Nr=!1;var h=t.memoizedState;o.state=h,ic(t,r,o,i),c=t.memoizedState,l!==r||h!==c||Ht.current||Nr?(typeof u=="function"&&(nf(t,n,u,r),c=t.memoizedState),(l=Nr||Ip(t,n,l,r,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Dv(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Cn(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=yn(c):(c=Ut(n)?ki:_t.current,c=Cs(t,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Pp(t,o,r,c),Nr=!1,h=t.memoizedState,o.state=h,ic(t,r,o,i);var g=t.memoizedState;l!==f||h!==g||Ht.current||Nr?(typeof m=="function"&&(nf(t,n,m,r),g=t.memoizedState),(d=Nr||Ip(t,n,d,r,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return of(e,t,n,r,s,i)}function of(e,t,n,r,i,s){rb(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&bp(t,n,!1),gr(e,t,s);r=t.stateNode,gN.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Is(t,e.child,null,s),t.child=Is(t,null,l,s)):Tt(e,t,l,s),t.memoizedState=r.state,i&&bp(t,n,!0),t.child}function ib(e){var t=e.stateNode;t.pendingContext?vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vp(e,t.context,!1),xh(e,t.containerInfo)}function Ap(e,t,n,r,i){return ks(),uh(i),t.flags|=256,Tt(e,t,n,r),t.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function cf(e){return{baseLanes:e,cachePool:null,transitions:null}}function sb(e,t,n){var r=t.pendingProps,i=Ke.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),He(Ke,i&1),e===null)return ef(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bc(o,r,0,null),e=vi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cf(n),t.memoizedState=lf,e):Ch(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return xN(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=zr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=zr(l,s):(s=vi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?cf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=lf,r}return s=e.child,e=s.sibling,r=zr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ch(e,t){return t=Bc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zo(e,t,n,r){return r!==null&&uh(r),Is(t,e.child,null,n),e=Ch(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xN(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Yd(Error(B(422))),Zo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),s=vi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Is(t,e.child,null,o),t.child.memoizedState=cf(o),t.memoizedState=lf,s);if(!(t.mode&1))return Zo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(B(419)),r=Yd(s,r,void 0),Zo(e,t,o,r)}if(l=(o&e.childLanes)!==0,Wt||l){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pr(e,i),Dn(r,e,i,-1))}return Dh(),r=Yd(Error(B(421))),Zo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=EN.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Qt=Or(i.nextSibling),tn=t,qe=!0,In=null,e!==null&&(hn[mn++]=lr,hn[mn++]=cr,hn[mn++]=Ii,lr=e.id,cr=e.overflow,Ii=t),t=Ch(t,r.children),t.flags|=4096,t)}function Op(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tf(e.return,t,n)}function Gd(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ab(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Tt(e,t,r.children,n),r=Ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Op(e,n,t);else if(e.tag===19)Op(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(Ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&sc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gd(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&sc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gd(t,!0,n,null,s);break;case"together":Gd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_i|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vN(e,t,n){switch(t.tag){case 3:ib(t),ks();break;case 5:Rv(t);break;case 1:Ut(t.type)&&Zl(t);break;case 4:xh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;He(nc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(He(Ke,Ke.current&1),t.flags|=128,null):n&t.child.childLanes?sb(e,t,n):(He(Ke,Ke.current&1),e=gr(e,t,n),e!==null?e.sibling:null);He(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ab(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Ke,Ke.current),r)break;return null;case 22:case 23:return t.lanes=0,nb(e,t,n)}return gr(e,t,n)}var ob,df,lb,cb;ob=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};df=function(){};lb=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,pi(Gn.current);var s=null;switch(n){case"input":i=Du(e,i),r=Du(e,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=Tu(e,i),r=Tu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ql)}Ou(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ta.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ta.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ye("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};cb=function(e,t,n,r){n!==r&&(t.flags|=4)};function ta(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bN(e,t,n){var r=t.pendingProps;switch(dh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Ut(t.type)&&Xl(),kt(t),null;case 3:return r=t.stateNode,Ps(),Ge(Ht),Ge(_t),bh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,In!==null&&(vf(In),In=null))),df(e,t),kt(t),null;case 5:vh(t);var i=pi(Ya.current);if(n=t.type,e!==null&&t.stateNode!=null)lb(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return kt(t),null}if(e=pi(Gn.current),Qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Un]=t,r[Ha]=s,e=(t.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<ma.length;i++)Ye(ma[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Um(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":Gm(r,s),Ye("invalid",r)}Ou(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ko(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ko(r.textContent,l,e),i=["children",""+l]):Ta.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",r)}switch(n){case"input":$o(r),Ym(r,s,!0);break;case"textarea":$o(r),qm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ql)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Un]=t,e[Ha]=r,ob(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lu(n,r),n){case"dialog":Ye("cancel",e),Ye("close",e),i=r;break;case"iframe":case"object":case"embed":Ye("load",e),i=r;break;case"video":case"audio":for(i=0;i<ma.length;i++)Ye(ma[i],e);i=r;break;case"source":Ye("error",e),i=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),i=r;break;case"details":Ye("toggle",e),i=r;break;case"input":Um(e,r),i=Du(e,r),Ye("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":Gm(e,r),i=Tu(e,r),Ye("invalid",e);break;default:i=r}Ou(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?z0(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&F0(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Aa(e,c):typeof c=="number"&&Aa(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ta.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ye("scroll",e):c!=null&&Jf(e,s,c,o))}switch(n){case"input":$o(e),Ym(e,r,!1);break;case"textarea":$o(e),qm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ds(e,!!r.multiple,s,!1):r.defaultValue!=null&&ds(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)cb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=pi(Ya.current),pi(Gn.current),Qo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Un]=t,(s=r.nodeValue!==n)&&(e=tn,e!==null))switch(e.tag){case 3:Ko(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ko(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=t,t.stateNode=r}return kt(t),null;case 13:if(Ge(Ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Qt!==null&&t.mode&1&&!(t.flags&128))Iv(),ks(),t.flags|=98560,s=!1;else if(s=Qo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(B(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Un]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),s=!1}else In!==null&&(vf(In),In=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?ct===0&&(ct=3):Dh())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return Ps(),df(e,t),e===null&&$a(t.stateNode.containerInfo),kt(t),null;case 10:return mh(t.type._context),kt(t),null;case 17:return Ut(t.type)&&Xl(),kt(t),null;case 19:if(Ge(Ke),s=t.memoizedState,s===null)return kt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ta(s,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sc(e),o!==null){for(t.flags|=128,ta(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(Ke,Ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Es&&(t.flags|=128,r=!0,ta(s,!1),t.lanes=4194304)}else{if(!r)if(e=sc(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return kt(t),null}else 2*nt()-s.renderingStartTime>Es&&n!==1073741824&&(t.flags|=128,r=!0,ta(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,n=Ke.current,He(Ke,r?n&1|2:n&1),t):(kt(t),null);case 22:case 23:return Eh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function yN(e,t){switch(dh(t),t.tag){case 1:return Ut(t.type)&&Xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ps(),Ge(Ht),Ge(_t),bh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vh(t),null;case 13:if(Ge(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Ke),null;case 4:return Ps(),null;case 10:return mh(t.type._context),null;case 22:case 23:return Eh(),null;case 24:return null;default:return null}}var el=!1,Pt=!1,wN=typeof WeakSet=="function"?WeakSet:Set,G=null;function ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function uf(e,t,n){try{n()}catch(r){et(e,t,r)}}var Lp=!1;function SN(e,t){if(Gu=ql,e=mv(),lh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++d===i&&(l=o),h===s&&++u===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qu={focusedElem:e,selectionRange:n},ql=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Cn(t.type,x),y);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(S){et(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return g=Lp,Lp=!1,g}function Ca(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&uf(t,n,s)}i=i.next}while(i!==r)}}function Vc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ff(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function db(e){var t=e.alternate;t!==null&&(e.alternate=null,db(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[Ha],delete t[Qu],delete t[iN],delete t[sN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ub(e){return e.tag===5||e.tag===3||e.tag===4}function Fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ub(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ql));else if(r!==4&&(e=e.child,e!==null))for(hf(e,t,n),e=e.sibling;e!==null;)hf(e,t,n),e=e.sibling}function mf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mf(e,t,n),e=e.sibling;e!==null;)mf(e,t,n),e=e.sibling}var bt=null,kn=!1;function yr(e,t,n){for(n=n.child;n!==null;)fb(e,t,n),n=n.sibling}function fb(e,t,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Dc,n)}catch{}switch(n.tag){case 5:Pt||ss(n,t);case 6:var r=bt,i=kn;bt=null,yr(e,t,n),bt=r,kn=i,bt!==null&&(kn?(e=bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(kn?(e=bt,n=n.stateNode,e.nodeType===8?zd(e.parentNode,n):e.nodeType===1&&zd(e,n),Va(e)):zd(bt,n.stateNode));break;case 4:r=bt,i=kn,bt=n.stateNode.containerInfo,kn=!0,yr(e,t,n),bt=r,kn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uf(n,t,o),i=i.next}while(i!==r)}yr(e,t,n);break;case 1:if(!Pt&&(ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){et(n,t,l)}yr(e,t,n);break;case 21:yr(e,t,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,yr(e,t,n),Pt=r):yr(e,t,n);break;default:yr(e,t,n)}}function Vp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wN),t.forEach(function(r){var i=DN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,kn=!1;break e;case 3:bt=l.stateNode.containerInfo,kn=!0;break e;case 4:bt=l.stateNode.containerInfo,kn=!0;break e}l=l.return}if(bt===null)throw Error(B(160));fb(s,o,i),bt=null,kn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){et(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hb(t,e),t=t.sibling}function hb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jn(t,e),zn(e),r&4){try{Ca(3,e,e.return),Vc(3,e)}catch(x){et(e,e.return,x)}try{Ca(5,e,e.return)}catch(x){et(e,e.return,x)}}break;case 1:jn(t,e),zn(e),r&512&&n!==null&&ss(n,n.return);break;case 5:if(jn(t,e),zn(e),r&512&&n!==null&&ss(n,n.return),e.flags&32){var i=e.stateNode;try{Aa(i,"")}catch(x){et(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&A0(i,s),Lu(l,o);var d=Lu(l,s);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?z0(i,f):u==="dangerouslySetInnerHTML"?F0(i,f):u==="children"?Aa(i,f):Jf(i,u,f,d)}switch(l){case"input":Ru(i,s);break;case"textarea":O0(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ds(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?ds(i,!!s.multiple,s.defaultValue,!0):ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ha]=s}catch(x){et(e,e.return,x)}}break;case 6:if(jn(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){et(e,e.return,x)}}break;case 3:if(jn(t,e),zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Va(t.containerInfo)}catch(x){et(e,e.return,x)}break;case 4:jn(t,e),zn(e);break;case 13:jn(t,e),zn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ph=nt())),r&4&&Vp(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Pt=(d=Pt)||u,jn(t,e),Pt=d):jn(t,e),zn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(f=G=u;G!==null;){switch(h=G,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ca(4,h,h.return);break;case 1:ss(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){et(r,n,x)}}break;case 5:ss(h,h.return);break;case 22:if(h.memoizedState!==null){Bp(f);continue}}m!==null?(m.return=h,G=m):Bp(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=V0("display",o))}catch(x){et(e,e.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){et(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jn(t,e),zn(e),r&4&&Vp(e);break;case 21:break;default:jn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ub(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Aa(i,""),r.flags&=-33);var s=Fp(e);mf(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Fp(e);hf(e,l,o);break;default:throw Error(B(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NN(e,t,n){G=e,mb(e)}function mb(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||el;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=el;var d=Pt;if(el=o,(Pt=c)&&!d)for(G=i;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?$p(i):c!==null?(c.return=o,G=c):$p(i);for(;s!==null;)G=s,mb(s),s=s.sibling;G=i,el=l,Pt=d}zp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):zp(e)}}function zp(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||Vc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Cn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&jp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Va(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Pt||t.flags&512&&ff(t)}catch(h){et(t,t.return,h)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Bp(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function $p(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vc(4,t)}catch(c){et(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){et(t,i,c)}}var s=t.return;try{ff(t)}catch(c){et(t,s,c)}break;case 5:var o=t.return;try{ff(t)}catch(c){et(t,o,c)}}}catch(c){et(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var jN=Math.ceil,lc=xr.ReactCurrentDispatcher,kh=xr.ReactCurrentOwner,vn=xr.ReactCurrentBatchConfig,Ee=0,ht=null,it=null,St=0,Jt=0,as=Xr(0),ct=0,Ka=null,_i=0,zc=0,Ih=0,ka=null,Bt=null,Ph=0,Es=1/0,sr=null,cc=!1,pf=null,Fr=null,tl=!1,Ir=null,dc=0,Ia=0,gf=null,Tl=-1,Al=0;function At(){return Ee&6?nt():Tl!==-1?Tl:Tl=nt()}function Vr(e){return e.mode&1?Ee&2&&St!==0?St&-St:oN.transition!==null?(Al===0&&(Al=X0()),Al):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:sv(e.type)),e):1}function Dn(e,t,n,r){if(50<Ia)throw Ia=0,gf=null,Error(B(185));po(e,n,r),(!(Ee&2)||e!==ht)&&(e===ht&&(!(Ee&2)&&(zc|=n),ct===4&&Cr(e,St)),Yt(e,r),n===1&&Ee===0&&!(t.mode&1)&&(Es=nt()+500,Oc&&Zr()))}function Yt(e,t){var n=e.callbackNode;oS(e,t);var r=Gl(e,e===ht?St:0);if(r===0)n!==null&&Qm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qm(n),t===1)e.tag===0?aN(Wp.bind(null,e)):jv(Wp.bind(null,e)),nN(function(){!(Ee&6)&&Zr()}),n=null;else{switch(Z0(r)){case 1:n=eh;break;case 4:n=K0;break;case 16:n=Yl;break;case 536870912:n=Q0;break;default:n=Yl}n=Sb(n,pb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pb(e,t){if(Tl=-1,Al=0,Ee&6)throw Error(B(327));var n=e.callbackNode;if(ps()&&e.callbackNode!==n)return null;var r=Gl(e,e===ht?St:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uc(e,r);else{t=r;var i=Ee;Ee|=2;var s=xb();(ht!==e||St!==t)&&(sr=null,Es=nt()+500,xi(e,t));do try{IN();break}catch(l){gb(e,l)}while(!0);hh(),lc.current=s,Ee=i,it!==null?t=0:(ht=null,St=0,t=ct)}if(t!==0){if(t===2&&(i=$u(e),i!==0&&(r=i,t=xf(e,i))),t===1)throw n=Ka,xi(e,0),Cr(e,r),Yt(e,nt()),n;if(t===6)Cr(e,r);else{if(i=e.current.alternate,!(r&30)&&!CN(i)&&(t=uc(e,r),t===2&&(s=$u(e),s!==0&&(r=s,t=xf(e,s))),t===1))throw n=Ka,xi(e,0),Cr(e,r),Yt(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:li(e,Bt,sr);break;case 3:if(Cr(e,r),(r&130023424)===r&&(t=Ph+500-nt(),10<t)){if(Gl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){At(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ku(li.bind(null,e,Bt,sr),t);break}li(e,Bt,sr);break;case 4:if(Cr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-En(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jN(r/1960))-r,10<r){e.timeoutHandle=Ku(li.bind(null,e,Bt,sr),r);break}li(e,Bt,sr);break;case 5:li(e,Bt,sr);break;default:throw Error(B(329))}}}return Yt(e,nt()),e.callbackNode===n?pb.bind(null,e):null}function xf(e,t){var n=ka;return e.current.memoizedState.isDehydrated&&(xi(e,t).flags|=256),e=uc(e,t),e!==2&&(t=Bt,Bt=n,t!==null&&vf(t)),e}function vf(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function CN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cr(e,t){for(t&=~Ih,t&=~zc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-En(t),r=1<<n;e[n]=-1,t&=~r}}function Wp(e){if(Ee&6)throw Error(B(327));ps();var t=Gl(e,0);if(!(t&1))return Yt(e,nt()),null;var n=uc(e,t);if(e.tag!==0&&n===2){var r=$u(e);r!==0&&(t=r,n=xf(e,r))}if(n===1)throw n=Ka,xi(e,0),Cr(e,t),Yt(e,nt()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,li(e,Bt,sr),Yt(e,nt()),null}function _h(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(Es=nt()+500,Oc&&Zr())}}function Ei(e){Ir!==null&&Ir.tag===0&&!(Ee&6)&&ps();var t=Ee;Ee|=1;var n=vn.transition,r=Ae;try{if(vn.transition=null,Ae=1,e)return e()}finally{Ae=r,vn.transition=n,Ee=t,!(Ee&6)&&Zr()}}function Eh(){Jt=as.current,Ge(as)}function xi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tN(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(dh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xl();break;case 3:Ps(),Ge(Ht),Ge(_t),bh();break;case 5:vh(r);break;case 4:Ps();break;case 13:Ge(Ke);break;case 19:Ge(Ke);break;case 10:mh(r.type._context);break;case 22:case 23:Eh()}n=n.return}if(ht=e,it=e=zr(e.current,null),St=Jt=t,ct=0,Ka=null,Ih=zc=_i=0,Bt=ka=null,mi!==null){for(t=0;t<mi.length;t++)if(n=mi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mi=null}return e}function gb(e,t){do{var n=it;try{if(hh(),Dl.current=oc,ac){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ac=!1}if(Pi=0,ut=lt=Qe=null,ja=!1,Ga=0,kh.current=null,n===null||n.return===null){ct=1,Ka=t,it=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=St,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Ep(o);if(m!==null){m.flags&=-257,Dp(m,o,l,s,t),m.mode&1&&_p(s,d,t),t=m,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){_p(s,d,t),Dh();break e}c=Error(B(426))}}else if(qe&&l.mode&1){var y=Ep(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Dp(y,o,l,s,t),uh(_s(c,l));break e}}s=c=_s(c,l),ct!==4&&(ct=2),ka===null?ka=[s]:ka.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Zv(s,c,t);Np(s,p);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fr===null||!Fr.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=eb(s,l,t);Np(s,S);break e}}s=s.return}while(s!==null)}bb(n)}catch(w){t=w,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function xb(){var e=lc.current;return lc.current=oc,e===null?oc:e}function Dh(){(ct===0||ct===3||ct===2)&&(ct=4),ht===null||!(_i&268435455)&&!(zc&268435455)||Cr(ht,St)}function uc(e,t){var n=Ee;Ee|=2;var r=xb();(ht!==e||St!==t)&&(sr=null,xi(e,t));do try{kN();break}catch(i){gb(e,i)}while(!0);if(hh(),Ee=n,lc.current=r,it!==null)throw Error(B(261));return ht=null,St=0,ct}function kN(){for(;it!==null;)vb(it)}function IN(){for(;it!==null&&!X1();)vb(it)}function vb(e){var t=wb(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?bb(e):it=t,kh.current=null}function bb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yN(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,it=null;return}}else if(n=bN(n,t,Jt),n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ct===0&&(ct=5)}function li(e,t,n){var r=Ae,i=vn.transition;try{vn.transition=null,Ae=1,PN(e,t,n,r)}finally{vn.transition=i,Ae=r}return null}function PN(e,t,n,r){do ps();while(Ir!==null);if(Ee&6)throw Error(B(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(lS(e,s),e===ht&&(it=ht=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,Sb(Yl,function(){return ps(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=Ae;Ae=1;var l=Ee;Ee|=4,kh.current=null,SN(e,n),hb(n,e),qS(qu),ql=!!Gu,qu=Gu=null,e.current=n,NN(n),Z1(),Ee=l,Ae=o,vn.transition=s}else e.current=n;if(tl&&(tl=!1,Ir=e,dc=i),s=e.pendingLanes,s===0&&(Fr=null),nS(n.stateNode),Yt(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cc)throw cc=!1,e=pf,pf=null,e;return dc&1&&e.tag!==0&&ps(),s=e.pendingLanes,s&1?e===gf?Ia++:(Ia=0,gf=e):Ia=0,Zr(),null}function ps(){if(Ir!==null){var e=Z0(dc),t=vn.transition,n=Ae;try{if(vn.transition=null,Ae=16>e?16:e,Ir===null)var r=!1;else{if(e=Ir,Ir=null,dc=0,Ee&6)throw Error(B(331));var i=Ee;for(Ee|=4,G=e.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(G=d;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:Ca(8,u,s)}var f=u.child;if(f!==null)f.return=u,G=f;else for(;G!==null;){u=G;var h=u.sibling,m=u.return;if(db(u),u===d){G=null;break}if(h!==null){h.return=m,G=h;break}G=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ca(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,G=p;break e}G=s.return}}var v=e.current;for(G=v;G!==null;){o=G;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,G=b;else e:for(o=v;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vc(9,l)}}catch(w){et(l,l.return,w)}if(l===o){G=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,G=S;break e}G=l.return}}if(Ee=i,Zr(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Dc,e)}catch{}r=!0}return r}finally{Ae=n,vn.transition=t}}return!1}function Hp(e,t,n){t=_s(n,t),t=Zv(e,t,1),e=Lr(e,t,1),t=At(),e!==null&&(po(e,1,t),Yt(e,t))}function et(e,t,n){if(e.tag===3)Hp(e,e,n);else for(;t!==null;){if(t.tag===3){Hp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){e=_s(n,e),e=eb(t,e,1),t=Lr(t,e,1),e=At(),t!==null&&(po(t,1,e),Yt(t,e));break}}t=t.return}}function _N(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(St&n)===n&&(ct===4||ct===3&&(St&130023424)===St&&500>nt()-Ph?xi(e,0):Ih|=n),Yt(e,t)}function yb(e,t){t===0&&(e.mode&1?(t=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):t=1);var n=At();e=pr(e,t),e!==null&&(po(e,t,n),Yt(e,n))}function EN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yb(e,n)}function DN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),yb(e,n)}var wb;wb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wt=!1,vN(e,t,n);Wt=!!(e.flags&131072)}else Wt=!1,qe&&t.flags&1048576&&Cv(t,tc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ml(e,t),e=t.pendingProps;var i=Cs(t,_t.current);ms(t,n),i=wh(null,t,r,e,i,n);var s=Sh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(s=!0,Zl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gh(t),i.updater=Fc,t.stateNode=i,i._reactInternals=t,rf(t,r,e,n),t=of(null,t,r,!0,s,n)):(t.tag=0,qe&&s&&ch(t),Tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ml(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=MN(r),e=Cn(r,e),i){case 0:t=af(null,t,r,e,n);break e;case 1:t=Tp(null,t,r,e,n);break e;case 11:t=Rp(null,t,r,e,n);break e;case 14:t=Mp(null,t,r,Cn(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cn(r,i),af(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cn(r,i),Tp(e,t,r,i,n);case 3:e:{if(ib(t),e===null)throw Error(B(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Dv(e,t),ic(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=_s(Error(B(423)),t),t=Ap(e,t,r,n,i);break e}else if(r!==i){i=_s(Error(B(424)),t),t=Ap(e,t,r,n,i);break e}else for(Qt=Or(t.stateNode.containerInfo.firstChild),tn=t,qe=!0,In=null,n=_v(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),r===i){t=gr(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return Rv(t),e===null&&ef(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ju(r,i)?o=null:s!==null&&Ju(r,s)&&(t.flags|=32),rb(e,t),Tt(e,t,o,n),t.child;case 6:return e===null&&ef(t),null;case 13:return sb(e,t,n);case 4:return xh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Is(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cn(r,i),Rp(e,t,r,i,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,He(nc,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!Ht.current){t=gr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=fr(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),tf(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ms(t,n),i=yn(i),r=r(i),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,i=Cn(r,t.pendingProps),i=Cn(r.type,i),Mp(e,t,r,i,n);case 15:return tb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cn(r,i),Ml(e,t),t.tag=1,Ut(r)?(e=!0,Zl(t)):e=!1,ms(t,n),Xv(t,r,i),rf(t,r,i,n),of(null,t,r,!0,e,n);case 19:return ab(e,t,n);case 22:return nb(e,t,n)}throw Error(B(156,t.tag))};function Sb(e,t){return J0(e,t)}function RN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,n,r){return new RN(e,t,n,r)}function Rh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MN(e){if(typeof e=="function")return Rh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qf)return 11;if(e===Xf)return 14}return 2}function zr(e,t){var n=e.alternate;return n===null?(n=pn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Rh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ki:return vi(n.children,i,s,t);case Kf:o=8,i|=8;break;case Iu:return e=pn(12,n,t,i|2),e.elementType=Iu,e.lanes=s,e;case Pu:return e=pn(13,n,t,i),e.elementType=Pu,e.lanes=s,e;case _u:return e=pn(19,n,t,i),e.elementType=_u,e.lanes=s,e;case R0:return Bc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E0:o=10;break e;case D0:o=9;break e;case Qf:o=11;break e;case Xf:o=14;break e;case Sr:o=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=pn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function vi(e,t,n,r){return e=pn(7,e,r,t),e.lanes=n,e}function Bc(e,t,n,r){return e=pn(22,e,r,t),e.elementType=R0,e.lanes=n,e.stateNode={isHidden:!1},e}function qd(e,t,n){return e=pn(6,e,null,t),e.lanes=n,e}function Jd(e,t,n){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function TN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_d(0),this.expirationTimes=_d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_d(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mh(e,t,n,r,i,s,o,l,c){return e=new TN(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=pn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(s),e}function AN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Nb(e){if(!e)return Gr;e=e._reactInternals;e:{if(Fi(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ut(n))return Nv(e,n,t)}return t}function jb(e,t,n,r,i,s,o,l,c){return e=Mh(n,r,!0,e,i,s,o,l,c),e.context=Nb(null),n=e.current,r=At(),i=Vr(n),s=fr(r,i),s.callback=t??null,Lr(n,s,i),e.current.lanes=i,po(e,i,r),Yt(e,r),e}function $c(e,t,n,r){var i=t.current,s=At(),o=Vr(i);return n=Nb(n),t.context===null?t.context=n:t.pendingContext=n,t=fr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lr(i,t,o),e!==null&&(Dn(e,i,o,s),El(e,i,o)),o}function fc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Th(e,t){Up(e,t),(e=e.alternate)&&Up(e,t)}function ON(){return null}var Cb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ah(e){this._internalRoot=e}Wc.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));$c(e,t,null,null)};Wc.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ei(function(){$c(null,e,null,null)}),t[mr]=null}};function Wc(e){this._internalRoot=e}Wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=nv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jr.length&&t!==0&&t<jr[n].priority;n++);jr.splice(n,0,e),n===0&&iv(e)}};function Oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function LN(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=fc(o);s.call(d)}}var o=jb(t,r,e,0,null,!1,!1,"",Yp);return e._reactRootContainer=o,e[mr]=o.current,$a(e.nodeType===8?e.parentNode:e),Ei(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=fc(c);l.call(d)}}var c=Mh(e,0,!1,null,null,!1,!1,"",Yp);return e._reactRootContainer=c,e[mr]=c.current,$a(e.nodeType===8?e.parentNode:e),Ei(function(){$c(t,c,n,r)}),c}function Uc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=fc(o);l.call(c)}}$c(t,o,e,i)}else o=LN(n,t,e,i,r);return fc(o)}ev=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ha(t.pendingLanes);n!==0&&(th(t,n|1),Yt(t,nt()),!(Ee&6)&&(Es=nt()+500,Zr()))}break;case 13:Ei(function(){var r=pr(e,1);if(r!==null){var i=At();Dn(r,e,1,i)}}),Th(e,1)}};nh=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var n=At();Dn(t,e,134217728,n)}Th(e,134217728)}};tv=function(e){if(e.tag===13){var t=Vr(e),n=pr(e,t);if(n!==null){var r=At();Dn(n,e,t,r)}Th(e,t)}};nv=function(){return Ae};rv=function(e,t){var n=Ae;try{return Ae=e,t()}finally{Ae=n}};Vu=function(e,t,n){switch(t){case"input":if(Ru(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ac(r);if(!i)throw Error(B(90));T0(r),Ru(r,i)}}}break;case"textarea":O0(e,n);break;case"select":t=n.value,t!=null&&ds(e,!!n.multiple,t,!1)}};W0=_h;H0=Ei;var FN={usingClientEntryPoint:!1,Events:[xo,es,Ac,B0,$0,_h]},na={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VN={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=G0(e),e===null?null:e.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||ON,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Dc=nl.inject(VN),Yn=nl}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FN;on.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oh(t))throw Error(B(200));return AN(e,t,null,n)};on.createRoot=function(e,t){if(!Oh(e))throw Error(B(299));var n=!1,r="",i=Cb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mh(e,1,!1,null,null,n,!1,r,i),e[mr]=t.current,$a(e.nodeType===8?e.parentNode:e),new Ah(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=G0(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return Ei(e)};on.hydrate=function(e,t,n){if(!Hc(t))throw Error(B(200));return Uc(null,e,t,!0,n)};on.hydrateRoot=function(e,t,n){if(!Oh(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Cb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=jb(t,null,e,1,n??null,i,!1,s,o),e[mr]=t.current,$a(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wc(t)};on.render=function(e,t,n){if(!Hc(t))throw Error(B(200));return Uc(null,e,t,!1,n)};on.unmountComponentAtNode=function(e){if(!Hc(e))throw Error(B(40));return e._reactRootContainer?(Ei(function(){Uc(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0):!1};on.unstable_batchedUpdates=_h;on.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hc(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Uc(e,t,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function kb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kb)}catch(e){console.error(e)}}kb(),k0.exports=on;var Lh=k0.exports;const zN=$f(Lh);var Ib,Gp=Lh;Ib=Gp.createRoot,Gp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qa.apply(this,arguments)}var Pr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pr||(Pr={}));const qp="popstate";function BN(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return bf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_b(i)}return WN(t,n,null,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $N(){return Math.random().toString(36).substr(2,8)}function Jp(e,t){return{usr:e.state,key:e.key,idx:t}}function bf(e,t,n,r){return n===void 0&&(n=null),Qa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$s(t):t,{state:n,key:t&&t.key||r||$N()})}function _b(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $s(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function WN(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Pr.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Qa({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Pr.Pop;let y=u(),p=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:p})}function h(y,p){l=Pr.Push;let v=bf(x.location,y,p);d=u()+1;let b=Jp(v,d),S=x.createHref(v);try{o.pushState(b,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}s&&c&&c({action:l,location:x.location,delta:1})}function m(y,p){l=Pr.Replace;let v=bf(x.location,y,p);d=u();let b=Jp(v,d),S=x.createHref(v);o.replaceState(b,"",S),s&&c&&c({action:l,location:x.location,delta:0})}function g(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:_b(y);return v=v.replace(/ $/,"%20"),st(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let x={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qp,f),c=y,()=>{i.removeEventListener(qp,f),c=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let p=g(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(y){return o.go(y)}};return x}var Kp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kp||(Kp={}));function HN(e,t,n){return n===void 0&&(n="/"),UN(e,t,n)}function UN(e,t,n,r){let i=typeof t=="string"?$s(t):t,s=Rb(i.pathname||"/",n);if(s==null)return null;let o=Eb(e);YN(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=i2(s);l=t2(o[c],d)}return l}function Eb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=bi([r,c.relativePath]),u=n.concat(c);s.children&&s.children.length>0&&(st(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Eb(s.children,t,u,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:ZN(d,s.index),routesMeta:u})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Db(s.path))i(s,o,c)}),t}function Db(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Db(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function YN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:e2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GN=/^:[\w-]+$/,qN=3,JN=2,KN=1,QN=10,XN=-2,Qp=e=>e==="*";function ZN(e,t){let n=e.split("/"),r=n.length;return n.some(Qp)&&(r+=XN),t&&(r+=JN),n.filter(i=>!Qp(i)).reduce((i,s)=>i+(GN.test(s)?qN:s===""?KN:QN),r)}function e2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function t2(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=n2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:bi([s,f.pathname]),pathnameBase:l2(bi([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=bi([s,f.pathnameBase]))}return o}function n2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r2(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let x=l[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function r2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Pb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function i2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function s2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?$s(e):e;return{pathname:n?n.startsWith("/")?n:a2(n,t):t,search:c2(r),hash:d2(i)}}function a2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mb(e,t){let n=o2(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tb(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=$s(e):(i=Qa({},e),st(!i.pathname||!i.pathname.includes("?"),Kd("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),Kd("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),Kd("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=s2(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const bi=e=>e.join("/").replace(/\/\/+/g,"/"),l2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),c2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function u2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ab=["post","put","patch","delete"];new Set(Ab);const f2=["get",...Ab];new Set(f2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xa.apply(this,arguments)}const Fh=j.createContext(null),h2=j.createContext(null),bo=j.createContext(null),Yc=j.createContext(null),Vi=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Ob=j.createContext(null);function yo(){return j.useContext(Yc)!=null}function Gc(){return yo()||st(!1),j.useContext(Yc).location}function Lb(e){j.useContext(bo).static||j.useLayoutEffect(e)}function Gt(){let{isDataRoute:e}=j.useContext(Vi);return e?k2():m2()}function m2(){yo()||st(!1);let e=j.useContext(Fh),{basename:t,future:n,navigator:r}=j.useContext(bo),{matches:i}=j.useContext(Vi),{pathname:s}=Gc(),o=JSON.stringify(Mb(i,n.v7_relativeSplatPath)),l=j.useRef(!1);return Lb(()=>{l.current=!0}),j.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=Tb(d,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bi([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,o,s,e])}function p2(e,t){return g2(e,t)}function g2(e,t,n,r){yo()||st(!1);let{navigator:i,static:s}=j.useContext(bo),{matches:o}=j.useContext(Vi),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let u=Gc(),f;if(t){var h;let p=typeof t=="string"?$s(t):t;d==="/"||(h=p.pathname)!=null&&h.startsWith(d)||st(!1),f=p}else f=u;let m=f.pathname||"/",g=m;if(d!=="/"){let p=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=HN(e,{pathname:g}),y=w2(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:bi([d,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:bi([d,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,r);return t&&y?j.createElement(Yc.Provider,{value:{location:Xa({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Pr.Pop}},y):y}function x2(){let e=C2(),t=u2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,null)}const v2=j.createElement(x2,null);class b2 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(Vi.Provider,{value:this.props.routeContext},j.createElement(Ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y2(e){let{routeContext:t,match:n,children:r}=e,i=j.useContext(Fh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Vi.Provider,{value:t},r)}function w2(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||st(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let m,g=!1,x=null,y=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||v2,c&&(d<0&&h===0?(I2("route-fallback"),g=!0,y=null):d===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),v=()=>{let b;return m?b=x:g?b=y:f.route.Component?b=j.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,j.createElement(y2,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?j.createElement(b2,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var Fb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Fb||{}),Vb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vb||{});function S2(e){let t=j.useContext(Fh);return t||st(!1),t}function N2(e){let t=j.useContext(h2);return t||st(!1),t}function j2(e){let t=j.useContext(Vi);return t||st(!1),t}function zb(e){let t=j2(),n=t.matches[t.matches.length-1];return n.route.id||st(!1),n.route.id}function C2(){var e;let t=j.useContext(Ob),n=N2(),r=zb();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function k2(){let{router:e}=S2(Fb.UseNavigateStable),t=zb(Vb.UseNavigateStable),n=j.useRef(!1);return Lb(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Xa({fromRouteId:t},s)))},[e,t])}const Xp={};function I2(e,t,n){Xp[e]||(Xp[e]=!0)}function P2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _2(e){let{to:t,replace:n,state:r,relative:i}=e;yo()||st(!1);let{future:s,static:o}=j.useContext(bo),{matches:l}=j.useContext(Vi),{pathname:c}=Gc(),d=Gt(),u=Tb(t,Mb(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(u);return j.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:i}),[d,f,i,n,r]),null}function Mt(e){st(!1)}function E2(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Pr.Pop,navigator:s,static:o=!1,future:l}=e;yo()&&st(!1);let c=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:s,static:o,future:Xa({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=$s(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,x=j.useMemo(()=>{let y=Rb(u,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:i}},[c,u,f,h,m,g,i]);return x==null?null:j.createElement(bo.Provider,{value:d},j.createElement(Yc.Provider,{children:n,value:x}))}function D2(e){let{children:t,location:n}=e;return p2(yf(t),n)}new Promise(()=>{});function yf(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let s=[...t,i];if(r.type===j.Fragment){n.push.apply(n,yf(r.props.children,s));return}r.type!==Mt&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function R2(e,t){let n=wf(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const M2="6";try{window.__reactRouterVersion=M2}catch{}const T2="startTransition",Zp=_1[T2];function A2(e){let{basename:t,children:n,future:r,window:i}=e,s=j.useRef();s.current==null&&(s.current=BN({window:i,v5Compat:!0}));let o=s.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=j.useCallback(f=>{d&&Zp?Zp(()=>c(f)):c(f)},[c,d]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.useEffect(()=>P2(r),[r]),j.createElement(E2,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var eg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eg||(eg={}));var tg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tg||(tg={}));function O2(e){let t=j.useRef(wf(e)),n=j.useRef(!1),r=Gc(),i=j.useMemo(()=>R2(r.search,n.current?null:t.current),[r.search]),s=Gt(),o=j.useCallback((l,c)=>{const d=wf(typeof l=="function"?l(i):l);n.current=!0,s("?"+d,c)},[s,i]);return[i,o]}/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>j.createElement("svg",{ref:u,...L2,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${F2(e)}`,l].join(" "),...d},[...t.map(([f,h])=>j.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Q("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Q("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Q("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Q("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Q("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Q("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Q("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Q("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Q("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Q("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Q("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Q("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Q("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Q("Radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Q("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Q("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Q("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Q("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Q("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Q("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),er="/VRDS_APA";let Xd=null;function Q2(){var e;return(e=globalThis.crypto)!=null&&e.randomUUID?globalThis.crypto.randomUUID():"sess_"+Date.now()+"_"+Math.random().toString(36).slice(2)}function X2(){if(Xd)return Xd;let e=localStorage.getItem("session_id");return e||(e=Q2(),localStorage.setItem("session_id",e)),Xd=e,e}const Ce={getSessionId(){return X2()},async createUserSession(e){const t=await fetch(`${er}/api/user-sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to create user session");return n},async insertValueEvolution(e){const t=await fetch(`${er}/api/value-evolution`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to save value evolution");return n},async insertScenarioInteraction(e){const t=await fetch(`${er}/api/scenario-interactions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to save scenario interaction");return n},async insertAPAReordering(e){const t=await fetch(`${er}/api/apa-reorderings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to save APA reordering");return n},async insertFinalDecision(e){const t=await fetch(`${er}/api/final-decisions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to save final decision");return n},async insertSessionMetrics(e){const t=await fetch(`${er}/api/session-metrics`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to upsert session metrics");return n},async insertSessionFeedback(e){const t=await fetch(`${er}/api/session-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to upsert session feedback");return n},async updateUserSession(e,t){const n=await fetch(`${er}/api/user-sessions/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json().catch(()=>({}));if(!n.ok)throw new Error((r==null?void 0:r.error)||"Failed to update user session");return r},async insertValueStability(e){const t=await fetch(`${er}/api/value-stability`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to upsert value stability");return n}},Z2=()=>{const e=Gt(),[t,n]=j.useState({age:"",gender:"",aiExperience:"",moralReasoningExperience:""}),[r,i]=j.useState(""),[s,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[f,h]=j.useState(!1),[m,g]=j.useState(!1);j.useEffect(()=>{localStorage.clear(),setTimeout(()=>o(!0),100)},[]);const x=()=>{if(!f)return;const p=new Date().toISOString();localStorage.setItem("userConsent",JSON.stringify({agreed:!0,timestamp:p})),u(!0),setTimeout(()=>{g(!0)},300)},y=async p=>{if(p.preventDefault(),!t.age||!t.gender||!t.aiExperience||!t.moralReasoningExperience){i("Please fill in all fields");return}const v=parseInt(t.age);if(isNaN(v)||v<18||v>120){i("Please enter a valid age between 18 and 120");return}localStorage.setItem("userDemographics",JSON.stringify(t));const b=Ce.getSessionId();localStorage.setItem("currentSessionId",b);const S=JSON.parse(localStorage.getItem("userConsent")||"{}");await Ce.createUserSession({session_id:b,experiment_condition:"3",demographics:t,consent_agreed:S.agreed||!1,consent_timestamp:S.timestamp}),e("/explicitvaluepage")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-yellow-50 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-orange-200/30 to-red-200/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-yellow-200/30 to-orange-200/30 rounded-full blur-3xl animate-pulse delay-1000"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-red-100/20 to-orange-100/20 rounded-full blur-3xl animate-pulse delay-500"})]}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx(Di,{className:"absolute top-20 left-20 text-orange-300/40 animate-bounce",size:32,style:{animationDelay:"0s",animationDuration:"3s"}}),a.jsx(Rs,{className:"absolute top-32 right-32 text-red-300/40 animate-bounce",size:28,style:{animationDelay:"1s",animationDuration:"4s"}}),a.jsx(Ri,{className:"absolute bottom-32 left-32 text-yellow-300/40 animate-bounce",size:30,style:{animationDelay:"2s",animationDuration:"3.5s"}}),a.jsx(hc,{className:"absolute bottom-20 right-20 text-orange-300/40 animate-bounce",size:26,style:{animationDelay:"0.5s",animationDuration:"4.5s"}})]}),a.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 py-8",children:a.jsx("div",{className:`w-full max-w-4xl transition-all duration-1000 transform ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:d?a.jsx("div",{className:`transition-all duration-500 ${m?"opacity-100 translate-x-0":"opacity-0 translate-x-[100%]"}`,children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[a.jsx("div",{className:"flex justify-center lg:justify-start mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-400 to-red-500 rounded-full blur-lg opacity-30 animate-pulse"}),a.jsx("div",{className:"relative bg-gradient-to-r from-orange-500 to-red-600 p-3 rounded-full shadow-2xl",children:a.jsx(B2,{className:"h-10 w-10 text-white"})})]})}),a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-yellow-600 bg-clip-text text-transparent mb-3",children:"Wildfire Crisis Simulation"}),a.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-400 to-red-500 mx-auto lg:mx-0 rounded-full mb-4"}),a.jsx("p",{className:"text-base text-gray-700 leading-relaxed mb-6",children:"Experience ethical decision-making in crisis scenarios. Your choices will help us understand how values influence critical decisions."}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[a.jsx(Di,{className:"h-5 w-5 text-orange-500 mb-1 mx-auto lg:mx-0"}),a.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Crisis Management"})]}),a.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[a.jsx(Rs,{className:"h-5 w-5 text-red-500 mb-1 mx-auto lg:mx-0"}),a.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Ethical Decisions"})]}),a.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[a.jsx(Ri,{className:"h-5 w-5 text-yellow-500 mb-1 mx-auto lg:mx-0"}),a.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Impact Analysis"})]}),a.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[a.jsx(hc,{className:"h-5 w-5 text-orange-500 mb-1 mx-auto lg:mx-0"}),a.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Expert Insights"})]})]})]}),a.jsx("div",{className:"w-full lg:w-96 flex-shrink-0",children:a.jsxs("div",{className:"bg-white/80 backdrop-blur-lg py-6 px-6 shadow-2xl rounded-2xl border border-white/50",children:[a.jsxs("form",{className:"space-y-4",onSubmit:y,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"age",className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Age"}),a.jsx("input",{id:"age",name:"age",type:"number",required:!0,min:"18",max:"120",value:t.age,onChange:p=>n(v=>({...v,age:p.target.value})),className:"appearance-none block w-full px-4 py-2.5 border border-gray-200 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 bg-white/90 backdrop-blur-sm",placeholder:"Enter your age"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"gender",className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Gender"}),a.jsxs("select",{id:"gender",name:"gender",required:!0,value:t.gender,onChange:p=>n(v=>({...v,gender:p.target.value})),className:"appearance-none block w-full px-4 py-2.5 border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 bg-white/90 backdrop-blur-sm text-gray-700",children:[a.jsx("option",{value:"",children:"Select your gender"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Dealing with AI Systems"}),a.jsx("div",{className:"flex gap-2",children:["Never","Rarely","Often","Very Often","Most of the Time"].map(p=>a.jsx("button",{type:"button",onClick:()=>n(v=>({...v,aiExperience:p})),className:`flex-1 py-2 px-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${t.aiExperience===p?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg scale-105":"bg-white/90 text-gray-700 border border-gray-200 hover:border-orange-300 hover:shadow-md"}`,children:p},p))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-1.5",children:["Experience with Moral Reasoning",a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),className:"text-orange-500 hover:text-orange-600 transition-colors",children:a.jsx(vs,{size:16})}),l&&a.jsxs("div",{className:"absolute left-0 top-6 z-50 bg-gray-800 text-white text-xs rounded-lg py-2 px-3 shadow-xl whitespace-nowrap",children:["i.e., Philosophy Class, Moral Machine",a.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-800 transform rotate-45"})]})]})]}),a.jsx("div",{className:"flex gap-2",children:["Poor","Fair","Good","Very Good","Excellent"].map(p=>a.jsx("button",{type:"button",onClick:()=>n(v=>({...v,moralReasoningExperience:p})),className:`flex-1 py-2 px-2 text-xs font-medium rounded-lg transition-all duration-200 ${t.moralReasoningExperience===p?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg scale-105":"bg-white/90 text-gray-700 border border-gray-200 hover:border-orange-300 hover:shadow-md"}`,children:p},p))})]}),r&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-2.5 animate-shake",children:a.jsx("p",{className:"text-red-600 text-sm font-medium",children:r})}),a.jsx("div",{children:a.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center items-center py-2.5 px-4 border border-transparent rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200 transform hover:scale-105 hover:shadow-xl",children:[a.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-orange-400 to-red-500 rounded-xl blur opacity-30 group-hover:opacity-50 transition-opacity duration-200"}),a.jsxs("span",{className:"relative flex items-center",children:["Begin Assessment",a.jsx(Tn,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Your responses will be used for research purposes only"})})]})})]})}):a.jsx("div",{className:`transition-all duration-500 ${d?"opacity-0 translate-x-[-100%]":"opacity-100 translate-x-0"}`,children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-lg shadow-2xl rounded-2xl border border-white/50 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 px-8 py-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Informed Consent"}),a.jsx("p",{className:"text-orange-50 text-center mt-2",children:"Please read this consent document carefully before you decide to participate in this study."})]}),a.jsx("div",{className:"px-8 py-6 max-h-[65vh] overflow-y-auto custom-scrollbar",children:a.jsxs("div",{className:"space-y-6 text-gray-700",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Study Title"}),a.jsx("p",{className:"leading-relaxed",children:"Negotiation and Cognitive Value Recontextualization for Consistency Assessment in Human-AI Collaboration: Advancing Joint Decision-Making through Adaptive Preference Alignment"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Purpose of the Study"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"This study builds on the Moral Machine Experiment, which examined how people make ethical trade-offs in complex situations. It explores how humans collaborate with multiple AI expert agentseach representing values such as Safety, Efficiency, Fairness, Sustainability, and Non-maleficenceduring simulated wildfire emergencies."}),a.jsxs("p",{className:"leading-relaxed mb-3",children:["The experiment applies two frameworks: ",a.jsx("strong",{children:"Cognitive Value Recontextualization (CVR)"}),", which examines how people reinterpret their values in new contexts, and ",a.jsx("strong",{children:"Adaptive Preference Alignment (APA)"}),", which studies how human and AI preferences can be aligned for more ethical and transparent decisions."]}),a.jsx("p",{className:"leading-relaxed",children:"The goal is to better understand how AI can support human moral reasoning and decision-making in high-stakes scenarios."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Procedures"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"This experiment will be conducted entirely online through a web-based simulation platform. Participants will begin by completing a brief demographic questionnaire, followed by two value-assessment phases:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-4 mb-3",children:[a.jsxs("li",{className:"leading-relaxed",children:[a.jsx("strong",{children:"Explicit Value Questionnaire"}),"  consisting of simple, everyday scenarios designed to identify stable personal values."]}),a.jsxs("li",{className:"leading-relaxed",children:[a.jsx("strong",{children:"Implicit Value Questionnaire"}),"  involving mid-level contextual scenarios to reveal how values shift across different situations."]})]}),a.jsx("p",{className:"leading-relaxed mb-3",children:"Based on these responses, the system generates each participant's evaluated stable and context-dependent value profile."}),a.jsx("p",{className:"leading-relaxed mb-3",children:"Next, participants will engage with three interactive wildfire scenarios. In each scenario, they will receive guidance from multiple AI expert agents, each representing a distinct ethical or operational perspective (e.g., Safety, Efficiency, Fairness, Sustainability, and Non-maleficence). Participants will then decide how to allocate firefighting resources based on the agents' recommendations and their own judgment."}),a.jsx("p",{className:"leading-relaxed mb-3",children:"After completing the scenarios, participants will be asked to respond to brief follow-up questions that evaluate their reasoning, satisfaction, and overall experience."}),a.jsxs("p",{className:"leading-relaxed",children:["The full session will take approximately ",a.jsx("strong",{children:"2035 minutes"})," and can be completed in one sitting using a computer or tablet."]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Potential Risks of Participating"}),a.jsx("p",{className:"leading-relaxed",children:"There are no known risks beyond what you'd normally experience using a computer. Some people might feel brief mental fatigue or mild stress when facing moral trade-offs (like choosing between difficult rescue options), but you can pause or stop at any time."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Potential Benefits of Participating"}),a.jsx("p",{className:"leading-relaxed",children:"By taking part, you'll help us learn how people and AI can work together to make better decisions during emergency situations like wildfires. Your participation will help researchers design future AI systems that are more ethical, transparent, and human-centered tools that could improve safety and decision support in real-world disaster response. You may also find it interesting to see how your own values and reasoning compare to the AI experts' perspectives."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Compensation"}),a.jsx("p",{className:"leading-relaxed",children:"Those who are taking designated undergraduate-level courses may be eligible to receive extra credit upon the completion of the study."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Confidentiality"}),a.jsx("p",{className:"leading-relaxed",children:"Your responses will remain completely anonymous. No names, emails, or identifiable information will be collected. Data will be stored on secure, password-protected servers accessible only to the research team. Results will be reported in aggregate form only, ensuring that no individual participant can be identified."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Voluntary Participation"}),a.jsx("p",{className:"leading-relaxed",children:"Your participation in this study is completely voluntary. There is no penalty for not participating. You may also refuse to answer questions that are asked in the study."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Right to Withdraw from the Study"}),a.jsx("p",{className:"leading-relaxed",children:"You have the right to withdraw from the study at any time without consequence."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Whom to Contact if You Have Questions"}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"About the study:"}),a.jsx("p",{children:"Waseem Samkari, Ph.D. Candidate"}),a.jsx("p",{children:"College of Engineering and Science"}),a.jsx("p",{children:"Florida Institute of Technology"}),a.jsxs("p",{children:["Email: ",a.jsx("a",{href:"mailto:wsamkari2022@my.fit.edu",className:"text-orange-600 hover:text-orange-700 underline",children:"wsamkari2022@my.fit.edu"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"About your rights as a research participant:"}),a.jsx("p",{children:"Dr. Jignya Patel, IRB Chairperson"}),a.jsx("p",{children:"150 West University Blvd."}),a.jsx("p",{children:"Melbourne, FL 32901"}),a.jsxs("p",{children:["Email: ",a.jsx("a",{href:"mailto:FIT_IRB@fit.edu",className:"text-orange-600 hover:text-orange-700 underline",children:"FIT_IRB@fit.edu"})]})]})]})]}),a.jsxs("div",{className:"border-t-2 border-orange-200 pt-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Agreement"}),a.jsxs("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-6",children:[a.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:f,onChange:p=>h(p.target.checked),className:"mt-1 w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500 focus:ring-2 cursor-pointer"}),a.jsx("span",{className:"text-gray-800 leading-relaxed group-hover:text-gray-900 transition-colors",children:"I have read the procedure described above. I voluntarily agree to participate in the procedure and I have received a copy of this description."})]}),a.jsx("button",{onClick:x,disabled:!f,className:`mt-6 w-full py-3 px-6 rounded-xl font-semibold text-white transition-all duration-200 ${f?"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 hover:shadow-lg transform hover:scale-105 cursor-pointer":"bg-gray-300 cursor-not-allowed opacity-60"}`,children:"Confirm and Continue"})]})]})]})})]})})})}),a.jsx("style",{jsx:!0,children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, #f97316, #dc2626);
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, #ea580c, #b91c1c);
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.5s ease-in-out;
        }
      `})]})},fi=[{id:1,scenario:"Your neighbor's cat frequently visits your garden. You notice it's not well-fed. What do you do?",options:[{value:"Safety",label:"Report to animal welfare immediately",icon:""},{value:"Fairness",label:"Discuss the situation with your neighbor first",icon:""},{value:"Nonmaleficence",label:"Leave food without interfering",icon:""},{value:"Efficiency",label:"Set up deterrents to keep the cat away",icon:""}]},{id:2,scenario:"You have two routes to work: a shorter route through a busy area or a longer, scenic route. Which do you choose?",options:[{value:"Efficiency",label:"Take the shorter route to save time",icon:""},{value:"Sustainability",label:"Choose the scenic route with less traffic",icon:""},{value:"Safety",label:"Pick the route with better road conditions",icon:""}]},{id:3,scenario:"Your apartment building has limited parking spaces. How should they be allocated?",options:[{value:"Fairness",label:"First-come, first-served basis",icon:""},{value:"Efficiency",label:"Closest spaces for most frequent users",icon:""},{value:"Safety",label:"Priority for elderly and disabled residents",icon:""},{value:"Sustainability",label:"Extra spaces for carpooling residents",icon:""}]},{id:4,scenario:"You find a wallet with cash and ID. What's your immediate action?",options:[{value:"Urgency",label:"Contact the owner immediately",icon:""},{value:"Safety",label:"Turn it in to the police",icon:""},{value:"Fairness",label:"Leave it where found but monitor",icon:""},{value:"Efficiency",label:"Drop it in a mailbox",icon:""}]},{id:5,scenario:"Your community garden has limited water during a drought. How do you manage resources?",options:[{value:"Sustainability",label:"Implement water-saving techniques",icon:""},{value:"Fairness",label:"Create a strict watering schedule",icon:""},{value:"Efficiency",label:"Focus on plants with highest yield",icon:""},{value:"Nonmaleficence",label:"Share water equally regardless of need",icon:""}]}],Wh=({currentStep:e,steps:t})=>{const i=t.length,s=1/(i-1)*100,l=5/(i-1)*100-s;return a.jsx("div",{className:"w-full bg-gradient-to-r from-blue-50 to-green-50 py-6 mb-6",children:a.jsx("div",{className:"max-w-5xl mx-auto px-4",children:a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsx("div",{className:"absolute rounded-3xl border-2 border-amber-300 bg-amber-50/30 backdrop-blur-sm shadow-lg",style:{left:`calc(${s}% - 2%)`,width:`calc(${l}% + 4%)`,top:"-20px",bottom:"-10px",zIndex:0},children:a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-amber-100 border-2 border-amber-300 px-4 py-1 rounded-full shadow-md",children:a.jsx("span",{className:"text-xs font-bold text-amber-800 tracking-wide",children:"Implicit Values"})})}),t.map((c,d)=>{const u=d<e,f=d===e,h=d>e,m=c.isLarger,g=m?"w-14 h-14":"w-10 h-10",x=m?"text-sm font-bold":"text-xs";return a.jsxs("div",{className:"relative flex flex-col items-center",style:{flex:1},children:[d>0&&a.jsx("div",{className:`absolute top-5 right-1/2 h-0.5 transition-all duration-500 ${u||d===e&&d>0?"bg-green-500":"bg-gray-300"}`,style:{width:"100%",transform:"translateY(-50%)"}}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsxs("div",{className:`${g} rounded-full border-4 transition-all duration-500 flex items-center justify-center ${u?"bg-green-500 border-green-500 shadow-lg shadow-green-300/50":f?"bg-white border-blue-500 shadow-lg shadow-blue-300/50 animate-pulse":"bg-white border-gray-300 shadow-md"}`,children:[u&&a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),f&&a.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 animate-pulse"}),h&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"})]}),a.jsx("div",{className:`mt-3 ${x} text-center font-medium transition-all duration-500 ${u?"text-green-700":f?"text-blue-700":"text-gray-500"}`,style:{minWidth:"60px",maxWidth:m?"80px":"70px"},children:c.label})]})]},c.id)})]})})})},ej=()=>{const e=Gt(),[t,n]=j.useState({}),[r,i]=j.useState(!1),[s,o]=j.useState(!1),[l,c]=j.useState(!0),[d,u]=j.useState(!1),f=(g,x)=>{n(y=>({...y,[g]:x}))};j.useEffect(()=>{const g=()=>{window.scrollY>100&&!d&&(u(!0),c(!1))};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[d]);const h=async()=>{if(Object.keys(t).length!==fi.length){alert("Please answer all questions before continuing.");return}i(!0);const g=Object.entries(t).map(([x,y])=>({question_id:parseInt(x),value_selected:y,timestamp:new Date().toISOString()}));try{localStorage.setItem("explicitValues",JSON.stringify(g)),o(!0),setTimeout(()=>{e("/preferences")},2e3)}catch(x){console.error("Failed to save explicit values:",x),i(!1)}};if(s)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[a.jsx(Rn,{className:"mx-auto text-green-500 mb-4",size:48}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You!"}),a.jsx("p",{className:"text-gray-600",children:"Your responses have been recorded. Proceeding to the next stage..."})]})});const m=[{id:"explicit",label:"Explicit Values"},{id:"hospital",label:"Hospital"},{id:"environment",label:"Environment"},{id:"safety",label:"Safety"},{id:"resources",label:"Resources"},{id:"medical",label:"Medical"},{id:"results",label:"Results"},{id:"simulation",label:"Simulation",isLarger:!0}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(W2,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Explicit Value Identification  Benchmark Questionnaire"})]})})}),a.jsx(Wh,{currentStep:0,steps:m}),a.jsxs("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-md mb-8",children:a.jsx("p",{className:"text-blue-700",children:"Please answer the following simple everyday dilemmas. Select the value that best reflects your personal beliefs. Your selections will serve as a baseline for later comparison."})}),l&&a.jsx("div",{className:"fixed top-1/2 right-8 transform -translate-y-1/2 z-50 animate-bounce",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4 rounded-2xl shadow-2xl max-w-xs",children:[a.jsxs("p",{className:"text-sm font-semibold mb-1 flex items-center",children:[a.jsx(xs,{size:20,className:"mr-2 animate-pulse"}),"Scroll Down!"]}),a.jsx("p",{className:"text-xs opacity-90",children:"Answer all five questions below"})]}),a.jsx("div",{className:"absolute -left-3 top-1/2 transform -translate-y-1/2 w-0 h-0 border-t-8 border-b-8 border-r-8 border-transparent border-r-purple-600"})]})}),a.jsx("div",{className:"space-y-8",children:fi.map(g=>a.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g.scenario}),a.jsx("div",{className:"grid gap-3",children:g.options.map(x=>a.jsx("button",{onClick:()=>f(g.id,x.value),className:`w-full text-left p-4 rounded-lg border transition-all duration-200 ${t[g.id]===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-xl mr-3",children:x.icon}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-900",children:x.value}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.label})]})]})},x.value))})]},g.id))}),a.jsx("div",{className:"sticky bottom-8 mt-8",children:a.jsx("div",{className:"bg-white bg-opacity-90 backdrop-blur supports-[backdrop-filter]:bg-opacity-50 border rounded-lg shadow-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[Object.keys(t).length," of ",fi.length," questions answered"]}),a.jsxs("button",{onClick:h,disabled:Object.keys(t).length!==fi.length||r,className:`flex items-center px-6 py-2 rounded-md text-white font-medium transition-colors duration-200 ${Object.keys(t).length===fi.length&&!r?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:["Submit Answers & Continue",a.jsx(Tn,{className:"ml-2 h-5 w-5"})]})]})})})]})]})},Nf=[{id:"hospital-triage",title:" Hospital Emergency Triage",scenario:"A hospital has limited resources during a crisis. Should they prioritize treating many patients with moderate injuries or focus on fewer patients with severe conditions?",options:[{text:"Treat many moderate injuries (maximizing efficiency)",value:"efficiency"},{text:"Focus on severe cases (prioritizing individual care)",value:"nonmaleficence"}],followUpQuestions:{efficiency:{question:"In a different scenario, if a company needs to cut costs, would you prefer laying off a few high-salary employees or implementing smaller pay cuts across the entire workforce?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Nonmaleficence",type:"Context-Dependent"}]},nonmaleficence:{question:"If you were developing a new medication, would you also prioritize thoroughly testing for rare but severe side effects, even if it delays helping many patients with moderate conditions?",valueIfYes:{name:"Nonmaleficence",type:"Stable"},valueIfNo:[{name:"Nonmaleficence",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}},{id:"environmental-project",title:" Environmental Project Decision",scenario:"A city must choose between implementing immediate but temporary pollution controls or a longer-term sustainable solution that takes more time to show results.",options:[{text:"Quick temporary solution (immediate impact)",value:"efficiency"},{text:"Long-term sustainable approach (future impact)",value:"sustainability"}],followUpQuestions:{efficiency:{question:"In managing a wildlife conservation project, would you also choose quick-fix solutions over more comprehensive but time-consuming approaches?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Sustainability",type:"Context-Dependent"}]},sustainability:{question:"Would you support higher taxes to fund long-term environmental projects, even if it means slower economic growth in the short term?",valueIfYes:{name:"Sustainability",type:"Stable"},valueIfNo:[{name:"Sustainability",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}},{id:"safety-protocol",title:" Workplace Safety Protocol",scenario:"A manufacturing plant must decide between maintaining current production levels with standard safety measures or reducing output to implement enhanced safety protocols.",options:[{text:"Maintain production with current safety",value:"efficiency"},{text:"Reduce output for enhanced safety",value:"safety"}],followUpQuestions:{efficiency:{question:"In a different context, would you also prioritize meeting project deadlines over implementing additional safety measures in construction work?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Safety",type:"Context-Dependent"}]},safety:{question:"Would you support mandatory safety training in all industries, even if it significantly increases operational costs and reduces productivity?",valueIfYes:{name:"Safety",type:"Stable"},valueIfNo:[{name:"Safety",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}},{id:"resource-distribution",title:" Resource Distribution",scenario:"A community must decide how to distribute limited educational resources: either equally across all schools or based on individual school needs and performance.",options:[{text:"Equal distribution",value:"fairness"},{text:"Need-based distribution",value:"efficiency"}],followUpQuestions:{fairness:{question:"In healthcare resource allocation, would you also support equal distribution of resources regardless of population density or specific community needs?",valueIfYes:{name:"Fairness",type:"Stable"},valueIfNo:[{name:"Fairness",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]},efficiency:{question:"Would you support allocating more resources to high-performing schools to maximize overall educational outcomes?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Fairness",type:"Context-Dependent"}]}}},{id:"medical-research",title:" Medical Research Ethics",scenario:"A research institution must decide between fast-tracking a promising treatment with unknown long-term effects or conducting extended trials to ensure complete safety.",options:[{text:"Fast-track the treatment",value:"efficiency"},{text:"Conduct extended trials",value:"nonmaleficence"}],followUpQuestions:{efficiency:{question:"In a hospital management context, would you also prioritize launching a new digital patient record system quickly to improve operations, even if some data-security measures are not yet fully tested?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Nonmaleficence",type:"Context-Dependent"}]},nonmaleficence:{question:"Would you maintain the same cautious approach in testing new technologies that could immediately improve quality of life but might have unknown long-term impacts?",valueIfYes:{name:"Nonmaleficence",type:"Stable"},valueIfNo:[{name:"Nonmaleficence",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}}],tj=()=>{var h,m,g;const e=Gt(),[t,n]=j.useState(0),[r,i]=j.useState([]),[s,o]=j.useState(!1);j.useEffect(()=>{localStorage.removeItem("userResponses"),i([]),n(0)},[]),j.useEffect(()=>{s&&e("/completion")},[s,e]);const l=Nf[t],c=x=>{const y={scenarioId:l.id,selectedOption:x,followUpAnswer:null,deepValues:[]};i(p=>{const v=[...p];return v[t]=y,localStorage.setItem("userResponses",JSON.stringify(v)),v})},d=x=>{i(y=>{const p=[...y],v=p[t]={...p[t],followUpAnswer:x},b=l.followUpQuestions[v.selectedOption];if(x?v.deepValues=[b.valueIfYes]:v.deepValues=[{name:b.valueIfNo[0].name,type:"Context-Dependent"},{name:b.valueIfNo[1].name,type:"Context-Dependent"}],t===Nf.length-1){const S=[...p].flatMap(w=>w.deepValues);localStorage.setItem("deepValues",JSON.stringify(S)),localStorage.setItem("userResponses",JSON.stringify(p)),o(!0)}else localStorage.setItem("userResponses",JSON.stringify(p)),n(S=>S+1);return p})},u=()=>r[t],f=[{id:"explicit",label:"Explicit Values"},{id:"hospital",label:"Hospital"},{id:"environment",label:"Environment"},{id:"safety",label:"Safety"},{id:"resources",label:"Resources"},{id:"medical",label:"Medical"},{id:"results",label:"Results"},{id:"simulation",label:"Simulation",isLarger:!0}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(J2,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Preference Selection & Implicit Value Revealing"})]})})}),a.jsx(Wh,{currentStep:1+t,steps:f}),a.jsx("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"space-y-6",children:l&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:l.title}),a.jsx("p",{className:"text-gray-600 mb-6",children:l.scenario}),(!u()||((h=u())==null?void 0:h.followUpAnswer)===null)&&a.jsx("div",{className:"space-y-4",children:l.options.map(x=>{var y;return a.jsx("button",{onClick:()=>c(x.value),className:`w-full p-4 text-left rounded-lg border transition-all duration-200 ${((y=u())==null?void 0:y.selectedOption)===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:x.text},x.value)})}),((m=u())==null?void 0:m.selectedOption)&&((g=u())==null?void 0:g.followUpAnswer)===null&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"font-semibold mb-4",children:l.followUpQuestions[u().selectedOption].question}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>d(!0),className:"flex-1 py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Yes"}),a.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-2 px-4 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"No"})]})]})]})})})]})},nj=()=>{const e=Gt(),[t,n]=j.useState(!1);return j.useEffect(()=>{n(!0);const r=setTimeout(()=>{e("/values")},3e3);return()=>clearTimeout(r)},[e]),a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:`text-center transform transition-all duration-500 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-auto",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"rounded-full bg-green-100 p-3",children:a.jsx(Rn,{className:"h-12 w-12 text-green-600"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Preferences Selection Complete!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for completing the preferences selection. You'll be redirected to review your values in a moment."}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-600",children:[a.jsx("span",{children:"Proceeding to Values Review"}),a.jsx(Tn,{className:"h-5 w-5 animate-bounce"})]})]})})})},rj=()=>{const e=Gt(),[t,n]=j.useState([]),[r,i]=j.useState({stable:[],contextDependent:[]}),[s,o]=j.useState([]),[l,c]=j.useState([]),[d,u]=j.useState({stable:0,contextDependent:0}),[f,h]=j.useState(!1),[m,g]=j.useState([]),[x,y]=j.useState(!1),[p,v]=j.useState([]);j.useEffect(()=>{const C=localStorage.getItem("deepValues"),k=localStorage.getItem("explicitValues"),I=localStorage.getItem("userResponses");if(!C||!k||!I){h(!0);return}try{const _=JSON.parse(C),P=JSON.parse(I),L=JSON.parse(k);n(_),o(L);const Y={stable:[],contextDependent:[]};P.forEach((U,J)=>{const le=U.scenarioId,$e=Nf.find(A=>A.id===le),T=$e?$e.title:`Scenario ${J+1}`;U.deepValues.length===1?Y.stable.push({scenarioId:T,value:U.deepValues[0]}):U.deepValues.length===2&&Y.contextDependent.push({scenarioId:T,values:U.deepValues})}),i(Y);const E={};L.forEach(U=>{E[U.value_selected]=(E[U.value_selected]||0)+1});const M=L.length,D=Object.entries(E).map(([U,J])=>({value:U,count:J,percentage:J/M*100})).sort((U,J)=>J.count-U.count);c(D);const O={};_.forEach(U=>{O[U.name]=(O[U.name]||0)+1});const R=_.length,F=Object.entries(O).map(([U,J])=>({value:U,count:J,percentage:J/R*100})).sort((U,J)=>J.count-U.count);v(F);const V=Array.from(new Set(_.filter(U=>U.type==="Stable").map(U=>U.name))),H=_.filter(U=>U.type==="Context-Dependent").map(U=>U.name),W=V.map(U=>{const J=D.find(le=>le.value===U);return{name:U,matchPercentage:J?J.percentage:0}}).filter(U=>U.matchPercentage>0).sort((U,J)=>J.matchPercentage-U.matchPercentage);g(W);let oe=0,Z=0;D.forEach(U=>{V.includes(U.value)&&oe++,H.includes(U.value)&&Z++}),u({stable:V.length?oe/V.length*100:0,contextDependent:H.length?Z/H.length*100:0})}catch(_){console.error("Error parsing saved values:",_),h(!0)}},[]);const b=async()=>{try{const C=Ce.getSessionId(),k={explicit:s.map(P=>P.value_selected),implicit:t.map(P=>P.name)};localStorage.setItem("userValues",JSON.stringify(k)),localStorage.setItem("ExplicitValueFrequencies",JSON.stringify(l)),localStorage.setItem("ImplicitValueFrequencies",JSON.stringify(p));const I=m.slice(0,2);localStorage.setItem("finalValues",JSON.stringify(I));const _=I.map((P,L)=>({session_id:C,value_name:P.name,match_percentage:P.matchPercentage,rank_order:L+1,value_type:"stable"}));await Ce.insertValueEvolution({session_id:C,value_list_snapshot:I}),e("/tutorial")}catch(C){console.error("Failed to save values:",C)}},S=C=>{const k=fi.find(I=>I.id===C);return k?k.scenario:"Unknown Question"},w=(C,k)=>{const I=fi.find(P=>P.id===C);if(!I)return k;const _=I.options.find(P=>P.value===k);return _?`${_.icon} ${_.value} - ${_.label}`:k};if(f)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(pa,{className:"h-5 w-5 text-red-400"}),a.jsx("p",{className:"ml-3 text-red-700",children:"Please complete both the explicit and implicit value assessments first."})]}),a.jsx("button",{onClick:()=>e("/explicitvaluepage"),className:"mt-2 text-red-600 hover:text-red-800 font-medium",children:"Start from the beginning"})]})});const N=[{id:"explicit",label:"Explicit Values"},{id:"hospital",label:"Hospital"},{id:"environment",label:"Environment"},{id:"safety",label:"Safety"},{id:"resources",label:"Resources"},{id:"medical",label:"Medical"},{id:"results",label:"Results"},{id:"simulation",label:"Simulation",isLarger:!0}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(zi,{className:"h-8 w-8 text-purple-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Value Assessment Results"})]})})}),a.jsx(Wh,{currentStep:6,steps:N}),a.jsxs("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[x?a.jsxs("div",{children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsxs("button",{onClick:()=>y(!1),className:"bg-gray-100 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-300 font-medium flex items-center gap-2 border border-gray-300",children:[a.jsx(yi,{className:"h-4 w-4"}),"Back to Summary"]})}),m.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gs,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Matched Stable Values"})]}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6 rounded-r-lg",children:a.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"What are Matched Stable Values?"})," These values appeared consistently across your implicit scenarios and align with your explicit value choices. The match percentage indicates how frequently each stable value appeared in your explicit responses, demonstrating the strength of alignment between your conscious choices and underlying decision patterns. Higher percentages suggest these values are deeply integrated into your decision-making framework."]})}),a.jsx("div",{className:"space-y-3",children:m.map((C,k)=>a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-blue-900",children:C.name}),a.jsxs("span",{className:"text-blue-700",children:["Match: ",C.matchPercentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"mt-2 bg-blue-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${C.matchPercentage}%`}})})]},k))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(H2,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Explicit Values"})]}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Understanding Explicit Values:"})," These are the values you consciously selected when presented with straightforward ethical scenarios. Your direct choices provide insight into your stated value preferences and help us understand what you believe guides your decisions. Each scenario below shows the specific value you prioritized."]})}),a.jsx("div",{className:"space-y-4",children:s.map((C,k)=>a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Scenario: ",S(C.question_id)]}),a.jsxs("p",{className:"text-sm font-medium text-blue-800",children:["Your Choice: ",w(C.question_id,C.value_selected)]})]},k))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gs,{className:"h-6 w-6 text-green-600"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Implicit Values"})]}),a.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Understanding Implicit Values:"})," These values emerged from analyzing your preference patterns in complex scenarios where you ranked multiple options. Unlike explicit choices, these reflect the underlying values that guide your decision-making when faced with nuanced trade-offs. Stable values appeared consistently, while context-dependent values varied based on situational factors."]})}),r.stable.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Stable Values"}),a.jsx("div",{className:"space-y-3",children:r.stable.map((C,k)=>a.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:C.scenarioId}),a.jsx("span",{className:"font-medium text-green-700",children:C.value.name})]})},k))})]}),r.contextDependent.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Context-Dependent Values"}),a.jsx("div",{className:"space-y-3",children:r.contextDependent.map((C,k)=>a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[a.jsx("div",{className:"mb-2 text-sm text-gray-600",children:C.scenarioId}),a.jsx("div",{className:"flex items-center gap-3",children:C.values.map((I,_)=>a.jsx("span",{className:"px-3 py-1 bg-yellow-100 rounded-full text-yellow-800 text-sm",children:I.name},_))})]},k))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Ds,{className:"h-6 w-6 text-teal-600"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Value Alignment Analysis"})]}),a.jsx("div",{className:"bg-teal-50 border-l-4 border-teal-400 p-4 mb-6 rounded-r-lg",children:a.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"How Value Alignment Works:"})," This section compares your explicit value choices with your implicit values to measure consistency. The frequency analysis shows which values you chose most often in explicit scenarios, while the alignment metrics reveal how well your stated preferences match your underlying decision patterns. Strong alignment suggests coherent value integration across different decision contexts."]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Most Common Explicit Values"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These bars show how frequently each value appeared in your explicit choices. Higher percentages indicate values you consistently prioritized across different scenarios."}),l.map((C,k)=>a.jsxs("div",{className:"bg-teal-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-teal-900",children:C.value}),a.jsxs("span",{className:"text-teal-700",children:[C.percentage.toFixed(1),"% (",C.count," times)"]})]}),a.jsx("div",{className:"mt-2 bg-teal-200 rounded-full h-2",children:a.jsx("div",{className:"bg-teal-600 h-2 rounded-full",style:{width:`${C.percentage}%`}})})]},k))]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Most Common Implicit Values"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These bars show how frequently each value appeared in your implicit preferences. Higher percentages indicate values that consistently emerged from your decision patterns."}),p.map((C,k)=>a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-green-900",children:C.value}),a.jsxs("span",{className:"text-green-700",children:[C.percentage.toFixed(1),"% (",C.count," times)"]})]}),a.jsx("div",{className:"mt-2 bg-green-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${C.percentage}%`}})})]},k))]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Value Alignment"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These metrics measure how well your explicit choices align with your implicit values. Higher alignment percentages indicate greater consistency between what you consciously choose and what your decision patterns reveal."}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-green-900",children:"Match with Stable Values"}),a.jsxs("span",{className:"text-green-700",children:[d.stable.toFixed(1),"%"]})]}),a.jsx("div",{className:"bg-green-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${d.stable}%`}})})]}),a.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-yellow-900",children:"Match with Context-Dependent Values"}),a.jsxs("span",{className:"text-yellow-700",children:[d.contextDependent.toFixed(1),"%"]})]}),a.jsx("div",{className:"bg-yellow-200 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:`${d.contextDependent}%`}})})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:a.jsx("p",{className:"text-sm text-gray-600",children:d.stable>d.contextDependent?"Your explicit choices align more strongly with your stable deep values, suggesting consistent ethical decision-making patterns.":"Your explicit choices show more alignment with context-dependent values, indicating flexibility in your decision-making approach."})})]})]})]})]}):a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-2xl shadow-lg p-8 mb-8 border border-blue-100",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"bg-white rounded-full p-4 shadow-md",children:a.jsx(gs,{className:"h-12 w-12 text-blue-600"})})}),a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:"Your Value Analysis is Complete"}),a.jsxs("p",{className:"text-center text-gray-700 text-lg mb-8 max-w-2xl mx-auto",children:["Thank you for completing both assessments. Based on your responses to explicit and implicit value questions, we've identified ",m.length===1?"your":"your top"," matched stable ",m.length===1?"value":"values",":"]}),a.jsx("div",{className:"space-y-4 mb-8",children:m.slice(0,2).map((C,k)=>a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500 transform transition-all duration-300 hover:shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:C.name}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-semibold px-4 py-2 rounded-full",children:[C.matchPercentage.toFixed(1),"% Match"]})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"This value consistently appeared across your responses, indicating it's a core part of your decision-making."})]},k))}),m.length===0&&a.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:a.jsx("p",{className:"text-center text-gray-700",children:"We're still analyzing your responses. Your value patterns will be used in the upcoming simulation."})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center border border-gray-200",children:[a.jsxs("div",{className:"max-w-2xl mx-auto mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Want to understand how we identified these values?"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We used a comprehensive analysis comparing your explicit choices with patterns from implicit scenarios. If you're curious about the methodology and detailed breakdown, you can explore the full analysis below."}),a.jsx("p",{className:"text-sm text-gray-500 mt-3 italic",children:"Exploring the detailed analysis is completely optional"})]}),a.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center gap-2 mx-auto",children:[a.jsx(Ds,{className:"h-5 w-5"}),"Explore Why"]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("button",{onClick:()=>e("/preferences"),className:"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300 flex items-center gap-2",children:[a.jsx(yi,{className:"h-5 w-5"}),"Back to Preferences"]}),a.jsxs("button",{onClick:b,className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center gap-2",children:["Start Simulation",a.jsx(Tn,{className:"h-5 w-5"})]})]})]})]})},ij=()=>{const e=Gt(),[t,n]=j.useState(!1),[r,i]=j.useState(!1),s=j.useRef(null),o=()=>{if(s.current){const d="VbISk2VL0G8";s.current.src=`https://www.youtube.com/embed/${d}?autoplay=1&enablejsapi=1&rel=0`,i(!0)}},l=()=>{e("/simulation")},c=()=>{n(!0)};return j.useEffect(()=>{const d=u=>{if(u.origin==="https://www.youtube.com")try{const f=typeof u.data=="string"?JSON.parse(u.data):u.data;f.event==="onStateChange"&&(f.info===1?i(!0):f.info===0&&n(!0))}catch(f){console.log("YouTube message parsing error:",f)}};return window.addEventListener("message",d),()=>{window.removeEventListener("message",d)}},[]),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(K2,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Simulation Tutorial"})]})})}),a.jsxs("main",{className:"max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl shadow-lg p-8 mb-8 border border-blue-100",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"bg-white rounded-full p-4 shadow-md",children:a.jsx(Y2,{className:"h-12 w-12 text-blue-600"})})}),a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:"Before You Begin the Simulation"}),a.jsx("p",{className:"text-center text-gray-700 text-lg mb-6 max-w-2xl mx-auto",children:"Please watch this tutorial video to understand how the wildfire crisis simulation works. The video will explain the interface, decision-making process, and what to expect during the simulation."}),a.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:a.jsx("div",{className:"relative",style:{paddingBottom:"56.25%",height:0},children:a.jsx("iframe",{ref:s,className:"absolute top-0 left-0 w-full h-full rounded-lg",src:"https://www.youtube.com/embed/VbISk2VL0G8?enablejsapi=1&rel=0",title:"Simulation Tutorial Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),a.jsx("div",{className:"flex flex-col gap-4 justify-center items-center",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center w-full",children:[a.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-300 font-semibold shadow-md hover:shadow-lg",children:[a.jsx(Yb,{className:"h-5 w-5"}),"Replay Video"]}),!t&&a.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-300 font-semibold shadow-md hover:shadow-lg",children:[a.jsx(dr,{className:"h-5 w-5"}),"I've Watched the Video"]}),a.jsxs("button",{onClick:l,disabled:!t,className:`flex items-center gap-2 px-8 py-3 rounded-lg font-semibold shadow-md transition-all duration-300 ${t?"bg-green-600 text-white hover:bg-green-700 hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Proceed to Simulation",a.jsx(Tn,{className:"h-5 w-5"})]})]})}),!t&&a.jsx("div",{className:"mt-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Note:"}),` After watching the video, click "I've Watched the Video" to enable the proceed button. You can pause and resume the video at any time using the YouTube controls.`]})}),t&&a.jsx("div",{className:"mt-6 bg-green-50 border-l-4 border-green-400 p-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:"Ready!"})," You can now proceed to the simulation. If you'd like to review anything, feel free to replay the video before continuing."]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"What You'll Learn in This Tutorial"}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-blue-600 mr-2",children:""}),a.jsx("span",{children:"How to evaluate different decision options in the simulation"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-blue-600 mr-2",children:""}),a.jsx("span",{children:"Understanding the metrics and their impact on your decisions"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-blue-600 mr-2",children:""}),a.jsx("span",{children:"How to explore alternative options and make informed choices"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-blue-600 mr-2",children:""}),a.jsx("span",{children:"What to expect as you progress through the wildfire crisis scenarios"})]})]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function No(e){return e+.5|0}const _r=(e,t,n)=>Math.max(Math.min(e,n),t);function ga(e){return _r(No(e*2.55),0,255)}function $r(e){return _r(No(e*255),0,255)}function or(e){return _r(No(e/2.55)/100,0,1)}function ag(e){return _r(No(e*100),0,100)}const un={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jf=[..."0123456789ABCDEF"],sj=e=>jf[e&15],aj=e=>jf[(e&240)>>4]+jf[e&15],rl=e=>(e&240)>>4===(e&15),oj=e=>rl(e.r)&&rl(e.g)&&rl(e.b)&&rl(e.a);function lj(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&un[e[1]]*17,g:255&un[e[2]]*17,b:255&un[e[3]]*17,a:t===5?un[e[4]]*17:255}:(t===7||t===9)&&(n={r:un[e[1]]<<4|un[e[2]],g:un[e[3]]<<4|un[e[4]],b:un[e[5]]<<4|un[e[6]],a:t===9?un[e[7]]<<4|un[e[8]]:255})),n}const cj=(e,t)=>e<255?t(e):"";function dj(e){var t=oj(e)?sj:aj;return e?"#"+t(e.r)+t(e.g)+t(e.b)+cj(e.a,t):void 0}const uj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Gb(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function fj(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function hj(e,t,n){const r=Gb(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function mj(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Hh(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),l=(s+o)/2;let c,d,u;return s!==o&&(u=s-o,d=l>.5?u/(2-s-o):u/(s+o),c=mj(n,r,i,u,s),c=c*60+.5),[c|0,d||0,l]}function Uh(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map($r)}function Yh(e,t,n){return Uh(Gb,e,t,n)}function pj(e,t,n){return Uh(hj,e,t,n)}function gj(e,t,n){return Uh(fj,e,t,n)}function qb(e){return(e%360+360)%360}function xj(e){const t=uj.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?ga(+t[5]):$r(+t[5]));const i=qb(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=pj(i,s,o):t[1]==="hsv"?r=gj(i,s,o):r=Yh(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function vj(e,t){var n=Hh(e);n[0]=qb(n[0]+t),n=Yh(n),e.r=n[0],e.g=n[1],e.b=n[2]}function bj(e){if(!e)return;const t=Hh(e),n=t[0],r=ag(t[1]),i=ag(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${or(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const og={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},lg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yj(){const e={},t=Object.keys(lg),n=Object.keys(og);let r,i,s,o,l;for(r=0;r<t.length;r++){for(o=l=t[r],i=0;i<n.length;i++)s=n[i],l=l.replace(s,og[s]);s=parseInt(lg[o],16),e[l]=[s>>16&255,s>>8&255,s&255]}return e}let il;function wj(e){il||(il=yj(),il.transparent=[0,0,0,0]);const t=il[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Sj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Nj(e){const t=Sj.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?ga(o):_r(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?ga(r):_r(r,0,255)),i=255&(t[4]?ga(i):_r(i,0,255)),s=255&(t[6]?ga(s):_r(s,0,255)),{r,g:i,b:s,a:n}}}function jj(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${or(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Zd=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Gi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Cj(e,t,n){const r=Gi(or(e.r)),i=Gi(or(e.g)),s=Gi(or(e.b));return{r:$r(Zd(r+n*(Gi(or(t.r))-r))),g:$r(Zd(i+n*(Gi(or(t.g))-i))),b:$r(Zd(s+n*(Gi(or(t.b))-s))),a:e.a+n*(t.a-e.a)}}function sl(e,t,n){if(e){let r=Hh(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Yh(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Jb(e,t){return e&&Object.assign(t||{},e)}function cg(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=$r(e[3]))):(t=Jb(e,{r:0,g:0,b:0,a:1}),t.a=$r(t.a)),t}function kj(e){return e.charAt(0)==="r"?Nj(e):xj(e)}class Za{constructor(t){if(t instanceof Za)return t;const n=typeof t;let r;n==="object"?r=cg(t):n==="string"&&(r=lj(t)||wj(t)||kj(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Jb(this._rgb);return t&&(t.a=or(t.a)),t}set rgb(t){this._rgb=cg(t)}rgbString(){return this._valid?jj(this._rgb):void 0}hexString(){return this._valid?dj(this._rgb):void 0}hslString(){return this._valid?bj(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,l=2*o-1,c=r.a-i.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=Cj(this._rgb,t._rgb,n)),this}clone(){return new Za(this.rgb)}alpha(t){return this._rgb.a=$r(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=No(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return sl(this._rgb,2,t),this}darken(t){return sl(this._rgb,2,-t),this}saturate(t){return sl(this._rgb,1,t),this}desaturate(t){return sl(this._rgb,1,-t),this}rotate(t){return vj(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function tr(){}const Ij=(()=>{let e=0;return()=>e++})();function De(e){return e==null}function Je(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ie(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function pt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Bn(e,t){return pt(e)?e:t}function Se(e,t){return typeof e>"u"?t:e}const Pj=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function We(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Te(e,t,n,r){let i,s,o;if(Je(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(Ie(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function mc(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function pc(e){if(Je(e))return e.map(pc);if(Ie(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=pc(e[n[i]]);return t}return e}function Kb(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function _j(e,t,n,r){if(!Kb(e))return;const i=t[e],s=n[e];Ie(i)&&Ie(s)?eo(i,s,r):t[e]=pc(s)}function eo(e,t,n){const r=Je(t)?t:[t],i=r.length;if(!Ie(e))return e;n=n||{};const s=n.merger||_j;let o;for(let l=0;l<i;++l){if(o=r[l],!Ie(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)s(c[d],e,o,n)}return e}function Pa(e,t){return eo(e,t,{merger:Ej})}function Ej(e,t,n){if(!Kb(e))return;const r=t[e],i=n[e];Ie(r)&&Ie(i)?Pa(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=pc(i))}const dg={"":e=>e,x:e=>e.x,y:e=>e.y};function Dj(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Rj(e){const t=Dj(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Mi(e,t){return(dg[t]||(dg[t]=Rj(t)))(e)}function Gh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const to=e=>typeof e<"u",Jr=e=>typeof e=="function",ug=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Mj(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const at=Math.PI,nn=2*at,Tj=nn+at,gc=Number.POSITIVE_INFINITY,Aj=at/180,Xt=at/2,ri=at/4,fg=at*2/3,Qb=Math.log10,qn=Math.sign;function _a(e,t,n){return Math.abs(e-t)<n}function hg(e){const t=Math.round(e);e=_a(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Qb(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Oj(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function Lj(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function no(e){return!Lj(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Fj(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Vj(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Er(e){return e*(at/180)}function qh(e){return e*(180/at)}function mg(e){if(!pt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function zj(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*at&&(s+=nn),{angle:s,distance:i}}function Cf(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Bj(e,t){return(e-t+Tj)%nn-at}function Kt(e){return(e%nn+nn)%nn}function Xb(e,t,n,r){const i=Kt(e),s=Kt(t),o=Kt(n),l=Kt(s-i),c=Kt(o-i),d=Kt(i-s),u=Kt(i-o);return i===s||i===o||r&&s===o||l>c&&d<u}function Zt(e,t,n){return Math.max(t,Math.min(n,e))}function $j(e){return Zt(e,-32768,32767)}function Dr(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Jh(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const gi=(e,t,n,r)=>Jh(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),Wj=(e,t,n)=>Jh(e,n,r=>e[r][t]>=n);function Hj(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const Zb=["push","pop","shift","splice","unshift"];function Uj(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Zb.forEach(n=>{const r="_onData"+Gh(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),o}})})}function pg(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(Zb.forEach(s=>{delete e[s]}),delete e._chartjs)}function ey(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ty=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function ny(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,ty.call(window,()=>{r=!1,e.apply(t,n)}))}}function Yj(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Kh=e=>e==="start"?"left":e==="end"?"right":"center",It=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Gj=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function qj(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:f,max:h,minDefined:m,maxDefined:g}=o.getUserBounds();if(m){if(i=Math.min(gi(c,u,f).lo,n?r:gi(t,u,o.getPixelForValue(f)).lo),d){const x=c.slice(0,i+1).reverse().findIndex(y=>!De(y[l.axis]));i-=Math.max(0,x)}i=Zt(i,0,r-1)}if(g){let x=Math.max(gi(c,o.axis,h,!0).hi+1,n?0:gi(t,u,o.getPixelForValue(h),!0).hi+1);if(d){const y=c.slice(x-1).findIndex(p=>!De(p[l.axis]));x+=Math.max(0,y)}s=Zt(x,i,r)-i}else s=r-i}return{start:i,count:s}}function Jj(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const al=e=>e===0||e===1,gg=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*nn/n)),xg=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*nn/n)+1,Ea={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Xt)+1,easeOutSine:e=>Math.sin(e*Xt),easeInOutSine:e=>-.5*(Math.cos(at*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>al(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>al(e)?e:gg(e,.075,.3),easeOutElastic:e=>al(e)?e:xg(e,.075,.3),easeInOutElastic(e){return al(e)?e:e<.5?.5*gg(e*2,.1125,.45):.5+.5*xg(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ea.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ea.easeInBounce(e*2)*.5:Ea.easeOutBounce(e*2-1)*.5+.5};function Qh(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function vg(e){return Qh(e)?e:new Za(e)}function eu(e){return Qh(e)?e:new Za(e).saturate(.5).darken(.1).hexString()}const Kj=["x","y","borderWidth","radius","tension"],Qj=["color","borderColor","backgroundColor"];function Xj(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Qj},numbers:{type:"number",properties:Kj}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Zj(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bg=new Map;function eC(e,t){t=t||{};const n=e+JSON.stringify(t);let r=bg.get(n);return r||(r=new Intl.NumberFormat(e,t),bg.set(n,r)),r}function ry(e,t,n){return eC(t,n).format(e)}const tC={values(e){return Je(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=nC(e,n)}const o=Qb(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),ry(e,r,c)}};function nC(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Xh={formatters:tC};function rC(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ti=Object.create(null),kf=Object.create(null);function Da(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function tu(e,t,n){return typeof t=="string"?eo(Da(e,t),n):eo(Da(e,""),t)}class iC{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>eu(i.backgroundColor),this.hoverBorderColor=(r,i)=>eu(i.borderColor),this.hoverColor=(r,i)=>eu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return tu(this,t,n)}get(t){return Da(this,t)}describe(t,n){return tu(kf,t,n)}override(t,n){return tu(Ti,t,n)}route(t,n,r,i){const s=Da(this,t),o=Da(this,r),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],d=o[i];return Ie(c)?Object.assign({},d,c):Se(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(n=>n(this))}}var tt=new iC({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Xj,Zj,rC]);function sC(e){return!e||De(e.size)||De(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function xc(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function aC(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const l=n.length;let c,d,u,f,h;for(c=0;c<l;c++)if(f=n[c],f!=null&&!Je(f))o=xc(e,i,s,o,f);else if(Je(f))for(d=0,u=f.length;d<u;d++)h=f[d],h!=null&&!Je(h)&&(o=xc(e,i,s,o,h));e.restore();const m=s.length/2;if(m>n.length){for(c=0;c<m;c++)delete i[s[c]];s.splice(0,m)}return o}function ii(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function yg(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function If(e,t,n,r){iy(e,t,n,r,null)}function iy(e,t,n,r,i){let s,o,l,c,d,u,f,h;const m=t.pointStyle,g=t.rotation,x=t.radius;let y=(g||0)*Aj;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(y),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(x)||x<=0)){switch(e.beginPath(),m){default:i?e.ellipse(n,r,i/2,x,0,0,nn):e.arc(n,r,x,0,nn),e.closePath();break;case"triangle":u=i?i/2:x,e.moveTo(n+Math.sin(y)*u,r-Math.cos(y)*x),y+=fg,e.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*x),y+=fg,e.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*x),e.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(y+ri)*c,f=Math.cos(y+ri)*(i?i/2-d:c),l=Math.sin(y+ri)*c,h=Math.sin(y+ri)*(i?i/2-d:c),e.arc(n-f,r-l,d,y-at,y-Xt),e.arc(n+h,r-o,d,y-Xt,y),e.arc(n+f,r+l,d,y,y+Xt),e.arc(n-h,r+o,d,y+Xt,y+at),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*x,u=i?i/2:c,e.rect(n-u,r-c,2*u,2*c);break}y+=ri;case"rectRot":f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),e.moveTo(n-f,r-l),e.lineTo(n+h,r-o),e.lineTo(n+f,r+l),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":y+=ri;case"cross":f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),e.moveTo(n-f,r-l),e.lineTo(n+f,r+l),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),e.moveTo(n-f,r-l),e.lineTo(n+f,r+l),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),y+=ri,f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),e.moveTo(n-f,r-l),e.lineTo(n+f,r+l),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(y)*x,l=Math.sin(y)*x,e.moveTo(n-o,r-l),e.lineTo(n+o,r+l);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(y)*(i?i/2:x),r+Math.sin(y)*x);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ur(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Jc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Kc(e){e.restore()}function oC(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function lC(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function cC(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),De(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function dC(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,l=t+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(l,u),e.stroke()}}function uC(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ai(e,t,n,r,i,s={}){const o=Je(t)?t:[t],l=s.strokeWidth>0&&s.strokeColor!=="";let c,d;for(e.save(),e.font=i.string,cC(e,s),c=0;c<o.length;++c)d=o[c],s.backdrop&&uC(e,s.backdrop),l&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),De(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(d,n,r,s.maxWidth)),e.fillText(d,n,r,s.maxWidth),dC(e,n,r,d,s),r+=Number(i.lineHeight);e.restore()}function ro(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*at,at,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,at,Xt,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Xt,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Xt,!0),e.lineTo(n+o.topLeft,r)}const fC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mC(e,t){const n=(""+e).match(fC);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const pC=e=>+e||0;function sy(e,t){const n={},r=Ie(t),i=r?Object.keys(t):t,s=Ie(e)?r?o=>Se(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=pC(s(o));return n}function ay(e){return sy(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Si(e){return sy(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Et(e){const t=ay(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function dt(e,t){e=e||{},t=t||tt.font;let n=Se(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Se(e.style,t.style);r&&!(""+r).match(hC)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Se(e.family,t.family),lineHeight:mC(Se(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Se(e.weight,t.weight),string:""};return i.string=sC(i),i}function ol(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function gC(e,t,n){const{min:r,max:i}=e,s=Pj(t,(i-r)/2),o=(l,c)=>n&&l===0?0:l+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function ei(e,t){return Object.assign(Object.create(e),t)}function Zh(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=dy("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>Zh([l,...e],t,s,r)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return ly(l,c,()=>jC(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return Sg(l).includes(c)},ownKeys(l){return Sg(l)},set(l,c,d){const u=l._storage||(l._storage=i());return l[c]=u[c]=d,delete l._keys,!0}})}function Ts(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:oy(e,r),setContext:s=>Ts(e,s,n,r),override:s=>Ts(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,l){return ly(s,o,()=>vC(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,l){return e[o]=l,delete s[o],!0}})}function oy(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Jr(n)?n:()=>n,isIndexable:Jr(r)?r:()=>r}}const xC=(e,t)=>e?e+Gh(t):t,em=(e,t)=>Ie(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function ly(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function vC(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let l=r[t];return Jr(l)&&o.isScriptable(t)&&(l=bC(t,l,e,n)),Je(l)&&l.length&&(l=yC(t,l,e,o.isIndexable)),em(t,l)&&(l=Ts(l,i,s&&s[t],o)),l}function bC(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(s,o||r);return l.delete(e),em(e,c)&&(c=tm(i._scopes,i,e,c)),c}function yC(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(Ie(t[0])){const c=t,d=i._scopes.filter(u=>u!==c);t=[];for(const u of c){const f=tm(d,i,e,u);t.push(Ts(f,s,o&&o[e],l))}}return t}function cy(e,t,n){return Jr(e)?e(t,n):e}const wC=(e,t)=>e===!0?t:typeof e=="string"?Mi(t,e):void 0;function SC(e,t,n,r,i){for(const s of t){const o=wC(n,s);if(o){e.add(o);const l=cy(o._fallback,n,i);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function tm(e,t,n,r){const i=t._rootScopes,s=cy(t._fallback,n,r),o=[...e,...i],l=new Set;l.add(r);let c=wg(l,o,n,s||n,r);return c===null||typeof s<"u"&&s!==n&&(c=wg(l,o,s,c,r),c===null)?!1:Zh(Array.from(l),[""],i,s,()=>NC(t,n,r))}function wg(e,t,n,r,i){for(;n;)n=SC(e,t,n,r,i);return n}function NC(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Je(i)&&Ie(n)?n:i||{}}function jC(e,t,n,r){let i;for(const s of t)if(i=dy(xC(s,e),n),typeof i<"u")return em(e,i)?tm(n,r,e,i):i}function dy(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function Sg(e){let t=e._keys;return t||(t=e._keys=CC(e._scopes)),t}function CC(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function kC(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let l,c,d,u;for(l=0,c=r;l<c;++l)d=l+n,u=t[d],o[l]={r:i.parse(Mi(u,s),d)};return o}const IC=Number.EPSILON||1e-14,As=(e,t)=>t<e.length&&!e[t].skip&&e[t],uy=e=>e==="x"?"y":"x";function PC(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,l=Cf(s,i),c=Cf(o,s);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=r*d,h=r*u;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function _C(e,t,n){const r=e.length;let i,s,o,l,c,d=As(e,0);for(let u=0;u<r-1;++u)if(c=d,d=As(e,u+1),!(!c||!d)){if(_a(t[u],0,IC)){n[u]=n[u+1]=0;continue}i=n[u]/t[u],s=n[u+1]/t[u],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),n[u]=i*o*t[u],n[u+1]=s*o*t[u])}}function EC(e,t,n="x"){const r=uy(n),i=e.length;let s,o,l,c=As(e,0);for(let d=0;d<i;++d){if(o=l,l=c,c=As(e,d+1),!l)continue;const u=l[n],f=l[r];o&&(s=(u-o[n])/3,l[`cp1${n}`]=u-s,l[`cp1${r}`]=f-s*t[d]),c&&(s=(c[n]-u)/3,l[`cp2${n}`]=u+s,l[`cp2${r}`]=f+s*t[d])}}function DC(e,t="x"){const n=uy(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,l,c,d=As(e,0);for(o=0;o<r;++o)if(l=c,c=d,d=As(e,o+1),!!c){if(d){const u=d[t]-c[t];i[o]=u!==0?(d[n]-c[n])/u:0}s[o]=l?d?qn(i[o-1])!==qn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}_C(e,i,s),EC(e,s,t)}function ll(e,t,n){return Math.max(Math.min(e,n),t)}function RC(e,t){let n,r,i,s,o,l=ur(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=l,l=n<r-1&&ur(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=ll(i.cp1x,t.left,t.right),i.cp1y=ll(i.cp1y,t.top,t.bottom)),l&&(i.cp2x=ll(i.cp2x,t.left,t.right),i.cp2y=ll(i.cp2y,t.top,t.bottom)))}function MC(e,t,n,r,i){let s,o,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")DC(e,i);else{let d=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)l=e[s],c=PC(d,l,e[Math.min(s+1,o-(r?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&RC(e,n)}function nm(){return typeof window<"u"&&typeof document<"u"}function rm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function vc(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Qc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function TC(e,t){return Qc(e).getPropertyValue(t)}const AC=["top","right","bottom","left"];function Ni(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=AC[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const OC=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function LC(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,l,c;if(OC(i,s,e.target))l=i,c=s;else{const d=t.getBoundingClientRect();l=r.clientX-d.left,c=r.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function ci(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Qc(n),s=i.boxSizing==="border-box",o=Ni(i,"padding"),l=Ni(i,"border","width"),{x:c,y:d,box:u}=LC(e,n),f=o.left+(u&&l.left),h=o.top+(u&&l.top);let{width:m,height:g}=t;return s&&(m-=o.width+l.width,g-=o.height+l.height),{x:Math.round((c-f)/m*n.width/r),y:Math.round((d-h)/g*n.height/r)}}function FC(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&rm(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),l=Qc(s),c=Ni(l,"border","width"),d=Ni(l,"padding");t=o.width-d.width-c.width,n=o.height-d.height-c.height,r=vc(l.maxWidth,s,"clientWidth"),i=vc(l.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||gc,maxHeight:i||gc}}const cl=e=>Math.round(e*10)/10;function VC(e,t,n,r){const i=Qc(e),s=Ni(i,"margin"),o=vc(i.maxWidth,e,"clientWidth")||gc,l=vc(i.maxHeight,e,"clientHeight")||gc,c=FC(e,t,n);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const h=Ni(i,"border","width"),m=Ni(i,"padding");d-=m.width+h.width,u-=m.height+h.height}return d=Math.max(0,d-s.width),u=Math.max(0,r?d/r:u-s.height),d=cl(Math.min(d,o,c.maxWidth)),u=cl(Math.min(u,l,c.maxHeight)),d&&!u&&(u=cl(d/2)),(t!==void 0||n!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,d=cl(Math.floor(u*r))),{width:d,height:u}}function Ng(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const zC=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};nm()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function jg(e,t){const n=TC(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function di(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function BC(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function $C(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=di(e,i,n),l=di(i,s,n),c=di(s,t,n),d=di(o,l,n),u=di(l,c,n);return di(d,u,n)}const WC=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},HC=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ss(e,t,n){return e?WC(t,n):HC()}function fy(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function hy(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function my(e){return e==="angle"?{between:Xb,compare:Bj,normalize:Kt}:{between:Dr,compare:(t,n)=>t-n,normalize:t=>t}}function Cg({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function UC(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:l}=my(r),c=t.length;let{start:d,end:u,loop:f}=e,h,m;if(f){for(d+=c,u+=c,h=0,m=c;h<m&&o(l(t[d%c][r]),i,s);++h)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:e.style}}function py(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:l,between:c,normalize:d}=my(r),{start:u,end:f,loop:h,style:m}=UC(e,t,n),g=[];let x=!1,y=null,p,v,b;const S=()=>c(i,b,p)&&l(i,b)!==0,w=()=>l(s,p)===0||c(s,b,p),N=()=>x||S(),C=()=>!x||w();for(let k=u,I=u;k<=f;++k)v=t[k%o],!v.skip&&(p=d(v[r]),p!==b&&(x=c(p,i,s),y===null&&N()&&(y=l(p,i)===0?k:I),y!==null&&C()&&(g.push(Cg({start:y,end:k,loop:h,count:o,style:m})),y=null),I=k,b=p));return y!==null&&g.push(Cg({start:y,end:f,loop:h,count:o,style:m})),g}function gy(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=py(r[i],e.points,t);s.length&&n.push(...s)}return n}function YC(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function GC(e,t,n,r){const i=e.length,s=[];let o=t,l=e[t],c;for(c=t+1;c<=n;++c){const d=e[c%i];d.skip||d.stop?l.skip||(r=!1,s.push({start:t%i,end:(c-1)%i,loop:r}),t=o=d.stop?c:null):(o=c,l.skip&&(t=c)),l=d}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function qC(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:l}=YC(n,i,s,r);if(r===!0)return kg(e,[{start:o,end:l,loop:s}],n,t);const c=l<o?l+i:l,d=!!e._fullLoop&&o===0&&l===i-1;return kg(e,GC(n,o,c,d),n,t)}function kg(e,t,n,r){return!r||!r.setContext||!n?t:JC(e,t,n,r)}function JC(e,t,n,r){const i=e._chart.getContext(),s=Ig(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=n.length,d=[];let u=s,f=t[0].start,h=f;function m(g,x,y,p){const v=l?-1:1;if(g!==x){for(g+=c;n[g%c].skip;)g-=v;for(;n[x%c].skip;)x+=v;g%c!==x%c&&(d.push({start:g%c,end:x%c,loop:y,style:p}),u=p,f=x%c)}}for(const g of t){f=l?f:g.start;let x=n[f%c],y;for(h=f+1;h<=g.end;h++){const p=n[h%c];y=Ig(r.setContext(ei(i,{type:"segment",p0:x,p1:p,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),KC(y,u)&&m(f,h-1,g.loop,u),x=p,u=y}f<h-1&&m(f,h-1,g.loop,u)}return d}function Ig(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function KC(e,t){if(!t)return!1;const n=[],r=function(i,s){return Qh(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class QC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(l=>l({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ty.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,l=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),l=!0):(s[o]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var rr=new QC;const Pg="transparent",XC={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=vg(e||Pg),i=r.valid&&vg(t||Pg);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class ZC{constructor(t,n,r,i){const s=n[r];i=ol([t.to,i,s,t.from]);const o=ol([t.from,s,i]);this._active=!0,this._fn=t.fn||XC[t.type||typeof o],this._easing=Ea[t.easing]||Ea.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=ol([t.to,n,i,t.from]),this._from=ol([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,l=this._to;let c;if(this._active=s!==l&&(o||n<r),!this._active){this._target[i]=l,this._notify(!0);return}if(n<0){this._target[i]=s;return}c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class xy{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ie(t))return;const n=Object.keys(tt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!Ie(s))return;const o={};for(const l of n)o[l]=s[l];(Je(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,o)})})}_animateOptions(t,n){const r=n.options,i=tk(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&ek(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[d];let f=s[d];const h=r.get(d);if(f)if(h&&f.active()){f.update(h,u,l);continue}else f.cancel();if(!h||!h.duration){t[d]=u;continue}s[d]=f=new ZC(h,t,d,u),i.push(f)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return rr.add(this._chart,r),!0}}function ek(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function tk(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function _g(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function nk(e,t,n){if(n===!1)return!1;const r=_g(e,n),i=_g(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function rk(e){let t,n,r,i;return Ie(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function vy(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Eg(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,l,c,d;if(t===null)return;let u=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===n){if(u=!0,r.all)continue;break}d=e.values[c],pt(d)&&(s||t===0||qn(t)===qn(d))&&(t+=d)}return!u&&!r.all?0:t}function ik(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[i]:u,[s]:e[u]};return l}function nu(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function sk(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function ak(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function ok(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Dg(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Rg(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=r,c=s.axis,d=o.axis,u=sk(s,o,r),f=t.length;let h;for(let m=0;m<f;++m){const g=t[m],{[c]:x,[d]:y}=g,p=g._stacks||(g._stacks={});h=p[d]=ok(i,u,x),h[l]=y,h._top=Dg(h,o,!0,r.type),h._bottom=Dg(h,o,!1,r.type);const v=h._visualValues||(h._visualValues={});v[l]=y}}function ru(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function lk(e,t){return ei(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ck(e,t,n){return ei(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ra(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const iu=e=>e==="reset"||e==="none",Mg=(e,t)=>t?e:Object.assign({},e),dk=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:vy(n,!0),values:null};class ji{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=nu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ra(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,h,m,g)=>f==="x"?h:f==="r"?g:m,s=n.xAxisID=Se(r.xAxisID,ru(t,"x")),o=n.yAxisID=Se(r.yAxisID,ru(t,"y")),l=n.rAxisID=Se(r.rAxisID,ru(t,"r")),c=n.indexAxis,d=n.iAxisID=i(c,s,o,l),u=n.vAxisID=i(c,o,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&pg(this._data,this),t._stacked&&ra(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Ie(n)){const i=this._cachedMeta;this._data=ik(n,i)}else if(r!==n){if(r){pg(r,this);const i=this._cachedMeta;ra(i),i._parsed=[]}n&&Object.isExtensible(n)&&Uj(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=nu(n.vScale,n),n.stack!==r.stack&&(i=!0,ra(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(Rg(this,n._parsed),n._stacked=nu(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,l=s.axis;let c=t===0&&n===i.length?!0:r._sorted,d=t>0&&r._parsed[t-1],u,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Je(i[t])?h=this.parseArrayData(r,i,t,n):Ie(i[t])?h=this.parseObjectData(r,i,t,n):h=this.parsePrimitiveData(r,i,t,n);const m=()=>f[l]===null||d&&f[l]<d[l];for(u=0;u<n;++u)r._parsed[u+t]=f=h[u],c&&(m()&&(c=!1),d=f);r._sorted=c}o&&Rg(this,h)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,l=s.axis,c=o.axis,d=s.getLabels(),u=s===o,f=new Array(i);let h,m,g;for(h=0,m=i;h<m;++h)g=h+r,f[h]={[l]:u||s.parse(d[g],g),[c]:o.parse(n[g],g)};return f}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,l=new Array(i);let c,d,u,f;for(c=0,d=i;c<d;++c)u=c+r,f=n[u],l[c]={x:s.parse(f[0],u),y:o.parse(f[1],u)};return l}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,f,h,m;for(u=0,f=i;u<f;++u)h=u+r,m=n[h],d[u]={x:s.parse(Mi(m,l),h),y:o.parse(Mi(m,c),h)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],l={keys:vy(i,!0),values:n._stacks[t.axis]._visualValues};return Eg(l,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const l=i&&r._stacks[n.axis];i&&l&&(i.values=l,o=Eg(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,l=this._getOtherScale(t),c=dk(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=ak(l);let h,m;function g(){m=i[h];const x=m[l.axis];return!pt(m[t.axis])||u>x||f<x}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(d,t,m,c),s));++h);if(s){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(d,t,m,c);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],pt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=rk(Se(this.options.clip,nk(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,s,l,c),u=l;u<l+c;++u){const f=i[u];f.hidden||(f.active&&d?o.push(f):f.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=ck(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=lk(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,l=s[o],c=this.enableOptionSharing&&to(r);if(l)return Mg(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],h=d.getOptionScopes(this.getDataset(),u),m=Object.keys(tt.elements[t]),g=()=>this.getContext(r,i,n),x=d.resolveNamedOptions(h,m,g,f);return x.$shared&&(x.$shared=c,s[o]=Object.freeze(Mg(x,c))),x}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,l=s[o];if(l)return l;let c;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(h,this.getContext(t,r,n))}const d=new xy(i,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||iu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){iu(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!iu(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let l;const c=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(c(s),l=t;l<o;++l)s[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&ra(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}re(ji,"defaults",{}),re(ji,"datasetElementType",null),re(ji,"dataElementType",null);function uk(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=ey(r.sort((i,s)=>i-s))}return e._cache.$bar}function fk(e){const t=e.iScale,n=uk(t,e.type);let r=t._length,i,s,o,l;const c=()=>{o===32767||o===-32768||(to(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),c();for(l=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),c();return r}function hk(e,t,n,r){const i=n.barThickness;let s,o;return De(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function mk(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,l=e<i.length-1?i[e+1]:null;const c=n.categoryPercentage;o===null&&(o=s-(l===null?t.end-t.start:l-s)),l===null&&(l=s+s-o);const d=s-(s-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/r,ratio:n.barPercentage,start:d}}function pk(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),l=Math.max(i,s);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),t[n.axis]=d,t._custom={barStart:c,barEnd:d,start:i,end:s,min:o,max:l}}function by(e,t,n,r){return Je(e)?pk(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Tg(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),l=i===s,c=[];let d,u,f,h;for(d=n,u=n+r;d<u;++d)h=t[d],f={},f[i.axis]=l||i.parse(o[d],d),c.push(by(h,f,s,d));return c}function su(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function gk(e,t,n){return e!==0?qn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function xk(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function vk(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=xk(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=d:(n._bottom||0)===r?i=u:(s[Ag(u,o,l,c)]=!0,i=d)),s[Ag(i,o,l,c)]=!0,e.borderSkipped=s}function Ag(e,t,n,r){return r?(e=bk(e,t,n),e=Og(e,n,t)):e=Og(e,t,n),e}function bk(e,t,n){return e===t?n:e===n?t:e}function Og(e,t,n){return e==="start"?t:e==="end"?n:e}function yk(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Ll extends ji{parsePrimitiveData(t,n,r,i){return Tg(t,n,r,i)}parseArrayData(t,n,r,i){return Tg(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,u=o.axis==="x"?l:c,f=[];let h,m,g,x;for(h=r,m=r+i;h<m;++h)x=n[h],g={},g[s.axis]=s.parse(Mi(x,d),h),f.push(by(Mi(x,u),g,o,h));return f}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,l=su(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,i);for(let m=n;m<n+r;m++){const g=this.getParsed(m),x=s||De(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,u),p=(g._stacks||{})[l.axis],v={horizontal:d,base:x.base,enableBorderRadius:!p||su(g._custom)||o===p._top||o===p._bottom,x:d?x.head:y.center,y:d?y.center:x.head,height:d?y.size:Math.abs(x.size),width:d?Math.abs(x.size):y.size};h&&(v.options=f||this.resolveDataElementOptions(m,t[m].active?"active":i));const b=v.options||t[m].options;vk(v,b,p,o),yk(v,b,u.ratio),this.updateElement(t[m],m,v,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],d=u=>{const f=u._parsed.find(m=>m[r.axis]===c),h=f&&f[u.vScale.axis];if(De(h)||isNaN(h))return!0};for(const u of i)if(!(n!==void 0&&d(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const l=t.barThickness;return{min:l||fk(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,l=s||0,c=this.getParsed(t),d=c._custom,u=su(d);let f=c[n.axis],h=0,m=r?this.applyStack(n,c,r):f,g,x;m!==f&&(h=m-f,m=f),u&&(f=d.barStart,m=d.barEnd-d.barStart,f!==0&&qn(f)!==qn(d.barEnd)&&(h=0),h+=f);const y=!De(s)&&!u?s:h;let p=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(h+m):g=p,x=g-p,Math.abs(x)<o){x=gk(x,n,l)*o,f===l&&(p-=x/2);const v=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),S=Math.min(v,b),w=Math.max(v,b);p=Math.max(Math.min(p,w),S),g=p+x,r&&!u&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(p))}if(p===n.getPixelForValue(l)){const v=qn(x)*n.getLineWidthForValue(l)/2;p+=v,x-=v}return{size:x,base:p,head:g,center:g+x/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=Se(i.maxBarThickness,1/0);let l,c;if(n.grouped){const d=s?this._getStackCount(t):n.stackCount,u=i.barThickness==="flex"?mk(t,n,i,d):hk(t,n,i,d),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);l=u.start+u.chunk*f+u.chunk/2,c=Math.min(o,u.chunk*u.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(o,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}re(Ll,"id","bar"),re(Ll,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),re(Ll,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Fl extends ji{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:l,count:c}=qj(n,i,o);this._drawStart=l,this._drawCount=c,Jj(n)&&(l=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:d},t),this.updateElements(i,l,c,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,i),h=o.axis,m=l.axis,{spanGaps:g,segment:x}=this.options,y=no(g)?g:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||i==="none",v=n+r,b=t.length;let S=n>0&&this.getParsed(n-1);for(let w=0;w<b;++w){const N=t[w],C=p?N:{};if(w<n||w>=v){C.skip=!0;continue}const k=this.getParsed(w),I=De(k[m]),_=C[h]=o.getPixelForValue(k[h],w),P=C[m]=s||I?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,k,c):k[m],w);C.skip=isNaN(_)||isNaN(P)||I,C.stop=w>0&&Math.abs(k[h]-S[h])>y,x&&(C.parsed=k,C.raw=d.data[w]),f&&(C.options=u||this.resolveDataElementOptions(w,N.active?"active":i)),p||this.updateElement(N,w,C,i),S=k}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}re(Fl,"id","line"),re(Fl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),re(Fl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Vl extends ji{getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return kC.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,l,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let l=n;l<n+r;l++){const c=t[l],d=this.resolveDataElementOptions(l,c.active?"active":i),u=s.getPointPositionForValue(l,this.getParsed(l).r),f=o?s.xCenter:u.x,h=o?s.yCenter:u.y,m={x:f,y:h,angle:u.angle,skip:isNaN(f)||isNaN(h),options:d};this.updateElement(c,l,m,i)}}}re(Vl,"id","radar"),re(Vl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),re(Vl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function si(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class im{constructor(t){re(this,"options");this.options=t||{}}static override(t){Object.assign(im.prototype,t)}init(){}formats(){return si()}parse(){return si()}format(){return si()}add(){return si()}diff(){return si()}startOf(){return si()}endOf(){return si()}}var wk={_date:im};function Sk(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,l=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&s.length){const d=l._reversePixels?Wj:gi;if(r){if(i._sharedOptions){const u=s[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const h=d(s,t,n-f),m=d(s,t,n+f);return{lo:h.lo,hi:m.hi}}}}else{const u=d(s,t,n);if(c){const{vScale:f}=i._cachedMeta,{_parsed:h}=e,m=h.slice(0,u.lo+1).reverse().findIndex(x=>!De(x[f.axis]));u.lo-=Math.max(0,m);const g=h.slice(u.hi).findIndex(x=>!De(x[f.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function Xc(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let l=0,c=s.length;l<c;++l){const{index:d,data:u}=s[l],{lo:f,hi:h}=Sk(s[l],t,o,i);for(let m=f;m<=h;++m){const g=u[m];g.skip||r(g,d,m)}}}function Nk(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function au(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Xc(e,n,t,function(l,c,d){!i&&!ur(l,e.chartArea,0)||l.inRange(t.x,t.y,r)&&s.push({element:l,datasetIndex:c,index:d})},!0),s}function jk(e,t,n,r){let i=[];function s(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:f}=zj(o,{x:t.x,y:t.y});Xb(f,d,u)&&i.push({element:o,datasetIndex:l,index:c})}return Xc(e,n,t,s),i}function Ck(e,t,n,r,i,s){let o=[];const l=Nk(n);let c=Number.POSITIVE_INFINITY;function d(u,f,h){const m=u.inRange(t.x,t.y,i);if(r&&!m)return;const g=u.getCenterPoint(i);if(!(!!s||e.isPointInArea(g))&&!m)return;const y=l(t,g);y<c?(o=[{element:u,datasetIndex:f,index:h}],c=y):y===c&&o.push({element:u,datasetIndex:f,index:h})}return Xc(e,n,t,d),o}function ou(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?jk(e,t,n,i):Ck(e,t,n,r,i,s)}function Lg(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Xc(e,n,t,(c,d,u)=>{c[o]&&c[o](t[n],i)&&(s.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,i))}),r&&!l?[]:s}var kk={modes:{index(e,t,n,r){const i=ci(t,e),s=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?au(e,i,s,r,o):ou(e,i,s,!1,r,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,f=d.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,n,r){const i=ci(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?au(e,i,s,r,o):ou(e,i,s,!1,r,o);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,n,r){const i=ci(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return au(e,i,s,r,o)},nearest(e,t,n,r){const i=ci(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return ou(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=ci(t,e);return Lg(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=ci(t,e);return Lg(e,i,"y",n.intersect,r)}}};const yy=["left","top","right","bottom"];function ia(e,t){return e.filter(n=>n.pos===t)}function Fg(e,t){return e.filter(n=>yy.indexOf(n.pos)===-1&&n.box.axis===t)}function sa(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Ik(e){const t=[];let n,r,i,s,o,l;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:l=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:l});return t}function Pk(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!yy.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function _k(e,t){const n=Pk(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,l;for(s=0,o=e.length;s<o;++s){l=e[s];const{fullSize:c}=l.box,d=n[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*r:c&&t.availableWidth,l.height=i):(l.width=r,l.height=u?u*i:c&&t.availableHeight)}return n}function Ek(e){const t=Ik(e),n=sa(t.filter(d=>d.box.fullSize),!0),r=sa(ia(t,"left"),!0),i=sa(ia(t,"right")),s=sa(ia(t,"top"),!0),o=sa(ia(t,"bottom")),l=Fg(t,"x"),c=Fg(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:ia(t,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(l)}}function Vg(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function wy(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Dk(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Ie(i)){n.size&&(e[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,e[i]+=n.size}s.getPadding&&wy(o,s.getPadding());const l=Math.max(0,t.outerWidth-Vg(o,e,"left","right")),c=Math.max(0,t.outerHeight-Vg(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function Rk(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Mk(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function xa(e,t,n,r){const i=[];let s,o,l,c,d,u;for(s=0,o=e.length,d=0;s<o;++s){l=e[s],c=l.box,c.update(l.width||t.w,l.height||t.h,Mk(l.horizontal,t));const{same:f,other:h}=Dk(t,n,l,r);d|=f&&i.length,u=u||h,c.fullSize||i.push(l)}return d&&xa(i,t,n,r)||u}function dl(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function zg(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const l of e){const c=l.box,d=r[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const f=t.w*u,h=d.size||c.height;to(d.start)&&(o=d.start),c.fullSize?dl(c,i.left,o,n.outerWidth-i.right-i.left,h):dl(c,t.left+d.placed,o,f,h),d.start=o,d.placed+=f,o=c.bottom}else{const f=t.h*u,h=d.size||c.width;to(d.start)&&(s=d.start),c.fullSize?dl(c,s,i.top,h,n.outerHeight-i.bottom-i.top):dl(c,s,t.top+d.placed,h,f),d.start=s,d.placed+=f,s=c.right}}t.x=s,t.y=o}var gn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Et(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),l=Ek(e.boxes),c=l.vertical,d=l.horizontal;Te(e.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,y)=>y.box.options&&y.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);wy(h,Et(r));const m=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),g=_k(c.concat(d),f);xa(l.fullSize,m,f,g),xa(c,m,f,g),xa(d,m,f,g)&&xa(c,m,f,g),Rk(m),zg(l.leftAndTop,m,f,g),m.x+=m.w,m.y+=m.h,zg(l.rightAndBottom,m,f,g),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Te(l.chartArea,x=>{const y=x.box;Object.assign(y,e.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Sy{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class Tk extends Sy{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const zl="$chartjs",Ak={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bg=e=>e===null||e==="";function Ok(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[zl]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Bg(i)){const s=jg(e,"width");s!==void 0&&(e.width=s)}if(Bg(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=jg(e,"height");s!==void 0&&(e.height=s)}return e}const Ny=zC?{passive:!0}:!1;function Lk(e,t,n){e&&e.addEventListener(t,n,Ny)}function Fk(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Ny)}function Vk(e,t){const n=Ak[e.type]||e.type,{x:r,y:i}=ci(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function bc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function zk(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||bc(l.addedNodes,r),o=o&&!bc(l.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Bk(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||bc(l.removedNodes,r),o=o&&!bc(l.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const io=new Map;let $g=0;function jy(){const e=window.devicePixelRatio;e!==$g&&($g=e,io.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function $k(e,t){io.size||window.addEventListener("resize",jy),io.set(e,t)}function Wk(e){io.delete(e),io.size||window.removeEventListener("resize",jy)}function Hk(e,t,n){const r=e.canvas,i=r&&rm(r);if(!i)return;const s=ny((l,c)=>{const d=i.clientWidth;n(l,c),d<i.clientWidth&&n()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||s(d,u)});return o.observe(i),$k(e,s),o}function lu(e,t,n){n&&n.disconnect(),t==="resize"&&Wk(e)}function Uk(e,t,n){const r=e.canvas,i=ny(s=>{e.ctx!==null&&n(Vk(s,e))},e);return Lk(r,t,i),i}class Yk extends Sy{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(Ok(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[zl])return!1;const r=n[zl].initial;["height","width"].forEach(s=>{const o=r[s];De(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[zl],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:zk,detach:Bk,resize:Hk}[n]||Uk;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:lu,detach:lu,resize:lu}[n]||Fk)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return VC(t,n,r,i)}isAttached(t){const n=t&&rm(t);return!!(n&&n.isConnected)}}function Gk(e){return!nm()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Tk:Yk}var jl;let ti=(jl=class{constructor(){re(this,"x");re(this,"y");re(this,"active",!1);re(this,"options");re(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return no(this.x)&&no(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},re(jl,"defaults",{}),re(jl,"defaultRoutes"),jl);function qk(e,t){const n=e.options.ticks,r=Jk(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Qk(t):[],o=s.length,l=s[0],c=s[o-1],d=[];if(o>i)return Xk(t,d,s,o/i),d;const u=Kk(s,t,i);if(o>0){let f,h;const m=o>1?Math.round((c-l)/(o-1)):null;for(ul(t,d,u,De(m)?0:l-m,l),f=0,h=o-1;f<h;f++)ul(t,d,u,s[f],s[f+1]);return ul(t,d,u,c,De(m)?t.length:c+m),d}return ul(t,d,u),d}function Jk(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function Kk(e,t,n){const r=Zk(e),i=t.length/n;if(!r)return Math.max(i,1);const s=Oj(r);for(let o=0,l=s.length-1;o<l;o++){const c=s[o];if(c>i)return c}return Math.max(i,1)}function Qk(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function Xk(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function ul(e,t,n,r,i){const s=Se(r,0),o=Math.min(Se(i,e.length),e.length);let l=0,c,d,u;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),u=s;u<0;)l++,u=Math.round(s+l*n);for(d=Math.max(s,0);d<o;d++)d===u&&(t.push(e[d]),l++,u=Math.round(s+l*n))}function Zk(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const e5=e=>e==="left"?"right":e==="right"?"left":e,Wg=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Hg=(e,t)=>Math.min(t||e,e);function Ug(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function t5(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(c-s,o-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(i-1))/2,c+=i<t?d:-d,c<s-l||c>o+l)))return c}function n5(e,t){Te(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function aa(e){return e.drawTicks?e.tickLength:0}function Yg(e,t){if(!e.display)return 0;const n=dt(e.font,t),r=Et(e.padding);return(Je(e.text)?e.text.length:1)*n.lineHeight+r.height}function r5(e,t){return ei(e,{scale:t,type:"scale"})}function i5(e,t,n){return ei(e,{tick:n,index:t,type:"tick"})}function s5(e,t,n){let r=Kh(e);return(n&&t!=="right"||!n&&t==="right")&&(r=e5(r)),r}function a5(e,t,n,r){const{top:i,left:s,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let f=0,h,m,g;const x=o-i,y=l-s;if(e.isHorizontal()){if(m=It(r,s,l),Ie(n)){const p=Object.keys(n)[0],v=n[p];g=u[p].getPixelForValue(v)+x-t}else n==="center"?g=(d.bottom+d.top)/2+x-t:g=Wg(e,n,t);h=l-s}else{if(Ie(n)){const p=Object.keys(n)[0],v=n[p];m=u[p].getPixelForValue(v)-y+t}else n==="center"?m=(d.left+d.right)/2-y+t:m=Wg(e,n,t);g=It(r,o,i),f=n==="left"?-Xt:Xt}return{titleX:m,titleY:g,maxWidth:h,rotation:f}}class Hs extends ti{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=Bn(t,Number.POSITIVE_INFINITY),n=Bn(n,Number.NEGATIVE_INFINITY),r=Bn(r,Number.POSITIVE_INFINITY),i=Bn(i,Number.NEGATIVE_INFINITY),{min:Bn(t,r),max:Bn(n,i),minDefined:pt(t),maxDefined:pt(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Bn(n,Bn(r,n)),max:Bn(r,Bn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){We(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gC(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Ug(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=qk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){We(this.options.afterUpdate,[this])}beforeSetDimensions(){We(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){We(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),We(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){We(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=We(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){We(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){We(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=Hg(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,l,c,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,m=Zt(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/r:m/(r-1),f+6>l&&(l=m/(r-(t.offset?.5:1)),c=this.maxHeight-aa(t.grid)-n.padding-Yg(t.title,this.chart.options.font),d=Math.sqrt(f*f+h*h),o=qh(Math.min(Math.asin(Zt((u.highest.height+6)/l,-1,1)),Math.asin(Zt(c/d,-1,1))-Math.asin(Zt(h/d,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){We(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){We(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=Yg(i,n.options.font);if(l?(t.width=this.maxWidth,t.height=aa(s)+c):(t.height=this.maxHeight,t.width=aa(s)+c),r.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:h}=this._getLabelSizes(),m=r.padding*2,g=Er(this.labelRotation),x=Math.cos(g),y=Math.sin(g);if(l){const p=r.mirror?0:y*f.width+x*h.height;t.height=Math.min(this.maxHeight,t.height+p+m)}else{const p=r.mirror?0:x*f.width+y*h.height;t.width=Math.min(this.maxWidth,t.width+p+m)}this._calculatePadding(d,u,y,x)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;c?d?(h=i*t.width,m=r*n.height):(h=r*t.height,m=i*n.width):s==="start"?m=n.width:s==="end"?h=t.width:s!=="inner"&&(h=t.width/2,m=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=t.height/2;s==="start"?(u=0,f=t.height):s==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){We(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)De(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Ug(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],l=[],c=Math.floor(n/Hg(n,r));let d=0,u=0,f,h,m,g,x,y,p,v,b,S,w;for(f=0;f<n;f+=c){if(g=t[f].label,x=this._resolveTickFontOptions(f),i.font=y=x.string,p=s[y]=s[y]||{data:{},gc:[]},v=x.lineHeight,b=S=0,!De(g)&&!Je(g))b=xc(i,p.data,p.gc,b,g),S=v;else if(Je(g))for(h=0,m=g.length;h<m;++h)w=g[h],!De(w)&&!Je(w)&&(b=xc(i,p.data,p.gc,b,w),S+=v);o.push(b),l.push(S),d=Math.max(b,d),u=Math.max(S,u)}n5(s,n);const N=o.indexOf(d),C=l.indexOf(u),k=I=>({width:o[I]||0,height:l[I]||0});return{first:k(0),last:k(n-1),widest:k(N),highest:k(C),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return $j(this._alignToPixels?ii(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=i5(this.getContext(),t,r))}return this.$context||(this.$context=r5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Er(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,l=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>l*i?l/r:c/i:c*i<l*r?c/r:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:l}=i,c=s.offset,d=this.isHorizontal(),f=this.ticks.length+(c?1:0),h=aa(s),m=[],g=l.setContext(this.getContext()),x=g.display?g.width:0,y=x/2,p=function(D){return ii(r,D,x)};let v,b,S,w,N,C,k,I,_,P,L,Y;if(o==="top")v=p(this.bottom),C=this.bottom-h,I=v-y,P=p(t.top)+y,Y=t.bottom;else if(o==="bottom")v=p(this.top),P=t.top,Y=p(t.bottom)-y,C=v+y,I=this.top+h;else if(o==="left")v=p(this.right),N=this.right-h,k=v-y,_=p(t.left)+y,L=t.right;else if(o==="right")v=p(this.left),_=t.left,L=p(t.right)-y,N=v+y,k=this.left+h;else if(n==="x"){if(o==="center")v=p((t.top+t.bottom)/2+.5);else if(Ie(o)){const D=Object.keys(o)[0],O=o[D];v=p(this.chart.scales[D].getPixelForValue(O))}P=t.top,Y=t.bottom,C=v+y,I=C+h}else if(n==="y"){if(o==="center")v=p((t.left+t.right)/2);else if(Ie(o)){const D=Object.keys(o)[0],O=o[D];v=p(this.chart.scales[D].getPixelForValue(O))}N=v-y,k=N-h,_=t.left,L=t.right}const E=Se(i.ticks.maxTicksLimit,f),M=Math.max(1,Math.ceil(f/E));for(b=0;b<f;b+=M){const D=this.getContext(b),O=s.setContext(D),R=l.setContext(D),F=O.lineWidth,V=O.color,H=R.dash||[],W=R.dashOffset,oe=O.tickWidth,Z=O.tickColor,U=O.tickBorderDash||[],J=O.tickBorderDashOffset;S=t5(this,b,c),S!==void 0&&(w=ii(r,S,F),d?N=k=_=L=w:C=I=P=Y=w,m.push({tx1:N,ty1:C,tx2:k,ty2:I,x1:_,y1:P,x2:L,y2:Y,width:F,color:V,borderDash:H,borderDashOffset:W,tickWidth:oe,tickColor:Z,tickBorderDash:U,tickBorderDashOffset:J}))}return this._ticksLength=f,this._borderValue=v,m}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:f}=s,h=aa(r.grid),m=h+u,g=f?-u:m,x=-Er(this.labelRotation),y=[];let p,v,b,S,w,N,C,k,I,_,P,L,Y="middle";if(i==="top")N=this.bottom-g,C=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+g,C=this._getXAxisLabelAlignment();else if(i==="left"){const M=this._getYAxisLabelAlignment(h);C=M.textAlign,w=M.x}else if(i==="right"){const M=this._getYAxisLabelAlignment(h);C=M.textAlign,w=M.x}else if(n==="x"){if(i==="center")N=(t.top+t.bottom)/2+m;else if(Ie(i)){const M=Object.keys(i)[0],D=i[M];N=this.chart.scales[M].getPixelForValue(D)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(t.left+t.right)/2-m;else if(Ie(i)){const M=Object.keys(i)[0],D=i[M];w=this.chart.scales[M].getPixelForValue(D)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(c==="start"?Y="top":c==="end"&&(Y="bottom"));const E=this._getLabelSizes();for(p=0,v=l.length;p<v;++p){b=l[p],S=b.label;const M=s.setContext(this.getContext(p));k=this.getPixelForTick(p)+s.labelOffset,I=this._resolveTickFontOptions(p),_=I.lineHeight,P=Je(S)?S.length:1;const D=P/2,O=M.color,R=M.textStrokeColor,F=M.textStrokeWidth;let V=C;o?(w=k,C==="inner"&&(p===v-1?V=this.options.reverse?"left":"right":p===0?V=this.options.reverse?"right":"left":V="center"),i==="top"?d==="near"||x!==0?L=-P*_+_/2:d==="center"?L=-E.highest.height/2-D*_+_:L=-E.highest.height+_/2:d==="near"||x!==0?L=_/2:d==="center"?L=E.highest.height/2-D*_:L=E.highest.height-P*_,f&&(L*=-1),x!==0&&!M.showLabelBackdrop&&(w+=_/2*Math.sin(x))):(N=k,L=(1-P)*_/2);let H;if(M.showLabelBackdrop){const W=Et(M.backdropPadding),oe=E.heights[p],Z=E.widths[p];let U=L-W.top,J=0-W.left;switch(Y){case"middle":U-=oe/2;break;case"bottom":U-=oe;break}switch(C){case"center":J-=Z/2;break;case"right":J-=Z;break;case"inner":p===v-1?J-=Z:p>0&&(J-=Z/2);break}H={left:J,top:U,width:Z+W.width,height:oe+W.height,color:M.backdropColor}}y.push({label:S,font:I,textOffset:L,options:{rotation:x,color:O,strokeColor:R,strokeWidth:F,textAlign:V,textBaseline:Y,translation:[w,N],backdrop:H}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Er(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),l=t+s,c=o.widest.width;let d,u;return n==="left"?i?(u=this.right+s,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const l=(c,d,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const c=i[s];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,f,h;this.isHorizontal()?(d=ii(t,this.left,o)-o/2,u=ii(t,this.right,l)+l/2,f=h=c):(f=ii(t,this.top,o)-o/2,h=ii(t,this.bottom,l)+l/2,d=u=c),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,f),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Jc(r,i);const s=this.getLabelItems(t);for(const o of s){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Ai(r,d,0,u,c,l)}i&&Kc(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=dt(r.font),o=Et(r.padding),l=r.align;let c=s.lineHeight/2;n==="bottom"||n==="center"||Ie(n)?(c+=o.bottom,Je(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:f,rotation:h}=a5(this,c,n,l);Ai(t,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:h,textAlign:s5(l,n,i),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Se(t.grid&&t.grid.z,-1),i=Se(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Hs.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];l[r]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return dt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class fl{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;c5(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,o5(t,o,r),this.override&&tt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in tt[i]&&(delete tt[i][r],this.override&&delete Ti[r])}}function o5(e,t,n){const r=eo(Object.create(null),[n?tt.get(n):{},tt.get(t),e.defaults]);tt.set(t,r),e.defaultRoutes&&l5(t,e.defaultRoutes),e.descriptors&&tt.describe(t,e.descriptors)}function l5(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),l=o.pop(),c=o.join(".");tt.route(s,i,c,l)})}function c5(e){return"id"in e&&"defaults"in e}class d5{constructor(){this.controllers=new fl(ji,"datasets",!0),this.elements=new fl(ti,"elements"),this.plugins=new fl(Object,"plugins"),this.scales=new fl(Hs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):Te(i,o=>{const l=r||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,n,r){const i=Gh(t);We(r["before"+i],[],r),n[t](r),We(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Hn=new d5;class u5{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,l=o[r],c=[n,i,s.options];if(We(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=Se(r.options&&r.options.plugins,{}),s=f5(r);return i===!1&&!n?[]:m5(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function f5(e){const t={},n=[],r=Object.keys(Hn.plugins.items);for(let s=0;s<r.length;s++)n.push(Hn.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function h5(e,t){return!t&&e===!1?null:e===!0?{}:e}function m5(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const l of t){const c=l.id,d=h5(r[c],i);d!==null&&s.push({plugin:l,options:p5(e.config,{plugin:l,local:n[c]},d,o)})}return s}function p5(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pf(e,t){const n=tt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function g5(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function x5(e,t){return e===t?"_index_":"_value_"}function Gg(e){if(e==="x"||e==="y"||e==="r")return e}function v5(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function _f(e,...t){if(Gg(e))return e;for(const n of t){const r=n.axis||v5(n.position)||e.length>1&&Gg(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function qg(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function b5(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return qg(e,"x",n[0])||qg(e,"y",n[0])}return{}}function y5(e,t){const n=Ti[e.type]||{scales:{}},r=t.scales||{},i=Pf(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!Ie(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=_f(o,l,b5(o,e),tt.scales[l.type]),d=x5(c,i),u=n.scales||{};s[o]=Pa(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||Pf(l,t),u=(Ti[l]||{}).scales||{};Object.keys(u).forEach(f=>{const h=g5(f,c),m=o[h+"AxisID"]||h;s[m]=s[m]||Object.create(null),Pa(s[m],[{axis:h},r[m],u[f]])})}),Object.keys(s).forEach(o=>{const l=s[o];Pa(l,[tt.scales[l.type],tt.scale])}),s}function Cy(e){const t=e.options||(e.options={});t.plugins=Se(t.plugins,{}),t.scales=y5(e,t)}function ky(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function w5(e){return e=e||{},e.data=ky(e.data),Cy(e),e}const Jg=new Map,Iy=new Set;function hl(e,t){let n=Jg.get(e);return n||(n=t(),Jg.set(e,n),Iy.add(n)),n}const oa=(e,t,n)=>{const r=Mi(t,n);r!==void 0&&e.add(r)};class S5{constructor(t){this._config=w5(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ky(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Cy(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return hl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return hl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return hl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return hl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),l=o.get(n);if(l)return l;const c=new Set;n.forEach(u=>{t&&(c.add(t),u.forEach(f=>oa(c,t,f))),u.forEach(f=>oa(c,i,f)),u.forEach(f=>oa(c,Ti[s]||{},f)),u.forEach(f=>oa(c,tt,f)),u.forEach(f=>oa(c,kf,f))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Iy.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ti[n]||{},tt.datasets[n]||{},{type:n},tt,kf]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=Kg(this._resolverCache,t,i);let c=o;if(j5(o,n)){s.$shared=!1,r=Jr(r)?r():r;const d=this.createResolver(t,r,l);c=Ts(o,r,d)}for(const d of n)s[d]=c[d];return s}createResolver(t,n,r=[""],i){const{resolver:s}=Kg(this._resolverCache,t,r);return Ie(n)?Ts(s,n,void 0,i):s}}function Kg(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Zh(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const N5=e=>Ie(e)&&Object.getOwnPropertyNames(e).some(t=>Jr(e[t]));function j5(e,t){const{isScriptable:n,isIndexable:r}=oy(e);for(const i of t){const s=n(i),o=r(i),l=(o||s)&&e[i];if(s&&(Jr(l)||N5(l))||o&&Je(l))return!0}return!1}var C5="4.4.8";const k5=["top","bottom","left","right","chartArea"];function Qg(e,t){return e==="top"||e==="bottom"||k5.indexOf(e)===-1&&t==="x"}function Xg(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Zg(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),We(n&&n.onComplete,[e],t)}function I5(e){const t=e.chart,n=t.options.animation;We(n&&n.onProgress,[e],t)}function Py(e){return nm()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Bl={},ex=e=>{const t=Py(e);return Object.values(Bl).filter(n=>n.canvas===t).pop()};function P5(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function _5(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}function ml(e,t,n){return e.options.clip?e[n]:t[n]}function E5(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:ml(n,t,"left"),right:ml(n,t,"right"),top:ml(r,t,"top"),bottom:ml(r,t,"bottom")}:t}var wr;let Bi=(wr=class{static register(...t){Hn.add(...t),tx()}static unregister(...t){Hn.remove(...t),tx()}constructor(t,n){const r=this.config=new S5(n),i=Py(t),s=ex(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Gk(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Ij(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new u5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Yj(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Bl[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}rr.listen(this,"complete",Zg),rr.listen(this,"progress",I5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return De(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ng(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yg(this.canvas,this.ctx),this}stop(){return rr.stop(this),this}resize(t,n){rr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ng(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),We(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Te(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const l=n[o],c=_f(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Te(s,o=>{const l=o.options,c=l.id,d=_f(c,l),u=Se(l.type,o.dtype);(l.position===void 0||Qg(l.position,d)!==Qg(o.dposition))&&(l.position=o.dposition),i[c]=!0;let f=null;if(c in r&&r[c].type===u)f=r[c];else{const h=Hn.getScale(u);f=new h({id:c,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,t)}),Te(i,(o,l)=>{o||delete r[l]}),Te(r,o=>{gn.configure(this,o,o.options),gn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Xg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=s.indexAxis||Pf(l,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=Hn.getController(l),{datasetElementType:d,dataElementType:u}=tt.datasets[l];Object.assign(c,{dataElementType:Hn.getElement(u),datasetElementType:d&&Hn.getElement(d)}),o.controller=new c(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Te(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Te(s,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Xg("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Te(this.scales,t=>{gn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!ug(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;P5(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!ug(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gn.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Te(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Jr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rr.has(this)?this.attached&&!rr.running(this)&&rr.start(this):(this.draw(),Zg({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r=t._clip,i=!r.disabled,s=E5(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Jc(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),t.controller.draw(),i&&Kc(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return ur(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=kk.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ei(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);to(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),rr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),yg(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Bl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};Te(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(c,d)=>{n.addEventListener(this,c,d),t[c]=d},i=(c,d)=>{t[c]&&(n.removeEventListener(this,c,d),delete t[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Te(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Te(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,l,c;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!mc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=s(n,t),l=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,l=this._getActiveElements(t,i,r,o),c=Mj(t),d=_5(t,this._lastEvent,r,c);r&&(this._lastEvent=null,We(s.onHover,[t,l,this],this),c&&We(s.onClick,[t,l,this],this));const u=!mc(l,i);return(u||n)&&(this._active=l,this._updateHoverStyles(l,i,n)),this._lastEvent=d,u}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},re(wr,"defaults",tt),re(wr,"instances",Bl),re(wr,"overrides",Ti),re(wr,"registry",Hn),re(wr,"version",C5),re(wr,"getChart",ex),wr);function tx(){return Te(Bi.instances,e=>e._plugins.invalidate())}function _y(e,t,n=t){e.lineCap=Se(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Se(n.borderDash,t.borderDash)),e.lineDashOffset=Se(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Se(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Se(n.borderWidth,t.borderWidth),e.strokeStyle=Se(n.borderColor,t.borderColor)}function D5(e,t,n){e.lineTo(n.x,n.y)}function R5(e){return e.stepped?oC:e.tension||e.cubicInterpolationMode==="monotone"?lC:D5}function Ey(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:l}=t,c=Math.max(i,o),d=Math.min(s,l),u=i<o&&s<o||i>l&&s>l;return{count:r,start:c,loop:t.loop,ilen:d<c&&!u?r+d-c:d-c}}function M5(e,t,n,r){const{points:i,options:s}=t,{count:o,start:l,loop:c,ilen:d}=Ey(i,n,r),u=R5(s);let{move:f=!0,reverse:h}=r||{},m,g,x;for(m=0;m<=d;++m)g=i[(l+(h?d-m:m))%o],!g.skip&&(f?(e.moveTo(g.x,g.y),f=!1):u(e,x,g,h,s.stepped),x=g);return c&&(g=i[(l+(h?d:0))%o],u(e,x,g,h,s.stepped)),!!c}function T5(e,t,n,r){const i=t.points,{count:s,start:o,ilen:l}=Ey(i,n,r),{move:c=!0,reverse:d}=r||{};let u=0,f=0,h,m,g,x,y,p;const v=S=>(o+(d?l-S:S))%s,b=()=>{x!==y&&(e.lineTo(u,y),e.lineTo(u,x),e.lineTo(u,p))};for(c&&(m=i[v(0)],e.moveTo(m.x,m.y)),h=0;h<=l;++h){if(m=i[v(h)],m.skip)continue;const S=m.x,w=m.y,N=S|0;N===g?(w<x?x=w:w>y&&(y=w),u=(f*u+S)/++f):(b(),e.lineTo(S,w),g=N,f=0,x=y=w),p=w}b()}function Ef(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?T5:M5}function A5(e){return e.stepped?BC:e.tension||e.cubicInterpolationMode==="monotone"?$C:di}function O5(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),_y(e,t.options),e.stroke(i)}function L5(e,t,n,r){const{segments:i,options:s}=t,o=Ef(t);for(const l of i)_y(e,s,l.style),e.beginPath(),o(e,t,l,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const F5=typeof Path2D=="function";function V5(e,t,n,r){F5&&!t.options.segment?O5(e,t,n,r):L5(e,t,n,r)}class Pn extends ti{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;MC(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=qC(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=gy(this,{property:n,start:i,end:i});if(!o.length)return;const l=[],c=A5(r);let d,u;for(d=0,u=o.length;d<u;++d){const{start:f,end:h}=o[d],m=s[f],g=s[h];if(m===g){l.push(m);continue}const x=Math.abs((i-m[n])/(g[n]-m[n])),y=c(m,g,x,r.stepped);y[n]=t[n],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,n,r){return Ef(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=Ef(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const l of i)o&=s(t,this,l,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),V5(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}re(Pn,"id","line"),re(Pn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),re(Pn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),re(Pn,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function nx(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Ci extends ti{constructor(n){super();re(this,"parsed");re(this,"skip");re(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return nx(this,n,"x",r)}inYRange(n,r){return nx(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!ur(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,If(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}re(Ci,"id","point"),re(Ci,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),re(Ci,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Dy(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,f;return e.horizontal?(f=o/2,l=Math.min(n,i),c=Math.max(n,i),d=r-f,u=r+f):(f=s/2,l=n-f,c=n+f,d=Math.min(r,i),u=Math.max(r,i)),{left:l,top:d,right:c,bottom:u}}function Rr(e,t,n,r){return e?0:Zt(t,n,r)}function z5(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=ay(r);return{t:Rr(i.top,s.top,0,n),r:Rr(i.right,s.right,0,t),b:Rr(i.bottom,s.bottom,0,n),l:Rr(i.left,s.left,0,t)}}function B5(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Si(i),o=Math.min(t,n),l=e.borderSkipped,c=r||Ie(i);return{topLeft:Rr(!c||l.top||l.left,s.topLeft,0,o),topRight:Rr(!c||l.top||l.right,s.topRight,0,o),bottomLeft:Rr(!c||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:Rr(!c||l.bottom||l.right,s.bottomRight,0,o)}}function $5(e){const t=Dy(e),n=t.right-t.left,r=t.bottom-t.top,i=z5(e,n/2,r/2),s=B5(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function cu(e,t,n,r){const i=t===null,s=n===null,l=e&&!(i&&s)&&Dy(e,r);return l&&(i||Dr(t,l.left,l.right))&&(s||Dr(n,l.top,l.bottom))}function W5(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function H5(e,t){e.rect(t.x,t.y,t.w,t.h)}function du(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class Ns extends ti{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=$5(this),l=W5(o.radius)?ro:H5;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),l(t,du(o,n,s)),t.clip(),l(t,du(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),l(t,du(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return cu(this,t,n,r)}inXRange(t,n){return cu(this,t,null,n)}inYRange(t,n){return cu(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}re(Ns,"id","bar"),re(Ns,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),re(Ns,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function U5(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const l of r){let{start:c,end:d}=l;d=sm(c,d,i);const u=Df(n,i[c],i[d],l.loop);if(!t.segments){o.push({source:l,target:u,start:i[c],end:i[d]});continue}const f=gy(t,u);for(const h of f){const m=Df(n,s[h.start],s[h.end],h.loop),g=py(l,i,m);for(const x of g)o.push({source:x,target:h,start:{[n]:rx(u,m,"start",Math.max)},end:{[n]:rx(u,m,"end",Math.min)}})}}return o}function Df(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=Kt(i),s=Kt(s)),{property:e,start:i,end:s}}function Y5(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:l})=>{l=sm(o,l,i);const c=i[o],d=i[l];r!==null?(s.push({x:c.x,y:r}),s.push({x:d.x,y:r})):n!==null&&(s.push({x:n,y:c.y}),s.push({x:n,y:d.y}))}),s}function sm(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function rx(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Ry(e,t){let n=[],r=!1;return Je(e)?(r=!0,n=e):n=Y5(e,t),n.length?new Pn({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function ix(e){return e&&e.fill!==!1}function G5(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!pt(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function q5(e,t,n){const r=X5(e);if(Ie(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return pt(i)&&Math.floor(i)===i?J5(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function J5(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function K5(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Ie(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Q5(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:Ie(e)?r=e.value:r=t.getBaseValue(),r}function X5(e){const t=e.options,n=t.fill;let r=Se(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Z5(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,l=eI(t,n);l.push(Ry({x:null,y:t.bottom},r));for(let c=0;c<s.length;c++){const d=s[c];for(let u=d.start;u<=d.end;u++)tI(i,o[u],l)}return new Pn({points:i,options:{}})}function eI(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function tI(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:l,point:c}=nI(s,t,"x");if(!(!c||o&&l)){if(o)r.unshift(c);else if(e.push(c),!l)break}}e.push(...r)}function nI(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let l=!1,c=!1;for(let d=0;d<s.length;d++){const u=s[d],f=o[u.start][n],h=o[u.end][n];if(Dr(i,f,h)){l=i===f,c=i===h;break}}return{first:l,last:c,point:r}}class My{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:nn},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function rI(e){const{chart:t,fill:n,line:r}=e;if(pt(n))return iI(t,n);if(n==="stack")return Z5(e);if(n==="shape")return!0;const i=sI(e);return i instanceof My?i:Ry(i,r)}function iI(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function sI(e){return(e.scale||{}).getPointPositionForValue?oI(e):aI(e)}function aI(e){const{scale:t={},fill:n}=e,r=K5(n,t);if(pt(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function oI(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=Q5(n,t,s),l=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,s);return new My({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)l.push(t.getPointPositionForValue(c,o));return l}function uu(e,t,n){const r=rI(t),{line:i,scale:s,axis:o}=t,l=i.options,c=l.fill,d=l.backgroundColor,{above:u=d,below:f=d}=c||{};r&&i.points.length&&(Jc(e,n),lI(e,{line:i,target:r,above:u,below:f,area:n,scale:s,axis:o}),Kc(e))}function lI(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:l}=t,c=n._loop?"angle":t.axis;e.save(),c==="x"&&s!==i&&(sx(e,r,o.top),ax(e,{line:n,target:r,color:i,scale:l,property:c}),e.restore(),e.save(),sx(e,r,o.bottom)),ax(e,{line:n,target:r,color:s,scale:l,property:c}),e.restore()}function sx(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const l of r){const{start:c,end:d}=l,u=i[c],f=i[sm(c,d,i)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(f.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function ax(e,t){const{line:n,target:r,property:i,color:s,scale:o}=t,l=U5(n,r,i);for(const{source:c,target:d,start:u,end:f}of l){const{style:{backgroundColor:h=s}={}}=c,m=r!==!0;e.save(),e.fillStyle=h,cI(e,o,m&&Df(i,u,f)),e.beginPath();const g=!!n.pathSegment(e,c);let x;if(m){g?e.closePath():ox(e,r,f,i);const y=!!r.pathSegment(e,d,{move:g,reverse:!0});x=g&&y,x||ox(e,r,u,i)}e.closePath(),e.fill(x?"evenodd":"nonzero"),e.restore()}}function cI(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:s,start:o,end:l}=n||{};s==="x"&&(e.beginPath(),e.rect(o,r,l-o,i-r),e.clip())}function ox(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Ty={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,l,c;for(o=0;o<r;++o)s=e.getDatasetMeta(o),l=s.dataset,c=null,l&&l.options&&l instanceof Pn&&(c={visible:e.isDatasetVisible(o),index:o,fill:q5(l,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=G5(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),r&&l.fill&&uu(e.ctx,l,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;ix(s)&&uu(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!ix(r)||n.drawTime!=="beforeDatasetDraw"||uu(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const lx=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},dI=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class cx extends ti{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=We(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=dt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=lx(r,s);let d,u;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,s,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,i,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+l;let f=t;s.textAlign="left",s.textBaseline="middle";let h=-1,m=-u;return this.legendItems.forEach((g,x)=>{const y=r+n/2+s.measureText(g.text).width;(x===0||d[d.length-1]+y+2*l>o)&&(f+=u,d[d.length-(x>0?0:1)]=0,m+=u,h++),c[x]={left:0,top:m,row:h,width:y,height:i},d[d.length-1]+=y+l}),f}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let f=l,h=0,m=0,g=0,x=0;return this.legendItems.forEach((y,p)=>{const{itemWidth:v,itemHeight:b}=uI(r,n,s,y,i);p>0&&m+b+2*l>u&&(f+=h+l,d.push({width:h,height:m}),g+=h+l,x++,h=m=0),c[p]={left:g,top:m,col:x,width:v,height:b},h=Math.max(h,v),m+=b+l}),f+=h,d.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Ss(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=It(r,this.left+i,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,c=It(r,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+t+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let l=0,c=It(r,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,c=It(r,this.top+t+i,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Jc(t,this),this._draw(),Kc(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,l=tt.color,c=Ss(t.rtl,this.left,this.width),d=dt(o.font),{padding:u}=o,f=d.size,h=f/2;let m;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:g,boxHeight:x,itemHeight:y}=lx(o,f),p=function(N,C,k){if(isNaN(g)||g<=0||isNaN(x)||x<0)return;i.save();const I=Se(k.lineWidth,1);if(i.fillStyle=Se(k.fillStyle,l),i.lineCap=Se(k.lineCap,"butt"),i.lineDashOffset=Se(k.lineDashOffset,0),i.lineJoin=Se(k.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=Se(k.strokeStyle,l),i.setLineDash(Se(k.lineDash,[])),o.usePointStyle){const _={radius:x*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:I},P=c.xPlus(N,g/2),L=C+h;iy(i,_,P,L,o.pointStyleWidth&&g)}else{const _=C+Math.max((f-x)/2,0),P=c.leftForLtr(N,g),L=Si(k.borderRadius);i.beginPath(),Object.values(L).some(Y=>Y!==0)?ro(i,{x:P,y:_,w:g,h:x,radius:L}):i.rect(P,_,g,x),i.fill(),I!==0&&i.stroke()}i.restore()},v=function(N,C,k){Ai(i,k.text,N,C+y/2,d,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},b=this.isHorizontal(),S=this._computeTitleHeight();b?m={x:It(s,this.left+u,this.right-r[0]),y:this.top+u+S,line:0}:m={x:this.left+u,y:It(s,this.top+S+u,this.bottom-n[0].height),line:0},fy(this.ctx,t.textDirection);const w=y+u;this.legendItems.forEach((N,C)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const k=i.measureText(N.text).width,I=c.textAlign(N.textAlign||(N.textAlign=o.textAlign)),_=g+h+k;let P=m.x,L=m.y;c.setWidth(this.width),b?C>0&&P+_+u>this.right&&(L=m.y+=w,m.line++,P=m.x=It(s,this.left+u,this.right-r[m.line])):C>0&&L+w>this.bottom&&(P=m.x=P+n[m.line].width+u,m.line++,L=m.y=It(s,this.top+S+u,this.bottom-n[m.line].height));const Y=c.x(P);if(p(Y,L,N),P=Gj(I,P+g+h,b?P+_:this.right,t.rtl),v(c.x(P),L,N),b)m.x+=_+u;else if(typeof N.text!="string"){const E=d.lineHeight;m.y+=Ay(N,E)+u}else m.y+=w}),hy(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=dt(n.font),i=Et(n.padding);if(!n.display)return;const s=Ss(t.rtl,this.left,this.width),o=this.ctx,l=n.position,c=r.size/2,d=i.top+c;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+d,f=It(t.align,f,this.right-h);else{const g=this.columnSizes.reduce((x,y)=>Math.max(x,y.height),0);u=d+It(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const m=It(l,f,f+h);o.textAlign=s.textAlign(Kh(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ai(o,n.text,m,u,r)}_computeTitleHeight(){const t=this.options.title,n=dt(t.font),r=Et(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(Dr(t,this.left,this.right)&&Dr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Dr(t,i.left,i.left+i.width)&&Dr(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!mI(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=dI(i,r);i&&!s&&We(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&We(n.onHover,[t,r,this],this)}else r&&We(n.onClick,[t,r,this],this)}}function uI(e,t,n,r,i){const s=fI(r,e,t,n),o=hI(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function fI(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function hI(e,t,n){let r=e;return typeof t.text!="string"&&(r=Ay(t,n)),r}function Ay(e,t){const n=e.text?e.text.length:0;return t*n}function mI(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Zc={id:"legend",_element:cx,start(e,t,n){const r=e.legend=new cx({ctx:e.ctx,options:n,chart:e});gn.configure(e,r,n),gn.addBox(e,r)},stop(e){gn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;gn.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=Et(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Oy extends ti{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Je(r.text)?r.text.length:1;this._padding=Et(r.padding);const s=i*dt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,l=o.align;let c=0,d,u,f;return this.isHorizontal()?(u=It(l,r,s),f=n+t,d=s-r):(o.position==="left"?(u=r+t,f=It(l,i,n),c=at*-.5):(u=s-t,f=It(l,n,i),c=at*.5),d=i-n),{titleX:u,titleY:f,maxWidth:d,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=dt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(s);Ai(t,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:d,textAlign:Kh(n.align),textBaseline:"middle",translation:[o,l]})}}function pI(e,t){const n=new Oy({ctx:e.ctx,options:t,chart:e});gn.configure(e,n,t),gn.addBox(e,n),e.titleBlock=n}var am={id:"title",_element:Oy,start(e,t,n){pI(e,n)},stop(e){const t=e.titleBlock;gn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;gn.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const va={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=e.length;s<o;++s){const c=e[s].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Cf(t,d);u<i&&(i=u,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function $n(e,t){return t&&(Je(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ir(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function gI(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:l}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function dx(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:l}=t,c=dt(t.bodyFont),d=dt(t.titleFont),u=dt(t.footerFont),f=s.length,h=i.length,m=r.length,g=Et(t.padding);let x=g.height,y=0,p=r.reduce((S,w)=>S+w.before.length+w.lines.length+w.after.length,0);if(p+=e.beforeBody.length+e.afterBody.length,f&&(x+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),p){const S=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=m*S+(p-m)*c.lineHeight+(p-1)*t.bodySpacing}h&&(x+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0;const b=function(S){y=Math.max(y,n.measureText(S).width+v)};return n.save(),n.font=d.string,Te(e.title,b),n.font=c.string,Te(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?o+2+t.boxPadding:0,Te(r,S=>{Te(S.before,b),Te(S.lines,b),Te(S.after,b)}),v=0,n.font=u.string,Te(e.footer,b),n.restore(),y+=g.width,{width:y,height:x}}function xI(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function vI(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function bI(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:l,right:c}}=e;let d="center";return r==="center"?d=i<=(l+c)/2?"left":"right":i<=s/2?d="left":i>=o-s/2&&(d="right"),vI(d,e,t,n)&&(d="center"),d}function ux(e,t,n){const r=n.yAlign||t.yAlign||xI(e,n);return{xAlign:n.xAlign||t.xAlign||bI(e,t,n,r),yAlign:r}}function yI(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function wI(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function fx(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:l,yAlign:c}=n,d=i+s,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:m}=Si(o);let g=yI(t,l);const x=wI(t,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,h)+i:l==="right"&&(g+=Math.max(f,m)+i),{x:Zt(g,0,r.width-t.width),y:Zt(x,0,r.height-t.height)}}function pl(e,t,n){const r=Et(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function hx(e){return $n([],ir(e))}function SI(e,t,n){return ei(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function mx(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Ly={beforeTitle:tr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:tr,beforeBody:tr,beforeLabel:tr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return De(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:tr,afterBody:tr,beforeFooter:tr,footer:tr,afterFooter:tr};function Vt(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?Ly[t].call(n,r):i}class Rf extends ti{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new xy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=SI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=Vt(r,"beforeTitle",this,t),s=Vt(r,"title",this,t),o=Vt(r,"afterTitle",this,t);let l=[];return l=$n(l,ir(i)),l=$n(l,ir(s)),l=$n(l,ir(o)),l}getBeforeBody(t,n){return hx(Vt(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return Te(t,s=>{const o={before:[],lines:[],after:[]},l=mx(r,s);$n(o.before,ir(Vt(l,"beforeLabel",this,s))),$n(o.lines,Vt(l,"label",this,s)),$n(o.after,ir(Vt(l,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return hx(Vt(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=Vt(r,"beforeFooter",this,t),s=Vt(r,"footer",this,t),o=Vt(r,"afterFooter",this,t);let l=[];return l=$n(l,ir(i)),l=$n(l,ir(s)),l=$n(l,ir(o)),l}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(gI(this.chart,n[c]));return t.filter&&(l=l.filter((u,f,h)=>t.filter(u,f,h,r))),t.itemSort&&(l=l.sort((u,f)=>t.itemSort(u,f,r))),Te(l,u=>{const f=mx(t.callbacks,u);i.push(Vt(f,"labelColor",this,u)),s.push(Vt(f,"labelPointStyle",this,u)),o.push(Vt(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=va[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=dx(this,r),d=Object.assign({},l,c),u=ux(this.chart,r,d),f=fx(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=Si(l),{x:h,y:m}=t,{width:g,height:x}=n;let y,p,v,b,S,w;return s==="center"?(S=m+x/2,i==="left"?(y=h,p=y-o,b=S+o,w=S-o):(y=h+g,p=y+o,b=S-o,w=S+o),v=y):(i==="left"?p=h+Math.max(c,u)+o:i==="right"?p=h+g-Math.max(d,f)-o:p=this.caretX,s==="top"?(b=m,S=b-o,y=p-o,v=p+o):(b=m+x,S=b+o,y=p+o,v=p-o),w=b),{x1:y,x2:p,x3:v,y1:b,y2:S,y3:w}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,l,c;if(s){const d=Ss(r.rtl,this.x,this.width);for(t.x=pl(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",o=dt(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,c=0;c<s;++c)n.fillText(i[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===s&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,u=dt(s.bodyFont),f=pl(this,"left",s),h=i.x(f),m=c<u.lineHeight?(u.lineHeight-c)/2:0,g=n.y+m;if(s.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=i.leftForLtr(h,d)+d/2,p=g+c/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,If(t,x,y,p),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,If(t,x,y,p)}else{t.lineWidth=Ie(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const x=i.leftForLtr(h,d),y=i.leftForLtr(i.xPlus(h,1),d-2),p=Si(o.borderRadius);Object.values(p).some(v=>v!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,ro(t,{x,y:g,w:d,h:c,radius:p}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ro(t,{x:y,y:g+1,w:d-2,h:c-2,radius:p}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(x,g,d,c),t.strokeRect(x,g,d,c),t.fillStyle=o.backgroundColor,t.fillRect(y,g+1,d-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=r,f=dt(r.bodyFont);let h=f.lineHeight,m=0;const g=Ss(r.rtl,this.x,this.width),x=function(k){n.fillText(k,g.x(t.x+m),t.y+h/2),t.y+=h+s},y=g.textAlign(o);let p,v,b,S,w,N,C;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=pl(this,y,r),n.fillStyle=r.bodyColor,Te(this.beforeBody,x),m=l&&y!=="right"?o==="center"?d/2+u:d+2+u:0,S=0,N=i.length;S<N;++S){for(p=i[S],v=this.labelTextColors[S],n.fillStyle=v,Te(p.before,x),b=p.lines,l&&b.length&&(this._drawColorBox(n,t,S,g,r),h=Math.max(f.lineHeight,c)),w=0,C=b.length;w<C;++w)x(b[w]),h=f.lineHeight;Te(p.after,x)}m=0,h=f.lineHeight,Te(this.afterBody,x),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,l;if(s){const c=Ss(r.rtl,this.x,this.width);for(t.x=pl(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",o=dt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:u}=r,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:g}=Si(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(l+f,c),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(l+d-h,c),n.quadraticCurveTo(l+d,c,l+d,c+h),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(l+d,c+u-g),n.quadraticCurveTo(l+d,c+u,l+d-g,c+u),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(l+m,c+u),n.quadraticCurveTo(l,c+u,l,c+u-m),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=va[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=dx(this,t),c=Object.assign({},o,this._size),d=ux(n,t,c),u=fx(t,c,d,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Et(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),fy(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),hy(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!mc(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),l=this._positionChanged(o,t),c=n||!mc(o,s)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=va[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}re(Rf,"positioners",va);var ed={id:"tooltip",_element:Rf,positioners:va,afterInit(e,t,n){n&&(e.tooltip=new Rf({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ly},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const NI=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function jI(e,t,n,r){const i=e.indexOf(t);if(i===-1)return NI(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const CI=(e,t)=>e===null?null:Zt(Math.round(e),0,t);function px(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class so extends Hs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(De(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:jI(r,t,Se(n,t),this._addedLabels),CI(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return px.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}re(so,"id","category"),re(so,"defaults",{ticks:{callback:px}});function kI(e,t){const n=[],{bounds:i,step:s,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:f,includeBounds:h}=e,m=s||1,g=u-1,{min:x,max:y}=t,p=!De(o),v=!De(l),b=!De(d),S=(y-x)/(f+1);let w=hg((y-x)/g/m)*m,N,C,k,I;if(w<1e-14&&!p&&!v)return[{value:x},{value:y}];I=Math.ceil(y/w)-Math.floor(x/w),I>g&&(w=hg(I*w/g/m)*m),De(c)||(N=Math.pow(10,c),w=Math.ceil(w*N)/N),i==="ticks"?(C=Math.floor(x/w)*w,k=Math.ceil(y/w)*w):(C=x,k=y),p&&v&&s&&Fj((l-o)/s,w/1e3)?(I=Math.round(Math.min((l-o)/w,u)),w=(l-o)/I,C=o,k=l):b?(C=p?o:C,k=v?l:k,I=d-1,w=(k-C)/I):(I=(k-C)/w,_a(I,Math.round(I),w/1e3)?I=Math.round(I):I=Math.ceil(I));const _=Math.max(mg(w),mg(C));N=Math.pow(10,De(c)?_:c),C=Math.round(C*N)/N,k=Math.round(k*N)/N;let P=0;for(p&&(h&&C!==o?(n.push({value:o}),C<o&&P++,_a(Math.round((C+P*w)*N)/N,o,gx(o,S,e))&&P++):C<o&&P++);P<I;++P){const L=Math.round((C+P*w)*N)/N;if(v&&L>l)break;n.push({value:L})}return v&&h&&k!==l?n.length&&_a(n[n.length-1].value,l,gx(l,S,e))?n[n.length-1].value=l:n.push({value:l}):(!v||k===l)&&n.push({value:k}),n}function gx(e,t,{horizontal:n,minRotation:r}){const i=Er(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Mf extends Hs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return De(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=c=>i=n?i:c,l=c=>s=r?s:c;if(t){const c=qn(i),d=qn(s);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);l(s+c),t||o(i-c)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=kI(i,s);return t.bounds==="ticks"&&Vj(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return ry(t,this.chart.options.locale,this.options.ticks.format)}}class ao extends Mf{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=pt(t)?t:0,this.max=pt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Er(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}re(ao,"id","linear"),re(ao,"defaults",{ticks:{callback:Xh.formatters.numeric}});function Tf(e){const t=e.ticks;if(t.display&&e.display){const n=Et(t.backdropPadding);return Se(t.font&&t.font.size,tt.font.size)+n.height}return 0}function II(e,t,n){return n=Je(n)?n:[n],{w:aC(e,t.string,n),h:n.length*t.lineHeight}}function xx(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function PI(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,l=o.centerPointLabels?at/s:0;for(let c=0;c<s;c++){const d=o.setContext(e.getPointLabelContext(c));i[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+i[c],l),f=dt(d.font),h=II(e.ctx,f,e._pointLabels[c]);r[c]=h;const m=Kt(e.getIndexAngle(c)+l),g=Math.round(qh(m)),x=xx(g,u.x,h.w,0,180),y=xx(g,u.y,h.h,90,270);_I(n,t,m,x,y)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=RI(e,r,i)}function _I(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let l=0,c=0;r.start<t.l?(l=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-l)):r.end>t.r&&(l=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+l)),i.start<t.t?(c=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+c))}function EI(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:l}=n,c=e.getPointPosition(t,r+i+o,s),d=Math.round(qh(Kt(c.angle+Xt))),u=AI(c.y,l.h,d),f=MI(d),h=TI(c.x,l.w,f);return{visible:!0,x:c.x,y:u,textAlign:f,left:h,top:u,right:h+l.w,bottom:u+l.h}}function DI(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(ur({x:n,y:r},t)||ur({x:n,y:s},t)||ur({x:i,y:r},t)||ur({x:i,y:s},t))}function RI(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:l}=s.pointLabels,c={extra:Tf(s)/2,additionalAngle:o?at/i:0};let d;for(let u=0;u<i;u++){c.padding=n[u],c.size=t[u];const f=EI(e,u,c);r.push(f),l==="auto"&&(f.visible=DI(f,d),f.visible&&(d=f))}return r}function MI(e){return e===0||e===180?"center":e<180?"left":"right"}function TI(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function AI(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function OI(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:l}=t;if(!De(l)){const c=Si(t.borderRadius),d=Et(t.backdropPadding);e.fillStyle=l;const u=r-d.left,f=i-d.top,h=s-r+d.width,m=o-i+d.height;Object.values(c).some(g=>g!==0)?(e.beginPath(),ro(e,{x:u,y:f,w:h,h:m,radius:c}),e.fill()):e.fillRect(u,f,h,m)}}function LI(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));OI(n,o,s);const l=dt(o.font),{x:c,y:d,textAlign:u}=s;Ai(n,e._pointLabels[i],c,d+l.lineHeight/2,l,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Fy(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,nn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function FI(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:l,lineWidth:c}=t;!o&&!r||!l||!c||n<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),Fy(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function VI(e,t,n){return ei(e,{label:n,index:t,type:"pointLabel"})}class cs extends Mf{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Et(Tf(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=pt(t)&&!isNaN(t)?t:0,this.max=pt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Tf(this.options))}generateTickLabels(t){Mf.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=We(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?PI(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=nn/(this._pointLabels.length||1),r=this.options.startAngle||0;return Kt(t*n+Er(r))}getDistanceFromCenterForValue(t){if(De(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(De(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return VI(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-Xt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),Fy(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let l,c,d;if(n.pointLabels.display&&LI(this,o),i.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(f),m=i.setContext(h),g=s.setContext(h);FI(this,m,c,o,g)}}),r.display){for(t.save(),l=o-1;l>=0;l--){const u=r.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:h}=u;!h||!f||(t.lineWidth=h,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(l,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const d=r.setContext(this.getContext(c)),u=dt(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,o=t.measureText(l.label).width,t.fillStyle=d.backdropColor;const f=Et(d.backdropPadding);t.fillRect(-o/2-f.left,-s-u.size/2-f.top,o+f.width,u.size+f.height)}Ai(t,l.label,0,-s,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}re(cs,"id","radialLinear"),re(cs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),re(cs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),re(cs,"descriptors",{angleLines:{_fallback:"grid"}});const td={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$t=Object.keys(td);function vx(e,t){return e-t}function bx(e,t){if(De(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),pt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(no(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function yx(e,t,n,r){const i=$t.length;for(let s=$t.indexOf(e);s<i-1;++s){const o=td[$t[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(l*o.size))<=r)return $t[s]}return $t[i-1]}function zI(e,t,n,r,i){for(let s=$t.length-1;s>=$t.indexOf(n);s--){const o=$t[s];if(td[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return $t[n?$t.indexOf(n):0]}function BI(e){for(let t=$t.indexOf(e)+1,n=$t.length;t<n;++t)if(td[$t[t]].common)return $t[t]}function wx(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Jh(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function $I(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let l,c;for(l=s;l<=o;l=+i.add(l,1,r))c=n[l],c>=0&&(t[c].major=!0);return t}function Sx(e,t,n){const r=[],i={},s=t.length;let o,l;for(o=0;o<s;++o)l=t[o],i[l]=o,r.push({value:l,major:!1});return s===0||!n?r:$I(e,r,i,n)}class yc extends Hs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new wk._date(t.adapters.date);i.init(n),Pa(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:bx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=pt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=pt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,l=Hj(i,s,o);return this._unit=n.unit||(r.autoSkip?yx(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):zI(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:BI(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),Sx(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Zt(n,0,o),r=Zt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||yx(s.minUnit,n,r,this._getLabelCapacity(n)),l=Se(i.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,d=no(c)||c===!0,u={};let f=n,h,m;if(d&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,d?"day":o),t.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<r;h=+t.add(h,l,o),m++)wx(u,h,g);return(h===r||i.bounds==="ticks"||m===1)&&wx(u,h,g),Object.keys(u).sort(vx).map(x=>+x)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return We(o,[t,n,r],this);const l=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],f=d&&l[d],h=r[n],m=d&&f&&h&&h.major;return this._adapter.format(t,i||(m?f:u))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=Er(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*o,h:r*o+l*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,Sx(this,[t],this._majorUnit),i),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(bx(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ey(t.sort(vx))}}re(yc,"id","time"),re(yc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gl(e,t,n){let r=0,i=e.length-1,s,o,l,c;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=gi(e,"pos",t)),{pos:s,time:l}=e[r],{pos:o,time:c}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=gi(e,"time",t)),{time:s,pos:l}=e[r],{time:o,pos:c}=e[i]);const d=o-s;return d?l+(c-l)*(t-s)/d:l}class Nx extends yc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=gl(n,this.min),this._tableRange=gl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,l,c,d,u;for(o=0,l=t.length;o<l;++o)d=t[o],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,l=i.length;o<l;++o)u=i[o+1],c=i[o-1],d=i[o],Math.round((u+c)/2)!==d&&s.push({time:d,pos:o/(l-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(gl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return gl(this._table,r*this._tableRange+this._minPos,!0)}}re(Nx,"id","timeseries"),re(Nx,"defaults",yc.defaults);const WI=({metrics:e,animatingMetrics:t})=>{const n=(s,o=!1)=>s<30?"text-red-600 font-bold":s<50?"text-orange-500 font-bold":s<70?"text-yellow-500":"text-green-500",r=s=>t.includes(s)?s==="livesSaved"?"animate-pulse text-green-600":s==="humanCasualties"?"animate-pulse text-red-600":"animate-pulse text-red-500":"",i=(s,o)=>{switch(s){case"livesSaved":return`${o} people saved from immediate danger`;case"humanCasualties":return`${o} lives lost in the crisis`;case"firefightingResource":return`${o}% of firefighting resources remaining`;case"infrastructureCondition":return`${o}% of infrastructure intact`;case"biodiversityCondition":return`${o}% of local ecosystem preserved`;case"propertiesCondition":return`${o}% of properties protected`;case"nuclearPowerStation":return`${o}% of nuclear facility integrity maintained`;default:return""}};return a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3 mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-700 flex items-center",children:[a.jsx(Di,{className:"mr-1 text-orange-500",size:18}),"Cumulative Simulation Metrics (Scores)"]}),(e.nuclearPowerStation<50||e.firefightingResource<30)&&a.jsxs("div",{className:"px-2 py-1 bg-red-50 border border-red-200 rounded-md flex items-center",children:[a.jsx(ft,{className:"text-red-500 mr-1",size:16}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:e.nuclearPowerStation<50?"Nuclear risk!":"Critical resource shortage!"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2",children:[a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("livesSaved")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("livesSaved",e.livesSaved),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Ri,{className:"mr-1 text-blue-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Lives Saved"})]}),a.jsx("p",{className:"text-sm font-bold text-green-600",children:e.livesSaved}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("livesSaved",e.livesSaved)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("humanCasualties")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("humanCasualties",e.humanCasualties),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(So,{className:"mr-1 text-red-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Casualties"}),e.humanCasualties>0&&a.jsx(ft,{className:"ml-1 text-red-500",size:12})]}),a.jsx("p",{className:"text-sm font-bold text-red-600",children:e.humanCasualties}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("humanCasualties",e.humanCasualties)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("firefightingResource")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("firefightingResource",e.firefightingResource),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(qr,{className:"mr-1 text-blue-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Resources"}),e.firefightingResource<50&&a.jsx(ft,{className:"ml-1 text-orange-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.firefightingResource)}`,children:[e.firefightingResource,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("firefightingResource",e.firefightingResource)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("infrastructureCondition")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("infrastructureCondition",e.infrastructureCondition),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Jn,{className:"mr-1 text-gray-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Infrastructure"}),e.infrastructureCondition<50&&a.jsx(ft,{className:"ml-1 text-orange-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.infrastructureCondition)}`,children:[e.infrastructureCondition,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("infrastructureCondition",e.infrastructureCondition)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("biodiversityCondition")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("biodiversityCondition",e.biodiversityCondition),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Ws,{className:"mr-1 text-green-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Biodiversity"}),e.biodiversityCondition<50&&a.jsx(ft,{className:"ml-1 text-orange-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.biodiversityCondition)}`,children:[e.biodiversityCondition,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("biodiversityCondition",e.biodiversityCondition)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("propertiesCondition")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("propertiesCondition",e.propertiesCondition),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Jn,{className:"mr-1 text-blue-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Properties"}),e.propertiesCondition<50&&a.jsx(ft,{className:"ml-1 text-orange-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.propertiesCondition)}`,children:[e.propertiesCondition,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("propertiesCondition",e.propertiesCondition)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("nuclearPowerStation")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("nuclearPowerStation",e.nuclearPowerStation),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(wo,{className:"mr-1 text-purple-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Nuclear"}),e.nuclearPowerStation<50&&a.jsx(ft,{className:"ml-1 text-red-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.nuclearPowerStation,!0)}`,children:[e.nuclearPowerStation,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("nuclearPowerStation",e.nuclearPowerStation)})]})]})]})},HI=({option:e,onSelect:t,onReview:n,currentMetrics:r,scenarioIndex:i,hasExploredAlternatives:s=!0,onInfeasibleCheck:o,isInfeasibleChecked:l=!1})=>{const[c,d]=Pe.useState(!1),[u,f]=Pe.useState(!1),[h,m]=Pe.useState(l),g=()=>{n(e)},x=N=>{const C=N.target.checked;m(C),o&&o(e,C)};Pe.useEffect(()=>{m(l)},[l]);const y=(N,C=!1,k=!1)=>C?`+${N}`:k?`+${N}`:`${N}%`,p=()=>Object.values(e.expertOpinions).map(k=>k.recommendation).filter(k=>k==="Accept").length,v=()=>{if(i!==2||!r)return{isFeasible:!0,insufficientResources:[]};const N=[];return r.firefightingResource+e.impact.firefightingResource<0&&N.push({metric:"Resources",needed:Math.abs(e.impact.firefightingResource),available:r.firefightingResource}),r.infrastructureCondition+e.impact.infrastructureCondition<0&&N.push({metric:"Infrastructure",needed:Math.abs(e.impact.infrastructureCondition),available:r.infrastructureCondition}),r.biodiversityCondition+e.impact.biodiversityCondition<0&&N.push({metric:"Biodiversity",needed:Math.abs(e.impact.biodiversityCondition),available:r.biodiversityCondition}),r.propertiesCondition+e.impact.propertiesCondition<0&&N.push({metric:"Properties",needed:Math.abs(e.impact.propertiesCondition),available:r.propertiesCondition}),{isFeasible:N.length===0,insufficientResources:N}},{isFeasible:b,insufficientResources:S}=v();return{safety:{name:"Safety",icon:a.jsx(Rs,{size:12,className:"mr-1"})},efficiency:{name:"Efficiency",icon:a.jsx(qr,{size:12,className:"mr-1"})},sustainability:{name:"Sustainability",icon:a.jsx(zh,{size:12,className:"mr-1"})},fairness:{name:"Fairness",icon:a.jsx(zi,{size:12,className:"mr-1"})},nonmaleficence:{name:"Nonmaleficence",icon:a.jsx(Vh,{size:12,className:"mr-1"})}}[e.label],a.jsxs("div",{className:"relative",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[a.jsxs("div",{className:`bg-white border ${b?"border-gray-300":"border-red-300 bg-red-50/50 opacity-75"} text-left p-3 rounded-lg transition-all duration-200 flex flex-col w-full`,children:[!b&&a.jsx("div",{className:"absolute top-2 left-2 z-10 flex items-center gap-1",children:a.jsx(ft,{size:16,className:"text-red-600"})}),!b&&i===2&&o&&a.jsx("div",{className:"absolute top-2 right-2 z-10",children:a.jsxs("label",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-3 py-2 rounded-lg shadow-lg cursor-pointer hover:from-blue-600 hover:to-cyan-600 transition-all duration-200 border-2 border-white",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:x,className:"w-5 h-5 rounded border-2 border-white cursor-pointer accent-yellow-400"}),a.jsx("span",{className:"text-sm font-semibold whitespace-nowrap",children:"Would choose if feasible"})]})}),a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:`text-lg font-bold ${b?"bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent":"text-red-800"} mb-1 ${b?"":"ml-6"} tracking-tight`,children:e.title}),a.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.description})]}),a.jsx("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",children:[a.jsx(ws,{size:12,className:"text-green-600"}),a.jsxs("span",{className:"text-xs text-gray-700 whitespace-nowrap font-medium",children:[p(),"/5 recommend"]})]})})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-2 mb-2",children:[a.jsx("h5",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1.5",children:"Key Considerations"}),e.riskInfo.map((N,C)=>a.jsxs("div",{className:"flex items-start mb-1 last:mb-0",children:[a.jsx("span",{className:"text-red-500 mr-2 mt-0.5 font-bold",children:""}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:N})]},C))]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-2 mb-2",children:[a.jsx("h5",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1.5",children:"Metrics Impact"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1.5 text-xs",children:[a.jsxs("div",{className:"flex items-center text-green-600 font-medium",children:[a.jsx(Ri,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Lives Saved: ",y(e.impact.livesSaved,!0)]})]}),a.jsxs("div",{className:"flex items-center text-red-600 font-medium",children:[a.jsx(So,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Casualties: ",y(e.impact.humanCasualties,!1,!0)]})]}),a.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:[a.jsx(qr,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Resources: ",y(e.impact.firefightingResource)]})]}),a.jsxs("div",{className:"flex items-center text-gray-600 font-medium",children:[a.jsx(Jn,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Infrastructure: ",y(e.impact.infrastructureCondition)]})]}),a.jsxs("div",{className:"flex items-center text-green-600 font-medium",children:[a.jsx(Ws,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Biodiversity: ",y(e.impact.biodiversityCondition)]})]}),a.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:[a.jsx(Jn,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Properties: ",y(e.impact.propertiesCondition)]})]}),a.jsxs("div",{className:"flex items-center text-purple-600 font-medium",children:[a.jsx(wo,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Nuclear: ",y(e.impact.nuclearPowerStation)]})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:g,className:"flex-1 py-2 px-4 rounded-md font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-md hover:shadow-lg flex items-center justify-center gap-1",children:[a.jsx(Br,{size:16}),"Review"]}),a.jsxs("div",{className:"relative flex-1",onMouseEnter:()=>!s&&f(!0),onMouseLeave:()=>f(!1),children:[a.jsx("button",{onClick:()=>!b||!s?null:t(e),disabled:!b||!s,className:`w-full py-2 px-4 rounded-md font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 ${b?s?"bg-teal-600 text-white hover:bg-teal-700 focus:ring-teal-500 shadow-md hover:shadow-lg":"bg-gray-300 text-gray-600 cursor-not-allowed border border-gray-400":"bg-red-100 text-red-700 cursor-not-allowed border border-red-300"}`,children:b?"Select":"Not Feasible"}),!s&&u&&a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-30 w-72 pointer-events-none",children:a.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-2 border-amber-400 text-gray-800 px-4 py-3 rounded-lg shadow-2xl",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ft,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-sm text-amber-900 mb-1",children:"Explore Alternatives First"}),a.jsxs("p",{className:"text-xs leading-relaxed text-gray-700",children:["Please explore alternative options before making your selection. Find the ",a.jsx("span",{className:"font-semibold text-amber-800",children:'"Explore Alternatives"'})," button at the bottom of this page."]})]})]}),a.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-3 h-3 bg-gradient-to-br from-amber-50 to-orange-50 border-r-2 border-b-2 border-amber-400"})]})})]})]})]}),!b&&c&&S.length>0&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 z-20 bg-red-600 text-white text-xs px-3 py-2 rounded-md shadow-lg transition-opacity duration-200",children:[a.jsx("div",{className:"font-semibold mb-1",children:"Not Feasible:"}),S.map((N,C)=>a.jsxs("div",{children:["Not enough ",N.metric," (needs ",N.needed,"%, you have ",N.available,"%)"]},C))]})]})},UI=({isOpen:e,onClose:t,option:n,onKeepChoice:r,onReviewAlternatives:i,isAligned:s,hasExploredAlternatives:o})=>(Pe.useEffect(()=>{e&&o&&setTimeout(()=>{r()},100)},[e,o,r]),e?a.jsx("div",{className:"fixed inset-0",style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px",overflow:"hidden",opacity:0,pointerEvents:"none",zIndex:-1},children:a.jsxs("div",{className:"bg-white text-[6px] rounded-sm shadow-sm max-w-[60px] w-full p-[1px]",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-[1px]",children:[a.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:n.title}),a.jsx("button",{onClick:t,className:"text-gray-400 p-[1px]",children:a.jsx(An,{size:8})})]}),a.jsx("div",{className:"p-[1px]",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:r,disabled:!o,className:`px-[2px] py-[1px] rounded-sm text-[5px] transition-all duration-200 font-medium ${o?"bg-gradient-to-r from-blue-400 to-indigo-400 text-white":"bg-gray-200 text-gray-400 cursor-not-allowed opacity-60"}`,children:"Keep"})})})]})}):null),YI=({isOpen:e,onClose:t,option:n,onConfirmDecision:r,canConfirm:i,onReviewAlternatives:s,showMisalignmentWarning:o=!1,scenarioNumber:l,matchedStableValues:c=[]})=>{const[d,u]=j.useState(!1),[f,h]=j.useState(!0),[m,g]=j.useState(!1),x=j.useRef(null);if(j.useEffect(()=>{if(e&&x.current){const I=x.current,_=I.scrollHeight>I.clientHeight;g(_);const P=()=>{I.scrollHeight-I.scrollTop-I.clientHeight<50&&g(!1)};return I.addEventListener("scroll",P),()=>I.removeEventListener("scroll",P)}},[e]),!e)return null;const y=I=>{const _=localStorage.getItem("hasReorderedValues")==="true",P=localStorage.getItem("cvrYesClicked")==="true",L=localStorage.getItem("cvrNoClicked")==="true";_||(P||L)?(u(!0),window.pendingAction="close",window.cvrYesClicked=P):t()},p=()=>{localStorage.removeItem("MoralValuesReorderList"),localStorage.removeItem("moralValuesRanking"),localStorage.setItem("hasReorderedValues","false"),localStorage.setItem("cvrYesClicked","false"),localStorage.setItem("cvrNoClicked","false"),u(!1),window.pendingAction==="close"?t():(t(),s()),delete window.pendingAction,delete window.cvrYesClicked},v=()=>{u(!1),delete window.pendingAction,delete window.cvrYesClicked},b=(I,_=!1,P=!1)=>_?`+${I}`:P?`+${I}`:`${I}%`,S=()=>{const I=Object.values(n.expertOpinions),_=I.filter(L=>L.recommendation==="Accept").length,P=I.filter(L=>L.recommendation==="Reject").length;return{accepts:_,rejects:P,total:I.length}},{accepts:w,rejects:N,total:C}=S(),k=window.cvrYesClicked===!0;return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Decision Summary"}),a.jsx("button",{onClick:()=>y(),className:"text-gray-500 hover:text-gray-700",children:a.jsx(An,{size:24})})]}),a.jsxs("div",{ref:x,className:"p-6 flex-1 overflow-auto relative",children:[o&&l===3&&a.jsx("div",{className:"mb-6 bg-gradient-to-r from-red-50 to-orange-50 border-2 border-red-400 rounded-xl shadow-lg p-4 animate-pulse",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a.jsx(ft,{className:"text-red-600",size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-bold text-red-900 text-base mb-2",children:"Warning: This Option Does Not Align With Your Values"}),a.jsxs("p",{className:"text-red-800 text-sm leading-relaxed mb-3",children:["The option you've selected (",a.jsx("strong",{children:n.label}),") is not aligned with your top stable values",c.length>0&&` (${c.map(I=>I.charAt(0).toUpperCase()+I.slice(1)).join(", ")})`,"."]}),a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-3 rounded-r-lg",children:a.jsx("p",{className:"text-red-900 text-sm font-semibold",children:"Please carefully consider whether this decision reflects what matters most to you before confirming."})})]})]})}),a.jsx("div",{className:"mb-6 bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-400 rounded-xl shadow-md p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a.jsx(vs,{className:"text-yellow-600",size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-bold text-yellow-900 text-base mb-2",children:"Why You're Seeing This Page"}),a.jsxs("p",{className:"text-yellow-800 text-sm leading-relaxed mb-3",children:["This is your ",a.jsx("strong",{children:"final review"})," before committing to this decision. You're seeing a summary of what you've chosen and how it will affect your mission."]}),a.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-3 rounded-r-lg",children:[a.jsx("p",{className:"text-yellow-900 text-sm font-semibold mb-1",children:'Important: What Happens When You Click "Confirm Decision"'}),a.jsxs("ul",{className:"text-yellow-800 text-sm space-y-1 ml-4 list-disc",children:[a.jsxs("li",{children:["This option's impacts will be ",a.jsx("strong",{children:"permanently applied"})," to your cumulative simulation scores"]}),a.jsxs("li",{children:["All metrics (lives saved, resources, infrastructure, etc.) will be ",a.jsx("strong",{children:"updated immediately"})]}),a.jsxs("li",{children:["These changes will ",a.jsx("strong",{children:"carry forward"})," to the next scenario, affecting your future options"]}),a.jsxs("li",{children:["You ",a.jsx("strong",{children:"cannot undo"})," this decision once confirmed"]})]})]}),a.jsx("p",{className:"text-yellow-800 text-xs mt-2 italic",children:"Take your time to review the expert consensus and impact summary below before confirming."})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:n.title}),a.jsx("p",{className:"text-gray-600 text-sm",children:n.description})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"Expert Consensus"}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ws,{className:"text-green-500",size:20}),a.jsxs("span",{className:"font-medium text-green-700",children:[w," Recommend"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($h,{className:"text-red-500",size:20}),a.jsxs("span",{className:"font-medium text-red-700",children:[N," Do Not Recommend"]})]}),a.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:[w,"/",C," experts support this decision"]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors mb-3 group",children:[a.jsx("h5",{className:"font-medium text-gray-700",children:"Impact Summary"}),a.jsx("div",{className:"text-gray-600",children:f?a.jsx(Wb,{size:20}):a.jsx(xs,{size:20})})]}),f&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded border-l-4 border-green-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ri,{size:16,className:"text-green-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Lives Saved"})]}),a.jsx("span",{className:"font-bold text-green-600",children:b(n.impact.livesSaved,!0)})]}),n.impact.humanCasualties>0&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded border-l-4 border-red-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(So,{size:16,className:"text-red-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Casualties"})]}),a.jsx("span",{className:"font-bold text-red-600",children:b(n.impact.humanCasualties,!1,!0)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(qr,{size:14,className:"text-blue-600"}),a.jsx("span",{className:"text-xs font-medium",children:"Resources"})]}),a.jsx("span",{className:"text-sm font-bold text-blue-600",children:b(n.impact.firefightingResource)})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Jn,{size:14,className:"text-gray-600"}),a.jsx("span",{className:"text-xs font-medium",children:"Infrastructure"})]}),a.jsx("span",{className:"text-sm font-bold text-gray-600",children:b(n.impact.infrastructureCondition)})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ws,{size:14,className:"text-green-600"}),a.jsx("span",{className:"text-xs font-medium",children:"Biodiversity"})]}),a.jsx("span",{className:"text-sm font-bold text-green-600",children:b(n.impact.biodiversityCondition)})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-purple-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(wo,{size:14,className:"text-purple-600"}),a.jsx("span",{className:"text-xs font-medium",children:"Nuclear"})]}),a.jsx("span",{className:"text-sm font-bold text-purple-600",children:b(n.impact.nuclearPowerStation)})]})]})]})]}),!i&&a.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-200 rounded-lg relative",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-400 to-red-400 rounded-full flex items-center justify-center animate-pulse",children:a.jsx("span",{className:"text-white text-sm font-bold",children:"!"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-orange-800 mb-1",children:"Action Required"}),a.jsx("p",{className:"text-xs text-orange-700",children:"Please review alternatives before confirming your decision."})]})]})}),m&&a.jsx("div",{className:"sticky bottom-0 left-0 right-0 flex justify-center pb-4",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-xs px-4 py-2 rounded-full shadow-lg animate-bounce",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xs,{size:16}),a.jsx("span",{children:"Scroll down to see more"}),a.jsx(xs,{size:16})]})})})]}),a.jsx("div",{className:"border-t p-6 bg-gray-50",children:a.jsxs("div",{className:"flex flex-col gap-3 max-w-md mx-auto",children:[a.jsxs("button",{onClick:()=>y(),className:"w-full flex items-center justify-center gap-3 px-8 py-4 rounded-xl transition-all duration-300 bg-gradient-to-r from-gray-600 to-gray-700 text-white hover:from-gray-700 hover:to-gray-800 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold text-base group",children:[a.jsx(Bh,{size:20,className:"group-hover:rotate-180 transition-transform duration-500"}),"Change My Mind"]}),a.jsxs("button",{onClick:r,disabled:!i,className:`w-full flex items-center justify-center gap-3 px-8 py-4 rounded-xl transition-all duration-300 font-semibold text-base shadow-lg ${i?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 hover:shadow-xl transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:i?"":"Review alternatives to enable confirmation",children:[a.jsx($b,{size:20}),"Confirm Decision"]}),!i&&a.jsx("p",{className:"text-xs text-center text-orange-600 italic",children:"You must view all alternatives before confirming"})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(ft,{className:"text-orange-500",size:32})})}),k?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center mb-3",children:"Your Value Reflection Will Be Cleared"}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:"You confirmed your decision in the value reflection scenario. If you go back now, your response to that reflection question will be cleared, and the value prioritization you established will be reset."}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Tip:"})," Consider confirming your current decision to preserve your value reflection response, or continue if you'd like to reconsider your choice from the beginning."]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center mb-3",children:"Your Preference Changes Will Be Lost"}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:"You recently reordered your values to help guide this decision. If you go back now, these personalized rankings will be cleared and you'll need to set them up again if you want to use them."}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Tip:"})," Consider confirming your current decision to preserve your preference settings, or continue if you'd like to explore other options from scratch."]})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Stay Here"}),a.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Continue Anyway"})]})]})})})]})},Vy="label";function jx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function GI(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function zy(e,t){e.labels=t}function By(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vy;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function qI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vy;const n={labels:[],datasets:[]};return zy(n,e.labels),By(n,e.datasets,t),n}function JI(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:f,...h}=e,m=j.useRef(null),g=j.useRef(null),x=()=>{m.current&&(g.current=new Bi(m.current,{type:o,data:qI(l,s),options:c&&{...c},plugins:d}),jx(t,g.current))},y=()=>{jx(t,null),g.current&&(g.current.destroy(),g.current=null)};return j.useEffect(()=>{!i&&g.current&&c&&GI(g.current,c)},[i,c]),j.useEffect(()=>{!i&&g.current&&zy(g.current.config.data,l.labels)},[i,l.labels]),j.useEffect(()=>{!i&&g.current&&l.datasets&&By(g.current.config.data,l.datasets,s)},[i,l.datasets]),j.useEffect(()=>{g.current&&(i?(y(),setTimeout(x)):g.current.update(f))},[i,c,l.labels,l.datasets,f]),j.useEffect(()=>{g.current&&(y(),setTimeout(x))},[o]),j.useEffect(()=>(x(),()=>y()),[]),Pe.createElement("canvas",{ref:m,role:"img",height:n,width:r,...h},u)}const KI=j.forwardRef(JI);function om(e,t){return Bi.register(t),j.forwardRef((n,r)=>Pe.createElement(KI,{...n,ref:r,type:e}))}const $y=om("line",Fl),lm=om("bar",Ll),QI=om("radar",Vl);Bi.register(so,ao,Ns,am,ed,Zc,cs,Ci,Pn,Ty);const fu={"Fire Containment":"fireContainment","Population Safety":"populationSafety","Ethical Fairness":"ethicalFairness","Firefighter Risk":"firefighterRisk","Resource Use":"resourceUse","Infrastructure Damage":"infrastructureDamage","Biodiversity Impact":"biodiversityImpact"},XI=({showRadarChart:e,onClose:t,currentScenario:n,toggledOptions:r,toggleOption:i,prepareRadarChartData:s,radarOptions:o})=>{var _,P,L,Y;const[l,c]=j.useState("Fire Containment"),[d,u]=j.useState("radar"),[f,h]=j.useState(()=>localStorage.getItem("hasClickedBar")==="true"),[m,g]=j.useState(()=>localStorage.getItem("hasClickedDifferences")==="true");if(!e)return null;const x=[...n.options];Object.values(r).filter(Boolean).length;const y={fireContainment:100,populationSafety:100,ethicalFairness:100,firefighterRisk:0,resourceUse:0,infrastructureDamage:0,biodiversityImpact:0},p=["Fire Containment","Population Safety","Ethical Fairness","Firefighter Risk","Resource Use","Infrastructure Damage","Biodiversity Impact"],v=E=>["Fire Containment","Population Safety","Ethical Fairness"].includes(E),b={standard:["rgba(239, 68, 68, 0.7)","rgba(59, 130, 246, 0.7)","rgba(16, 185, 129, 0.7)","rgba(245, 158, 11, 0.7)","rgba(139, 92, 246, 0.7)"],border:["rgb(239, 68, 68)","rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(139, 92, 246)"]},S=()=>{const E=x.filter(M=>r[M.id]).map((M,D)=>({label:M.title,data:p.map(O=>{var R;return((R=M.radarData)==null?void 0:R[fu[O]])||0}),backgroundColor:b.standard[D%b.standard.length],borderColor:b.border[D%b.border.length],borderWidth:2}));return{labels:p,datasets:E}},w=()=>{const E=x.filter(D=>r[D.id]),M=fu[l];return{labels:E.map(D=>D.title),datasets:[{label:l,data:E.map(D=>{var O;return((O=D.radarData)==null?void 0:O[M])||0}),backgroundColor:E.map((D,O)=>b.standard[O%b.standard.length]),borderColor:E.map((D,O)=>b.border[O%b.border.length]),borderWidth:2},{label:"Ideal",data:Array(E.length).fill(y[M]),type:"line",borderColor:"rgba(138, 43, 226, 1)",borderWidth:2,borderDash:[5,5],fill:!1}]}},N=()=>{var O,R;const E=x.filter(F=>r[F.id]),M=fu[l],D=[];for(let F=0;F<E.length;F++)for(let V=F+1;V<E.length;V++){const H=((O=E[F].radarData)==null?void 0:O[M])||0,W=((R=E[V].radarData)==null?void 0:R[M])||0,oe=Math.abs(H-W),Z=v(l)?H>W?E[F].title:E[V].title:H<W?E[F].title:E[V].title;D.push({option1:E[F].title,option2:E[V].title,difference:oe,better:Z})}return D.sort((F,V)=>V.difference-F.difference)},C=E=>{u(E),E==="bar"&&!f&&(h(!0),localStorage.setItem("hasClickedBar","true")),E==="differences"&&!m&&(g(!0),localStorage.setItem("hasClickedDifferences","true"))},k=E=>{c(E)},I=E=>{i(E)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx(Ds,{className:"mr-2 text-blue-600",size:20}),"Decision Trade-Off Comparison"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>C("radar"),className:`px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${d==="radar"?"bg-blue-500 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(G2,{size:16,className:"inline mr-1"}),"Radar"]}),a.jsxs("button",{onClick:()=>C("bar"),className:`px-3 py-1.5 rounded-md text-sm transition-all duration-200 relative ${d==="bar"?"bg-green-500 text-white shadow-lg scale-105":f?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 animate-pulse"}`,children:[a.jsx(V2,{size:16,className:"inline mr-1"}),"Bar",!f&&d!=="bar"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full animate-ping"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full"})]})]}),a.jsxs("button",{onClick:()=>C("differences"),className:`px-3 py-1.5 rounded-md text-sm transition-all duration-200 relative ${d==="differences"?"bg-purple-500 text-white shadow-lg scale-105":m?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 animate-pulse"}`,children:[a.jsx(Hb,{size:16,className:"inline mr-1"}),"Differences",!m&&d!=="differences"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full animate-ping"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx(An,{size:20})})]})]}),a.jsxs("div",{className:"p-4 flex-1 overflow-auto",children:[d!=="radar"&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Metrics"}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border border-emerald-200 rounded-lg p-3 shadow-sm",children:[a.jsxs("h5",{className:"text-xs font-bold text-emerald-800 mb-2 flex items-center",children:[a.jsx("span",{className:"bg-emerald-200 rounded-full w-2 h-2 mr-2"}),"Positive Impact (Higher is Better)"]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:["Fire Containment","Population Safety","Ethical Fairness"].map(E=>a.jsx("button",{onClick:()=>k(E),className:`px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${l===E?"bg-emerald-600 text-white shadow-lg scale-105":"bg-white text-emerald-700 hover:bg-emerald-100 border border-emerald-300"}`,children:E},E))})]}),a.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 border border-rose-200 rounded-lg p-3 shadow-sm",children:[a.jsxs("h5",{className:"text-xs font-bold text-rose-800 mb-2 flex items-center",children:[a.jsx("span",{className:"bg-rose-200 rounded-full w-2 h-2 mr-2"}),"Negative Impact (Lower is Better)"]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:["Firefighter Risk","Resource Use","Infrastructure Damage","Biodiversity Impact"].map(E=>a.jsx("button",{onClick:()=>k(E),className:`px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${l===E?"bg-rose-600 text-white shadow-lg scale-105":"bg-white text-rose-700 hover:bg-rose-100 border border-rose-300"}`,children:E},E))})]})]})})]}),d==="radar"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Scenario Selected Options"}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(E=>a.jsxs("button",{onClick:()=>I(E.id),className:`w-full p-2 rounded-lg flex items-center justify-between transition-all duration-200 ${r[E.id]?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${r[E.id]?"bg-gray-500":"bg-gray-300"}`}),a.jsx("span",{className:"text-sm font-medium",children:E.title})]}),r[E.id]?a.jsx(Br,{size:16,className:"text-current"}):a.jsx(Qd,{size:16,className:"text-current"})]},E.id))})})]}),a.jsx("div",{className:"h-[450px]",children:a.jsx(QI,{data:S(),options:{...o,scales:{r:{...(_=o==null?void 0:o.scales)==null?void 0:_.r,pointLabels:{...(L=(P=o==null?void 0:o.scales)==null?void 0:P.r)==null?void 0:L.pointLabels,color:function(E){const M=E.label;return v(M)?"#059669":"#dc2626"},font:{size:12,weight:"bold"}}}},plugins:{...o==null?void 0:o.plugins,legend:{...(Y=o==null?void 0:o.plugins)==null?void 0:Y.legend}}},plugins:[{id:"radarBackground",beforeDraw:E=>{const M=E.ctx,D=E.chartArea,O=E.scales.r;if(!O||!D)return;M.save();const R=O.xCenter,F=O.yCenter,V=O.drawingArea;p.forEach((H,W)=>{const oe=Math.PI*2*W/p.length-Math.PI/2,Z=Math.PI*2*(W+1)/p.length-Math.PI/2;M.beginPath(),M.moveTo(R,F),M.arc(R,F,V,oe,Z),M.closePath(),v(H)?M.fillStyle="rgba(16, 185, 129, 0.08)":M.fillStyle="rgba(239, 68, 68, 0.08)",M.fill()}),M.restore()}}]})}),a.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Metrics Legend"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium text-green-800 mb-2",children:"Positive Impact Metrics (Higher is Better)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Di,{size:16,className:"text-red-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Fire Containment"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rs,{size:16,className:"text-blue-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Population Safety"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(zi,{size:16,className:"text-purple-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Ethical Fairness"})]})]})]}),a.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium text-red-800 mb-2",children:"Negative Impact Metrics (Lower is Better)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ft,{size:16,className:"text-orange-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Firefighter Risk"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(qr,{size:16,className:"text-blue-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Resource Use"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jn,{size:16,className:"text-gray-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Infrastructure Damage"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ws,{size:16,className:"text-green-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Biodiversity Impact"})]})]})]})]})]})]}),d==="bar"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Scenario Selected Options"}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(E=>a.jsxs("button",{onClick:()=>I(E.id),className:`w-full p-2 rounded-lg flex items-center justify-between transition-all duration-200 ${r[E.id]?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${r[E.id]?"bg-gray-500":"bg-gray-300"}`}),a.jsx("span",{className:"text-sm font-medium",children:E.title})]}),r[E.id]?a.jsx(Br,{size:16,className:"text-current"}):a.jsx(Qd,{size:16,className:"text-current"})]},E.id))})})]}),a.jsx("div",{className:"h-[450px]",children:a.jsx(lm,{data:w(),options:{responsive:!0,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:l}}},plugins:{legend:{position:"bottom",labels:{filter:function(E){return E.text==="Ideal"}}},tooltip:{callbacks:{label:E=>{const M=E.raw;return`${E.dataset.label}: ${M} (${v(l)?"Higher is better":"Lower is better"})`}}}}}})})]}),d==="differences"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Scenario Selected Options"}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(E=>a.jsxs("button",{onClick:()=>I(E.id),className:`w-full p-2 rounded-lg flex items-center justify-between transition-all duration-200 ${r[E.id]?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${r[E.id]?"bg-gray-500":"bg-gray-300"}`}),a.jsx("span",{className:"text-sm font-medium",children:E.title})]}),r[E.id]?a.jsx(Br,{size:16,className:"text-current"}):a.jsx(Qd,{size:16,className:"text-current"})]},E.id))})})]}),a.jsx("div",{className:"space-y-3",children:N().map((E,M)=>a.jsxs("div",{className:"bg-white border-2 border-gray-200 hover:border-blue-300 p-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-gray-800",children:E.option1}),a.jsx("span",{className:"text-gray-400 font-medium",children:"vs"}),a.jsx("span",{className:"font-semibold text-gray-800",children:E.option2})]}),a.jsxs("span",{className:"font-bold text-purple-600 bg-purple-50 px-3 py-1 rounded-lg",children:[" ",E.difference.toFixed(1)]})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[a.jsx("span",{className:"font-semibold text-blue-700 bg-blue-50 px-2 py-1 rounded",children:E.better})," ",a.jsx("span",{className:"text-gray-500",children:"performs better in this metric"})]})]},M))})]})]})]})})},ZI=({isOpen:e,onClose:t,alternativeOptions:n,onAddAlternative:r})=>{const[i,s]=j.useState(null);if(!e)return null;const o=f=>{switch(f){case"safety":return a.jsx(Rs,{className:"text-red-500",size:16});case"efficiency":return a.jsx(hc,{className:"text-yellow-500",size:16});case"sustainability":return a.jsx(zh,{className:"text-green-500",size:16});case"fairness":return a.jsx(zi,{className:"text-blue-500",size:16});case"nonmaleficence":return a.jsx(Vh,{className:"text-purple-500",size:16});default:return null}},l=f=>f==="Accept"?a.jsx(ws,{className:"text-green-600",size:18}):f==="Reject"?a.jsx($h,{className:"text-red-600",size:18}):a.jsx(hc,{className:"text-gray-600",size:18}),c=f=>f.charAt(0).toUpperCase()+f.slice(1)+" Expert",d=f=>Object.values(f.expertOpinions).filter(h=>h.recommendation==="Accept").length,u=()=>{s(null),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl max-w-7xl w-full h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[a.jsx(wi,{className:"mr-2.5 text-purple-600",size:24}),"Explore Alternative Decisions"]}),a.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-white rounded-lg",children:a.jsx(An,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:i?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"px-6 pt-4 pb-3 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:[a.jsxs("button",{onClick:()=>s(null),className:"text-sm text-purple-600 hover:text-purple-800 flex items-center font-medium mb-3 hover:underline",children:[a.jsx(An,{size:16,className:"mr-1"}),"Back to alternatives"]}),a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-bold text-blue-900 mb-1.5",children:"Decision Overview"}),a.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:i.description})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg border-2 border-blue-200 shadow-sm",children:[a.jsx(ws,{className:"text-green-600",size:18}),a.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[d(i),"/5"]}),a.jsx("span",{className:"text-xs text-gray-600",children:"recommend"})]})]}),a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:i.riskInfo.map((f,h)=>a.jsxs("div",{className:"flex items-start bg-white rounded-lg px-2 py-1.5",children:[a.jsx("span",{className:"text-blue-500 mr-1.5 mt-0.5 font-bold",children:""}),a.jsx("p",{className:"text-xs text-blue-800",children:f})]},h))})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[a.jsx("h4",{className:"text-base font-bold text-gray-800 mb-3 flex items-center",children:a.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm mr-2",children:"Expert Evaluations"})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:Object.entries(i.expertOpinions).map(([f,h])=>a.jsxs("div",{className:`rounded-xl p-4 border-2 transition-all duration-200 ${h.recommendation==="Accept"?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg":h.recommendation==="Reject"?"bg-gradient-to-br from-red-50 to-pink-50 border-red-200 hover:shadow-lg":"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-200 hover:shadow-lg"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[o(f),a.jsx("h5",{className:"text-sm font-bold text-gray-800",children:c(f)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[l(h.recommendation),a.jsx("span",{className:`text-sm font-bold px-3 py-1 rounded-full ${h.recommendation==="Accept"?"bg-green-600 text-white":h.recommendation==="Reject"?"bg-red-600 text-white":"bg-gray-600 text-white"}`,children:h.recommendation})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"bg-white bg-opacity-70 p-2.5 rounded-lg",children:a.jsxs("p",{className:"text-xs text-gray-800 leading-relaxed",children:[a.jsx("span",{className:"font-bold text-gray-900",children:"Analysis:"})," ",h.summary]})}),a.jsx("div",{className:"bg-blue-100 bg-opacity-50 p-2.5 rounded-lg",children:a.jsxs("p",{className:"text-xs text-blue-900 leading-relaxed",children:[a.jsx("span",{className:"font-bold",children:"Comparison:"})," ",h.comparison]})})]})]},f))})]}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsxs("button",{onClick:()=>{r(i),u()},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-2 transition-all duration-200 shadow-lg hover:shadow-xl text-base",children:[a.jsx(wi,{size:20}),"Add Alternative to Decision List"]})})]}):a.jsx(a.Fragment,{children:n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-full p-8 mb-6 shadow-lg",children:a.jsx(dr,{className:"text-green-600",size:56})}),a.jsx("h4",{className:"text-2xl font-bold text-gray-800 mb-3 text-center",children:"All Alternatives Explored!"}),a.jsx("p",{className:"text-base text-gray-600 text-center max-w-md mb-8 leading-relaxed",children:"You've successfully reviewed and added all available alternative decisions for this scenario. All options are now visible on the simulation page, ready for your evaluation."}),a.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-5 mb-8 max-w-md",children:a.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[a.jsx("span",{className:"font-semibold",children:"Next Steps:"})," Return to the simulation page to compare all options, review their metrics, and make your final decision."]})}),a.jsxs("button",{onClick:u,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-3.5 px-8 rounded-xl flex items-center gap-2 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(yi,{size:20}),"Return to Simulation"]})]}):a.jsxs("div",{className:"p-8 h-full flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 p-5 rounded-2xl mb-6 shadow-sm",children:[a.jsxs("h4",{className:"text-base font-bold text-purple-900 mb-2 flex items-center",children:[a.jsx(wi,{className:"mr-2 text-purple-600",size:20}),"About Alternative Decisions"]}),a.jsx("p",{className:"text-sm text-purple-700 leading-relaxed",children:"Our experts have analyzed alternative strategies that might offer different trade-offs. These options provide unique approaches to handling the crisis, potentially balancing various factors in innovative ways."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5 flex-1 overflow-y-auto pr-2",children:n.map(f=>a.jsxs("div",{className:"flex flex-col bg-white rounded-2xl border-2 border-gray-200 hover:border-purple-400 hover:shadow-2xl transition-all duration-300 h-fit",children:[a.jsxs("div",{className:"p-5 flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h5",{className:"font-bold text-gray-900 text-base leading-tight flex-1 mr-2",children:f.title}),a.jsxs("div",{className:"flex items-center gap-1.5 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800 px-3 py-1.5 rounded-full font-bold whitespace-nowrap shadow-sm",children:[a.jsx(ws,{size:14}),a.jsxs("span",{className:"text-xs",children:[d(f),"/5"]})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed line-clamp-2",children:f.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[f.riskInfo.slice(0,2).map((h,m)=>a.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-2",children:[a.jsx("span",{className:"text-purple-500 mr-2 mt-0.5 font-bold text-sm",children:""}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed line-clamp-2",children:h})]},m)),f.riskInfo.length>2&&a.jsxs("p",{className:"text-xs text-purple-600 font-semibold pl-2",children:["+",f.riskInfo.length-2," more details..."]})]})]}),a.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-purple-50 border-t-2 border-gray-100 rounded-b-2xl",children:a.jsxs("button",{onClick:()=>s(f),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[a.jsx(Tn,{size:18}),"Select & View Details"]})})]},f.id))})]})})})]})})},eP=({isOpen:e,onClose:t,question:n,onAnswer:r})=>e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ft,{className:"text-yellow-500\\",size:24}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Value Reflection Required"})]}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx(An,{size:20})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:n.descriptionTile}),a.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:a.jsx("p",{className:"text-yellow-800 font-medium",children:n.question})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>r(!0),className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Yes, I would"}),a.jsx("button",{onClick:()=>r(!1),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors duration-200",children:"No, I would not"})]})]})]})}):null;function Af(e,t){return Af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Af(e,t)}function Wy(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Af(e,t)}function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(null,arguments)}function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function tP(e,t){if(oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nP(e){var t=tP(e,"string");return oo(t)=="symbol"?t:t+""}function rP(e,t,n){return(t=nP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cx(Object(n),!0).forEach(function(r){rP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ix=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Px=function(){return Math.random().toString(36).substring(7).split("").join(".")},_x={INIT:"@@redux/INIT"+Px(),REPLACE:"@@redux/REPLACE"+Px()};function iP(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Hy(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zt(1));return n(Hy)(e,t)}if(typeof e!="function")throw new Error(zt(2));var i=e,s=t,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(zt(3));return s}function f(x){if(typeof x!="function")throw new Error(zt(4));if(c)throw new Error(zt(5));var y=!0;return d(),l.push(x),function(){if(y){if(c)throw new Error(zt(6));y=!1,d();var v=l.indexOf(x);l.splice(v,1),o=null}}}function h(x){if(!iP(x))throw new Error(zt(7));if(typeof x.type>"u")throw new Error(zt(8));if(c)throw new Error(zt(9));try{c=!0,s=i(s,x)}finally{c=!1}for(var y=o=l,p=0;p<y.length;p++){var v=y[p];v()}return x}function m(x){if(typeof x!="function")throw new Error(zt(10));i=x,h({type:_x.REPLACE})}function g(){var x,y=f;return x={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(zt(11));function b(){v.next&&v.next(u())}b();var S=y(b);return{unsubscribe:S}}},x[Ix]=function(){return this},x}return h({type:_x.INIT}),r={dispatch:h,subscribe:f,getState:u,replaceReducer:m},r[Ix]=g,r}function Ex(e,t){return function(){return t(e.apply(this,arguments))}}function Dx(e,t){if(typeof e=="function")return Ex(e,t);if(typeof e!="object"||e===null)throw new Error(zt(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=Ex(i,t))}return n}function Uy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function sP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(zt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return s=Uy.apply(void 0,l)(i.dispatch),kx(kx({},i),{},{dispatch:s})}}}var Yy=Pe.createContext(null);function aP(e){e()}var Gy=aP,oP=function(t){return Gy=t},lP=function(){return Gy};function cP(){var e=lP(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=t;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Rx={notify:function(){},get:function(){return[]}};function qy(e,t){var n,r=Rx;function i(f){return c(),r.subscribe(f)}function s(){r.notify()}function o(){u.onStateChange&&u.onStateChange()}function l(){return!!n}function c(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=cP())}function d(){n&&(n(),n=void 0,r.clear(),r=Rx)}var u={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return r}};return u}var Jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function dP(e){var t=e.store,n=e.context,r=e.children,i=j.useMemo(function(){var l=qy(t);return{store:t,subscription:l}},[t]),s=j.useMemo(function(){return t.getState()},[t]);Jy(function(){var l=i.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[i,s]);var o=n||Yy;return Pe.createElement(o.Provider,{value:i},r)}function wc(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ky={exports:{}},Oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xt=typeof Symbol=="function"&&Symbol.for,cm=xt?Symbol.for("react.element"):60103,dm=xt?Symbol.for("react.portal"):60106,nd=xt?Symbol.for("react.fragment"):60107,rd=xt?Symbol.for("react.strict_mode"):60108,id=xt?Symbol.for("react.profiler"):60114,sd=xt?Symbol.for("react.provider"):60109,ad=xt?Symbol.for("react.context"):60110,um=xt?Symbol.for("react.async_mode"):60111,od=xt?Symbol.for("react.concurrent_mode"):60111,ld=xt?Symbol.for("react.forward_ref"):60112,cd=xt?Symbol.for("react.suspense"):60113,uP=xt?Symbol.for("react.suspense_list"):60120,dd=xt?Symbol.for("react.memo"):60115,ud=xt?Symbol.for("react.lazy"):60116,fP=xt?Symbol.for("react.block"):60121,hP=xt?Symbol.for("react.fundamental"):60117,mP=xt?Symbol.for("react.responder"):60118,pP=xt?Symbol.for("react.scope"):60119;function cn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cm:switch(e=e.type,e){case um:case od:case nd:case id:case rd:case cd:return e;default:switch(e=e&&e.$$typeof,e){case ad:case ld:case ud:case dd:case sd:return e;default:return t}}case dm:return t}}}function Qy(e){return cn(e)===od}Oe.AsyncMode=um;Oe.ConcurrentMode=od;Oe.ContextConsumer=ad;Oe.ContextProvider=sd;Oe.Element=cm;Oe.ForwardRef=ld;Oe.Fragment=nd;Oe.Lazy=ud;Oe.Memo=dd;Oe.Portal=dm;Oe.Profiler=id;Oe.StrictMode=rd;Oe.Suspense=cd;Oe.isAsyncMode=function(e){return Qy(e)||cn(e)===um};Oe.isConcurrentMode=Qy;Oe.isContextConsumer=function(e){return cn(e)===ad};Oe.isContextProvider=function(e){return cn(e)===sd};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cm};Oe.isForwardRef=function(e){return cn(e)===ld};Oe.isFragment=function(e){return cn(e)===nd};Oe.isLazy=function(e){return cn(e)===ud};Oe.isMemo=function(e){return cn(e)===dd};Oe.isPortal=function(e){return cn(e)===dm};Oe.isProfiler=function(e){return cn(e)===id};Oe.isStrictMode=function(e){return cn(e)===rd};Oe.isSuspense=function(e){return cn(e)===cd};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nd||e===od||e===id||e===rd||e===cd||e===uP||typeof e=="object"&&e!==null&&(e.$$typeof===ud||e.$$typeof===dd||e.$$typeof===sd||e.$$typeof===ad||e.$$typeof===ld||e.$$typeof===hP||e.$$typeof===mP||e.$$typeof===pP||e.$$typeof===fP)};Oe.typeOf=cn;Ky.exports=Oe;var gP=Ky.exports,fm=gP,xP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},vP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Xy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hm={};hm[fm.ForwardRef]=bP;hm[fm.Memo]=Xy;function Mx(e){return fm.isMemo(e)?Xy:hm[e.$$typeof]||xP}var yP=Object.defineProperty,wP=Object.getOwnPropertyNames,Tx=Object.getOwnPropertySymbols,SP=Object.getOwnPropertyDescriptor,NP=Object.getPrototypeOf,Ax=Object.prototype;function Zy(e,t,n){if(typeof t!="string"){if(Ax){var r=NP(t);r&&r!==Ax&&Zy(e,r,n)}var i=wP(t);Tx&&(i=i.concat(Tx(t)));for(var s=Mx(e),o=Mx(t),l=0;l<i.length;++l){var c=i[l];if(!vP[c]&&!(n&&n[c])&&!(o&&o[c])&&!(s&&s[c])){var d=SP(t,c);try{yP(e,c,d)}catch{}}}}return e}var jP=Zy;const Ox=$f(jP);var ew={exports:{}},Be={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=60103,hd=60106,jo=60107,Co=60108,ko=60114,Io=60109,Po=60110,_o=60112,Eo=60113,mm=60120,Do=60115,Ro=60116,tw=60121,nw=60122,rw=60117,iw=60129,sw=60131;if(typeof Symbol=="function"&&Symbol.for){var vt=Symbol.for;fd=vt("react.element"),hd=vt("react.portal"),jo=vt("react.fragment"),Co=vt("react.strict_mode"),ko=vt("react.profiler"),Io=vt("react.provider"),Po=vt("react.context"),_o=vt("react.forward_ref"),Eo=vt("react.suspense"),mm=vt("react.suspense_list"),Do=vt("react.memo"),Ro=vt("react.lazy"),tw=vt("react.block"),nw=vt("react.server.block"),rw=vt("react.fundamental"),iw=vt("react.debug_trace_mode"),sw=vt("react.legacy_hidden")}function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fd:switch(e=e.type,e){case jo:case ko:case Co:case Eo:case mm:return e;default:switch(e=e&&e.$$typeof,e){case Po:case _o:case Ro:case Do:case Io:return e;default:return t}}case hd:return t}}}var CP=Io,kP=fd,IP=_o,PP=jo,_P=Ro,EP=Do,DP=hd,RP=ko,MP=Co,TP=Eo;Be.ContextConsumer=Po;Be.ContextProvider=CP;Be.Element=kP;Be.ForwardRef=IP;Be.Fragment=PP;Be.Lazy=_P;Be.Memo=EP;Be.Portal=DP;Be.Profiler=RP;Be.StrictMode=MP;Be.Suspense=TP;Be.isAsyncMode=function(){return!1};Be.isConcurrentMode=function(){return!1};Be.isContextConsumer=function(e){return On(e)===Po};Be.isContextProvider=function(e){return On(e)===Io};Be.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fd};Be.isForwardRef=function(e){return On(e)===_o};Be.isFragment=function(e){return On(e)===jo};Be.isLazy=function(e){return On(e)===Ro};Be.isMemo=function(e){return On(e)===Do};Be.isPortal=function(e){return On(e)===hd};Be.isProfiler=function(e){return On(e)===ko};Be.isStrictMode=function(e){return On(e)===Co};Be.isSuspense=function(e){return On(e)===Eo};Be.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jo||e===ko||e===iw||e===Co||e===Eo||e===mm||e===sw||typeof e=="object"&&e!==null&&(e.$$typeof===Ro||e.$$typeof===Do||e.$$typeof===Io||e.$$typeof===Po||e.$$typeof===_o||e.$$typeof===rw||e.$$typeof===tw||e[0]===nw)};Be.typeOf=On;ew.exports=Be;var AP=ew.exports,OP=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],LP=["reactReduxForwardedRef"],FP=[],VP=[null,null];function zP(e,t){var n=e[1];return[t.payload,n+1]}function Lx(e,t,n){Jy(function(){return e.apply(void 0,t)},n)}function BP(e,t,n,r,i,s,o){e.current=r,t.current=i,n.current=!1,s.current&&(s.current=null,o())}function $P(e,t,n,r,i,s,o,l,c,d){if(e){var u=!1,f=null,h=function(){if(!u){var x=t.getState(),y,p;try{y=r(x,i.current)}catch(v){p=v,f=v}p||(f=null),y===s.current?o.current||c():(s.current=y,l.current=y,o.current=!0,d({type:"STORE_UPDATED",payload:{error:p}}))}};n.onStateChange=h,n.trySubscribe(),h();var m=function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f};return m}}var WP=function(){return[null,0]};function HP(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(b){return"ConnectAdvanced("+b+")"}:r,s=n.methodName,o=s===void 0?"connectAdvanced":s,l=n.renderCountProp,c=l===void 0?void 0:l,d=n.shouldHandleStateChanges,u=d===void 0?!0:d,f=n.storeKey,h=f===void 0?"store":f;n.withRef;var m=n.forwardRef,g=m===void 0?!1:m,x=n.context,y=x===void 0?Yy:x,p=wc(n,OP),v=y;return function(S){var w=S.displayName||S.name||"Component",N=i(w),C=ae({},p,{getDisplayName:i,methodName:o,renderCountProp:c,shouldHandleStateChanges:u,storeKey:h,displayName:N,wrappedComponentName:w,WrappedComponent:S}),k=p.pure;function I(E){return e(E.dispatch,C)}var _=k?j.useMemo:function(E){return E()};function P(E){var M=j.useMemo(function(){var de=E.reactReduxForwardedRef,ye=wc(E,LP);return[E.context,de,ye]},[E]),D=M[0],O=M[1],R=M[2],F=j.useMemo(function(){return D&&D.Consumer&&AP.isContextConsumer(Pe.createElement(D.Consumer,null))?D:v},[D,v]),V=j.useContext(F),H=!!E.store&&!!E.store.getState&&!!E.store.dispatch;V&&V.store;var W=H?E.store:V.store,oe=j.useMemo(function(){return I(W)},[W]),Z=j.useMemo(function(){if(!u)return VP;var de=qy(W,H?null:V.subscription),ye=de.notifyNestedSubs.bind(de);return[de,ye]},[W,H,V]),U=Z[0],J=Z[1],le=j.useMemo(function(){return H?V:ae({},V,{subscription:U})},[H,V,U]),$e=j.useReducer(zP,FP,WP),T=$e[0],A=T[0],ce=$e[1];if(A&&A.error)throw A.error;var he=j.useRef(),z=j.useRef(R),X=j.useRef(),K=j.useRef(!1),me=_(function(){return X.current&&R===z.current?X.current:oe(W.getState(),R)},[W,A,R]);Lx(BP,[z,he,K,R,me,X,J]),Lx($P,[u,W,U,oe,z,he,K,X,J,ce],[W,U,oe]);var se=j.useMemo(function(){return Pe.createElement(S,ae({},me,{ref:O}))},[O,S,me]),ke=j.useMemo(function(){return u?Pe.createElement(F.Provider,{value:le},se):se},[F,se,le]);return ke}var L=k?Pe.memo(P):P;if(L.WrappedComponent=S,L.displayName=P.displayName=N,g){var Y=Pe.forwardRef(function(M,D){return Pe.createElement(L,ae({},M,{reactReduxForwardedRef:D}))});return Y.displayName=N,Y.WrappedComponent=S,Ox(Y,S)}return Ox(L,S)}}function Fx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function hu(e,t){if(Fx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Fx(e[n[i]],t[n[i]]))return!1;return!0}function UP(e,t){var n={},r=function(o){var l=e[o];typeof l=="function"&&(n[o]=function(){return t(l.apply(void 0,arguments))})};for(var i in e)r(i);return n}function pm(e){return function(n,r){var i=e(n,r);function s(){return i}return s.dependsOnOwnProps=!1,s}}function Vx(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function aw(e,t){return function(r,i){i.displayName;var s=function(l,c){return s.dependsOnOwnProps?s.mapToProps(l,c):s.mapToProps(l)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,c){s.mapToProps=e,s.dependsOnOwnProps=Vx(e);var d=s(l,c);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=Vx(d),d=s(l,c)),d},s}}function YP(e){return typeof e=="function"?aw(e):void 0}function GP(e){return e?void 0:pm(function(t){return{dispatch:t}})}function qP(e){return e&&typeof e=="object"?pm(function(t){return UP(e,t)}):void 0}const JP=[YP,GP,qP];function KP(e){return typeof e=="function"?aw(e):void 0}function QP(e){return e?void 0:pm(function(){return{}})}const XP=[KP,QP];function ZP(e,t,n){return ae({},n,e,t)}function e_(e){return function(n,r){r.displayName;var i=r.pure,s=r.areMergedPropsEqual,o=!1,l;return function(d,u,f){var h=e(d,u,f);return o?(!i||!s(h,l))&&(l=h):(o=!0,l=h),l}}}function t_(e){return typeof e=="function"?e_(e):void 0}function n_(e){return e?void 0:function(){return ZP}}const r_=[t_,n_];var i_=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function s_(e,t,n,r){return function(s,o){return n(e(s,o),t(r,o),o)}}function a_(e,t,n,r,i){var s=i.areStatesEqual,o=i.areOwnPropsEqual,l=i.areStatePropsEqual,c=!1,d,u,f,h,m;function g(b,S){return d=b,u=S,f=e(d,u),h=t(r,u),m=n(f,h,u),c=!0,m}function x(){return f=e(d,u),t.dependsOnOwnProps&&(h=t(r,u)),m=n(f,h,u),m}function y(){return e.dependsOnOwnProps&&(f=e(d,u)),t.dependsOnOwnProps&&(h=t(r,u)),m=n(f,h,u),m}function p(){var b=e(d,u),S=!l(b,f);return f=b,S&&(m=n(f,h,u)),m}function v(b,S){var w=!o(S,u),N=!s(b,d,S,u);return d=b,u=S,w&&N?x():w?y():N?p():m}return function(S,w){return c?v(S,w):g(S,w)}}function o_(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,s=wc(t,i_),o=n(e,s),l=r(e,s),c=i(e,s),d=s.pure?a_:s_;return d(o,l,c,e,s)}var l_=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function mu(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(s,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function c_(e,t){return e===t}function d_(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?HP:n,i=t.mapStateToPropsFactories,s=i===void 0?XP:i,o=t.mapDispatchToPropsFactories,l=o===void 0?JP:o,c=t.mergePropsFactories,d=c===void 0?r_:c,u=t.selectorFactory,f=u===void 0?o_:u;return function(m,g,x,y){y===void 0&&(y={});var p=y,v=p.pure,b=v===void 0?!0:v,S=p.areStatesEqual,w=S===void 0?c_:S,N=p.areOwnPropsEqual,C=N===void 0?hu:N,k=p.areStatePropsEqual,I=k===void 0?hu:k,_=p.areMergedPropsEqual,P=_===void 0?hu:_,L=wc(p,l_),Y=mu(m,s,"mapStateToProps"),E=mu(g,l,"mapDispatchToProps"),M=mu(x,d,"mergeProps");return r(f,ae({methodName:"connect",getDisplayName:function(O){return"Connect("+O+")"},shouldHandleStateChanges:!!m,initMapStateToProps:Y,initMapDispatchToProps:E,initMergeProps:M,pure:b,areStatesEqual:w,areOwnPropsEqual:C,areStatePropsEqual:I,areMergedPropsEqual:P},L))}}const ow=d_();oP(Lh.unstable_batchedUpdates);function u_(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lw(e,t){var n=j.useState(function(){return{inputs:t,result:e()}})[0],r=j.useRef(!0),i=j.useRef(n),s=r.current||!!(t&&i.current.inputs&&u_(t,i.current.inputs)),o=s?i.current:{inputs:t,result:e()};return j.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function f_(e,t){return lw(function(){return e},t)}var _e=lw,ee=f_,h_="Invariant failed";function m_(e,t){throw new Error(h_)}var _n=function(t){var n=t.top,r=t.right,i=t.bottom,s=t.left,o=r-s,l=i-n,c={top:n,right:r,bottom:i,left:s,width:o,height:l,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return c},gm=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},zx=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},p_=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},pu={top:0,right:0,bottom:0,left:0},xm=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?pu:r,s=t.border,o=s===void 0?pu:s,l=t.padding,c=l===void 0?pu:l,d=_n(gm(n,i)),u=_n(zx(n,o)),f=_n(zx(u,c));return{marginBox:d,borderBox:_n(n),paddingBox:u,contentBox:f,margin:i,border:o,padding:c}},fn=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&m_(),i},g_=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Sc=function(t,n){var r=t.borderBox,i=t.border,s=t.margin,o=t.padding,l=p_(r,n);return xm({borderBox:l,border:i,margin:s,padding:o})},Nc=function(t,n){return n===void 0&&(n=g_()),Sc(t,n)},cw=function(t,n){var r={top:fn(n.marginTop),right:fn(n.marginRight),bottom:fn(n.marginBottom),left:fn(n.marginLeft)},i={top:fn(n.paddingTop),right:fn(n.paddingRight),bottom:fn(n.paddingBottom),left:fn(n.paddingLeft)},s={top:fn(n.borderTopWidth),right:fn(n.borderRightWidth),bottom:fn(n.borderBottomWidth),left:fn(n.borderLeftWidth)};return xm({borderBox:t,margin:r,padding:i,border:s})},dw=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return cw(n,r)},Bx=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function x_(e,t){return!!(e===t||Bx(e)&&Bx(t))}function v_(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!x_(e[n],t[n]))return!1;return!0}function mt(e,t){t===void 0&&(t=v_);var n,r=[],i,s=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s&&n===this&&t(l,r)||(i=e.apply(this,l),s=!0,n=this,r=l),i}return o}var lo=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function uw(e,t){}uw.bind(null,"warn");uw.bind(null,"error");function Wr(){}function b_(e,t){return ae({},e,{},t)}function xn(e,t,n){var r=t.map(function(i){var s=b_(n,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(function(s){s()})}}var y_="Invariant failed";function jc(e){this.message=e}jc.prototype.toString=function(){return this.message};function $(e,t){throw new jc(y_)}var w_=function(e){Wy(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.callbacks=null,r.unbind=Wr,r.onWindowError=function(l){var c=r.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof jc&&l.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(l){r.callbacks=l},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=xn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof jc){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(Pe.Component),S_=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Cc=function(t){return t+1},N_=function(t){return`
  You have lifted an item in position `+Cc(t.source.index)+`
`},fw=function(t,n){var r=t.droppableId===n.droppableId,i=Cc(t.index),s=Cc(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+s+`
  `},hw=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},j_=function(t){var n=t.destination;if(n)return fw(t.source,n);var r=t.combine;return r?hw(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},$x=function(t){return`
  The item has returned to its starting position
  of `+Cc(t.index)+`
`},C_=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+$x(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+fw(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+hw(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+$x(t.source)+`
  `},$l={dragHandleUsageInstructions:S_,onDragStart:N_,onDragUpdate:j_,onDragEnd:C_},gt={x:0,y:0},wt=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},en=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Hr=function(t,n){return t.x===n.x&&t.y===n.y},Us=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Oi=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},co=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},Wx=function(t,n){return Math.min.apply(Math,n.map(function(r){return co(t,r)}))},mw=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},k_=function(e,t){var n=_n({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},Mo=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Hx=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},I_={top:0,right:0,bottom:0,left:0},P_=function(t,n){return n?Mo(t,n.scroll.diff.displacement):t},__=function(t,n,r){if(r&&r.increasedBy){var i;return ae({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},E_=function(t,n){return n&&n.shouldClipSubject?k_(n.pageMarginBox,t):_n(t)},Os=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,s=P_(t.marginBox,i),o=__(s,r,n),l=E_(o,i);return{page:t,withPlaceholder:n,active:l}},vm=function(e,t){e.frame||$();var n=e.frame,r=en(t,n.scroll.initial),i=Us(r),s=ae({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),o=Os({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s}),l=ae({},e,{frame:s,subject:o});return l};function kc(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function bm(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function ni(e,t){if(e.find)return e.find(t);var n=bm(e,t);if(n!==-1)return e[n]}function pw(e){return Array.prototype.slice.call(e)}var gw=mt(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),xw=mt(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),md=mt(function(e){return kc(e)}),D_=mt(function(e){return kc(e)}),Ys=mt(function(e,t){var n=D_(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function ym(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function pd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var gd=mt(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),R_=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,s=e.previousImpact;if(!r.isCombineEnabled)return null;var o=ym(s);if(!o)return null;function l(x){var y={type:"COMBINE",combine:{draggableId:x,droppableId:r.descriptor.id}};return ae({},s,{at:y})}var c=s.displaced.all,d=c.length?c[0]:null;if(t)return d?l(d):null;var u=gd(n,i);if(!d){if(!u.length)return null;var f=u[u.length-1];return l(f.descriptor.id)}var h=bm(u,function(x){return x.descriptor.id===d});h===-1&&$();var m=h-1;if(m<0)return null;var g=u[m];return l(g.descriptor.id)},Gs=function(e,t){return e.descriptor.droppableId===t.descriptor.id},vw={point:gt,value:0},uo={invisible:{},visible:{},all:[]},M_={displaced:uo,displacedBy:vw,at:null},bn=function(e,t){return function(n){return e<=n&&n<=t}},bw=function(e){var t=bn(e.top,e.bottom),n=bn(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var s=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right),l=s&&o;if(l)return!0;var c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right,u=c&&d;if(u)return!0;var f=c&&o||d&&s;return f}},T_=function(e){var t=bn(e.top,e.bottom),n=bn(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},wm={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},yw={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},A_=function(e){return function(t){var n=bn(t.top,t.bottom),r=bn(t.left,t.right);return function(i){return e===wm?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},O_=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:gt;return Mo(t,r)},L_=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},F_=function(t,n,r){return r(n)(t)},Sm=function(t){var n=t.target,r=t.destination,i=t.viewport,s=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=s?O_(n,r):n;return L_(l,r,o)&&F_(l,i,o)},V_=function(t){return Sm(ae({},t,{isVisibleThroughFrameFn:bw}))},ww=function(t){return Sm(ae({},t,{isVisibleThroughFrameFn:T_}))},z_=function(t){return Sm(ae({},t,{isVisibleThroughFrameFn:A_(t.destination.axis)}))},B_=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,s=n.visible;if(i[t])return!1;var o=s[t];return o?o.shouldAnimate:!0};function $_(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return _n(gm(n,r))}function fo(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,s=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,d){var u=$_(d,r),f=d.descriptor.id;c.all.push(f);var h=V_({target:u,destination:n,viewport:i,withDroppableDisplacement:!0});if(!h)return c.invisible[d.descriptor.id]=!0,c;var m=B_(f,o,s),g={draggableId:f,shouldAnimate:m};return c.visible[f]=g,c},{all:[],visible:{},invisible:{}})}function W_(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function Ux(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,s=W_(t,{inHomeList:n});return{displaced:uo,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function Ic(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,s=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=Gs(t,r);if(l==null)return Ux({insideDestination:n,inHomeList:d,displacedBy:s,destination:r});var u=ni(n,function(x){return x.descriptor.index===l});if(!u)return Ux({insideDestination:n,inHomeList:d,displacedBy:s,destination:r});var f=gd(t,n),h=n.indexOf(u),m=f.slice(h),g=fo({afterDragging:m,destination:r,displacedBy:s,last:o,viewport:i.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function Kr(e,t){return!!t.effected[e]}var H_=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,s=e.afterCritical;if(!n.isCombineEnabled)return null;var o=i.draggableId,l=r[o],c=l.descriptor.index,d=Kr(o,s);return d?t?c:c-1:t?c+1:c},U_=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var s=i.index,o=t?s+1:s-1,l=r[0].descriptor.index,c=r[r.length-1].descriptor.index,d=n?c:c+1;return o<l||o>d?null:o},Y_=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,s=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,u=l.at;if(u||$(),u.type==="REORDER"){var f=U_({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:o});return f==null?null:Ic({draggable:r,insideDestination:o,destination:s,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var h=H_({isMovingForward:t,destination:s,displaced:l.displaced,draggables:i,combine:u.combine,afterCritical:d});return h==null?null:Ic({draggable:r,insideDestination:o,destination:s,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},G_=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,s=!!(t.visible[r]||t.invisible[r]);return Kr(r,n)?s?gt:Us(i.point):s?i.point:gt},q_=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=pd(n);i||$();var s=i.draggableId,o=r[s].page.borderBox.center,l=G_({displaced:n.displaced,afterCritical:t,combineWith:s,displacedBy:n.displacedBy});return wt(o,l)},Sw=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},J_=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},Nm=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},Yx=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Oi(n.line,r.marginBox[n.end]+Sw(n,i),Nm(n,r.marginBox,i))},Gx=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Oi(n.line,r.marginBox[n.start]-J_(n,i),Nm(n,r.marginBox,i))},K_=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return Oi(n.line,r.contentBox[n.start]+Sw(n,i),Nm(n,r.contentBox,i))},Q_=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,s=e.afterCritical,o=Ys(i.descriptor.id,r),l=n.page,c=i.axis;if(!o.length)return K_({axis:c,moveInto:i.page,isMoving:l});var d=t.displaced,u=t.displacedBy,f=d.all[0];if(f){var h=r[f];if(Kr(f,s))return Gx({axis:c,moveRelativeTo:h.page,isMoving:l});var m=Sc(h.page,u.point);return Gx({axis:c,moveRelativeTo:m,isMoving:l})}var g=o[o.length-1];if(g.descriptor.id===n.descriptor.id)return l.borderBox.center;if(Kr(g.descriptor.id,s)){var x=Sc(g.page,Us(s.displacedBy.point));return Yx({axis:c,moveRelativeTo:x,isMoving:l})}return Yx({axis:c,moveRelativeTo:g.page,isMoving:l})},Of=function(e,t){var n=e.frame;return n?wt(t,n.scroll.diff.displacement):t},X_=function(t){var n=t.impact,r=t.draggable,i=t.droppable,s=t.draggables,o=t.afterCritical,l=r.page.borderBox.center,c=n.at;return!i||!c?l:c.type==="REORDER"?Q_({impact:n,draggable:r,draggables:s,droppable:i,afterCritical:o}):q_({impact:n,draggables:s,afterCritical:o})},xd=function(e){var t=X_(e),n=e.droppable,r=n?Of(n,t):t;return r},Nw=function(e,t){var n=en(t,e.scroll.initial),r=Us(n),i=_n({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),s={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return s};function qx(e,t){return e.map(function(n){return t[n]})}function Z_(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var eE=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,s=e.maxScrollChange,o=Nw(n,wt(n.scroll.current,s)),l=r.frame?vm(r,wt(r.frame.scroll.current,s)):r,c=t.displaced,d=fo({afterDragging:qx(c.all,i),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),u=fo({afterDragging:qx(c.all,i),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),f={},h={},m=[c,d,u];c.all.forEach(function(x){var y=Z_(x,m);if(y){h[x]=y;return}f[x]=!0});var g=ae({},t,{displaced:{all:c.all,invisible:f,visible:h}});return g},tE=function(e,t){return wt(e.scroll.diff.displacement,t)},jm=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=tE(r,t),s=en(i,n.page.borderBox.center);return wt(n.client.borderBox.center,s)},jw=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,s=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=en(r,t.page.borderBox.center),d=Mo(t.page.borderBox,c),u={target:d,destination:n,withDroppableDisplacement:s,viewport:i};return l?z_(u):ww(u)},nE=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,s=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!r.isEnabled)return null;var u=Ys(r.descriptor.id,i),f=Gs(n,r),h=R_({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:s})||Y_({isMovingForward:t,isInHomeList:f,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:s,viewport:o,afterCritical:d});if(!h)return null;var m=xd({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:d}),g=jw({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var x=jm({pageBorderBoxCenter:m,draggable:n,viewport:o});return{clientSelection:x,impact:h,scrollJumpRequest:null}}var y=en(m,l),p=eE({impact:h,viewport:o,destination:r,draggables:i,maxScrollChange:y});return{clientSelection:c,impact:p,scrollJumpRequest:y}},Rt=function(t){var n=t.subject.active;return n||$(),n},rE=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,s=e.viewport,o=r.subject.active;if(!o)return null;var l=r.axis,c=bn(o[l.start],o[l.end]),d=md(i).filter(function(f){return f!==r}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return bw(s.frame)(Rt(f))}).filter(function(f){var h=Rt(f);return t?o[l.crossAxisEnd]<h[l.crossAxisEnd]:h[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(f){var h=Rt(f),m=bn(h[l.start],h[l.end]);return c(h[l.start])||c(h[l.end])||m(o[l.start])||m(o[l.end])}).sort(function(f,h){var m=Rt(f)[l.crossAxisStart],g=Rt(h)[l.crossAxisStart];return t?m-g:g-m}).filter(function(f,h,m){return Rt(f)[l.crossAxisStart]===Rt(m[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var u=d.filter(function(f){var h=bn(Rt(f)[l.start],Rt(f)[l.end]);return h(n[l.line])});return u.length===1?u[0]:u.length>1?u.sort(function(f,h){return Rt(f)[l.start]-Rt(h)[l.start]})[0]:d.sort(function(f,h){var m=Wx(n,Hx(Rt(f))),g=Wx(n,Hx(Rt(h)));return m!==g?m-g:Rt(f)[l.start]-Rt(h)[l.start]})[0]},Jx=function(t,n){var r=t.page.borderBox.center;return Kr(t.descriptor.id,n)?en(r,n.displacedBy.point):r},iE=function(t,n){var r=t.page.borderBox;return Kr(t.descriptor.id,n)?Mo(r,Us(n.displacedBy.point)):r},sE=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,s=e.afterCritical,o=i.filter(function(l){return ww({target:iE(l,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=co(t,Of(r,Jx(l,s))),u=co(t,Of(r,Jx(c,s)));return d<u?-1:u<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},To=mt(function(t,n){var r=n[t.line];return{value:r,point:Oi(t.line,r)}}),aE=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return Oi(i.line,n[i.line]);var s=t.subject.page.contentBox[i.size],o=Ys(t.descriptor.id,r),l=o.reduce(function(u,f){return u+f.client.marginBox[i.size]},0),c=l+n[i.line],d=c-s;return d<=0?null:Oi(i.line,d)},Cw=function(t,n){return ae({},t,{scroll:ae({},t.scroll,{max:n})})},kw=function(t,n,r){var i=t.frame;Gs(n,t)&&$(),t.subject.withPlaceholder&&$();var s=To(t.axis,n.displaceBy).point,o=aE(t,s,r),l={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var c=Os({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return ae({},t,{subject:c})}var d=o?wt(i.scroll.max,o):i.scroll.max,u=Cw(i,d),f=Os({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:u});return ae({},t,{subject:f,frame:u})},oE=function(t){var n=t.subject.withPlaceholder;n||$();var r=t.frame;if(!r){var i=Os({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ae({},t,{subject:i})}var s=n.oldFrameMaxScroll;s||$();var o=Cw(r,s),l=Os({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return ae({},t,{subject:l,frame:o})},lE=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,s=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!n){if(r.length)return null;var d={displaced:uo,displacedBy:vw,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=xd({impact:d,draggable:i,droppable:o,draggables:s,afterCritical:c}),f=Gs(i,o)?o:kw(o,i,s),h=jw({draggable:i,destination:f,newPageBorderBoxCenter:u,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?d:null}var m=t[o.axis.line]<=n.page.borderBox.center[o.axis.line],g=function(){var y=n.descriptor.index;return n.descriptor.id===i.descriptor.id||m?y:y+1}(),x=To(o.axis,i.displaceBy);return Ic({draggable:i,insideDestination:r,destination:o,viewport:l,displacedBy:x,last:uo,index:g})},cE=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,s=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=rE({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:o,viewport:l});if(!d)return null;var u=Ys(d.descriptor.id,s),f=sE({pageBorderBoxCenter:n,viewport:l,destination:d,insideDestination:u,afterCritical:c}),h=lE({previousPageBorderBoxCenter:n,destination:d,draggable:r,draggables:s,moveRelativeTo:f,insideDestination:u,viewport:l,afterCritical:c});if(!h)return null;var m=xd({impact:h,draggable:r,droppable:d,draggables:s,afterCritical:c}),g=jm({pageBorderBoxCenter:m,draggable:r,viewport:l});return{clientSelection:g,impact:h,scrollJumpRequest:null}},rn=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},dE=function(t,n){var r=rn(t);return r?n[r]:null},uE=function(e){var t=e.state,n=e.type,r=dE(t.impact,t.dimensions.droppables),i=!!r,s=t.dimensions.droppables[t.critical.droppable.id],o=r||s,l=o.axis.direction,c=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(c&&!i)return null;var d=n==="MOVE_DOWN"||n==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,m=h.draggables,g=h.droppables;return c?nE({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):cE({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,isOver:o,draggables:m,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function ui(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Iw(e){var t=bn(e.top,e.bottom),n=bn(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function fE(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function hE(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,s=r.map(function(o){var l=o.axis,c=Oi(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:co(i,c)}}).sort(function(o,l){return l.distance-o.distance});return s[0]?s[0].id:null}function mE(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=md(r).filter(function(s){if(!s.isEnabled)return!1;var o=s.subject.active;if(!o||!fE(t,o))return!1;if(Iw(o)(t.center))return!0;var l=s.axis,c=o.center[l.crossAxisLine],d=t[l.crossAxisStart],u=t[l.crossAxisEnd],f=bn(o[l.crossAxisStart],o[l.crossAxisEnd]),h=f(d),m=f(u);return!h&&!m?!0:h?d<c:u>c});return i.length?i.length===1?i[0].descriptor.id:hE({pageBorderBox:t,draggable:n,candidates:i}):null}var Pw=function(t,n){return _n(Mo(t,n))},pE=function(e,t){var n=e.frame;return n?Pw(t,n.scroll.diff.value):t};function _w(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function gE(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var xE=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,s=e.last,o=e.viewport,l=e.afterCritical,c=r.axis,d=To(r.axis,n.displaceBy),u=d.value,f=t[c.start],h=t[c.end],m=gd(n,i),g=ni(m,function(y){var p=y.descriptor.id,v=y.page.borderBox.center[c.line],b=Kr(p,l),S=_w({displaced:s,id:p});return b?S?h<=v:f<v-u:S?h<=v+u:f<v}),x=gE({draggable:n,closest:g,inHomeList:Gs(n,r)});return Ic({draggable:n,insideDestination:i,destination:r,viewport:o,last:s,displacedBy:d,index:x})},vE=4,bE=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,s=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var l=i.axis,c=To(i.axis,t.displaceBy),d=c.value,u=n[l.start],f=n[l.end],h=gd(t,s),m=ni(h,function(x){var y=x.descriptor.id,p=x.page.borderBox,v=p[l.size],b=v/vE,S=Kr(y,o),w=_w({displaced:r.displaced,id:y});return S?w?f>p[l.start]+b&&f<p[l.end]-b:u>p[l.start]-d+b&&u<p[l.end]-d-b:w?f>p[l.start]+d+b&&f<p[l.end]+d-b:u>p[l.start]+b&&u<p[l.end]-b});if(!m)return null;var g={displacedBy:c,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:i.descriptor.id}}};return g},Ew=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,s=e.previousImpact,o=e.viewport,l=e.afterCritical,c=Pw(n.page.borderBox,t),d=mE({pageBorderBox:c,draggable:n,droppables:i});if(!d)return M_;var u=i[d],f=Ys(u.descriptor.id,r),h=pE(u,c);return bE({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:s,destination:u,insideDestination:f,afterCritical:l})||xE({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:f,last:s.displaced,viewport:o,afterCritical:l})},Cm=function(e,t){var n;return ae({},e,(n={},n[t.descriptor.id]=t,n))},yE=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,s=rn(n),o=rn(r);if(!s||s===o)return i;var l=i[s];if(!l.subject.withPlaceholder)return i;var c=oE(l);return Cm(i,c)},wE=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,s=e.impact,o=yE({previousImpact:i,impact:s,droppables:r}),l=rn(s);if(!l)return o;var c=r[l];if(Gs(t,c)||c.subject.withPlaceholder)return o;var d=kw(c,t,n);return Cm(o,d)},Ra=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,s=e.impact,o=e.scrollJumpRequest,l=i||t.viewport,c=r||t.dimensions,d=n||t.current.client.selection,u=en(d,t.initial.client.selection),f={offset:u,selection:d,borderBoxCenter:wt(t.initial.client.borderBoxCenter,u)},h={selection:wt(f.selection,l.scroll.current),borderBoxCenter:wt(f.borderBoxCenter,l.scroll.current),offset:wt(f.offset,l.scroll.diff.value)},m={client:f,page:h};if(t.phase==="COLLECTING")return ae({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var g=c.draggables[t.critical.draggable.id],x=s||Ew({pageOffset:h.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),y=wE({draggable:g,impact:x,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),p=ae({},t,{current:m,dimensions:{draggables:c.draggables,droppables:y},impact:x,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return p};function SE(e,t){return e.map(function(n){return t[n]})}var Dw=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,s=e.forceShouldAnimate,o=t.displaced,l=SE(o.all,r),c=fo({afterDragging:l,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:o});return ae({},t,{displaced:c})},Rw=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,s=e.viewport,o=e.afterCritical,l=xd({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o});return jm({pageBorderBoxCenter:l,draggable:n,viewport:s})},Mw=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&$();var i=t.impact,s=r||t.viewport,o=n||t.dimensions,l=o.draggables,c=o.droppables,d=l[t.critical.draggable.id],u=rn(i);u||$();var f=c[u],h=Dw({impact:i,viewport:s,destination:f,draggables:l}),m=Rw({impact:h,draggable:d,droppable:f,draggables:l,viewport:s,afterCritical:t.afterCritical});return Ra({impact:h,clientSelection:m,state:t,dimensions:o,viewport:s})},NE=function(e){return{index:e.index,droppableId:e.droppableId}},Tw=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,s=To(n.axis,t.displaceBy),o=Ys(n.descriptor.id,r),l=o.indexOf(t);l===-1&&$();var c=o.slice(l+1),d=c.reduce(function(m,g){return m[g.descriptor.id]=!0,m},{}),u={inVirtualList:n.descriptor.mode==="virtual",displacedBy:s,effected:d},f=fo({afterDragging:c,destination:n,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:s,at:{type:"REORDER",destination:NE(t.descriptor)}};return{impact:h,afterCritical:u}},jE=function(e,t){return{draggables:e.draggables,droppables:Cm(e.droppables,t)}},CE=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=Sc(t.client,n),s=Nc(i,r),o=ae({},t,{placeholder:ae({},t.placeholder,{client:i}),client:i,page:s});return o},kE=function(e){var t=e.frame;return t||$(),t},IE=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(s){var o=s.descriptor.droppableId,l=n[o],c=kE(l),d=c.scroll.diff.value,u=wt(i,d),f=CE({draggable:s,offset:u,initialWindowScroll:r.scroll.initial});return f})},PE=function(e){var t=e.state,n=e.published,r=n.modified.map(function(b){var S=t.dimensions.droppables[b.droppableId],w=vm(S,b.scroll);return w}),i=ae({},t.dimensions.droppables,{},gw(r)),s=xw(IE({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),o=ae({},t.dimensions.draggables,{},s);n.removals.forEach(function(b){delete o[b]});var l={droppables:i,draggables:o},c=rn(t.impact),d=c?l.droppables[c]:null,u=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],h=Tw({draggable:u,home:f,draggables:o,viewport:t.viewport}),m=h.impact,g=h.afterCritical,x=d&&d.isCombineEnabled?t.impact:m,y=Ew({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:x,viewport:t.viewport,afterCritical:g}),p=ae({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:y,onLiftImpact:m,dimensions:l,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return p;var v=ae({phase:"DROP_PENDING"},p,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return v},Lf=function(t){return t.movementMode==="SNAP"},gu=function(t,n,r){var i=jE(t.dimensions,n);return!Lf(t)||r?Ra({state:t,dimensions:i}):Mw({state:t,dimensions:i})};function xu(e){return e.isDragging&&e.movementMode==="SNAP"?ae({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Kx={phase:"IDLE",completed:null,shouldFlush:!1},_E=function(e,t){if(e===void 0&&(e=Kx),t.type==="FLUSH")return ae({},Kx,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&$();var n=t.payload,r=n.critical,i=n.clientSelection,s=n.viewport,o=n.dimensions,l=n.movementMode,c=o.draggables[r.draggable.id],d=o.droppables[r.droppable.id],u={selection:i,borderBoxCenter:c.client.borderBox.center,offset:gt},f={client:u,page:{selection:wt(u.selection,s.scroll.initial),borderBoxCenter:wt(u.selection,s.scroll.initial),offset:wt(u.selection,s.scroll.diff.value)}},h=md(o.droppables).every(function(ce){return!ce.isFixedOnPage}),m=Tw({draggable:c,home:d,draggables:o.draggables,viewport:s}),g=m.impact,x=m.afterCritical,y={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:o,initial:f,current:f,isWindowScrollAllowed:h,impact:g,afterCritical:x,onLiftImpact:g,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return y}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&$();var p=ae({phase:"COLLECTING"},e,{phase:"COLLECTING"});return p}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||$(),PE({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ui(e)||$();var v=t.payload.client;return Hr(v,e.current.client.selection)?e:Ra({state:e,clientSelection:v,impact:Lf(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return xu(e);ui(e)||$();var b=t.payload,S=b.id,w=b.newScroll,N=e.dimensions.droppables[S];if(!N)return e;var C=vm(N,w);return gu(e,C,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ui(e)||$();var k=t.payload,I=k.id,_=k.isEnabled,P=e.dimensions.droppables[I];P||$(),P.isEnabled===_&&$();var L=ae({},P,{isEnabled:_});return gu(e,L,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ui(e)||$();var Y=t.payload,E=Y.id,M=Y.isCombineEnabled,D=e.dimensions.droppables[E];D||$(),D.isCombineEnabled===M&&$();var O=ae({},D,{isCombineEnabled:M});return gu(e,O,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ui(e)||$(),e.isWindowScrollAllowed||$();var R=t.payload.newScroll;if(Hr(e.viewport.scroll.current,R))return xu(e);var F=Nw(e.viewport,R);return Lf(e)?Mw({state:e,viewport:F}):Ra({state:e,viewport:F})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ui(e))return e;var V=t.payload.maxScroll;if(Hr(V,e.viewport.scroll.max))return e;var H=ae({},e.viewport,{scroll:ae({},e.viewport.scroll,{max:V})});return ae({phase:"DRAGGING"},e,{viewport:H})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&$();var W=uE({state:e,type:t.type});return W?Ra({state:e,impact:W.impact,clientSelection:W.clientSelection,scrollJumpRequest:W.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var oe=t.payload.reason;e.phase!=="COLLECTING"&&$();var Z=ae({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:oe});return Z}if(t.type==="DROP_ANIMATE"){var U=t.payload,J=U.completed,le=U.dropDuration,$e=U.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||$();var T={phase:"DROP_ANIMATING",completed:J,dropDuration:le,newHomeClientOffset:$e,dimensions:e.dimensions};return T}if(t.type==="DROP_COMPLETE"){var A=t.payload.completed;return{phase:"IDLE",completed:A,shouldFlush:!1}}return e},EE=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},DE=function(t){return{type:"LIFT",payload:t}},RE=function(t){return{type:"INITIAL_PUBLISH",payload:t}},ME=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},TE=function(){return{type:"COLLECTION_STARTING",payload:null}},AE=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},OE=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},LE=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Aw=function(t){return{type:"MOVE",payload:t}},FE=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},VE=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},zE=function(){return{type:"MOVE_UP",payload:null}},BE=function(){return{type:"MOVE_DOWN",payload:null}},$E=function(){return{type:"MOVE_RIGHT",payload:null}},WE=function(){return{type:"MOVE_LEFT",payload:null}},km=function(){return{type:"FLUSH",payload:null}},HE=function(t){return{type:"DROP_ANIMATE",payload:t}},Im=function(t){return{type:"DROP_COMPLETE",payload:t}},Ow=function(t){return{type:"DROP",payload:t}},UE=function(t){return{type:"DROP_PENDING",payload:t}},Lw=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},YE=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var o=s.payload,l=o.id,c=o.clientSelection,d=o.movementMode,u=n();u.phase==="DROP_ANIMATING"&&r(Im({completed:u.completed})),n().phase!=="IDLE"&&$(),r(km()),r(EE({draggableId:l,movementMode:d}));var f={shouldPublishImmediately:d==="SNAP"},h={draggableId:l,scrollOptions:f},m=e.startPublishing(h),g=m.critical,x=m.dimensions,y=m.viewport;r(RE({critical:g,dimensions:x,clientSelection:c,movementMode:d,viewport:y}))}}}},GE=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},Pm={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ho={opacity:{drop:0,combining:.7},scale:{drop:.75}},_m={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ai=_m.outOfTheWay+"s "+Pm.outOfTheWay,Ma={fluid:"opacity "+ai,snap:"transform "+ai+", opacity "+ai,drop:function(t){var n=t+"s "+Pm.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+ai,placeholder:"height "+ai+", width "+ai+", margin "+ai},Qx=function(t){return Hr(t,gt)?null:"translate("+t.x+"px, "+t.y+"px)"},Ff={moveTo:Qx,drop:function(t,n){var r=Qx(t);return r?n?r+" scale("+ho.scale.drop+")":r:null}},Vf=_m.minDropTime,Fw=_m.maxDropTime,qE=Fw-Vf,Xx=1500,JE=.6,KE=function(e){var t=e.current,n=e.destination,r=e.reason,i=co(t,n);if(i<=0)return Vf;if(i>=Xx)return Fw;var s=i/Xx,o=Vf+qE*s,l=r==="CANCEL"?o*JE:o;return Number(l.toFixed(2))},QE=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,s=e.afterCritical,o=r.draggables,l=r.droppables,c=rn(t),d=c?l[c]:null,u=l[n.descriptor.droppableId],f=Rw({impact:t,draggable:n,draggables:o,afterCritical:s,droppable:d||u,viewport:i}),h=en(f,n.client.borderBox.center);return h},XE=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,s=e.viewport,o=e.onLiftImpact;if(!r.at||n!=="DROP"){var l=Dw({draggables:t,impact:o,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var c=ae({},r,{displaced:uo});return{impact:c,didDropInsideDroppable:!0}},ZE=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var s=t(),o=i.payload.reason;if(s.phase==="COLLECTING"){n(UE({reason:o}));return}if(s.phase!=="IDLE"){var l=s.phase==="DROP_PENDING"&&s.isWaiting;l&&$(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||$();var c=s.critical,d=s.dimensions,u=d.draggables[s.critical.draggable.id],f=XE({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=f.impact,m=f.didDropInsideDroppable,g=m?ym(h):null,x=m?pd(h):null,y={index:c.draggable.index,droppableId:c.droppable.id},p={draggableId:u.descriptor.id,type:u.descriptor.type,source:y,reason:o,mode:s.movementMode,destination:g,combine:x},v=QE({impact:h,draggable:u,dimensions:d,viewport:s.viewport,afterCritical:s.afterCritical}),b={critical:s.critical,afterCritical:s.afterCritical,result:p,impact:h},S=!Hr(s.current.client.offset,v)||!!p.combine;if(!S){n(Im({completed:b}));return}var w=KE({current:s.current.client.offset,destination:v,reason:o}),N={newHomeClientOffset:v,dropDuration:w,completed:b};n(HE(N))}}}},Vw=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function eD(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function tD(e){var t=e.onWindowScroll;function n(){t(Vw())}var r=lo(n),i=eD(r),s=Wr;function o(){return s!==Wr}function l(){o()&&$(),s=xn(window,[i])}function c(){o()||$(),r.cancel(),s(),s=Wr}return{start:l,stop:c,isActive:o}}var nD=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},rD=function(e){var t=tD({onWindowScroll:function(r){e.dispatch(FE({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&nD(r)&&t.stop(),n(r)}}},iD=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=function(){return t},i},sD=function(){var e=[],t=function(s){var o=bm(e,function(d){return d.timerId===s});o===-1&&$();var l=e.splice(o,1),c=l[0];c.callback()},n=function(s){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:s};e.push(l)},r=function(){if(e.length){var s=[].concat(e);e.length=0,s.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:r}},aD=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},oD=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},lD=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},la=function(t,n){n()},xl=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},vu=function(t,n,r,i){if(!t){r(i(n));return}var s=iD(r),o={announce:s};t(n,o),s.wasCalled()||r(i(n))},cD=function(e,t){var n=sD(),r=null,i=function(h,m){r&&$(),la("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var x={draggableId:h,mode:m};g(x)}})},s=function(h,m){r&&$(),la("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(xl(h,m))})},o=function(h,m){r&&$();var g=xl(h,m);r={mode:m,lastCritical:h,lastLocation:g.source,lastCombine:null},n.add(function(){la("onDragStart",function(){return vu(e().onDragStart,g,t,$l.onDragStart)})})},l=function(h,m){var g=ym(m),x=pd(m);r||$();var y=!lD(h,r.lastCritical);y&&(r.lastCritical=h);var p=!aD(r.lastLocation,g);p&&(r.lastLocation=g);var v=!oD(r.lastCombine,x);if(v&&(r.lastCombine=x),!(!y&&!p&&!v)){var b=ae({},xl(h,r.mode),{combine:x,destination:g});n.add(function(){la("onDragUpdate",function(){return vu(e().onDragUpdate,b,t,$l.onDragUpdate)})})}},c=function(){r||$(),n.flush()},d=function(h){r||$(),r=null,la("onDragEnd",function(){return vu(e().onDragEnd,h,t,$l.onDragEnd)})},u=function(){if(r){var h=ae({},xl(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});d(h)}};return{beforeCapture:i,beforeStart:s,start:o,update:l,flush:c,drop:d,abort:u}},dD=function(e,t){var n=cD(e,t);return function(r){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var o=s.payload.critical;n.beforeStart(o,s.payload.movementMode),i(s),n.start(o,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var l=s.payload.completed.result;n.flush(),i(s),n.drop(l);return}if(i(s),s.type==="FLUSH"){n.abort();return}var c=r.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}}}},uD=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&$(),e.dispatch(Im({completed:r.completed}))}}},fD=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&r(),i(s),s.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Lw())}};n=requestAnimationFrame(function(){n=null,t=xn(window,[o])})}}}},hD=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},mD=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},pD=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},gD=function(e){return function(t){return function(n){return function(r){if(pD(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&$(),e.start(i);return}n(r),e.scroll(t.getState())}}}},xD=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Ow({reason:r.reason})))}}}},vD=Uy,bD=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,s=e.announce,o=e.autoScroller;return Hy(_E,vD(sP(GE(r),hD(t),YE(t),ZE,uD,fD,xD,gD(o),rD,mD(n),dD(i,s))))},bu=function(){return{additions:{},removals:{},modified:{}}};function yD(e){var t=e.registry,n=e.callbacks,r=bu(),i=null,s=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var u=r,f=u.additions,h=u.removals,m=u.modified,g=Object.keys(f).map(function(p){return t.draggable.getById(p).getDimension(gt)}).sort(function(p,v){return p.descriptor.index-v.descriptor.index}),x=Object.keys(m).map(function(p){var v=t.droppable.getById(p),b=v.callbacks.getScrollWhileDragging();return{droppableId:p,scroll:b}}),y={additions:g,removals:Object.keys(h),modified:x};r=bu(),n.publish(y)}))},o=function(u){var f=u.descriptor.id;r.additions[f]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[f]&&delete r.removals[f],s()},l=function(u){var f=u.descriptor;r.removals[f.id]=!0,r.modified[f.droppableId]=!0,r.additions[f.id]&&delete r.additions[f.id],s()},c=function(){i&&(cancelAnimationFrame(i),i=null,r=bu())};return{add:o,remove:l,stop:c}}var zw=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,s=en({x:n,y:t},{x:i,y:r}),o={x:Math.max(0,s.x),y:Math.max(0,s.y)};return o},Bw=function(){var e=document.documentElement;return e||$(),e},$w=function(){var e=Bw(),t=zw({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},wD=function(){var e=Vw(),t=$w(),n=e.y,r=e.x,i=Bw(),s=i.clientWidth,o=i.clientHeight,l=r+s,c=n+o,d=_n({top:n,left:r,right:l,bottom:c}),u={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:gt,displacement:gt}}};return u},SD=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=wD(),s=i.scroll.current,o=t.droppable,l=r.droppable.getAllByType(o.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(s,n)}),c=r.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(s)}),d={draggables:xw(c),droppables:gw(l)},u={dimensions:d,critical:t,viewport:i};return u};function Zx(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var ND=function(e,t){var n=null,r=yD({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(m,g){e.droppable.exists(m)||$(),n&&t.updateDroppableIsEnabled({id:m,isEnabled:g})},s=function(m,g){n&&(e.droppable.exists(m)||$(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},o=function(m,g){n&&(e.droppable.exists(m)||$(),t.updateDroppableScroll({id:m,newScroll:g}))},l=function(m,g){n&&e.droppable.getById(m).callbacks.scroll(g)},c=function(){if(n){r.stop();var m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(g){return g.callbacks.dragStopped()}),n.unsubscribe(),n=null}},d=function(m){n||$();var g=n.critical.draggable;m.type==="ADDITION"&&Zx(e,g,m.value)&&r.add(m.value),m.type==="REMOVAL"&&Zx(e,g,m.value)&&r.remove(m.value)},u=function(m){n&&$();var g=e.draggable.getById(m.draggableId),x=e.droppable.getById(g.descriptor.droppableId),y={draggable:g.descriptor,droppable:x.descriptor},p=e.subscribe(d);return n={critical:y,unsubscribe:p},SD({critical:y,registry:e,scrollOptions:m.scrollOptions})},f={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:l,updateDroppableScroll:o,startPublishing:u,stopPublishing:c};return f},Ww=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},jD=function(e){window.scrollBy(e.x,e.y)},CD=mt(function(e){return md(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),kD=function(t,n){var r=ni(CD(n),function(i){return i.frame||$(),Iw(i.frame.pageMarginBox)(t)});return r},ID=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var s=kD(t,r);return s},Ur={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},PD=function(e,t){var n=e[t.size]*Ur.startFromPercentage,r=e[t.size]*Ur.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},Hw=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var s=r-t,o=s/i;return o},Em=1,_D=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Ur.maxPixelScroll;if(e===t.startScrollingFrom)return Em;var n=Hw({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=Ur.maxPixelScroll*Ur.ease(r);return Math.ceil(i)},e0=Ur.durationDampening.accelerateAt,t0=Ur.durationDampening.stopDampeningAt,ED=function(e,t){var n=t,r=t0,i=Date.now(),s=i-n;if(s>=t0)return e;if(s<e0)return Em;var o=Hw({startOfRange:e0,endOfRange:r,current:s}),l=e*Ur.ease(o);return Math.ceil(l)},n0=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,s=_D(t,n);return s===0?0:i?Math.max(ED(s,r),Em):s},r0=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,s=e.shouldUseTimeDampening,o=PD(t,i),l=n[i.end]<n[i.start];return l?n0({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s}):-1*n0({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s})},DD=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,s=n.width>t.width;return!s&&!i?r:s&&i?null:{x:s?0:r.x,y:i?0:r.y}},RD=mw(function(e){return e===0?0:e}),Uw=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,s=e.shouldUseTimeDampening,o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=r0({container:n,distanceToEdges:o,dragStartTime:t,axis:wm,shouldUseTimeDampening:s}),c=r0({container:n,distanceToEdges:o,dragStartTime:t,axis:yw,shouldUseTimeDampening:s}),d=RD({x:c,y:l});if(Hr(d,gt))return null;var u=DD({container:n,subject:r,proposedScroll:d});return u?Hr(u,gt)?null:u:null},MD=mw(function(e){return e===0?0:e>0?1:-1}),Dm=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,s=wt(n,i),o={x:e(s.x,r.x),y:e(s.y,r.y)};return Hr(o,gt)?null:o}}(),Yw=function(t){var n=t.max,r=t.current,i=t.change,s={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},o=MD(i),l=Dm({max:s,current:r,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},Rm=function(t,n){return Yw({current:t.scroll.current,max:t.scroll.max,change:n})},TD=function(t,n){if(!Rm(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return Dm({current:i,max:r,change:n})},Mm=function(t,n){var r=t.frame;return r?Yw({current:r.scroll.current,max:r.scroll.max,change:n}):!1},AD=function(t,n){var r=t.frame;return!r||!Mm(t,n)?null:Dm({current:r.scroll.current,max:r.scroll.max,change:n})},OD=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,o=Uw({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:s});return o&&Rm(t,o)?o:null},LD=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=Uw({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s});return l&&Mm(t,l)?l:null},i0=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,s=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,u=OD({dragStartTime:n,viewport:d,subject:c,center:o,shouldUseTimeDampening:r});if(u){i(u);return}}var f=ID({center:o,destination:rn(t.impact),droppables:t.dimensions.droppables});if(f){var h=LD({dragStartTime:n,droppable:f,subject:c,center:o,shouldUseTimeDampening:r});h&&s(f.descriptor.id,h)}},FD=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=lo(t),i=lo(n),s=null,o=function(u){s||$();var f=s,h=f.shouldUseTimeDampening,m=f.dragStartTime;i0({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:m,shouldUseTimeDampening:h})},l=function(u){s&&$();var f=Date.now(),h=!1,m=function(){h=!0};i0({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),s={dragStartTime:f,shouldUseTimeDampening:h},h&&o(u)},c=function(){s&&(r.cancel(),i.cancel(),s=null)};return{start:l,stop:c,scroll:o}},VD=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(d,u){var f=wt(d.current.client.selection,u);t({client:f})},s=function(d,u){if(!Mm(d,u))return u;var f=AD(d,u);if(!f)return n(d.descriptor.id,u),null;var h=en(u,f);n(d.descriptor.id,h);var m=en(u,h);return m},o=function(d,u,f){if(!d||!Rm(u,f))return f;var h=TD(u,f);if(!h)return r(f),null;var m=en(f,h);r(m);var g=en(f,m);return g},l=function(d){var u=d.scrollJumpRequest;if(u){var f=rn(d.impact);f||$();var h=s(d.dimensions.droppables[f],u);if(h){var m=d.viewport,g=o(d.isWindowScrollAllowed,m,h);g&&i(d,g)}}};return l},zD=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=FD({scrollWindow:n,scrollDroppable:t}),s=VD({move:r,scrollWindow:n,scrollDroppable:t}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&s(d)}},l={scroll:o,start:i.start,stop:i.stop};return l},Ls="data-rbd",Fs=function(){var e=Ls+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),zf=function(){var e=Ls+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),BD=function(){var e=Ls+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),s0={contextId:Ls+"-scroll-container-context-id"},$D=function(t){return function(n){return"["+n+'="'+t+'"]'}},ca=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},WD="pointer-events: none;",HD=function(e){var t=$D(e),n=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Fs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:WD,dropAnimating:l}}}(),r=function(){var l=`
      transition: `+Ma.outOfTheWay+`;
    `;return{selector:t(zf.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),i={selector:t(BD.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[r,n,i,s];return{always:ca(o,"always"),resting:ca(o,"resting"),dragging:ca(o,"dragging"),dropAnimating:ca(o,"dropAnimating"),userCancel:ca(o,"userCancel")}},sn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,yu=function(){var t=document.querySelector("head");return t||$(),t},a0=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function UD(e,t){var n=_e(function(){return HD(e)},[e]),r=j.useRef(null),i=j.useRef(null),s=ee(mt(function(f){var h=i.current;h||$(),h.textContent=f}),[]),o=ee(function(f){var h=r.current;h||$(),h.textContent=f},[]);sn(function(){!r.current&&!i.current||$();var f=a0(t),h=a0(t);return r.current=f,i.current=h,f.setAttribute(Ls+"-always",e),h.setAttribute(Ls+"-dynamic",e),yu().appendChild(f),yu().appendChild(h),o(n.always),s(n.resting),function(){var m=function(x){var y=x.current;y||$(),yu().removeChild(y),x.current=null};m(r),m(i)}},[t,o,s,n.always,n.resting,e]);var l=ee(function(){return s(n.dragging)},[s,n.dragging]),c=ee(function(f){if(f==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),d=ee(function(){i.current&&s(n.resting)},[s,n.resting]),u=_e(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return u}var Gw=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function vd(e){return e instanceof Gw(e).HTMLElement}function YD(e,t){var n="["+Fs.contextId+'="'+e+'"]',r=pw(document.querySelectorAll(n));if(!r.length)return null;var i=ni(r,function(s){return s.getAttribute(Fs.draggableId)===t});return!i||!vd(i)?null:i}function GD(e){var t=j.useRef({}),n=j.useRef(null),r=j.useRef(null),i=j.useRef(!1),s=ee(function(h,m){var g={id:h,focus:m};return t.current[h]=g,function(){var y=t.current,p=y[h];p!==g&&delete y[h]}},[]),o=ee(function(h){var m=YD(e,h);m&&m!==document.activeElement&&m.focus()},[e]),l=ee(function(h,m){n.current===h&&(n.current=m)},[]),c=ee(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var h=n.current;h&&o(h)}))},[o]),d=ee(function(h){n.current=null;var m=document.activeElement;m&&m.getAttribute(Fs.draggableId)===h&&(n.current=h)},[]);sn(function(){return i.current=!0,function(){i.current=!1;var h=r.current;h&&cancelAnimationFrame(h)}},[]);var u=_e(function(){return{register:s,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[s,d,c,l]);return u}function qD(){var e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){var m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(function(h){return h(f)})}function i(f){return e.draggables[f]||null}function s(f){var h=i(f);return h||$(),h}var o={register:function(h){e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:function(h,m){var g=e.draggables[m.descriptor.id];g&&g.uniqueId===h.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var m=h.descriptor.id,g=i(m);g&&h.uniqueId===g.uniqueId&&(delete e.draggables[m],r({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:function(h){return!!i(h)},getAllByType:function(h){return kc(e.draggables).filter(function(m){return m.descriptor.type===h})}};function l(f){return e.droppables[f]||null}function c(f){var h=l(f);return h||$(),h}var d={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var m=l(h.descriptor.id);m&&h.uniqueId===m.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:function(h){return!!l(h)},getAllByType:function(h){return kc(e.droppables).filter(function(m){return m.descriptor.type===h})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:u}}function JD(){var e=_e(qD,[]);return j.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Tm=Pe.createContext(null),Pc=function(){var e=document.body;return e||$(),e},KD={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},QD=function(t){return"rbd-announcement-"+t};function XD(e){var t=_e(function(){return QD(e)},[e]),n=j.useRef(null);j.useEffect(function(){var s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),ae(s.style,KD),Pc().appendChild(s),function(){setTimeout(function(){var c=Pc();c.contains(s)&&c.removeChild(s),s===n.current&&(n.current=null)})}},[t]);var r=ee(function(i){var s=n.current;if(s){s.textContent=i;return}},[]);return r}var ZD=0,eR={separator:"::"};function Am(e,t){return t===void 0&&(t=eR),_e(function(){return""+e+t.separator+ZD++},[t.separator,e])}function tR(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function nR(e){var t=e.contextId,n=e.text,r=Am("hidden-text",{separator:"-"}),i=_e(function(){return tR({contextId:t,uniqueId:r})},[r,t]);return j.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=n,o.style.display="none",Pc().appendChild(o),function(){var c=Pc();c.contains(o)&&c.removeChild(o)}},[i,n]),i}var bd=Pe.createContext(null);function qw(e){var t=j.useRef(e);return j.useEffect(function(){t.current=e}),t}function rR(){var e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&$();var l={abandon:o};return e=l,l}function i(){e||$(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:s}}var iR=9,sR=13,Om=27,Jw=32,aR=33,oR=34,lR=35,cR=36,dR=37,uR=38,fR=39,hR=40,vl,mR=(vl={},vl[sR]=!0,vl[iR]=!0,vl),Kw=function(e){mR[e.keyCode]&&e.preventDefault()},yd=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=ni(t,function(r){return"on"+r in document});return n||e}(),Qw=0,o0=5;function pR(e,t){return Math.abs(t.x-e.x)>=o0||Math.abs(t.y-e.y)>=o0}var l0={type:"IDLE"};function gR(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===Qw){var u={x:c,y:d},f=r();if(f.type==="DRAGGING"){o.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&$();var h=f.point;if(pR(h,u)){o.preventDefault();var m=f.actions.fluidLift(u);i({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var l=r();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){r().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=r();if(l.type==="PENDING"){t();return}if(o.keyCode===Om){o.preventDefault(),t();return}Kw(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=r();if(l.type==="IDLE"&&$(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:yd,fn:t}]}function xR(e){var t=j.useRef(l0),n=j.useRef(Wr),r=_e(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===Qw&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var m=e.tryGetLock(h,o,{sourceEvent:f});if(m){f.preventDefault();var g={x:f.clientX,y:f.clientY};n.current(),d(m,g)}}}}}},[e]),i=_e(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var m=e.findOptionsForDraggable(h);m&&(m.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),s=ee(function(){var f={passive:!1,capture:!0};n.current=xn(window,[i,r],f)},[i,r]),o=ee(function(){var u=t.current;u.type!=="IDLE"&&(t.current=l0,n.current(),s())},[s]),l=ee(function(){var u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=ee(function(){var f={capture:!0,passive:!1},h=gR({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});n.current=xn(window,h,f)},[l,o]),d=ee(function(f,h){t.current.type!=="IDLE"&&$(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);sn(function(){return s(),function(){n.current()}},[s])}var qi;function vR(){}var bR=(qi={},qi[oR]=!0,qi[aR]=!0,qi[cR]=!0,qi[lR]=!0,qi);function yR(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===Om){s.preventDefault(),n();return}if(s.keyCode===Jw){s.preventDefault(),r();return}if(s.keyCode===hR){s.preventDefault(),e.moveDown();return}if(s.keyCode===uR){s.preventDefault(),e.moveUp();return}if(s.keyCode===fR){s.preventDefault(),e.moveRight();return}if(s.keyCode===dR){s.preventDefault(),e.moveLeft();return}if(bR[s.keyCode]){s.preventDefault();return}Kw(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:yd,fn:n}]}function wR(e){var t=j.useRef(vR),n=_e(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Jw)return;var o=e.findClosestDraggableId(s);if(!o)return;var l=e.tryGetLock(o,u,{sourceEvent:s});if(!l)return;s.preventDefault();var c=!0,d=l.snapLift();t.current();function u(){c||$(),c=!1,t.current(),r()}t.current=xn(window,yR(d,u),{capture:!0,passive:!1})}}},[e]),r=ee(function(){var s={passive:!1,capture:!0};t.current=xn(window,[n],s)},[n]);sn(function(){return r(),function(){t.current()}},[r])}var wu={type:"IDLE"},SR=120,NR=.15;function jR(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===Om&&i.preventDefault(),t()}},{eventName:yd,fn:t}]}function CR(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var o=r();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=s.touches[0],c=l.clientX,d=l.clientY,u={x:c,y:d};s.preventDefault(),o.actions.move(u)}},{eventName:"touchend",fn:function(s){var o=r();if(o.type!=="DRAGGING"){t();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(s){var o=r();o.type==="IDLE"&&$();var l=s.touches[0];if(l){var c=l.force>=NR;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}}}},{eventName:yd,fn:t}]}function kR(e){var t=j.useRef(wu),n=j.useRef(Wr),r=ee(function(){return t.current},[]),i=ee(function(m){t.current=m},[]),s=_e(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var g=e.findClosestDraggableId(m);if(g){var x=e.tryGetLock(g,l,{sourceEvent:m});if(x){var y=m.touches[0],p=y.clientX,v=y.clientY,b={x:p,y:v};n.current(),f(x,b)}}}}}},[e]),o=ee(function(){var m={capture:!0,passive:!1};n.current=xn(window,[s],m)},[s]),l=ee(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(wu),n.current(),o())},[o,i]),c=ee(function(){var h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),d=ee(function(){var m={capture:!0,passive:!1},g={cancel:c,completed:l,getPhase:r},x=xn(window,CR(g),m),y=xn(window,jR(g),m);n.current=function(){x(),y()}},[c,r,l]),u=ee(function(){var m=r();m.type!=="PENDING"&&$();var g=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),f=ee(function(m,g){r().type!=="IDLE"&&$();var x=setTimeout(u,SR);i({type:"PENDING",point:g,actions:m,longPressTimerId:x}),d()},[d,r,i,u]);sn(function(){return o(),function(){n.current();var g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(wu))}},[r,o,i]),sn(function(){var m=xn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var IR={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Xw(e,t){if(t==null)return!1;var n=!!IR[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Xw(e,t.parentElement)}function PR(e,t){var n=t.target;return vd(n)?Xw(e,n):!1}var _R=function(e){return _n(e.getBoundingClientRect()).center};function ER(e){return e instanceof Gw(e).Element}var DR=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=ni(t,function(r){return r in Element.prototype});return n||e}();function Zw(e,t){return e==null?null:e[DR](t)?e:Zw(e.parentElement,t)}function RR(e,t){return e.closest?e.closest(t):Zw(e,t)}function MR(e){return"["+Fs.contextId+'="'+e+'"]'}function TR(e,t){var n=t.target;if(!ER(n))return null;var r=MR(e),i=RR(n,r);return!i||!vd(i)?null:i}function AR(e,t){var n=TR(e,t);return n?n.getAttribute(Fs.draggableId):null}function OR(e,t){var n="["+zf.contextId+'="'+e+'"]',r=pw(document.querySelectorAll(n)),i=ni(r,function(s){return s.getAttribute(zf.id)===t});return!i||!vd(i)?null:i}function LR(e){e.preventDefault()}function bl(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function e1(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var s=r.draggable.findById(i);return!(!s||!s.options.isEnabled||!Ww(n.getState(),i))}function FR(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,s=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=e1({lockAPI:t,store:r,registry:i,draggableId:s});if(!c)return null;var d=i.draggable.getById(s),u=OR(n,d.descriptor.id);if(!u||l&&!d.options.canDragInteractiveElements&&PR(u,l))return null;var f=t.claim(o||Wr),h="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function g(){return t.isActive(f)}function x(N,C){bl({expected:N,phase:h,isLockActive:g,shouldWarn:!0})&&r.dispatch(C())}var y=x.bind(null,"DRAGGING");function p(N){function C(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(C(),h!=="PRE_DRAG"&&$()),r.dispatch(DE(N.liftActionArgs)),h="DRAGGING";function k(I,_){if(_===void 0&&(_={shouldBlockNextClick:!1}),N.cleanup(),_.shouldBlockNextClick){var P=xn(window,[{eventName:"click",fn:LR,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}C(),r.dispatch(Ow({reason:I}))}return ae({isActive:function(){return bl({expected:"DRAGGING",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(_){return k("DROP",_)},cancel:function(_){return k("CANCEL",_)}},N.actions)}function v(N){var C=lo(function(I){y(function(){return Aw({client:I})})}),k=p({liftActionArgs:{id:s,clientSelection:N,movementMode:"FLUID"},cleanup:function(){return C.cancel()},actions:{move:C}});return ae({},k,{move:C})}function b(){var N={moveUp:function(){return y(zE)},moveRight:function(){return y($E)},moveDown:function(){return y(BE)},moveLeft:function(){return y(WE)}};return p({liftActionArgs:{id:s,clientSelection:_R(u),movementMode:"SNAP"},cleanup:Wr,actions:N})}function S(){var N=bl({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!0});N&&t.release()}var w={isActive:function(){return bl({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:v,snapLift:b,abort:S};return w}var VR=[xR,wR,kR];function zR(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,s=e.enableDefaultSensors,o=[].concat(s?VR:[],i||[]),l=j.useState(function(){return rR()})[0],c=ee(function(v,b){v.isDragging&&!b.isDragging&&l.tryAbandon()},[l]);sn(function(){var v=n.getState(),b=n.subscribe(function(){var S=n.getState();c(v,S),v=S});return b},[l,n,c]),sn(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=ee(function(p){return e1({lockAPI:l,registry:r,store:n,draggableId:p})},[l,r,n]),u=ee(function(p,v,b){return FR({lockAPI:l,registry:r,contextId:t,store:n,draggableId:p,forceSensorStop:v,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null})},[t,l,r,n]),f=ee(function(p){return AR(t,p)},[t]),h=ee(function(p){var v=r.draggable.findById(p);return v?v.options:null},[r.draggable]),m=ee(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(km()))},[l,n]),g=ee(l.isClaimed,[l]),x=_e(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:g}},[d,u,f,h,m,g]),y=0;y<o.length;y++)o[y](x)}var BR=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function da(e){return e.current||$(),e.current}function $R(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,s=e.dragHandleUsageInstructions,o=j.useRef(null),l=qw(e),c=ee(function(){return BR(l.current)},[l]),d=XD(t),u=nR({contextId:t,text:s}),f=UD(t,i),h=ee(function(I){da(o).dispatch(I)},[]),m=_e(function(){return Dx({publishWhileDragging:ME,updateDroppableScroll:AE,updateDroppableIsEnabled:OE,updateDroppableIsCombineEnabled:LE,collectionStarting:TE},h)},[h]),g=JD(),x=_e(function(){return ND(g,m)},[g,m]),y=_e(function(){return zD(ae({scrollWindow:jD,scrollDroppable:x.scrollDroppable},Dx({move:Aw},h)))},[x.scrollDroppable,h]),p=GD(t),v=_e(function(){return bD({announce:d,autoScroller:y,dimensionMarshal:x,focusMarshal:p,getResponders:c,styleMarshal:f})},[d,y,x,p,c,f]);o.current=v;var b=ee(function(){var I=da(o),_=I.getState();_.phase!=="IDLE"&&I.dispatch(km())},[]),S=ee(function(){var I=da(o).getState();return I.isDragging||I.phase==="DROP_ANIMATING"},[]),w=_e(function(){return{isDragging:S,tryAbort:b}},[S,b]);n(w);var N=ee(function(I){return Ww(da(o).getState(),I)},[]),C=ee(function(){return ui(da(o).getState())},[]),k=_e(function(){return{marshal:x,focus:p,contextId:t,canLift:N,isMovementAllowed:C,dragHandleUsageInstructionsId:u,registry:g}},[t,x,u,p,N,C,g]);return zR({contextId:t,store:v,registry:g,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),j.useEffect(function(){return b},[b]),Pe.createElement(bd.Provider,{value:k},Pe.createElement(dP,{context:Tm,store:v},e.children))}var WR=0;function HR(){return _e(function(){return""+WR++},[])}function UR(e){var t=HR(),n=e.dragHandleUsageInstructions||$l.dragHandleUsageInstructions;return Pe.createElement(w_,null,function(r){return Pe.createElement($R,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var t1=function(t){return function(n){return t===n}},YR=t1("scroll"),GR=t1("auto"),c0=function(t,n){return n(t.overflowX)||n(t.overflowY)},qR=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return c0(r,YR)||c0(r,GR)},JR=function(){return!1},KR=function e(t){return t==null?null:t===document.body?JR()?t:null:t===document.documentElement?null:qR(t)?t:e(t.parentElement)},Bf=function(e){return{x:e.scrollLeft,y:e.scrollTop}},QR=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},XR=function(e){var t=KR(e),n=QR(e);return{closestScrollable:t,isFixedOnPage:n}},ZR=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,s=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var m=c.scrollSize,g=c.client,x=zw({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:x,diff:{value:gt,displacement:gt}}}}(),u=s==="vertical"?wm:yw,f=Os({page:l,withPlaceholder:null,axis:u,frame:d}),h={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:o,page:l,frame:d,subject:f};return h},eM=function(t,n){var r=dw(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,s=r.paddingBox.left-n.scrollLeft,o=i+n.scrollHeight,l=s+n.scrollWidth,c={top:i,right:l,bottom:o,left:s},d=gm(c,r.border),u=xm({borderBox:d,margin:r.margin,border:r.border,padding:r.padding});return u},tM=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,s=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=r.closestScrollable,u=eM(t,d),f=Nc(u,i),h=function(){if(!d)return null;var g=dw(d),x={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:g,page:Nc(g,i),scroll:Bf(d),scrollSize:x,shouldClipSubject:c}}(),m=ZR({descriptor:n,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:s,client:u,page:f,closest:h});return m},nM={passive:!1},rM={passive:!0},d0=function(e){return e.shouldPublishImmediately?nM:rM};function _c(e){var t=j.useContext(e);return t||$(),t}var yl=function(t){return t&&t.env.closestScrollable||null};function iM(e){var t=j.useRef(null),n=_c(bd),r=Am("droppable"),i=n.registry,s=n.marshal,o=qw(e),l=_e(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=j.useRef(l),d=_e(function(){return mt(function(S,w){t.current||$();var N={x:S,y:w};s.updateDroppableScroll(l.id,N)})},[l.id,s]),u=ee(function(){var S=t.current;return!S||!S.env.closestScrollable?gt:Bf(S.env.closestScrollable)},[]),f=ee(function(){var S=u();d(S.x,S.y)},[u,d]),h=_e(function(){return lo(f)},[f]),m=ee(function(){var S=t.current,w=yl(S);S&&w||$();var N=S.scrollOptions;if(N.shouldPublishImmediately){f();return}h()},[h,f]),g=ee(function(S,w){t.current&&$();var N=o.current,C=N.getDroppableRef();C||$();var k=XR(C),I={ref:C,descriptor:l,env:k,scrollOptions:w};t.current=I;var _=tM({ref:C,descriptor:l,env:k,windowScroll:S,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),P=k.closestScrollable;return P&&(P.setAttribute(s0.contextId,n.contextId),P.addEventListener("scroll",m,d0(I.scrollOptions))),_},[n.contextId,l,m,o]),x=ee(function(){var S=t.current,w=yl(S);return S&&w||$(),Bf(w)},[]),y=ee(function(){var S=t.current;S||$();var w=yl(S);t.current=null,w&&(h.cancel(),w.removeAttribute(s0.contextId),w.removeEventListener("scroll",m,d0(S.scrollOptions)))},[m,h]),p=ee(function(S){var w=t.current;w||$();var N=yl(w);N||$(),N.scrollTop+=S.y,N.scrollLeft+=S.x},[]),v=_e(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:x,dragStopped:y,scroll:p}},[y,g,x,p]),b=_e(function(){return{uniqueId:r,descriptor:l,callbacks:v}},[v,l,r]);sn(function(){return c.current=b.descriptor,i.droppable.register(b),function(){t.current&&y(),i.droppable.unregister(b)}},[v,l,y,b,s,i.droppable]),sn(function(){t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),sn(function(){t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function Su(){}var u0={width:0,height:0,margin:I_},sM=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?u0:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},aM=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,s=sM({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Ma.placeholder:null}};function oM(e){var t=j.useRef(null),n=ee(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,s=e.onClose,o=e.contextId,l=j.useState(e.animate==="open"),c=l[0],d=l[1];j.useEffect(function(){return c?r!=="open"?(n(),d(!1),Su):t.current?Su:(t.current=setTimeout(function(){t.current=null,d(!1)}),n):Su},[r,c,n]);var u=ee(function(h){h.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),f=aM({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Pe.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}var lM=Pe.memo(oM),Lm=Pe.createContext(null),cM=function(e){Wy(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(Pe.PureComponent),f0={dragging:5e3,dropAnimating:4500},dM=function(t,n){return n?Ma.drop(n.duration):t?Ma.snap:Ma.fluid},uM=function(t,n){return t?n?ho.opacity.drop:ho.opacity.combining:null},fM=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function hM(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,s=e.dropping,o=!!i,l=fM(e),c=!!s,d=c?Ff.drop(r,o):Ff.moveTo(r),u={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:dM(l,s),transform:d,opacity:uM(o,c),zIndex:c?f0.dropAnimating:f0.dragging,pointerEvents:"none"};return u}function mM(e){return{transform:Ff.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function pM(e){return e.type==="DRAGGING"?hM(e):mM(e)}function gM(e,t,n){n===void 0&&(n=gt);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=cw(i,r),o=Nc(s,n),l={client:s,tagName:t.tagName.toLowerCase(),display:r.display},c={x:s.marginBox.width,y:s.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:s,page:o};return d}function xM(e){var t=Am("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,s=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=_e(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}},[s,l,o]),d=ee(function(m){var g=i();return g||$(),gM(n,g,m)},[n,i]),u=_e(function(){return{uniqueId:t,descriptor:n,options:c,getDimension:d}},[n,d,c,t]),f=j.useRef(u),h=j.useRef(!0);sn(function(){return r.draggable.register(f.current),function(){return r.draggable.unregister(f.current)}},[r.draggable]),sn(function(){if(h.current){h.current=!1;return}var m=f.current;f.current=u,r.draggable.update(u,m)},[u,r.draggable])}function vM(e){e.preventDefault()}function bM(e){var t=j.useRef(null),n=ee(function(I){t.current=I},[]),r=ee(function(){return t.current},[]),i=_c(bd),s=i.contextId,o=i.dragHandleUsageInstructionsId,l=i.registry,c=_c(Lm),d=c.type,u=c.droppableId,f=_e(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),h=e.children,m=e.draggableId,g=e.isEnabled,x=e.shouldRespectForcePress,y=e.canDragInteractiveElements,p=e.isClone,v=e.mapped,b=e.dropAnimationFinished;if(!p){var S=_e(function(){return{descriptor:f,registry:l,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:x,isEnabled:g}},[f,l,r,y,x,g]);xM(S)}var w=_e(function(){return g?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:vM}:null},[s,o,m,g]),N=ee(function(I){v.type==="DRAGGING"&&v.dropping&&I.propertyName==="transform"&&b()},[b,v]),C=_e(function(){var I=pM(v),_=v.type==="DRAGGING"&&v.dropping?N:null,P={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":m,style:I,onTransitionEnd:_},dragHandleProps:w};return P},[s,w,m,v,N,n]),k=_e(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(C,v.snapshot,k)}var n1=function(e,t){return e===t},r1=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},yM=function(t){return t.combine?t.combine.draggableId:null},wM=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function SM(){var e=mt(function(i,s){return{x:i,y:s}}),t=mt(function(i,s,o,l,c){return{isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null}}),n=mt(function(i,s,o,l,c,d,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:s,offset:i,dimension:o,forceShouldAnimate:u,snapshot:t(s,l,c,d,null)}}}),r=function(s,o){if(s.isDragging){if(s.critical.draggable.id!==o.draggableId)return null;var l=s.current.client.offset,c=s.dimensions.draggables[o.draggableId],d=rn(s.impact),u=wM(s.impact),f=s.forceShouldAnimate;return n(e(l.x,l.y),s.movementMode,c,o.isClone,d,u,f)}if(s.phase==="DROP_ANIMATING"){var h=s.completed;if(h.result.draggableId!==o.draggableId)return null;var m=o.isClone,g=s.dimensions.draggables[o.draggableId],x=h.result,y=x.mode,p=r1(x),v=yM(x),b=s.dropDuration,S={duration:b,curve:Pm.drop,moveTo:s.newHomeClientOffset,opacity:v?ho.opacity.drop:null,scale:v?ho.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:g,dropping:S,draggingOver:p,combineWith:v,mode:y,forceShouldAnimate:null,snapshot:t(y,m,p,v,S)}}}return null};return r}function i1(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var NM={mapped:{type:"SECONDARY",offset:gt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:i1(null)}};function jM(){var e=mt(function(o,l){return{x:o,y:l}}),t=mt(i1),n=mt(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),r=function(l){return l?n(gt,l,!0):null},i=function(l,c,d,u){var f=d.displaced.visible[l],h=!!(u.inVirtualList&&u.effected[l]),m=pd(d),g=m&&m.draggableId===l?c:null;if(!f){if(!h)return r(g);if(d.displaced.invisible[l])return null;var x=Us(u.displacedBy.point),y=e(x.x,x.y);return n(y,g,!0)}if(h)return r(g);var p=d.displacedBy.point,v=e(p.x,p.y);return n(v,g,f.shouldAnimate)},s=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:i(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:i(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return s}var CM=function(){var t=SM(),n=jM(),r=function(s,o){return t(s,o)||n(s,o)||NM};return r},kM={dropAnimationFinished:Lw},IM=ow(CM,kM,null,{context:Tm,pure:!0,areStatePropsEqual:n1})(bM);function s1(e){var t=_c(Lm),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:Pe.createElement(IM,e)}function PM(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Pe.createElement(s1,ae({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function _M(e){var t=j.useContext(bd);t||$();var n=t.contextId,r=t.isMovementAllowed,i=j.useRef(null),s=j.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,u=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,x=e.useClone,y=e.updateViewportMaxScroll,p=e.getContainerForClone,v=ee(function(){return i.current},[]),b=ee(function(P){i.current=P},[]);ee(function(){return s.current},[]);var S=ee(function(P){s.current=P},[]),w=ee(function(){r()&&y({maxScroll:$w()})},[r,y]);iM({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:v});var N=Pe.createElement(cM,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(P){var L=P.onClose,Y=P.data,E=P.animate;return Pe.createElement(lM,{placeholder:Y,onClose:L,innerRef:S,animate:E,contextId:n,onTransitionEnd:w})}),C=_e(function(){return{innerRef:b,placeholder:N,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,N,b]),k=x?x.dragging.draggableId:null,I=_e(function(){return{droppableId:l,type:c,isUsingCloneFor:k}},[l,k,c]);function _(){if(!x)return null;var P=x.dragging,L=x.render,Y=Pe.createElement(s1,{draggableId:P.draggableId,index:P.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(E,M){return L(E,M,P)});return zN.createPortal(Y,p())}return Pe.createElement(Lm.Provider,{value:I},o(C,g),_())}var Nu=function(t,n){return t===n.droppable.type},h0=function(t,n){return n.draggables[t.draggable.id]},EM=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=ae({},t,{shouldAnimatePlaceholder:!1}),r=mt(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=mt(function(o,l,c,d,u,f){var h=u.descriptor.id,m=u.descriptor.droppableId===o;if(m){var g=f?{render:f,dragging:r(u.descriptor)}:null,x={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:g}}if(!l)return n;if(!d)return t;var y={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}}),s=function(l,c){var d=c.droppableId,u=c.type,f=!c.isDropDisabled,h=c.renderClone;if(l.isDragging){var m=l.critical;if(!Nu(u,m))return n;var g=h0(m,l.dimensions),x=rn(l.impact)===d;return i(d,f,x,x,g,h)}if(l.phase==="DROP_ANIMATING"){var y=l.completed;if(!Nu(u,y.critical))return n;var p=h0(y.critical,l.dimensions);return i(d,f,r1(y.result)===d,rn(y.impact)===d,p,h)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var v=l.completed;if(!Nu(u,v.critical))return n;var b=rn(v.impact)===d,S=!!(v.impact.at&&v.impact.at.type==="COMBINE"),w=v.critical.droppable.id===d;return b?S?t:n:w?t:n}return n};return s},DM={updateViewportMaxScroll:VE};function RM(){return document.body||$(),document.body}var MM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:RM},a1=ow(EM,DM,null,{context:Tm,pure:!0,areStatePropsEqual:n1})(_M);a1.defaultProps=MM;const ju=[{id:"livesSaved",label:"Lives Saved",icon:Ri,color:"text-green-600",higherIsBetter:!0},{id:"casualties",label:"Casualties",icon:So,color:"text-red-600",higherIsBetter:!1},{id:"resources",label:"Resources",icon:qr,color:"text-blue-600",higherIsBetter:!1},{id:"infrastructure",label:"Infrastructure",icon:Jn,color:"text-gray-600",higherIsBetter:!1},{id:"biodiversity",label:"Biodiversity",icon:Ws,color:"text-green-600",higherIsBetter:!1},{id:"properties",label:"Properties",icon:Jn,color:"text-blue-600",higherIsBetter:!1},{id:"nuclear",label:"Nuclear",icon:wo,color:"text-purple-600",higherIsBetter:!1}],TM=({scenario:e,onBack:t,onConfirm:n,currentMetrics:r,onReorderPriorities:i})=>{const[s,o]=j.useState([]),[l,c]=j.useState(""),[d,u]=j.useState(null),[f,h]=j.useState(!0),[m,g]=j.useState(!1),[x,y]=j.useState(null);j.useEffect(()=>{localStorage.setItem("rankedViewAccessed","true");const w=localStorage.getItem("preferenceTypeFlag"),N=JSON.parse(localStorage.getItem("simulationMetricsRanking")||"[]"),C=JSON.parse(localStorage.getItem("moralValuesRanking")||"[]"),k=w==="true"?N:C,I=k.slice(0,2).map(P=>P.label).join(", ");c(w==="true"?`Based on your simulation metrics priorities (${I}), the following options are ranked according to their impact on these key metrics:`:`Based on your moral values priorities (${I}), the following options are ranked according to their alignment with these core values:`);const _=[...e.options].sort((P,L)=>{var Y;if(w==="true"){const E=ju.find(O=>{var R;return O.id===((R=k[0])==null?void 0:R.id)});if(!E)return 0;let M=0,D=0;switch((Y=k[0])==null?void 0:Y.id){case"livesSaved":M=P.impact.livesSaved,D=L.impact.livesSaved;break;case"casualties":M=P.impact.humanCasualties,D=L.impact.humanCasualties;break;case"resources":M=Math.abs(P.impact.firefightingResource),D=Math.abs(L.impact.firefightingResource);break;case"infrastructure":M=Math.abs(P.impact.infrastructureCondition),D=Math.abs(L.impact.infrastructureCondition);break;case"biodiversity":M=Math.abs(P.impact.biodiversityCondition),D=Math.abs(L.impact.biodiversityCondition);break;case"properties":M=Math.abs(P.impact.propertiesCondition),D=Math.abs(L.impact.propertiesCondition);break;case"nuclear":M=Math.abs(P.impact.nuclearPowerStation),D=Math.abs(L.impact.nuclearPowerStation);break}return E.higherIsBetter?D-M:M-D}else{const E=p(P,k);return p(L,k)-E}});o(_)},[e]);const p=(w,N)=>{let C=0;const k=N.map((I,_)=>N.length-_);return N.forEach((I,_)=>{w.label.toLowerCase()===I.id&&(C+=100*k[_])}),C},v=w=>{u(d===w?null:w),m||(g(!0),h(!1))},b=(w,N)=>{switch(N){case"livesSaved":return`+${w.impact.livesSaved}`;case"casualties":return`+${w.impact.humanCasualties}`;case"resources":return`${w.impact.firefightingResource}%`;case"infrastructure":return`${w.impact.infrastructureCondition}%`;case"biodiversity":return`${w.impact.biodiversityCondition}%`;case"properties":return`${w.impact.propertiesCondition}%`;case"nuclear":return`${w.impact.nuclearPowerStation}%`;default:return""}},S=(w,N)=>{y(w.id);const C=N<2;localStorage.setItem("hasReorderedValues","true");const k=localStorage.getItem("hasReorderedValuesCount"),I=k?parseInt(k)+1:1;localStorage.setItem("hasReorderedValuesCount",I.toString()),setTimeout(()=>{n(w,C)},600)};return a.jsx("div",{className:"h-screen bg-gray-50 p-4 flex flex-col",children:a.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("button",{onClick:t,className:"text-gray-600 hover:text-gray-800 flex items-center gap-2 transition-colors",children:[a.jsx(yi,{size:20}),"Back to Simulation"]}),a.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:[a.jsx(q2,{size:18}),"Re-order Priorities"]})]}),m&&!f&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-400 rounded-r-lg animate-fade-in",children:a.jsxs("p",{className:"text-sm text-green-800",children:[" ",a.jsx("strong",{children:"Great!"})," Now you can see how each option impacts this metric. Try clicking other metrics to compare!"]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 flex-1 flex flex-col",children:[a.jsx("h2",{className:"text-lg font-semibold mb-1 text-gray-700",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:a.jsx("p",{className:"text-blue-800",children:l})}),a.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg mb-6",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ig,{size:18,className:"text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-900 font-medium mb-1",children:"Selection Limited to Top 2 Options"}),a.jsx("p",{className:"text-amber-800 text-sm",children:'Only the top two ranked options are available for selection based on your priorities. To choose from other options, use the "Re-order Priorities" button to adjust your rankings.'})]})]})}),a.jsxs("div",{className:"relative flex flex-wrap gap-2 mb-6",children:[f&&a.jsx("div",{className:"absolute -top-12 left-0 z-20 animate-bounce",children:a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm px-4 py-2 rounded-lg shadow-lg whitespace-nowrap font-medium",children:[" Click any metric to see impact numbers!",a.jsx("div",{className:"absolute top-full left-8 transform -translate-x-1/2 w-0 h-0 border-t-8 border-purple-500 border-x-8 border-x-transparent"})]})}),ju.map((w,N)=>{const C=w.icon;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>v(w.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${d===w.id?"bg-blue-500 text-white shadow-lg scale-105":f&&N===0?"bg-purple-100 text-purple-700 hover:bg-purple-200 ring-2 ring-purple-300 ring-offset-2":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(C,{size:16,className:d===w.id?"text-white":w.color}),w.label]}),f&&N===0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-pink-400 rounded-full animate-ping"})]},w.id)})]}),a.jsx("div",{className:"space-y-4",children:s.map((w,N)=>{var k;const C=N>=2;return a.jsx("div",{className:`rounded-lg border transition-all duration-200 ${C?"border-gray-200 bg-gray-50 opacity-60":"border-gray-200 bg-white"}`,children:a.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] gap-4 p-4 items-start",children:[a.jsxs("div",{className:"flex flex-col items-center justify-start pt-1 gap-2",children:[a.jsx("span",{className:`w-10 h-10 flex items-center justify-center rounded-full font-semibold text-lg ${C?"bg-gray-200 text-gray-500":"bg-blue-100 text-blue-600"}`,children:N+1}),a.jsx("span",{className:`text-xs font-medium text-center px-2 py-1 rounded ${C?"bg-gray-100 text-gray-500":"bg-blue-50 text-blue-700"}`,children:w.label})]}),a.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("h3",{className:`font-medium text-base ${C?"text-gray-500":"text-gray-900"}`,children:w.title}),C&&a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-gray-600 text-white text-xs font-medium rounded",children:[a.jsx(ig,{size:11}),"Locked"]}),d&&a.jsx("span",{className:`font-medium text-sm ml-auto ${C?"text-gray-400":(k=ju.find(I=>I.id===d))==null?void 0:k.color}`,children:b(w,d)})]}),a.jsx("p",{className:`text-sm ${C?"text-gray-400":"text-gray-600"}`,children:w.description})]}),a.jsx("div",{className:"flex items-center justify-center pt-1",children:!C&&(x===w.id?a.jsxs("div",{className:"flex items-center gap-2 animate-scale-in",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-lg transform transition-transform duration-300",children:a.jsx($b,{size:28,className:"text-white",strokeWidth:3})}),a.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"Selected"})]}):a.jsx("button",{onClick:()=>S(w,N),disabled:x!==null,className:"bg-gray-400 hover:bg-blue-500 text-white font-medium py-2 px-6 rounded-lg flex items-center gap-2 transition-all duration-300 whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-400 shadow-sm hover:shadow-md transform hover:scale-105 active:scale-95",children:"Select"}))})]})},w.id)})})]})]})})};class yt{static startScenario(t){this.currentScenarioTracking={scenarioId:t,startTime:Date.now(),optionSelections:[],cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,cvrNoAnswers:0,apaReordered:!1,apaReorderCount:0,alternativesExplored:!1,alternativesExploredCount:0,switchCount:0},this.emitEvent({event:"scenario_started",timestamp:new Date().toISOString(),scenarioId:t,timeSinceScenarioOpen:0});const n=Ce.getSessionId();Ce.insertScenarioInteraction({session_id:n,scenario_id:t,scenario_title:`Scenario ${t}`,event_type:"scenario_started",time_since_scenario_start:0})}static recordOptionSelection(t,n,r){if(!this.currentScenarioTracking)return;const i=Date.now(),s=i-this.currentScenarioTracking.startTime,o=Ce.getSessionId();if(this.currentScenarioTracking.optionSelections.length>0){const l=this.currentScenarioTracking.optionSelections[this.currentScenarioTracking.optionSelections.length-1];l.optionId!==t&&(this.currentScenarioTracking.switchCount++,l.aligned!==r&&(this.emitEvent({event:"alignment_state_changed",timestamp:new Date().toISOString(),scenarioId:this.currentScenarioTracking.scenarioId,optionId:t,optionLabel:n,alignedBefore:l.aligned,alignedAfter:r,timeSinceScenarioOpen:s}),Ce.insertScenarioInteraction({session_id:o,scenario_id:this.currentScenarioTracking.scenarioId,scenario_title:`Scenario ${this.currentScenarioTracking.scenarioId}`,event_type:"alignment_state_changed",option_id:t,option_label:n,is_aligned:r,time_since_scenario_start:Math.round(s/1e3),switch_count:this.currentScenarioTracking.switchCount,event_data:{alignedBefore:l.aligned,alignedAfter:r}})))}this.currentScenarioTracking.optionSelections.push({optionId:t,optionLabel:n,timestamp:i,aligned:r}),this.emitEvent({event:"option_selected",timestamp:new Date().toISOString(),scenarioId:this.currentScenarioTracking.scenarioId,optionId:t,optionLabel:n,alignedAfter:r,timeSinceScenarioOpen:s}),Ce.insertScenarioInteraction({session_id:o,scenario_id:this.currentScenarioTracking.scenarioId,scenario_title:`Scenario ${this.currentScenarioTracking.scenarioId}`,event_type:"option_selected",option_id:t,option_label:n,is_aligned:r,time_since_scenario_start:Math.round(s/1e3),switch_count:this.currentScenarioTracking.switchCount})}static confirmOption(t,n,r,i,s,o){if(!this.currentScenarioTracking)return;const l=Date.now(),c=l-this.currentScenarioTracking.startTime;this.currentScenarioTracking.finalChoice={optionId:t,optionLabel:n,aligned:r},this.currentScenarioTracking.endTime=l,this.emitEvent({event:"option_confirmed",timestamp:new Date().toISOString(),scenarioId:this.currentScenarioTracking.scenarioId,optionId:t,optionLabel:n,alignedAfter:r,timeSinceScenarioOpen:c,objectivesSnapshot:i,flagsAtConfirmation:s,finalTopTwoValuesBeforeUpdate:o})}static recordCVRVisit(t,n){this.currentScenarioTracking&&(this.currentScenarioTracking.cvrVisited=!0,this.currentScenarioTracking.cvrVisitCount++);const r=this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0;this.emitEvent({event:"cvr_opened",timestamp:new Date().toISOString(),scenarioId:t,optionId:n,timeSinceScenarioOpen:r});const i=Ce.getSessionId();Ce.insertScenarioInteraction({session_id:i,scenario_id:t,scenario_title:`Scenario ${t}`,event_type:"cvr_opened",option_id:n,time_since_scenario_start:Math.round(r/1e3)})}static recordCVRAnswer(t,n,r,i,s){this.currentScenarioTracking&&(n?this.currentScenarioTracking.cvrYesAnswers++:this.currentScenarioTracking.cvrNoAnswers++);const o=this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0;this.emitEvent({event:"cvr_answered",timestamp:new Date().toISOString(),scenarioId:t,cvrAnswer:n,timeSinceScenarioOpen:o});const l=Ce.getSessionId();r&&i&&s&&Ce.insertCVRResponse({session_id:l,scenario_id:t,option_id:r,option_label:i,cvr_question:s,user_answer:n,response_time_ms:Math.round(o)})}static recordAPAReordering(t,n,r,i){this.currentScenarioTracking&&(this.currentScenarioTracking.apaReordered=!0,this.currentScenarioTracking.apaReorderCount++);const s=this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0;this.emitEvent({event:"apa_reordered",timestamp:new Date().toISOString(),scenarioId:t,valuesBefore:n,valuesAfter:r,preferenceType:i,timeSinceScenarioOpen:s});const o=Ce.getSessionId();Ce.insertAPAReordering({session_id:o,scenario_id:t,preference_type:i,values_before:n,values_after:r,time_spent_ms:Math.round(s)}),Ce.insertValueEvolution({session_id:o,scenario_id:t,value_list_snapshot:r,change_trigger:"apa_reordering",change_type:i})}static recordAlternativesExplored(t){this.currentScenarioTracking&&(this.currentScenarioTracking.alternativesExplored=!0),this.emitEvent({event:"alternatives_explored",timestamp:new Date().toISOString(),scenarioId:t,timeSinceScenarioOpen:this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0})}static recordAlternativeAdded(t,n,r){this.currentScenarioTracking&&(this.currentScenarioTracking.alternativesExploredCount+=1),this.emitEvent({event:"alternative_added",timestamp:new Date().toISOString(),scenarioId:t,optionId:n,optionLabel:r,timeSinceScenarioOpen:this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0})}static getCurrentScenarioTracking(){return this.currentScenarioTracking}static endScenario(){if(!this.currentScenarioTracking)return;const t={...this.currentScenarioTracking},n=JSON.parse(localStorage.getItem("scenarioTrackingHistory")||"[]");return n.push(t),localStorage.setItem("scenarioTrackingHistory",JSON.stringify(n)),this.currentScenarioTracking=null,t}static emitEvent(t){const n=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");n.push(t),localStorage.setItem("sessionEventLogs",JSON.stringify(n))}static getScenarioTrackingHistory(){return JSON.parse(localStorage.getItem("scenarioTrackingHistory")||"[]")}static getAllEvents(){return JSON.parse(localStorage.getItem("sessionEventLogs")||"[]")}}re(yt,"currentScenarioTracking",null);const Cu=[{id:"livesSaved",label:"Lives Saved"},{id:"casualties",label:"Casualties"},{id:"resources",label:"Resources"},{id:"infrastructure",label:"Infrastructure"},{id:"biodiversity",label:"Biodiversity"},{id:"properties",label:"Properties"},{id:"nuclear",label:"Nuclear Safety"}],wl=[{id:"safety",label:"Safety"},{id:"efficiency",label:"Efficiency"},{id:"sustainability",label:"Sustainability"},{id:"fairness",label:"Fairness"},{id:"nonmaleficence",label:"Nonmaleficence"}],AM=({onBack:e,selectedOption:t,mainScenario:n,onConfirm:r,scenarioId:i=1,isLastScenario:s=!1})=>{const[o,l]=j.useState(""),[c,d]=j.useState(["Safety","Efficiency","Sustainability","Fairness","Nonmaleficence"]),[u,f]=j.useState(null),[h,m]=j.useState(Cu),[g,x]=j.useState(!1),[y,p]=j.useState(!0),[v,b]=j.useState(()=>localStorage.getItem("hasClickedPreferenceButton")==="true"),[S,w]=j.useState(()=>localStorage.getItem("hasClickedPreferenceButton")!=="true");j.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const N=()=>{try{const M=localStorage.getItem("FinalTopTwoValues");if(M){const D=JSON.parse(M),O=D[0]?D[0].charAt(0).toUpperCase()+D[0].slice(1):null,R=D[1]?D[1].charAt(0).toUpperCase()+D[1].slice(1):null;return O&&R&&O!==R?[O,R]:[O||"Safety",null]}}catch(M){console.error("Error parsing FinalTopTwoValues:",M)}return["Safety",null]},[C,k]=N(),I=k!==null,_=t.label||"Unknown",P=(M,D,O,R)=>{if(R!==1&&R!==2)return wl;const F=J=>J.charAt(0).toUpperCase()+J.slice(1).toLowerCase(),V=F(M),H=F(D),W=O?F(O):null,oe=[V];H&&!oe.includes(H)&&oe.push(H),W&&!oe.includes(W)&&oe.push(W);const Z=wl.filter(J=>!oe.includes(J.label));return[...oe.map(J=>wl.find($e=>$e.label===J)||{id:J.toLowerCase(),label:J}),...Z]},L=M=>{if(!M.destination)return;const D=Array.from(h),[O]=D.splice(M.source.index,1);D.splice(M.destination.index,0,O),m(D)},Y=()=>{if(!u||h.length===0)return;const M=u==="values"?wl.map(O=>O.id):Cu.map(O=>O.id),D=h.map(O=>O.id);if(yt.recordAPAReordering(n.id,M,D,u),localStorage.setItem("preferenceTypeFlag",u==="metrics"?"true":"false"),u==="metrics"){localStorage.setItem("simulationMetricsRanking",JSON.stringify(h)),localStorage.setItem("SimulationMetricsReorderList",JSON.stringify(h)),localStorage.setItem("simulationMetricsReorderingFlag","true"),localStorage.setItem("moralValuesReorderingFlag","false");const O=localStorage.getItem("simulationMetricsSelectedCount"),R=O?parseInt(O)+1:1;localStorage.setItem("simulationMetricsSelectedCount",R.toString())}else{localStorage.setItem("moralValuesRanking",JSON.stringify(h)),localStorage.setItem("MoralValuesReorderList",JSON.stringify(h)),localStorage.setItem("moralValuesReorderingFlag","true"),localStorage.setItem("simulationMetricsReorderingFlag","false");const O=localStorage.getItem("moralValuesSelectedCount"),R=O?parseInt(O)+1:1;localStorage.setItem("moralValuesSelectedCount",R.toString())}x(!0)};if(g)return a.jsx(TM,{scenario:n,onBack:()=>{x(!1),e()},onConfirm:(M,D)=>r(M,D),currentMetrics:{livesSaved:0,humanCasualties:0,firefightingResource:100,infrastructureCondition:100,biodiversityCondition:100,propertiesCondition:100,nuclearPowerStation:100},onReorderPriorities:()=>{x(!1)}});const{comparisonTableColumnContent:E}=t;return s&&i===3?a.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen p-6 flex-1 flex flex-col",children:a.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[a.jsxs("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2 transition-colors",children:[a.jsx(yi,{size:20}),"Back to Scenario 3"]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-8 text-center tracking-tight leading-tight",children:"Your Recent Choice Doesn't Fully Match Your Stated Priorities"}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 border-l-4 border-blue-500 p-6 rounded-r-xl mb-8 shadow-sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-slate-700 leading-7 text-[15px]",children:"In this scenario, you selected an option that reflects a specific moral value."}),a.jsx("p",{className:"text-slate-700 leading-7 text-[15px]",children:"When we compare this value with the priorities you set earlier, we see a misalignment: the value embedded in this choice is not among the top values you said matter most to you."}),a.jsx("p",{className:"text-slate-800 leading-7 text-[15px] font-semibold",children:"That's not a mistake, and it doesn't mean your choice is wrong."}),a.jsx("p",{className:"text-slate-600 leading-7 text-[15px] italic bg-slate-50 px-4 py-2 rounded-lg border border-slate-200",children:"It simply means that, in this moment, your action and your stated priorities are pulling in slightly different directions."})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-blue-500 to-teal-500 flex items-center justify-center shadow-md",children:a.jsx(Br,{className:"text-white",size:22})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"What We Detected"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 border border-slate-300 rounded-xl p-6 space-y-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-sm",children:a.jsx(ys,{className:"text-blue-600",size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-[13px] text-slate-600 mb-2 uppercase tracking-wider font-semibold",children:"Your recent choice emphasizes"}),a.jsx("p",{className:"text-lg font-bold text-blue-700 tracking-tight",children:_})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-sm",children:a.jsx(ls,{className:"text-emerald-600",size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[13px] text-slate-600 mb-2 uppercase tracking-wider font-semibold",children:["Your current top value ",I?"priorities are":"priority is"]}),a.jsx("p",{className:"text-lg font-bold text-emerald-700 tracking-tight",children:I?`${C} and ${k}`:C})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-300",children:[a.jsx("p",{className:"text-[15px] text-slate-700 leading-7 mb-3",children:"This suggests that your decision in this scenario is not fully aligned with your previously expressed preferences."}),a.jsx("p",{className:"text-[15px] text-slate-600 leading-7 italic bg-white px-4 py-3 rounded-lg border border-slate-200",children:"You might genuinely want to act differently than your earlier ranking suggested  or you might want your preferences to better match how you're actually choosing in these situations."})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-emerald-500 to-green-500 flex items-center justify-center shadow-md",children:a.jsx(pa,{className:"text-white",size:22})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"This Is Completely Normal"})]}),a.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-6 space-y-4 shadow-sm",children:[a.jsx("p",{className:"text-slate-700 leading-7 text-[15px]",children:`Many people discover that their actions, when faced with concrete trade-offs, don't always match the values they listed as "most important" at the start.`}),a.jsx("p",{className:"text-slate-700 leading-7 text-[15px]",children:"This page is here to help you notice that gap and decide what, if anything, you'd like to adjust."}),a.jsx("p",{className:"text-emerald-900 leading-7 text-[15px] font-semibold italic bg-white px-4 py-3 rounded-lg border border-emerald-200",children:"It is not telling you that your decision is right or wrong."})]})]}),a.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-5 rounded-r-lg mb-8 shadow-sm",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(pa,{className:"text-amber-600 mt-0.5 flex-shrink-0",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-900 font-bold mb-2 text-base tracking-tight",children:"This is the last scenario"}),a.jsx("p",{className:"text-amber-800 text-[14px] leading-7",children:"You don't need to reorder your values since there are no more scenarios after this one. You can review the information below and return to the simulation to make a different choice if needed."})]})]})}),a.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-3 py-4 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold text-lg tracking-tight transition-all duration-200 shadow-md hover:shadow-xl transform hover:-translate-y-0.5",children:[a.jsx(yi,{size:22}),"Return to Scenario 3"]})]})]})}):a.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen p-6 flex-1 flex flex-col",children:a.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[a.jsxs("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2 transition-colors",children:[a.jsx(yi,{size:20}),"Back to Simulation"]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-8 text-center tracking-tight leading-tight",children:"Your Recent Choice Doesn't Fully Match Your Stated Priorities"}),a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 border-l-4 border-blue-500 p-6 rounded-r-xl mb-8 shadow-sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-slate-700 leading-7 text-[15px]",children:"In this scenario, you selected an option that reflects a specific moral value."}),a.jsx("p",{className:"text-slate-700 leading-7 text-[15px]",children:"When we compare this value with the priorities you set earlier, we see a misalignment: the value embedded in this choice is not among the top values you said matter most to you."}),a.jsx("p",{className:"text-slate-800 leading-7 text-[15px] font-semibold",children:"That's not a mistake, and it doesn't mean your choice is wrong."}),a.jsx("p",{className:"text-slate-600 leading-7 text-[15px] italic bg-slate-50 px-4 py-2 rounded-lg border border-slate-200",children:"It simply means that, in this moment, your action and your stated priorities are pulling in slightly different directions."})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-blue-500 to-teal-500 flex items-center justify-center shadow-md",children:a.jsx(Br,{className:"text-white",size:22})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"What We Detected"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 border border-slate-300 rounded-xl p-6 space-y-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-sm",children:a.jsx(ys,{className:"text-blue-600",size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-[13px] text-slate-600 mb-2 uppercase tracking-wider font-semibold",children:"Your recent choice emphasizes"}),a.jsx("p",{className:"text-lg font-bold text-blue-700 tracking-tight",children:_})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-sm",children:a.jsx(ls,{className:"text-emerald-600",size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[13px] text-slate-600 mb-2 uppercase tracking-wider font-semibold",children:["Your current top value ",I?"priorities are":"priority is"]}),a.jsx("p",{className:"text-lg font-bold text-emerald-700 tracking-tight",children:I?`${C} and ${k}`:C})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-300",children:[a.jsx("p",{className:"text-[15px] text-slate-700 leading-7 mb-3",children:"This suggests that your decision in this scenario is not fully aligned with your previously expressed preferences."}),a.jsx("p",{className:"text-[15px] text-slate-600 leading-7 italic bg-white px-4 py-3 rounded-lg border border-slate-200",children:"You might genuinely want to act differently than your earlier ranking suggested  or you might want your preferences to better match how you're actually choosing in these situations."})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-emerald-500 to-green-500 flex items-center justify-center shadow-md",children:a.jsx(pa,{className:"text-white",size:22})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"This Is Completely Normal"})]}),a.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-6 space-y-4 shadow-sm",children:[a.jsx("p",{className:"text-slate-700 leading-7 text-[15px]",children:`Many people discover that their actions, when faced with concrete trade-offs, don't always match the values they listed as "most important" at the start.`}),a.jsx("p",{className:"text-slate-700 leading-7 text-[15px]",children:"This page is here to help you notice that gap and decide what, if anything, you'd like to adjust."}),a.jsx("p",{className:"text-emerald-900 leading-7 text-[15px] font-semibold italic bg-white px-4 py-3 rounded-lg border border-emerald-200",children:"It is not telling you that your decision is right or wrong."})]})]}),a.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-8 mb-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-lg",children:a.jsx(ys,{className:"text-white",size:26})}),a.jsx("h2",{className:"text-3xl font-bold text-slate-900 tracking-tight leading-tight",children:"What Matters More to You Going Forward?"})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4 tracking-tight",children:"Adjust Your Preferences"}),a.jsx("p",{className:"text-slate-700 leading-7 mb-4 text-[15px]",children:"If you feel your priorities should better reflect how you are deciding in these scenarios, you can update them."}),a.jsxs("p",{className:"text-slate-700 leading-7 mb-4 text-[15px]",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:"Choose what matters more right now:"})," Simulation Metrics, or Moral Values."]}),a.jsx("p",{className:"text-slate-700 leading-7 mb-5 text-[15px]",children:"Reorder your preferences within that focus by dragging and dropping values from most important to least important."}),a.jsx("p",{className:"text-slate-600 text-[15px] italic bg-slate-50 px-4 py-3 rounded-lg border border-slate-200 leading-7",children:"Updating your preferences will help future scenarios and recommendations become more aligned with how you actually want to decide."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("button",{onClick:()=>{f("metrics"),m(Cu),v||(b(!0),w(!1),localStorage.setItem("hasClickedPreferenceButton","true"))},className:`py-8 px-5 rounded-xl border-2 transition-all duration-300 flex flex-col items-center gap-4 shadow-sm hover:shadow-lg relative transform hover:-translate-y-1 ${u==="metrics"?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 shadow-lg scale-105":S?"border-blue-400 bg-white hover:border-blue-500 hover:bg-blue-50 shadow-blue-300 shadow-lg animate-pulse":"border-gray-300 bg-white hover:border-blue-400 hover:bg-blue-50"}`,children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center shadow-md transition-all duration-300 ${u==="metrics"?"bg-gradient-to-br from-blue-500 to-blue-600":"bg-gray-200"}`,children:a.jsx(z2,{className:u==="metrics"?"text-white":"text-gray-600",size:32})}),a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("span",{className:`font-bold text-xl tracking-tight ${u==="metrics"?"text-blue-700":"text-slate-800"}`,children:"Simulation Metrics"}),a.jsx("span",{className:`text-[13px] text-center leading-relaxed ${u==="metrics"?"text-blue-600":"text-slate-600"}`,children:"Prioritize quantifiable outcomes and measurable impact"}),a.jsx("span",{className:`text-[12px] text-center leading-relaxed italic font-medium ${u==="metrics"?"text-blue-500":"text-slate-500"}`,children:"(The Context of the Problem)"})]}),u==="metrics"&&a.jsx("span",{className:"text-xs bg-blue-500 text-white px-3 py-1 rounded-full font-medium shadow-sm",children:"Selected"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>{f("values");const M=P(_,C,k,i);m(M),v||(b(!0),w(!1),localStorage.setItem("hasClickedPreferenceButton","true"))},className:`w-full py-8 px-5 rounded-xl border-2 transition-all duration-300 flex flex-col items-center gap-4 shadow-sm hover:shadow-lg relative transform hover:-translate-y-1 ${u==="values"?"border-emerald-500 bg-gradient-to-br from-emerald-50 to-emerald-100 shadow-lg scale-105":S?"border-emerald-400 bg-white hover:border-emerald-500 hover:bg-emerald-50 shadow-emerald-300 shadow-lg animate-pulse":"border-gray-300 bg-white hover:border-emerald-400 hover:bg-emerald-50"}`,children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center shadow-md transition-all duration-300 ${u==="values"?"bg-gradient-to-br from-emerald-500 to-emerald-600":"bg-gray-200"}`,children:a.jsx(gs,{className:u==="values"?"text-white":"text-gray-600",size:32})}),a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("span",{className:`font-bold text-xl tracking-tight ${u==="values"?"text-emerald-700":"text-slate-800"}`,children:"Moral Values"}),a.jsx("span",{className:`text-[13px] text-center leading-relaxed ${u==="values"?"text-emerald-600":"text-slate-600"}`,children:"Prioritize ethical principles and fundamental values"}),a.jsx("span",{className:`text-[12px] text-center leading-relaxed italic font-medium ${u==="values"?"text-emerald-500":"text-slate-500"}`,children:"(Universal Morals)"})]}),u==="values"&&a.jsx("span",{className:"text-xs bg-emerald-500 text-white px-3 py-1 rounded-full font-medium shadow-sm",children:"Selected"})]}),S&&a.jsx("div",{className:"absolute -top-2 -right-4 transform translate-x-full z-10 animate-bounce",children:a.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white text-[14px] px-5 py-3 rounded-xl shadow-xl whitespace-nowrap font-semibold flex items-center gap-2 tracking-tight",children:[a.jsx(ls,{size:16,className:"flex-shrink-0"}),"Click one of these buttons to continue",a.jsx("div",{className:"absolute top-4 right-full transform w-0 h-0 border-t-8 border-b-8 border-r-8 border-emerald-500 border-t-transparent border-b-transparent"})]})})]})]}),u&&a.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 border border-slate-200 p-7 rounded-xl mt-8 shadow-sm",children:[a.jsxs("h4",{className:"text-xl font-bold text-slate-900 mb-5 flex items-center gap-2 tracking-tight",children:[a.jsx(sg,{size:22,className:"text-blue-600"}),"Rank from 1 (most important) to ",h.length," (least important)"]}),y&&a.jsx("div",{className:"mb-5 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg shadow-sm",children:a.jsxs("p",{className:"text-[14px] text-blue-800 flex items-center gap-2 font-medium",children:[a.jsx(ls,{size:16,className:"flex-shrink-0"}),a.jsx("strong",{className:"font-bold",children:"Tip:"})," Drag and drop items to reorder them by importance"]})}),a.jsx(UR,{onDragEnd:L,children:a.jsx(a1,{droppableId:"rankingList",children:M=>a.jsxs("div",{...M.droppableProps,ref:M.innerRef,className:"space-y-2",children:[h.map((D,O)=>a.jsx(PM,{draggableId:D.id,index:O,children:(R,F)=>a.jsxs("div",{ref:R.innerRef,...R.draggableProps,...R.dragHandleProps,className:`bg-white p-5 rounded-lg border flex items-center gap-4 transition-all duration-150 ${F.isDragging?"border-slate-400 shadow-xl scale-102":"border-slate-300 shadow-sm hover:shadow-md hover:border-slate-400"}`,children:[a.jsx("div",{className:"w-9 h-9 flex items-center justify-center rounded-full bg-gradient-to-br from-slate-100 to-slate-200 text-slate-700 font-bold text-base shadow-sm",children:O+1}),a.jsx("span",{className:"flex-1 font-semibold text-slate-800 text-[15px] tracking-tight",children:D.label}),a.jsx(sg,{size:20,className:"text-slate-400"})]})},D.id)),M.placeholder]})})}),a.jsxs("button",{onClick:Y,disabled:!u,className:`mt-7 w-full flex items-center justify-center gap-3 py-4 px-6 rounded-xl text-white font-bold text-lg tracking-tight transition-all duration-200 shadow-md ${u?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 hover:shadow-xl transform hover:-translate-y-0.5":"bg-slate-400 cursor-not-allowed"}`,children:["Continue to Next Step",a.jsx(Tn,{size:24})]})]})]}),a.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-5 rounded-r-lg shadow-sm",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(pa,{className:"text-amber-600 mt-0.5 flex-shrink-0",size:20}),a.jsx("p",{className:"text-[15px] text-amber-900 leading-7 font-medium",children:"Your rankings will help us understand your decision-making priorities and improve future scenario recommendations."})]})})]})]})})},Sl=({id:e,title:t,children:n,variant:r="info",defaultExpanded:i=!1})=>{const s=`help-message-${e}-hidden`,[o,l]=j.useState(i),[c,d]=j.useState(!1);j.useEffect(()=>{const f=localStorage.getItem(s)==="true";d(f)},[s]);const u=()=>{localStorage.setItem(s,"true"),d(!0)};return c?null:a.jsx("div",{className:"relative mb-4",children:a.jsxs("div",{className:"border-2 bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-400 rounded-xl shadow-md overflow-hidden transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-3 flex-1 text-left group",children:[a.jsx("div",{className:"text-yellow-600 transition-colors",children:a.jsx(vs,{size:20})}),a.jsx("h4",{className:"font-semibold text-yellow-900 text-sm group-hover:opacity-75 transition-opacity",children:t}),a.jsx("div",{className:"ml-auto text-yellow-600",children:o?a.jsx(Wb,{size:20}):a.jsx(xs,{size:20})})]}),a.jsx("button",{onClick:u,className:"ml-2 text-yellow-600 hover:opacity-75 transition-opacity",title:"Hide this message permanently",children:a.jsx(An,{size:18})})]}),o&&a.jsx("div",{className:"px-4 pb-4 text-yellow-900 text-sm leading-relaxed space-y-2 animate-in fade-in duration-200",children:n})]})})},OM=({isOpen:e,onClose:t,option:n})=>{const[r,i]=j.useState(!0),[s,o]=j.useState(!1),l=j.useRef(null),c=Object.keys(n.expertOpinions).length;j.useEffect(()=>{if(!e){i(!0),o(!1);return}const m=setTimeout(()=>{const g=l.current;if(g){const x=g.scrollHeight>g.clientHeight;i(x)}},800);return()=>clearTimeout(m)},[e]);const d=m=>{const g=m.currentTarget;g.scrollTop/(g.scrollHeight-g.clientHeight)*100>10&&(i(!1),o(!0))},u=()=>{l.current&&l.current.scrollTo({top:l.current.scrollHeight*.3,behavior:"smooth"})};if(!e)return null;const f={safety:{name:"Safety",icon:Rs,iconColor:"text-blue-600",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-300",accentColor:"bg-blue-500"},efficiency:{name:"Efficiency",icon:qr,iconColor:"text-cyan-600",bgGradient:"from-cyan-50 to-cyan-100",borderColor:"border-cyan-300",accentColor:"bg-cyan-500"},sustainability:{name:"Sustainability",icon:zh,iconColor:"text-green-600",bgGradient:"from-green-50 to-green-100",borderColor:"border-green-300",accentColor:"bg-green-500"},fairness:{name:"Fairness",icon:zi,iconColor:"text-purple-600",bgGradient:"from-purple-50 to-purple-100",borderColor:"border-purple-300",accentColor:"bg-purple-500"},nonmaleficence:{name:"Nonmaleficence",icon:Vh,iconColor:"text-red-600",bgGradient:"from-red-50 to-red-100",borderColor:"border-red-300",accentColor:"bg-red-500"}},h=m=>{switch(m){case"Accept":return"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-md";case"Reject":return"bg-gradient-to-r from-red-500 to-rose-600 text-white shadow-md";case"Neutral":return"bg-gradient-to-r from-yellow-400 to-amber-500 text-white shadow-md";default:return"bg-gray-200 text-gray-700"}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 overflow-y-auto backdrop-blur-sm",children:a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl max-w-5xl w-full my-8 border border-gray-200",children:[a.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-teal-600 to-cyan-600 rounded-t-2xl p-6 flex items-center justify-between z-10 shadow-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n.title}),a.jsx("p",{className:"text-teal-50 text-sm leading-relaxed",children:n.description})]}),a.jsx("button",{onClick:t,className:"text-white hover:text-teal-100 transition-colors p-2 rounded-full hover:bg-white hover:bg-opacity-20 ml-4",children:a.jsx(An,{size:28})})]}),a.jsxs("div",{ref:l,onScroll:d,className:"p-6 max-h-[calc(90vh-10rem)] overflow-y-auto relative",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-teal-500 to-cyan-500 rounded-full"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Expert Analysis"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:Object.entries(n.expertOpinions).map(([m,g])=>{const x=f[m],y=x.icon;return a.jsxs("div",{className:`bg-gradient-to-br ${x.bgGradient} border-2 ${x.borderColor} rounded-xl p-5 shadow-md hover:shadow-xl transition-shadow duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`${x.accentColor} p-3 rounded-lg shadow-md`,children:a.jsx(y,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[x.name," Expert"]}),a.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Professional Assessment"})]})]}),a.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-bold ${h(g.recommendation)}`,children:g.recommendation})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-blue-500 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(wi,{size:16,className:"text-blue-600"}),a.jsx("h4",{className:"text-sm font-bold text-blue-900 uppercase tracking-wide",children:"Analysis"})]}),a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:g.summary})]}),a.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-purple-500 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Hb,{size:16,className:"text-purple-600"}),a.jsx("h4",{className:"text-sm font-bold text-purple-900 uppercase tracking-wide",children:"Comparison"})]}),a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:g.comparison})]}),a.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-emerald-500 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ys,{size:16,className:"text-emerald-600"}),a.jsx("h4",{className:"text-sm font-bold text-emerald-900 uppercase tracking-wide",children:"Confidence Level"})]}),a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:g.confidence})]})]})]},m)})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-xl p-5 shadow-md",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-indigo-500 rounded-full"}),a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Simulation Metrics Impact Summary"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-green-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ri,{size:16,className:"text-green-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Lives Saved"})]}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["+",n.impact.livesSaved]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-red-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(So,{size:16,className:"text-red-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Casualties"})]}),a.jsxs("span",{className:"text-lg font-bold text-red-600",children:["+",n.impact.humanCasualties]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-cyan-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qr,{size:16,className:"text-cyan-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Resources"})]}),a.jsxs("span",{className:"text-lg font-bold text-cyan-600",children:[n.impact.firefightingResource,"%"]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-gray-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jn,{size:16,className:"text-gray-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Infrastructure"})]}),a.jsxs("span",{className:"text-lg font-bold text-gray-600",children:[n.impact.infrastructureCondition,"%"]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-emerald-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ws,{size:16,className:"text-emerald-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Biodiversity"})]}),a.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:[n.impact.biodiversityCondition,"%"]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-blue-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jn,{size:16,className:"text-blue-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Properties"})]}),a.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[n.impact.propertiesCondition,"%"]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-purple-500 shadow-sm col-span-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wo,{size:16,className:"text-purple-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Nuclear Station"})]}),a.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[n.impact.nuclearPowerStation,"%"]})]})})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 border-2 border-orange-300 rounded-xl p-5 shadow-md",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-500 to-red-500 rounded-full"}),a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Key Considerations"})]}),a.jsx("div",{className:"space-y-2",children:n.riskInfo.map((m,g)=>a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-orange-500 shadow-sm",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed font-medium",children:m})]})},g))})]})]}),r&&!s&&a.jsxs("div",{className:"sticky bottom-0 left-0 right-0 pointer-events-none",children:[a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-white via-white/80 to-transparent"}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 pointer-events-auto",children:a.jsxs("button",{onClick:u,className:"group flex flex-col items-center gap-2 bg-gradient-to-r from-teal-500 to-cyan-500 text-white px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:from-teal-600 hover:to-cyan-600 animate-bounce",style:{animationDuration:"2s"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold whitespace-nowrap",children:"More Expert Recommendations Below"}),a.jsx(xs,{size:20,className:"group-hover:translate-y-0.5 transition-transform"})]}),a.jsx("div",{className:"flex gap-1",children:Array.from({length:c}).map((m,g)=>a.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full opacity-70"},g))})]})})]})]}),a.jsx("div",{className:"sticky bottom-0 bg-gradient-to-r from-gray-50 to-white rounded-b-2xl border-t-2 border-gray-200 p-6 shadow-lg",children:a.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700 px-6 py-4 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[a.jsx(An,{size:24}),"Close Review"]})})]})})},Nl=[{id:1,title:"Wildfire Approaching a Town",description:"A wildfire is rapidly approaching a town with 2,000 residents. Critical decisions must be made about resource allocation and evacuation priorities.",options:[{id:"safety-first",title:"Prioritize Safety Protocol",label:"safety",description:"Deploy all available firefighters immediately to form defensive lines and evacuate population centers. This action will successfully evacuate all residents but exposes firefighters to intense danger, leading to casualties and resource depletion.",impact:{livesSaved:2e3,humanCasualties:12,firefightingResource:-38,infrastructureCondition:-15,biodiversityCondition:-12,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["2,000 residents safely evacuated through rapid deployment","12 firefighter casualties due to high exposure in intense zones","Firefighter morale potentially impacted by losses","Heavy short-term resource depletion may affect next emergency","Major fire spread contained near residential areas"],expertOpinions:{safety:{summary:"Ensures maximum civilian survival through aggressive intervention. However, the elevated firefighter risk could undermine future morale and readiness.",recommendation:"Accept",comparison:"Highest civilian survival (100%) among all options. Firefighter loss (12 personnel) introduces medium concern.",confidence:"High confidence based on historical evacuation efficiency in full-resource deployments."},efficiency:{summary:"Resource use is excessive relative to marginal gains over more targeted strategies.",recommendation:"Reject",comparison:"Uses 166% more resources than the efficiency-focused approach for a 42% increase in lives saved.",confidence:"Moderate confidence given modeled depletion thresholds and resource burn rates."},sustainability:{summary:"Environmental degradation is high due to aggressive fire suppression techniques.",recommendation:"Reject",comparison:"Causes 2.3x more environmental impact than the sustainability-focused approach.",confidence:"High confidence from ecological field data on containment burns."},fairness:{summary:"Effectively saves everyone, but accessible zones are disproportionately prioritized in execution.",recommendation:"Accept",comparison:"Outperforms all except fairness-focused plan in geographic equity.",confidence:"Moderate confidence based on standard evacuation route analysis."},nonmaleficence:{summary:"No civilian deaths, but responder harm remains ethically significant.",recommendation:"Accept",comparison:"Second-lowest total harm; only the nonmaleficence-focused strategy performs better.",confidence:"High confidence from harm-reduction comparative modeling."}},radarData:{fireContainment:90,firefighterRisk:60,resourceUse:84,infrastructureDamage:40,biodiversityImpact:35,ethicalFairness:75,populationSafety:100},cvrQuestion:{descriptionTile:" Forced Medical Sacrifice",description:"A chemical plant explosion has filled a city hospital with toxic fumes. To save 2,000 trapped patients, you can order a small team of 12 medical staff to enter the most contaminated zone to open sealed exits. Those 12 will certainly die, but everyone else will be evacuated safely.",question:"Would you order 12 medical staff to certain death so that 2,000 patients can be rescued?",value:"Safety"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Deploy all available firefighters immediately to form defensive lines and evacuate population centers",firstValue:"Safety",firstColumnAffected:2e3,firstColumnRisk:"12 firefighter casualties",firstColumnuserChoice:"Accepted",secondColumnTitle:"Forced Medical Sacrifice",secondColumnSelectedPreference:"Order 12 medical staff into a lethal zone to unlock exits and save 2,000 patients",secondValue:"Safety",secondColumnaffected:2e3,secondColumnRisk:"12 medical staff deaths",secondColumnuserChoice:"Rejected"}},{id:"efficiency-focused",title:"Resource Optimization Strategy",label:"efficiency",description:"Deploy firefighter teams only to the most critical zones, minimizing resource use while attempting to save as many lives as possible. However, limited coverage results in preventable resident deaths and minor firefighter casualties.",impact:{livesSaved:1400,humanCasualties:600,firefightingResource:-22,infrastructureCondition:-14,biodiversityCondition:-16,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["1,400 residents evacuated from high-priority zones","600 casualties from areas not prioritized","Firefighters remained mostly in low-risk sectors","Minimal firefighter exposure and casualties (0)","Resources preserved for future emergencies"],expertOpinions:{safety:{summary:"Substantial lives are saved but at the cost of abandoning lower-priority areas.",recommendation:"Reject",comparison:"600 deaths preventable under safety or nonmaleficence strategies.",confidence:"Moderate confidence based on demographic prioritization models."},efficiency:{summary:"Exceptional performance in lives saved per resource expended.",recommendation:"Accept",comparison:"Best efficiency ratio with 60 lives saved per 1% resource used.",confidence:"High confidence from optimization-based simulations."},sustainability:{summary:"Resources preserved, but ecological damage left unchecked.",recommendation:"Accept",comparison:"Ecological triage limits short-term loss but sacrifices containment.",confidence:"Low confidence due to variable fire behavior in uncontrolled spread."},fairness:{summary:"Benefits skewed toward urban centers, ignoring rural zones.",recommendation:"Reject",comparison:"Most inequitable strategy from a geographic fairness perspective.",confidence:"Moderate confidence from spatial resource allocation studies."},nonmaleficence:{summary:"Large-scale civilian loss undermines core harm-minimization ethics.",recommendation:"Reject",comparison:"600 deaths exceed acceptable ethical thresholds by 400%.",confidence:"High confidence from casualty probability projections."}},radarData:{fireContainment:60,firefighterRisk:20,resourceUse:50,infrastructureDamage:38,biodiversityImpact:45,ethicalFairness:45,populationSafety:70},cvrQuestion:{descriptionTile:" Lifeboat Bulkhead Order",description:"A cruise ship with 2,000 people is taking on water. To keep the ship afloat long enough to save 1,400 people using only 25% of rescue resources, you must order the sealing of six lower-deck bulkheads, deliberately trapping 600 passengers below.",question:"Would you seal the bulkheadscondemning 600 peopleso that 1,400 can be saved with minimal resources?",value:"Efficiency"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Deploy firefighter teams only to the most critical zones",firstValue:"Efficiency",firstColumnAffected:2e3,firstColumnRisk:"600 civilian deaths",firstColumnuserChoice:"Accepted",secondColumnTitle:"Lifeboat Bulkhead Order",secondColumnSelectedPreference:"Seal lower-deck bulkheads to preserve buoyancy and save 1,400 with limited resources",secondValue:"Efficiency",secondColumnaffected:2e3,secondColumnRisk:"600 passenger deaths",secondColumnuserChoice:"Rejected"}},{id:"sustainability-focused",title:"Eco-Conscious Containment",label:"sustainability",description:"Limit intervention to protect natural ecosystems and endangered species. Firefighters engage only in environmentally sensitive zones. Most civilians are left vulnerable, and several firefighters perish in inaccessible terrain.",impact:{livesSaved:900,humanCasualties:1100,firefightingResource:-26,infrastructureCondition:-12,biodiversityCondition:-8,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["900 residents rescued through low-impact paths","1,080 civilian casualties due to delayed evacuation","20 firefighter deaths during defensive ecological operations","Key wildlife corridors preserved and fire-resistant","Natural firebreaks used instead of industrial tools"],expertOpinions:{safety:{summary:"Unacceptably high casualty rate despite eco-priorities.",recommendation:"Reject",comparison:"Over 1,000 deaths make this the least protective of human life.",confidence:"High confidence from historical fire shelter failures."},efficiency:{summary:"Resources used for habitat protection, not for life-saving.",recommendation:"Reject",comparison:"33% fewer lives saved than efficiency plan with 60% more resource usage.",confidence:"Moderate confidence based on deployment logs."},sustainability:{summary:"Top-tier biodiversity preservation through minimal intrusion.",recommendation:"Accept",comparison:"85% lower impact on ecosystems than any other strategy.",confidence:"High confidence from ecological satellite assessments."},fairness:{summary:"Equitable if extended to non-human lives, ethically controversial otherwise.",recommendation:"Accept",comparison:"Reframes fairness beyond humanity but lacks population equity.",confidence:"Low confidence due to disputed ethical scope."},nonmaleficence:{summary:"Sacrifices too many for future benefitsethically disproportionate.",recommendation:"Reject",comparison:"Highest total harm in the name of ecological restraint.",confidence:"High confidence based on life-cycle harm index."}},radarData:{fireContainment:40,firefighterRisk:50,resourceUse:56,infrastructureDamage:32,biodiversityImpact:24,ethicalFairness:55,populationSafety:45},cvrQuestion:{descriptionTile:" Operate the Floodgates",description:"A collapsing dam threatens a rare wetland. To save the ecosystem, you can detonate a levee that will divert the torrent into low-lying neighborhoods. This will preserve the habitat but will kill 1,100 people, including 20 responders positioned to execute the operation, while 900 are rescued via low-impact routes.",question:"Would you deliberately breach the leveeknowing 1,100 people including 20 responders will dieto preserve the ecosystem?",value:"Sustainability"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Limit intervention to protect natural ecosystems and endangered species",firstValue:"Sustainability",firstColumnAffected:2e3,firstColumnRisk:"1,100 civilian deaths + 20 firefighters",firstColumnuserChoice:"Accepted",secondColumnTitle:"Operate the Floodgates",secondColumnSelectedPreference:"Breach a levee to save the wetland, sacrificing 1,100 people (incl. 20 responders)",secondValue:"Sustainability",secondColumnaffected:2e3,secondColumnRisk:"1,100 civilian deaths + 20 responder deaths",secondColumnuserChoice:"Rejected"}},{id:"fairness-focused",title:"Equitable Response Protocol",label:"fairness",description:"Distribute protection equally across all neighborhoods regardless of socioeconomic or geographic differences. This equitable approach stretches resources thin, leading to moderate civilian and firefighter losses.",impact:{livesSaved:1600,humanCasualties:400,firefightingResource:-32,infrastructureCondition:-14,biodiversityCondition:-14,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["1,600 residents saved through balanced evacuation zones","370 residents and 30 firefighters lost due to delayed response in all areas","No neighborhood prioritized over others","Fire spread difficult to contain due to thin coverage","Moral clarity but logistical challenge"],expertOpinions:{safety:{summary:"Saves a large number while ensuring equal effort across areas.",recommendation:"Accept",comparison:"Reasonable harm (400) with high geographic parity.",confidence:"Moderate confidence from area-distribution simulations."},efficiency:{summary:"Low strategic ROI from wide-spread deployment.",recommendation:"Reject",comparison:"Uses double the resources of efficient strategy with 14% more lives saved.",confidence:"High confidence based on resource-per-zone stats."},sustainability:{summary:"Moderate ecosystem protection at cost of uniformity.",recommendation:"Reject",comparison:"Less targeted response leads to higher net environmental loss.",confidence:"Moderate confidence due to fragmented zone support."},fairness:{summary:"Most ethically aligned with equal protection principles.",recommendation:"Accept",comparison:"Only option achieving full demographic impartiality.",confidence:"High confidence from population-based equity modeling."},nonmaleficence:{summary:"Moderate harm, ethically balanced, but preventable losses remain.",recommendation:"Accept",comparison:"Middle-of-the-road in harm scores, favors equity over efficiency.",confidence:"Moderate confidence based on weighted harm index."}},radarData:{fireContainment:65,firefighterRisk:55,resourceUse:68,infrastructureDamage:36,biodiversityImpact:40,ethicalFairness:90,populationSafety:80},cvrQuestion:{descriptionTile:" Hold the Beams",description:"After a major earthquake, rescue teams face collapsing corridors across rich and poor districts alike. To ensure equal access, you order teams to advance in lockstep across all districts. In several buildings, 30 rescuers must physically brace failing beams so that 1,600 people can passthose 30 will certainly die, and 400 residents still perish due to system-wide delays.",question:"Would you enforce perfectly equal deployment even if it requires 30 rescuers to accept certain death and results in 400 resident deaths due to slower aid?",value:"Fairness"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Distribute protection equally across all neighborhoods",firstValue:"Fairness",firstColumnAffected:2e3,firstColumnRisk:"400 deaths including 30 firefighters",firstColumnuserChoice:"Accepted",secondColumnTitle:"Hold the Beams",secondColumnSelectedPreference:"Maintain equal deployment; 30 rescuers brace failing structures to let 1,600 pass",secondValue:"Fairness",secondColumnaffected:2e3,secondColumnRisk:"400 civilian deaths + 30 rescuer deaths",secondColumnuserChoice:"Rejected"}},{id:"nonmaleficence-focused",title:"Harm Minimization Approach",label:"nonmaleficence",description:"Use every available strategy to minimize total harmboth human and ecologicalby shielding vulnerable communities, preempting infrastructure collapse, and preserving firefighter life. All civilians are rescued, but some firefighter lives are lost in the process.",impact:{livesSaved:2e3,humanCasualties:8,firefightingResource:-30,infrastructureCondition:-16,biodiversityCondition:-12,propertiesCondition:-16,nuclearPowerStation:0},riskInfo:["All 2,000 residents rescued using layered evacuation strategies","8 firefighter deaths during containment in hazardous areas","Focus on protecting both people and natural resources","Infrastructure takes significant damage as a trade-off","Lowest possible total harm achieved across all groups"],expertOpinions:{safety:{summary:"Superior civilian protection, slight responder risk.",recommendation:"Accept",comparison:"Most balanced plan with 99.6% human survival.",confidence:"High confidence from full-protection model consensus."},efficiency:{summary:"High cost but justified by extraordinary outcomes.",recommendation:"Reject",comparison:"Uses 80% more resources than the efficient option for 43% more lives saved.",confidence:"Moderate confidence based on proportional expenditure models."},sustainability:{summary:"Moderate impact, carefully managed.",recommendation:"Reject",comparison:"Ecological footprint 2x higher than sustainability option.",confidence:"High confidence from scenario-based restoration data."},fairness:{summary:"Vulnerable groups prioritized ethically, but geographic balance is imperfect.",recommendation:"Accept",comparison:"Not equal, but ethically coherent with moral urgency framework.",confidence:"Moderate confidence based on tiered-vulnerability approach."},nonmaleficence:{summary:"Lowest overall harmboth to humans and environment.",recommendation:"Accept",comparison:"Most ethically consistent outcome across all domains.",confidence:"High confidence based on integrated harm-weighted scoring."}},radarData:{fireContainment:80,firefighterRisk:40,resourceUse:64,infrastructureDamage:42,biodiversityImpact:35,ethicalFairness:80,populationSafety:100},cvrQuestion:{descriptionTile:" Manual Valve Shutdown",description:"A bioterror gas release spreads through a university complex. To guarantee the rescue of all 2,000 civilians, you must order an 8person hazmat team to enter a saturated zone and manually shut the final valves. The team will certainly die; everyone else survives, and infrastructure suffers heavy damage.",question:"Would you order 8 hazmat responders to certain death to ensure zero civilian fatalities (2,000 saved) despite severe infrastructure loss?",value:"Nonmaleficence"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Use every available strategy to minimize total harm",firstValue:"Nonmaleficence",firstColumnAffected:2e3,firstColumnRisk:"8 firefighter deaths",firstColumnuserChoice:"Accepted",secondColumnTitle:"Manual Valve Shutdown",secondColumnSelectedPreference:"Order 8 hazmat responders into a lethal zone to save 2,000 civilians",secondValue:"Nonmaleficence",secondColumnaffected:2e3,secondColumnRisk:"8 responder deaths + severe infrastructure damage",secondColumnuserChoice:"Rejected"}}]},{id:2,title:"Nuclear Facility Under Threat",description:"A wildfire is spreading rapidly toward a nuclear power plant located near a residential area. If the facility is breached, the resulting radioactive fallout could endanger hundreds of thousands. You must prioritize decisions that balance local evacuation, plant protection, and firefighter safety.",options:[{id:"nuclear-safety-priority",title:"Shield the Reactor at All Costs",label:"safety",description:"Deploy all firefighting forces to fortify the nuclear facility perimeter. This prevents catastrophic radiation release but leaves most of the population unprotected, leading to severe civilian casualties.",impact:{livesSaved:400,humanCasualties:1600,firefightingResource:-42,infrastructureCondition:-16,biodiversityCondition:-16,propertiesCondition:-14,nuclearPowerStation:-5},riskInfo:["Reactor secured and meltdown prevented","1,600 residents perish due to lack of evacuation resources","Firefighters suffer minimal casualties","Long-term regional fallout avoided","Severe public backlash and ethical scrutiny"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Shield the Reactor at All Costs",firstValue:"Safety",firstColumnAffected:2e3,firstColumnRisk:"1600 residents dead, minor firefighter casualties",firstColumnuserChoice:"Accepted",secondColumnTitle:"Seal the Community Gates",secondColumnSelectedPreference:"Close flood/contamination gates to protect reactor, trapping residents inside",secondValue:"Safety",secondColumnaffected:2e3,secondColumnRisk:"1600 residents lost, reactor secured",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Eliminates the highest-risk global hazard, but sacrifices local population safety.",recommendation:"Accept",comparison:"Best long-term safety outcome, worst immediate human cost.",confidence:"High confidence based on reactor shielding precedent ( 85%100%)"},efficiency:{summary:"Heavy resource usage on a single target with poor civilian ROI.",recommendation:"Reject",comparison:"Most resource-intensive with lowest lives saved per unit.",confidence:"Moderate confidence from facility defense efficiency models ( 65%80%)"},sustainability:{summary:"Protects reactor but ignores biodiversity corridors and burns vast land.",recommendation:"Reject",comparison:"Third worst outcome in biodiversity loss.",confidence:"High confidence from environmental spread simulations ( 85%100%)"},fairness:{summary:"Neglects vulnerable residential areas in favor of infrastructure.",recommendation:"Reject",comparison:"Fails basic equity standards.",confidence:"High confidence from response ethics research ( 85%100%)"},nonmaleficence:{summary:"Avoids global harm but causes extreme localized suffering.",recommendation:"Reject",comparison:"Most ethically controversial trade-off.",confidence:"Moderate confidence from trade-off harm matrix ( 65%80%)"}},radarData:{fireContainment:80,firefighterRisk:15,resourceUse:96,infrastructureDamage:42,biodiversityImpact:45,ethicalFairness:25,populationSafety:20},cvrQuestion:{descriptionTile:" Seal the Community Gates",description:"A toxic plume is advancing toward a nuclear facility and nearby town. To prevent a reactor breach, you can shut the community flood/contamination gates, sealing neighborhoods in place. This will save the facility but condemn 1,600 residents while 400 are evacuated.",question:"Would you deliberately seal the neighborhood gatescondemning 1,600 peopleto prevent a catastrophic reactor failure?",value:"Safety"}},{id:"evacuation-priority",title:"Evacuate Every Civilian",label:"fairness",description:"Redirect all resources to evacuate residents as quickly as possible. While this saves the majority of the population, the nuclear plant is left vulnerable, increasing the risk of partial radioactive leakage and infrastructure collapse.",impact:{livesSaved:1800,humanCasualties:200,firefightingResource:-40,infrastructureCondition:-18,biodiversityCondition:-18,propertiesCondition:-16,nuclearPowerStation:-20},riskInfo:["1,800 residents saved via urgent coordinated effort","200 total casualties including vulnerable individuals and 3 firefighters in distant zones","Radiation leaks contained to local zones, potential long-term effects","Minimal firefighter risk, public morale high","Severe damage to the nuclear site may require years of cleanup"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Evacuate Every Civilian",firstValue:"Fairness",firstColumnAffected:2e3,firstColumnRisk:"200 residents and responders lost, nuclear damage ongoing",firstColumnuserChoice:"Accepted",secondColumnTitle:"Controlled Vent for Evacuation",secondColumnSelectedPreference:"Order a controlled vent to the atmosphere to buy evacuation time",secondValue:"Fairness",secondColumnaffected:2e3,secondColumnRisk:"200 deaths from acute exposure (incl. 3 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Protects population but elevates nuclear contamination risk.",recommendation:"Reject",comparison:"Lower immediate death toll, higher infrastructure hazard.",confidence:"High confidence from emergency evac modeling ( 85%100%)"},efficiency:{summary:"Saves maximum lives per resource unit.",recommendation:"Accept",comparison:"Best cost-benefit in life preservation.",confidence:"High confidence from rescue efficiency simulations ( 85%100%)"},sustainability:{summary:"Long-term radiation containment becomes costly.",recommendation:"Reject",comparison:"Worsens environmental recovery timelines.",confidence:"Moderate confidence from environmental toxicity projection ( 65%80%)"},fairness:{summary:"Favors population-wide equity regardless of cost.",recommendation:"Accept",comparison:"Most equitable outcome.",confidence:"High confidence from ethical distribution models ( 85%100%)"},nonmaleficence:{summary:"Minimizes harm to people, defers ecological damage.",recommendation:"Accept",comparison:"Second most morally favorable option.",confidence:"Moderate confidence from risk-aversion studies ( 65%80%)"}},radarData:{fireContainment:60,firefighterRisk:20,resourceUse:90,infrastructureDamage:48,biodiversityImpact:50,ethicalFairness:95,populationSafety:85},cvrQuestion:{descriptionTile:" Controlled Vent for Evacuation",description:"To clear evacuation routes for 1,800 civilians, engineers can perform a controlled venting of radioactive steam. This action will directly cause 200 deaths from acute exposure, including 3 responders, while preventing a wider catastrophe.",question:"Would you order a controlled ventcausing 200 deaths (incl. 3 responders)to evacuate 1,800 civilians in time?",value:"Fairness"}},{id:"divided-response-strategy",title:"Split Response Strategy",label:"efficiency",description:"Divide firefighting units between civilian evacuation and securing the nuclear facility. This approach aims to minimize both civilian and infrastructure loss, but spreading resources may reduce overall effectiveness and increase complexity.",impact:{livesSaved:1500,humanCasualties:500,firefightingResource:-38,infrastructureCondition:-16,biodiversityCondition:-18,propertiesCondition:-16,nuclearPowerStation:-10},riskInfo:["1500 residents successfully evacuated","500 total casualties including 10 firefighters due to spread-thin response","Radiation contained but minor breach occurred","Moderate infrastructure damage near facility","Balanced short-term and long-term impact, but resource planning remains controversial"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Split Response Strategy",firstValue:"Efficiency",firstColumnAffected:2e3,firstColumnRisk:"500 deaths, minor radiation breach, reduced firefighter readiness",firstColumnuserChoice:"Accepted",secondColumnTitle:"Dual Mission with Sacrifice",secondColumnSelectedPreference:"Assign 10 responders to manual core venting while evacuations proceed",secondValue:"Efficiency",secondColumnaffected:2e3,secondColumnRisk:"500 deaths total (incl. 10 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Balanced protection plan, mitigates both civilian and infrastructure risk.",recommendation:"Accept",comparison:"Second-best for reducing total harm.",confidence:"High confidence from hybrid emergency strategies ( 85%100%)"},efficiency:{summary:"High cost-effectiveness in saving lives and infrastructure.",recommendation:"Accept",comparison:"Strongest compromise across multiple domains.",confidence:"High confidence from multi-variable allocation models ( 85%100%)"},sustainability:{summary:"Reduces environmental damage moderately by preventing nuclear spread.",recommendation:"Accept",comparison:"Better than reactor sacrifice, worse than full eco-prioritization.",confidence:"Moderate confidence based on terrain control data ( 65%80%)"},fairness:{summary:"Attempts equal distribution of aid, but sacrifices depth for breadth.",recommendation:"Accept",comparison:"Ethically viable under emergency triage frameworks.",confidence:"Moderate confidence from equity studies ( 65%80%)"},nonmaleficence:{summary:"Minimizes overall harm but includes risk of partial failure in both sectors.",recommendation:"Accept",comparison:"Moral middle ground, with risks acknowledged.",confidence:"Moderate confidence from harm minimization research ( 65%80%)"}},radarData:{fireContainment:70,firefighterRisk:30,resourceUse:84,infrastructureDamage:42,biodiversityImpact:50,ethicalFairness:70,populationSafety:75},cvrQuestion:{descriptionTile:" Dual Mission with Sacrifice",description:"To both evacuate civilians and stabilize the reactor, 10 technicians must enter a breached chamber to manually vent pressure. Those 10 will certainly die; 1,500 civilians are evacuated and the reactor holds with only a minor breach.",question:"Would you order 10 technicians to certain death so you can split teams and still prevent a major reactor failure?",value:"Efficiency"}},{id:"ecosystem-defense-priority",title:"Protect Ecosystems First",label:"sustainability",description:"Redirect major resources toward halting wildfire spread through key biodiversity corridors. This protects sensitive ecosystems and prevents long-term environmental collapse but limits evacuation and increases casualties among both civilians and responders.",impact:{livesSaved:800,humanCasualties:1200,firefightingResource:-40,infrastructureCondition:-16,biodiversityCondition:-8,propertiesCondition:-16,nuclearPowerStation:-20},riskInfo:["800 civilians rescued before route closures","1,200 casualties including 80 firefighters overwhelmed by terrain fires","Critical wildlife corridors preserved","Moderate nuclear facility damage due to diverted response","Significant long-term gains in ecological resilience"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Protect Ecosystems First",firstValue:"Sustainability",firstColumnAffected:2e3,firstColumnRisk:"1,200 deaths including firefighters, minimal biodiversity loss",firstColumnuserChoice:"Accepted",secondColumnTitle:"Last Stand Firebreak",secondColumnSelectedPreference:"Ignite barrier fires and order 80 rangers to hold lines so corridors survive",secondValue:"Sustainability",secondColumnaffected:2e3,secondColumnRisk:"1,200 deaths total (incl. 80 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Neglects large-scale human safety in favor of long-term gains.",recommendation:"Reject",comparison:"Highest loss of life trade-off.",confidence:"High confidence based on emergency triage outcome ( 85%100%)"},efficiency:{summary:"Moderate resource allocation efficiency with heavy trade-offs.",recommendation:"Reject",comparison:"Weakest efficiency-to-impact ratio.",confidence:"Moderate confidence from logistic stress models ( 65%75%)"},sustainability:{summary:"Preserves high-value ecosystems and prevents irreversible damage.",recommendation:"Accept",comparison:"Best option for biodiversity and ecological continuity.",confidence:"High confidence from conservation risk metrics ( 85%95%)"},fairness:{summary:"Prioritizes environment over people, ethically contested.",recommendation:"Reject",comparison:"Uneven distribution of aid favors future generations.",confidence:"Moderate confidence from ethical impact modeling ( 65%75%)"},nonmaleficence:{summary:"High immediate harm for low present benefit, deferred long-term gain.",recommendation:"Reject",comparison:"Violates do-no-harm principle under human loss.",confidence:"High confidence from applied bioethics studies ( 85%95%)"}},radarData:{fireContainment:60,firefighterRisk:70,resourceUse:92,infrastructureDamage:42,biodiversityImpact:22,ethicalFairness:45,populationSafety:35},cvrQuestion:{descriptionTile:" Last Stand Firebreak",description:"To keep ancient biodiversity corridors alive, commanders can ignite barrier fires and order 80 rangers to hold the lines until overrun. Their deaths will buy time to save the ecosystems, but only 800 civilians will be rescued; 1,120 others will perish.",question:"Would you order 80 rangers to certain death and accept 1,120 civilian deaths to prevent ecosystem collapse?",value:"Sustainability"}},{id:"nonmaleficence-response",title:"Minimize Harm, Avoid Irreversible Fallout",label:"nonmaleficence",description:"Choose a restrained approach that avoids high-risk maneuvers and minimizes irreversible harm. Firefighters will only secure defensible zones and allow natural containment. This reduces unnecessary loss of life among responders but increases the risk of radiation release and major regional damage.",impact:{livesSaved:1e3,humanCasualties:1e3,firefightingResource:-34,infrastructureCondition:-18,biodiversityCondition:-18,propertiesCondition:-18,nuclearPowerStation:-30},riskInfo:["1,000 residents evacuated with minimal firefighter exposure","1,000 total deaths including residents left in inaccessible zones","Nuclear breach causes long-term contamination in surrounding region","Infrastructure collapse in unprotected urban areas","Low immediate harm to responders but high deferred civilian impact"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Minimize Harm, Avoid Irreversible Fallout",firstValue:"Nonmaleficence",firstColumnAffected:2e3,firstColumnRisk:"1,000 deaths, reactor partially breached, firefighter safety preserved",firstColumnuserChoice:"Accepted",secondColumnTitle:"Lockdown Doctrine",secondColumnSelectedPreference:"Lock down red zones to avoid responder risk, barring rescue attempts",secondValue:"Nonmaleficence",secondColumnaffected:2e3,secondColumnRisk:"1,000 deaths, responders unharmed",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Fails to secure high-risk zones, putting population at serious risk.",recommendation:"Reject",comparison:"Sacrifices lives for responder safety.",confidence:"High confidence from crisis escalation modeling ( 85%95%)"},efficiency:{summary:"Efficient in preserving firefighter capacity but ineffective overall.",recommendation:"Reject",comparison:"Poor cost-benefit outcome for population protection.",confidence:"Moderate confidence from operational strategy benchmarks ( 65%75%)"},sustainability:{summary:"Long-term fallout undermines environmental recovery.",recommendation:"Reject",comparison:"Poor ecological outcome despite low active harm.",confidence:"High confidence from disaster aftermath projections ( 85%95%)"},fairness:{summary:"Favors responder safety over civilian lives, morally imbalanced.",recommendation:"Reject",comparison:"Unjust distribution of protection.",confidence:"High confidence from harm distribution models ( 85%95%)"},nonmaleficence:{summary:"Reduces direct harm to agents but leads to higher indirect harm.",recommendation:"Accept",comparison:"Best at reducing immediate interventions causing loss of life.",confidence:"Moderate confidence from ethical harm-mitigation models ( 65%75%)"}},radarData:{fireContainment:55,firefighterRisk:10,resourceUse:76,infrastructureDamage:48,biodiversityImpact:50,ethicalFairness:40,populationSafety:50},cvrQuestion:{descriptionTile:" Lockdown Doctrine",description:"To avoid risking responders, command can order hard lockdowns of unstable zones, physically preventing rescue attempts. This action directly condemns 1,000 people who cannot be reached, while responders remain unharmed.",question:"Would you impose a hard lockdown that bars rescue attemptsknowingly condemning 1,000 peopleto avoid responder deaths and escalation?",value:"Nonmaleficence"}}]},{id:3,title:"Wildfire Threatens Biodiversity Reserve",description:"A massive wildfire is advancing toward one of the worlds most diverse ecosystems, home to countless endangered species. Nearby, small villages and critical infrastructure are also in the fires path. Responders must weigh saving human lives, critical services, and biodiversity.",options:[{id:"evacuate-residents-priority",title:"Evacuate All Nearby Villages",label:"safety",description:"Mobilize all available forces to evacuate human populations near the biodiversity reserve. This ensures minimal civilian casualties but risks severe damage to the ecosystem and critical research stations.",impact:{livesSaved:1900,humanCasualties:100,firefightingResource:-30,infrastructureCondition:-20,biodiversityCondition:-50,propertiesCondition:-22,nuclearPowerStation:0},riskInfo:["1900 villagers successfully evacuated before fire reached settlements","100 casualties, including 20 firefighters due to rapid extraction efforts","Biodiversity core zone burned extensively due to redirection of resources","Several rare species possibly extinct or displaced","Critical scientific stations lost to fire damage"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Evacuate All Nearby Villages",firstValue:"Safety",firstColumnAffected:2e3,firstColumnRisk:"100 deaths, firefighters exposed, reserve destroyed",firstColumnuserChoice:"Accepted",secondColumnTitle:"Bridge Bracing Line",secondColumnSelectedPreference:"Order 20 firefighters to hold a collapsing fire-bridge so 1,900 villagers can pass",secondValue:"Safety",secondColumnaffected:2e3,secondColumnRisk:"100 deaths total (incl. 20 firefighters)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Maximizes human life preservation, meeting immediate ethical duty.",recommendation:"Accept",comparison:"Top choice for casualty reduction.",confidence:"High confidence from evacuation timeline simulations ( 85%95%)"},efficiency:{summary:"Resource-draining but outcome-effective in saving lives.",recommendation:"Accept",comparison:"High input, high return for civilian safety.",confidence:"Moderate confidence from wildfire response models ( 70%80%)"},sustainability:{summary:"Severe biodiversity loss from reallocation of fire suppression resources.",recommendation:"Reject",comparison:"Worst case for long-term environmental stewardship.",confidence:"High confidence from ecological resilience projections ( 85%100%)"},fairness:{summary:"Prioritizes human life over irreplaceable ecological value, ethically nuanced.",recommendation:"Neutral",comparison:"Raises intergenerational equity concerns.",confidence:"Moderate confidence from ethical studies ( 65%75%)"},nonmaleficence:{summary:"Avoids harm to humans but enables irreversible harm to non-human life.",recommendation:"Reject",comparison:"Protective in short term, damaging in long-term lens.",confidence:"Moderate confidence from harm projection analytics ( 70%80%)"}},radarData:{fireContainment:50,firefighterRisk:40,resourceUse:60,infrastructureDamage:40,biodiversityImpact:100,ethicalFairness:55,populationSafety:90},cvrQuestion:{descriptionTile:" Bridge Bracing Line",description:"Smoke and fire trap villagers at a narrow canyon bridge. To allow 1,900 people to pass, 20 firefighters must physically brace failing beams in lethal heat until evacuations are complete. Those 20 will certainly die; the reserve will burn.",question:"Would you order 20 firefighters to hold the bridgeaccepting their certain deathsto evacuate 1,900 people?",value:"Safety"}},{id:"logistics-balance-deployment",title:"Balance Fire Suppression with Evacuation",label:"efficiency",description:"Split emergency resources between containment efforts around the reserve and limited village evacuations. This approach minimizes overall destruction but risks moderate casualties and partial loss of biodiversity.",impact:{livesSaved:1400,humanCasualties:600,firefightingResource:-22,infrastructureCondition:-16,biodiversityCondition:-35,propertiesCondition:-18,nuclearPowerStation:0},riskInfo:["1400 residents evacuated with minimal route overlap","600 casualties including 30 firefighters in split zones","Partial preservation of biodiversity buffer zones","Reserve partially burned but critical habitats retained","Resources used strategically across multiple objectives"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Balance Fire Suppression with Evacuation",firstValue:"Efficiency",firstColumnAffected:2e3,firstColumnRisk:"600 deaths, reserve partially protected, infrastructure moderately damaged",firstColumnuserChoice:"Accepted",secondColumnTitle:"Cut Line in the Flames",secondColumnSelectedPreference:"Order 30 dozer crews to cut a fireline in lethal conditions to buy time for split ops",secondValue:"Efficiency",secondColumnaffected:2e3,secondColumnRisk:"600 deaths total (incl. 30 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Partial preservation of life with increased responder danger.",recommendation:"Neutral",comparison:"Better than environmental-first, worse than full evacuation.",confidence:"Moderate confidence from rescue simulations ( 65%75%)"},efficiency:{summary:"Strong resource optimization with multi-target focus.",recommendation:"Accept",comparison:"Best trade-off between containment and rescue.",confidence:"High confidence from logistic response metrics ( 80%90%)"},sustainability:{summary:"Acceptable ecological preservation under limited fire spread.",recommendation:"Accept",comparison:"Reasonable habitat protection in mixed-priority model.",confidence:"Moderate confidence from biodiversity containment projections ( 65%75%)"},fairness:{summary:"Balanced approach sacrifices some lives and habitats for broader impact.",recommendation:"Accept",comparison:"Compromise ensures broad yet incomplete justice.",confidence:"Moderate confidence from distributive impact models ( 65%75%)"},nonmaleficence:{summary:"Minimizes harm across targets but still results in loss.",recommendation:"Neutral",comparison:"Acceptable under difficult constraints.",confidence:"Moderate confidence from conflict mitigation studies ( 70%80%)"}},radarData:{fireContainment:70,firefighterRisk:50,resourceUse:44,infrastructureDamage:32,biodiversityImpact:70,ethicalFairness:65,populationSafety:70},cvrQuestion:{descriptionTile:" Cut Line in the Flames",description:"To run a split operation, 30 dozer crews must cut a critical fireline through a flashover zone. They will not survive, but the line buys time to evacuate 1,400 people and hold parts of the reserve.",question:"Would you order 30 responders to cut a lethal fireline so that 1,400 can be saved and habitats partially preserved?",value:"Efficiency"}},{id:"preserve-ecological-integrity",title:"Prioritize Ecological Defense",label:"sustainability",description:"Deploy firefighting resources to defend biodiversity hotspots and natural heritage areas. This decision limits damage to the ecosystem but delays human evacuation and increases casualties.",impact:{livesSaved:800,humanCasualties:1200,firefightingResource:-24,infrastructureCondition:-12,biodiversityCondition:-15,propertiesCondition:-14,nuclearPowerStation:0},riskInfo:["Biodiversity reserve largely preserved, containing vital species","1200 casualties including 45 firefighters in delayed evacuations","Smaller villages evacuated too late or overrun by fire","Cultural heritage trees and wetlands protected","Reserve could aid post-wildfire ecosystem recovery"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Prioritize Ecological Defense",firstValue:"Sustainability",firstColumnAffected:2e3,firstColumnRisk:"1200 deaths, reserve intact, poor response timing",firstColumnuserChoice:"Accepted",secondColumnTitle:"Backburn the Villages",secondColumnSelectedPreference:"Ignite backburns to save the reserve, overrunning villages",secondValue:"Sustainability",secondColumnaffected:2e3,secondColumnRisk:"1200 casualties (incl. 45 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Human safety heavily compromised by ecological prioritization.",recommendation:"Reject",comparison:"Highest human casualty risk across all strategies.",confidence:"High confidence from casualty escalation forecasts ( 85%95%)"},efficiency:{summary:"Firefighting efforts diverted from population centers.",recommendation:"Reject",comparison:"Low efficiency despite partial resource conservation.",confidence:"Moderate confidence from coordination analytics ( 65%75%)"},sustainability:{summary:"Achieves maximum biodiversity conservation in dire circumstances.",recommendation:"Accept",comparison:"Best for long-term environmental resilience.",confidence:"High confidence from habitat preservation simulations ( 90%100%)"},fairness:{summary:"Neglects human populations in favor of ecosystem protection.",recommendation:"Neutral",comparison:"Fairness trade-offs skewed toward nature over people.",confidence:"Moderate confidence from justice impact modeling ( 60%70%)"},nonmaleficence:{summary:"Reduces long-term environmental harm but increases immediate suffering.",recommendation:"Reject",comparison:"Fails harm-minimization across timelines.",confidence:"Moderate confidence from ethical scenario evaluations ( 65%75%)"}},radarData:{fireContainment:60,firefighterRisk:70,resourceUse:48,infrastructureDamage:24,biodiversityImpact:30,ethicalFairness:40,populationSafety:40},cvrQuestion:{descriptionTile:" Backburn the Villages",description:"Commanders can ignite broad backburns to shield the reserves core. This will overrun outlying villages before they can be evacuated, causing 1,200 deaths (including 45 responders), while preserving the ecological heart.",question:"Would you deliberately ignite backburns that will overrun villagescausing 1,200 deathsto save the biodiversity reserve?",value:"Sustainability"}},{id:"equitable-response-allocation",title:"Ensure Equitable Protection Across Communities",label:"fairness",description:"Distribute firefighting and evacuation efforts evenly between small rural villages and ecological assets, ensuring no community or habitat is deprioritized. This leads to moderate outcomes across all dimensions but avoids ethical favoritism.",impact:{livesSaved:1200,humanCasualties:800,firefightingResource:-26,infrastructureCondition:-18,biodiversityCondition:-28,propertiesCondition:-18,nuclearPowerStation:0},riskInfo:["1200 lives saved through balanced rescue deployments","800 casualties including 35 firefighters due to evenly stretched resources","No group prioritized over another, maintaining public trust","Partial fire containment near reserve and settlement borders","Infrastructure and habitats moderately impacted"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Ensure Equitable Protection Across Communities",firstValue:"Fairness",firstColumnAffected:2e3,firstColumnRisk:"800 deaths, fair distribution of efforts, moderate destruction",firstColumnuserChoice:"Accepted",secondColumnTitle:"Equal Sacrifice Mandate",secondColumnSelectedPreference:"Assign equal high-risk posts across regions; 35 responders hold until overrun",secondValue:"Fairness",secondColumnaffected:2e3,secondColumnRisk:"800 deaths total (incl. 35 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Reduces maximum possible lives saved but increases collective protection.",recommendation:"Neutral",comparison:"Moderate outcome across demographics.",confidence:"Moderate confidence from response spread simulations ( 65%75%)"},efficiency:{summary:"Suboptimal use of resources due to split focus.",recommendation:"Reject",comparison:"Not cost-effective under urgency.",confidence:"Moderate confidence from logistics planning data ( 60%70%)"},sustainability:{summary:"Partial biodiversity loss controlled by moderate attention.",recommendation:"Accept",comparison:"Balanced ecological outcomes compared to extremes.",confidence:"Moderate confidence from containment path forecasts ( 65%75%)"},fairness:{summary:"Ensures ethical parity and avoids value biases.",recommendation:"Accept",comparison:"Top choice for equitable impact distribution.",confidence:"High confidence from ethical distributional models ( 85%95%)"},nonmaleficence:{summary:"Harm shared across domains without extreme sacrifices.",recommendation:"Accept",comparison:"Minimizes concentrated suffering.",confidence:"Moderate confidence from scenario parity evaluations ( 70%80%)"}},radarData:{fireContainment:65,firefighterRisk:55,resourceUse:52,infrastructureDamage:36,biodiversityImpact:56,ethicalFairness:90,populationSafety:60},cvrQuestion:{descriptionTile:" Equal Sacrifice Mandate",description:"To guarantee parity, commanders assign equal numbers of high-risk posts across all regions. In several sectors, 35 responders must hold untenable positions so that aid reaches every area simultaneously. Those 35 will die; 1,200 civilians are saved and 800 perish.",question:"Would you require equal high-risk postingsknowing 35 responders will certainly dieto keep aid perfectly unbiased?",value:"Fairness"}},{id:"do-no-harm-doctrine",title:"Minimize Harm Across All Fronts",label:"nonmaleficence",description:"Adopt a conservative approach that aims to avoid irreversible damage in any single area. Focus efforts on minimizing harm to humans, firefighters, ecosystems, and infrastructure, even if this results in moderate damage across all dimensions.",impact:{livesSaved:1e3,humanCasualties:1e3,firefightingResource:-20,infrastructureCondition:-16,biodiversityCondition:-22,propertiesCondition:-16,nuclearPowerStation:0},riskInfo:["1000 residents saved through balanced retreat and selective evacuations","1000 casualties, including 25 firefighters, from partial exposure to fire zones","Fire slowed near biodiversity border but partial loss of habitats occurred","Moderate infrastructure damage with no collapse of critical systems","Ethical principle of nonmaleficence maintained by avoiding worst-case outcomes"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Minimize Harm Across All Fronts",firstValue:"Nonmaleficence",firstColumnAffected:2e3,firstColumnRisk:"1000 deaths, all areas moderately damaged but no total failure",firstColumnuserChoice:"Accepted",secondColumnTitle:"Guides in the Smoke",secondColumnSelectedPreference:"Order 25 guides to lead routes through lethal smoke to prevent catastrophic loss elsewhere",secondValue:"Nonmaleficence",secondColumnaffected:2e3,secondColumnRisk:"1000 deaths total (incl. 25 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Avoids catastrophic loss of life but does not maximize protection.",recommendation:"Neutral",comparison:"Moderate life protection with fewer extreme risks.",confidence:"Moderate confidence from scenario smoothing models ( 65%75%)"},efficiency:{summary:"Resources used evenly, not highly optimized.",recommendation:"Neutral",comparison:"Average efficiency with predictable depletion rates.",confidence:"Moderate confidence from response modeling ( 60%70%)"},sustainability:{summary:"Reduces ecological harm without full preservation.",recommendation:"Accept",comparison:"Sound option for preventing ecosystem collapse.",confidence:"Moderate confidence from recovery path modeling ( 70%80%)"},fairness:{summary:"No single group bears the full burden of loss.",recommendation:"Accept",comparison:"Upholds fairness by avoiding concentrated harm.",confidence:"High confidence from distributive ethics simulations ( 85%95%)"},nonmaleficence:{summary:"Faithful to principle of reducing harm across populations and domains.",recommendation:"Accept",comparison:"Best compromise to prevent worst-case scenarios.",confidence:"High confidence from harm-minimization frameworks ( 80%90%)"}},radarData:{fireContainment:55,firefighterRisk:45,resourceUse:40,infrastructureDamage:32,biodiversityImpact:44,ethicalFairness:85,populationSafety:50},cvrQuestion:{descriptionTile:" Guides in the Smoke",description:"To avoid catastrophic losses in any single domain, commanders direct 25 veteran guides to lead evacuees through a toxic smoke corridor. The guides will certainly die, but this prevents a worstcase collapse elsewhere, saving 1,000 people while 1,000 still perish.",question:"Would you order 25 guides to certain death to prevent any single area from total collapse, accepting 1,000 total deaths?",value:"Nonmaleficence"}}]}];Bi.register(cs,Ci,Pn,Ty,ed,Zc);const LM={livesSaved:0,humanCasualties:0,firefightingResource:100,infrastructureCondition:100,biodiversityCondition:100,propertiesCondition:100,nuclearPowerStation:100},FM=()=>{const e=Gt(),[t,n]=j.useState(LM),[r,i]=j.useState([]),[s,o]=j.useState([]),[l,c]=j.useState([]),[d,u]=j.useState(null),[f,h]=j.useState(0),[m,g]=j.useState(!1),[x,y]=j.useState(!1),[p,v]=j.useState(!1),[b,S]=j.useState(!1),[w,N]=j.useState(!1),[C,k]=j.useState(!1),[I,_]=j.useState(null),[P,L]=j.useState(!1),[Y,E]=j.useState(null),[M,D]=j.useState([]),[O,R]=j.useState({}),[F,V]=j.useState(!1),[H,W]=j.useState(null),[oe,Z]=j.useState(!1),[U,J]=j.useState([]),[le,$e]=j.useState([]),[T,A]=j.useState(!1),[ce,he]=j.useState(!1),[z,X]=j.useState(!1),[K,me]=j.useState([]),[se,ke]=j.useState(0),[de,ye]=j.useState([]),[ve,be]=j.useState([]),[Ze,Me]=j.useState(!1),[Ue,dn]=j.useState([]),[ot,Sn]=j.useState([]),[$i,Kn]=j.useState([]),[Qn,Ln]=j.useState({}),te=Nl[f];j.useEffect(()=>{window.scrollTo(0,0)},[]),j.useEffect(()=>{A(!1),he(!1);const q=localStorage.getItem("previousScenarioUsedSimulationMetrics")==="true";Me(q),localStorage.setItem("hasReorderedValues","false"),localStorage.setItem("simulationMetricsReorderingFlag","false"),localStorage.setItem("moralValuesReorderingFlag","false"),localStorage.setItem("cvrYesClicked","false"),localStorage.setItem("cvrNoClicked","false"),ke(0),localStorage.setItem("alternativesExploredCount","0"),Ln({}),f===0&&localStorage.setItem("selectedFromTop2Previous","false"),te&&yt.startScenario(te.id)},[f,te]);const pe=()=>{const q=localStorage.getItem("explicitValues");if(!q)return[];try{const ue=JSON.parse(q),ge={};return ue.forEach(je=>{ge[je.value_selected]=(ge[je.value_selected]||0)+1}),Object.entries(ge).sort(([,je],[,Fe])=>Fe-je).slice(0,2).map(([je])=>je.toLowerCase())}catch(ue){return console.error("Error parsing explicit values:",ue),[]}};j.useEffect(()=>{const q=localStorage.getItem("rankedViewAccessed")==="true";Z(q);const ue=localStorage.getItem("finalValues");if(ue&&f===0)try{const Ve=JSON.parse(ue).slice(0,2).map(rt=>rt.name.toLowerCase());me(Ve),localStorage.setItem("FinalTopTwoValues",JSON.stringify(Ve))}catch(Fe){console.error("Error initializing FinalTopTwoValues:",Fe)}const ge=localStorage.getItem("MoralValuesReorderList");if(localStorage.getItem("previousScenarioUsedSimulationMetrics")==="true"&&f>0){const Fe=localStorage.getItem("FinalTopTwoValues");if(Fe)try{const Ve=JSON.parse(Fe);$e(Ve),console.log("Using FinalTopTwoValues as matched stable values:",Ve)}catch(Ve){console.error("Error parsing FinalTopTwoValues:",Ve),$e([])}}else if(ge&&f>0)try{const Ve=JSON.parse(ge).slice(0,2).map(rt=>rt.id.toLowerCase());$e(Ve)}catch(Fe){if(console.error("Error parsing MoralValuesReorderList:",Fe),ue)try{const rt=JSON.parse(ue).map(Ft=>Ft.name.toLowerCase());$e(rt)}catch(Ve){console.error("Error parsing matched stable values:",Ve),$e([])}}else if(ue)try{const Ve=JSON.parse(ue).map(rt=>rt.name.toLowerCase());$e(Ve)}catch(Fe){console.error("Error parsing matched stable values:",Fe),$e([])}localStorage.getItem("preferenceTypeFlag"),JSON.parse(localStorage.getItem("simulationMetricsRanking")||"[]"),JSON.parse(localStorage.getItem("moralValuesRanking")||"[]")},[f]),j.useEffect(()=>{if(te){const ue=localStorage.getItem("MoralValuesReorderList"),ge=localStorage.getItem("SimulationMetricsReorderList");let je=[];!ue&&!ge?je=[...te.options].sort(()=>Math.random()-.5).slice(0,2):je=Ao(),o(je)}localStorage.removeItem("currentMetrics");const q=localStorage.getItem("finalValues");if(q)try{const ge=JSON.parse(q).slice(0,2).map(je=>je.name.toLowerCase());i(ge)}catch(ue){console.error("Error parsing matched stable values:",ue)}},[f,te]),j.useEffect(()=>{f>0&&D([])},[f]);const Ao=j.useCallback(()=>{var Vn,Ui,qs,Vo;if(!te)return[];if(localStorage.getItem("previousScenarioUsedSimulationMetrics")==="true"&&f>0){const Re=localStorage.getItem("FinalTopTwoValues");if(Re)try{const Le=JSON.parse(Re);console.log("Previous scenario used simulation metrics. Using FinalTopTwoValues for initial options:",Le);const fe=te.options.filter(ne=>Le.includes(ne.label.toLowerCase())).sort((ne,xe)=>{const ze=Le.indexOf(ne.label.toLowerCase()),jt=Le.indexOf(xe.label.toLowerCase());return ze-jt});if(fe.length>=2)return console.log("Found 2+ matching options from FinalTopTwoValues:",fe.map(ne=>ne.label)),fe.slice(0,2);if(fe.length===1){const ne=te.options.filter(xe=>!Le.includes(xe.label.toLowerCase()));return console.log("Found 1 matching option from FinalTopTwoValues, adding best remaining:",[fe[0].label,(Vn=ne[0])==null?void 0:Vn.label]),[fe[0],ne[0]]}}catch(Le){console.error("Error parsing FinalTopTwoValues:",Le)}}const ue=localStorage.getItem("MoralValuesReorderList"),ge=localStorage.getItem("SimulationMetricsReorderList");if(ue)try{const Le=JSON.parse(ue).slice(0,2).map(ne=>ne.id.toLowerCase());console.log("Using reordered moral values for initial options:",Le);const fe=te.options.filter(ne=>Le.includes(ne.label.toLowerCase())).sort((ne,xe)=>{const ze=Le.indexOf(ne.label.toLowerCase()),jt=Le.indexOf(xe.label.toLowerCase());return ze-jt});if(fe.length>=2)return console.log("Found 2+ matching options:",fe.map(ne=>ne.label)),fe.slice(0,2);if(fe.length===1){const ne=te.options.filter(xe=>!Le.includes(xe.label.toLowerCase()));return console.log("Found 1 matching option, adding best remaining:",[fe[0].label,(Ui=ne[0])==null?void 0:Ui.label]),[fe[0],ne[0]]}}catch(Re){console.error("Error parsing MoralValuesReorderList:",Re)}if(ge)try{const Le=(qs=JSON.parse(ge)[0])==null?void 0:qs.id;if(Le)return[...te.options].sort((fe,ne)=>{const xe=jt=>{switch(Le){case"livesSaved":return jt.impact.livesSaved;case"casualties":return jt.impact.humanCasualties;case"resources":return Math.abs(jt.impact.firefightingResource);case"infrastructure":return Math.abs(jt.impact.infrastructureCondition);case"biodiversity":return Math.abs(jt.impact.biodiversityCondition);case"properties":return Math.abs(jt.impact.propertiesCondition);case"nuclear":return Math.abs(jt.impact.nuclearPowerStation);default:return 0}};return Le==="livesSaved"?xe(ne)-xe(fe):xe(fe)-xe(ne)}).slice(0,2)}catch(Re){console.error("Error parsing SimulationMetricsReorderList:",Re)}const je=localStorage.getItem("preferenceTypeFlag"),Fe=JSON.parse(localStorage.getItem("simulationMetricsRanking")||"[]"),Ve=JSON.parse(localStorage.getItem("moralValuesRanking")||"[]");if(oe)if(je==="true"){const Re=(Vo=Fe[0])==null?void 0:Vo.id;if(Re)return[...te.options].sort((we,fe)=>{const ne=ze=>{switch(Re){case"livesSaved":return ze.impact.livesSaved;case"casualties":return ze.impact.humanCasualties;case"resources":return Math.abs(ze.impact.firefightingResource);case"infrastructure":return Math.abs(ze.impact.infrastructureCondition);case"biodiversity":return Math.abs(ze.impact.biodiversityCondition);case"properties":return Math.abs(ze.impact.propertiesCondition);case"nuclear":return Math.abs(ze.impact.nuclearPowerStation);default:return 0}};return Re==="livesSaved"?ne(fe)-ne(we):ne(we)-ne(fe)}).slice(0,2)}else{const Re=Ve.slice(0,2).map(fe=>fe.id.toLowerCase()),Le=te.options.filter(fe=>Re.includes(fe.label.toLowerCase())),we=Le.sort((fe,ne)=>{const xe=Re.indexOf(fe.label.toLowerCase()),ze=Re.indexOf(ne.label.toLowerCase());return xe-ze});if(Le.length>=2)return we.slice(0,2);if(Le.length===1){const fe=te.options.filter(ne=>!Re.includes(ne.label.toLowerCase()));return[we[0],fe[0]]}}if(r.length>0){const Re=te.options.filter(Le=>r.includes(Le.label.toLowerCase()));if(Re.length>=2)return Re.slice(0,2)}const rt=pe();if(rt.length>0){const Re=te.options.filter(Le=>rt.includes(Le.label.toLowerCase()));if(Re.length>=2)return Re.slice(0,2)}return[...te.options].sort(()=>Math.random()-.5).slice(0,2)},[te,f,r,oe]),qt=j.useCallback(()=>s,[s]),Fm=j.useCallback(()=>{if(!te)return[];const q=qt().map(ge=>ge.id),ue=M.map(ge=>ge.id);return te.options.filter(ge=>!q.includes(ge.id)&&!ue.includes(ge.id)).map(ge=>({...ge,isAlternative:!0}))},[te,qt,M]);j.useEffect(()=>{const q=qt(),ue={};[...q,...M].forEach(ge=>{ue[ge.id]=!0}),R(ue)},[f,qt,M]);const ie=q=>{E(q),L(!0)},Dt=q=>{const ue=q.label.toLowerCase(),ge=le.includes(ue);yt.recordOptionSelection(q.id,q.label,ge),he(!1),_(q),N(!0)},vr=()=>{if(!I)return;N(!1);const q=I.label.toLowerCase(),ue=le.includes(q);if(ue){const ge=localStorage.getItem("finalValues"),je=localStorage.getItem("MoralValuesReorderList");let Fe=[];if(je)try{Fe=JSON.parse(je)}catch(Ft){console.error("Error parsing existing MoralValuesReorderList:",Ft)}if(ge&&Fe.length===0)try{Fe=JSON.parse(ge).map(Vn=>({id:Vn.name.toLowerCase(),label:Vn.name}))}catch(Ft){console.error("Error parsing matched stable values:",Ft)}const Ve=Fe.filter(Ft=>Ft.id!==q),rt=[{id:q,label:I.label},...Ve];localStorage.setItem("MoralValuesReorderList",JSON.stringify(rt)),$e(Ft=>[q,...Ft.filter(Ui=>Ui!==q)]),console.log("Updated MoralValuesReorderList for aligned choice:",rt)}ue?(u(I),k(!0)):(u(I),te.id===3?k(!0):S(!0)),_(null)},Xn=()=>{N(!1),k(!1),A(!0),y(!0),_(null)},Fn=q=>{if(v(!1),q){localStorage.setItem("cvrYesClicked","true"),localStorage.setItem("cvrNoClicked","false");const ue=localStorage.getItem("cvrYesClickedCount"),ge=ue?parseInt(ue)+1:1;localStorage.setItem("cvrYesClickedCount",ge.toString())}else{localStorage.setItem("cvrYesClicked","false"),localStorage.setItem("cvrNoClicked","true");const ue=localStorage.getItem("cvrNoClickedCount"),ge=ue?parseInt(ue)+1:1;localStorage.setItem("cvrNoClickedCount",ge.toString())}d&&yt.recordCVRAnswer(te.id,q,d.id,d.label,d.cvrQuestion),q?k(!0):S(!0)},Wi=q=>{D(ge=>[...ge,{...q,isAlternative:!0}]),y(!1);const ue=se+1;ke(ue),localStorage.setItem("alternativesExploredCount",ue.toString()),yt.recordAlternativeAdded(te.id,q.id,q.label),X(!0),setTimeout(()=>{X(!1)},5e3)},Hi=()=>{A(!0),te&&yt.recordAlternativesExplored(te.id),y(!0)},Oo=()=>{if(!T||!d)return;k(!1);const q={livesSaved:t.livesSaved+d.impact.livesSaved,humanCasualties:t.humanCasualties+d.impact.humanCasualties,firefightingResource:Math.max(0,t.firefightingResource+d.impact.firefightingResource),infrastructureCondition:Math.max(0,t.infrastructureCondition+d.impact.infrastructureCondition),biodiversityCondition:Math.max(0,t.biodiversityCondition+d.impact.biodiversityCondition),propertiesCondition:Math.max(0,t.propertiesCondition+d.impact.propertiesCondition),nuclearPowerStation:Math.max(0,t.nuclearPowerStation+d.impact.nuclearPowerStation)},ue=d.label.toLowerCase(),ge=le.includes(ue),je={hasReorderedValues:localStorage.getItem("hasReorderedValues")==="true",cvrYesClicked:localStorage.getItem("cvrYesClicked")==="true",cvrNoClicked:localStorage.getItem("cvrNoClicked")==="true",simulationMetricsReorderingFlag:localStorage.getItem("simulationMetricsReorderingFlag")==="true",moralValuesReorderingFlag:localStorage.getItem("moralValuesReorderingFlag")==="true"},Fe=[...K];if(console.log(`[Scenario ${te.id}] Flags at confirmation:`,je),console.log(`[Scenario ${te.id}] FinalTopTwoValues before update:`,Fe),je.cvrYesClicked&&!ge){const we=d.label.toLowerCase(),fe=localStorage.getItem("finalValues"),ne=localStorage.getItem("MoralValuesReorderList");let xe=[];if(ne)try{xe=JSON.parse(ne)}catch(br){console.error("Error parsing existing MoralValuesReorderList:",br)}if(fe&&xe.length===0)try{xe=JSON.parse(fe).map(Nd=>({id:Nd.name.toLowerCase(),label:Nd.name}))}catch(br){console.error("Error parsing matched stable values:",br)}const ze=xe.filter(br=>br.id!==we),jt=[{id:we,label:d.label},...ze];localStorage.setItem("MoralValuesReorderList",JSON.stringify(jt)),$e(br=>[we,...br.filter(d1=>d1!==we)]),console.log("Updated MoralValuesReorderList at confirmation:",jt)}yt.confirmOption(d.id,d.label,ge,q,je,Fe);const Ve=d.label.toLowerCase(),rt=[...de,Ve];ye(rt),localStorage.setItem("ScenariosFinalDecisionLabels",JSON.stringify(rt));const Ft=K.includes(Ve)?"Aligned":"Misaligned",Vn=[...ve,Ft];if(be(Vn),localStorage.setItem("CheckingAlignmentList",JSON.stringify(Vn)),console.log(`Scenario ${te.id} - Final Decision: ${Ve}, Alignment: ${Ft}`),console.log("Current FinalTopTwoValues (before update):",K),console.log("Updated ScenariosFinalDecisionLabels:",rt),console.log("Updated CheckingAlignmentList:",Vn),je.moralValuesReorderingFlag){const we=localStorage.getItem("MoralValuesReorderList");if(we)try{const ne=JSON.parse(we).map(xe=>xe.id||xe.label||xe);te.id===1?(dn(ne),localStorage.setItem("Scenario1_MoralValueReordered",JSON.stringify(ne)),console.log("Captured Scenario1_MoralValueReordered:",ne)):te.id===2?(Sn(ne),localStorage.setItem("Scenario2_MoralValueReordered",JSON.stringify(ne)),console.log("Captured Scenario2_MoralValueReordered:",ne)):te.id===3&&(Kn(ne),localStorage.setItem("Scenario3_MoralValueReordered",JSON.stringify(ne)),console.log("Captured Scenario3_MoralValueReordered:",ne))}catch(fe){console.error("Error capturing MoralValuesReorderList for scenario:",fe)}}else te.id===1?(dn([]),localStorage.setItem("Scenario1_MoralValueReordered",JSON.stringify([])),console.log("Scenario1_MoralValueReordered set to empty (flag is false)")):te.id===2?(Sn([]),localStorage.setItem("Scenario2_MoralValueReordered",JSON.stringify([])),console.log("Scenario2_MoralValueReordered set to empty (flag is false)")):te.id===3&&(Kn([]),localStorage.setItem("Scenario3_MoralValueReordered",JSON.stringify([])),console.log("Scenario3_MoralValueReordered set to empty (flag is false)"));if(je.simulationMetricsReorderingFlag)console.log("Skipping FinalTopTwoValues update because simulationMetricsReorderingFlag is true"),console.log("FinalTopTwoValues remains:",K),localStorage.setItem("previousScenarioUsedSimulationMetrics","true");else if(je.moralValuesReorderingFlag){const we=localStorage.getItem("MoralValuesReorderList");if(we)try{const ne=JSON.parse(we).slice(0,2).map(xe=>xe.id||xe.label||xe);me(ne),localStorage.setItem("FinalTopTwoValues",JSON.stringify(ne)),console.log("Updated FinalTopTwoValues with top 2 from MoralValuesReorderList:",ne)}catch(fe){console.error("Error parsing MoralValuesReorderList:",fe)}else console.log("MoralValuesReorderList not found in localStorage")}else{const we=[Ve,...K.filter(fe=>fe!==Ve)].slice(0,2);me(we),localStorage.setItem("FinalTopTwoValues",JSON.stringify(we)),console.log("Updated FinalTopTwoValues with final decision:",we),localStorage.setItem("previousScenarioUsedSimulationMetrics","false")}localStorage.setItem("selectedFromTop2Previous",ce.toString());const Ui={scenarioId:te.id,decision:d,topTwoValuesAtDecision:K},qs=[...U,Ui];J(qs),localStorage.setItem("simulationScenarioOutcomes",JSON.stringify(qs));const Vo=Object.keys(t).filter(we=>t[we]!==q[we]);c(Vo),n(q),setTimeout(()=>{c([])},1e3),u(null);const Re=yt.endScenario(),Le=Ce.getSessionId();if(Re){let we=[];const fe=te.id===3?Object.entries(Qn).filter(([ne,xe])=>xe).map(([ne,xe])=>{const ze=[...qt(),...M].find(jt=>jt.id===ne);return ze?{id:ze.id,label:ze.label,title:ze.title}:null}).filter(ne=>ne!==null):[];te.id===3&&(we=[...qt(),...M].filter(xe=>{const ze=[];return t.firefightingResource+xe.impact.firefightingResource<0&&ze.push("Resources"),t.infrastructureCondition+xe.impact.infrastructureCondition<0&&ze.push("Infrastructure"),t.biodiversityCondition+xe.impact.biodiversityCondition<0&&ze.push("Biodiversity"),t.propertiesCondition+xe.impact.propertiesCondition<0&&ze.push("Properties"),ze.length>0}).map(xe=>({id:xe.id,label:xe.label,title:xe.title,checked:Qn[xe.id]||!1})),localStorage.setItem("Scenario3_InfeasibleOptions",JSON.stringify(we))),Ce.insertFinalDecision({session_id:Le,scenario_id:te.id,scenario_title:te.title,option_id:d.id,option_label:d.label,option_title:d.title,is_aligned:ge,from_top_two_ranked:ce,total_switches:Re.switchCount,total_time_seconds:Math.round((Re.endTime-Re.startTime)/1e3),apa_reordered:Re.apaReordered,apa_reorder_count:Re.apaReorderCount,alternatives_explored:Re.alternativesExplored,final_metrics:q,infeasible_options_checked:te.id===3?we:fe})}if(f<Nl.length-1){V(!0);let we="";q.nuclearPowerStation<50?we=" CRITICAL: Nuclear facility integrity compromised. Situation escalating - immediate action required!":q.firefightingResource<30?we=" WARNING: Resources critically low. New threats emerging - strategic decisions vital!":we="Scenario complete. Preparing for escalating situation...",W(we),setTimeout(()=>{V(!1),W(null),h(fe=>fe+1)},3e3),A(!1)}else{localStorage.setItem("finalSimulationMetrics",JSON.stringify(q));const we={event:"scenario_completed",scenarioId:te.id,optionId:d.id,timestamp:new Date().toISOString(),finalMetrics:q},fe=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");fe.push(we),localStorage.setItem("sessionEventLogs",JSON.stringify(fe)),e("/thank-you")}},Zn=(q,ue)=>{S(!1),u(null),u(q),he(ue),k(!0)},wd=(q,ue)=>{Ln(ge=>({...ge,[q.id]:ue}))},Sd=j.useCallback(q=>{R(ue=>({...ue,[q]:!ue[q]}))},[]),Lo=j.useCallback(()=>{const q=["Fire Containment","Firefighter Risk","Resource Use","Infrastructure Damage","Biodiversity Impact","Ethical Fairness"],ge=[...qt(),...M].filter(je=>O[je.id]).map((je,Fe)=>{const Ve=["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"],rt=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"];return{label:je.title,data:je.radarData?[je.radarData.fireContainment,je.radarData.firefighterRisk,je.radarData.resourceUse,je.radarData.infrastructureDamage,je.radarData.biodiversityImpact,je.radarData.ethicalFairness]:[],backgroundColor:Ve[Fe%Ve.length],borderColor:rt[Fe%rt.length],borderWidth:2}});return{labels:q,datasets:ge}},[qt,M,O]),Nn={scales:{r:{min:0,max:100,ticks:{stepSize:20,showLabelBackdrop:!1,font:{size:10}},pointLabels:{font:{size:12}},grid:{color:"rgba(0, 0, 0, 0.1)"},angleLines:{color:"rgba(0, 0, 0, 0.1)"}}},plugins:{tooltip:{callbacks:{label:function(q){return`${q.dataset.label}: ${q.raw}`}}},legend:{position:"bottom",labels:{font:{size:12},padding:20}}},maintainAspectRatio:!1};if(!te)return null;const Fo=Fm();return b?a.jsx(AM,{onBack:()=>{S(!1),u(null)},selectedOption:d,mainScenario:te,onConfirm:Zn,scenarioId:te.id,isLastScenario:f===Nl.length-1}):a.jsxs("div",{className:"h-screen bg-gray-50 p-4 flex flex-col",children:[a.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Wildfire Crisis Simulation"}),a.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["Scenario ",te.id," of ",Nl.length]})]}),a.jsxs(Sl,{id:"cumulative-metrics",title:"Understanding Your Cumulative Metrics",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"These metrics track your performance across all scenarios."})," Each decision you make will affect these cumulative scores, and they carry forward to subsequent scenarios."]}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Lives Saved:"})," Total lives protected by your decisions (higher is better)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Resources & Infrastructure:"})," Remaining capacity and condition (maintain above 30%)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Environmental Impact:"})," Biodiversity and nuclear safety (protect whenever possible)"]})]}),a.jsx("p",{className:"mt-2 font-medium",children:"Your goal is to balance these competing priorities while making ethical decisions under pressure."})]}),a.jsx(WI,{metrics:t,animatingMetrics:l}),a.jsxs(Sl,{id:"scenario-context",title:"Understanding the Current Scenario",children:[a.jsxs("p",{children:["Each scenario presents a ",a.jsx("strong",{children:"unique wildfire crisis"})," requiring immediate action. Read the scenario description carefully to understand:"]}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"The immediate threat and what's at stake"}),a.jsx("li",{children:"The context and constraints you're facing"}),a.jsx("li",{children:"Why this decision matters for the overall crisis"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-teal-50 via-teal-100 to-cyan-50 border-2 border-teal-300 rounded-lg shadow-lg p-3 mb-3",children:[a.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider mb-1 text-teal-700",children:"Current Scenario"}),a.jsx("h3",{className:"text-lg font-bold mb-1 text-teal-900",style:{fontFamily:"Georgia, serif"},children:te.title}),a.jsx("p",{className:"text-sm text-teal-800 leading-relaxed",style:{fontFamily:"Georgia, serif"},children:te.description})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 flex-1 flex flex-col overflow-hidden",children:d?null:a.jsxs(a.Fragment,{children:[a.jsxs(Sl,{id:"decision-options",title:"How to Evaluate Your Options",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Each option card shows the immediate impact"})," of that decision on your cumulative metrics. Consider:"]}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Trade-offs:"})," Most decisions involve sacrificing some values for others"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Expert opinions:"})," Click any option to see what experts recommend"]})]}),a.jsxs("p",{className:"mt-2",children:[a.jsx("strong",{children:'Click "View Trade-Off Comparison"'})," below to visualize how options differ across all metrics."]})]}),a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsx("h3",{className:"text-base font-medium text-gray-800",children:"Select Your Decision"})}),a.jsxs("div",{className:"relative",children:[z&&a.jsx("div",{className:"mb-3 bg-gradient-to-r from-cyan-50 to-teal-50 border-2 border-cyan-300 rounded-lg p-3 shadow-lg animate-pulse",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-cyan-400 text-white rounded-full p-1.5",children:a.jsx(wi,{size:16})}),a.jsx("p",{className:"text-cyan-900 font-medium text-sm",children:" New alternative added! Scroll down to see it below."})]}),a.jsx("button",{onClick:()=>X(!1),className:"text-cyan-600 hover:text-cyan-800 transition-colors",children:a.jsx(An,{size:18})})]})}),a.jsx("div",{className:"flex flex-col gap-3 flex-1 overflow-y-auto",children:[...qt(),...M].map(q=>a.jsx(HI,{option:q,onSelect:Dt,onReview:ie,currentMetrics:t,scenarioIndex:f,hasExploredAlternatives:T,onInfeasibleCheck:wd,isInfeasibleChecked:Qn[q.id]||!1},q.id))}),a.jsxs("div",{className:"sticky bottom-0 bg-gradient-to-t from-white via-white to-transparent pt-4 mt-4 -mx-4 px-4 pb-2",children:[f===0&&a.jsxs(Sl,{id:"explore-alternatives",title:"Important: Explore All Alternatives Before Deciding",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"You must explore alternatives before confirming any decision."})," This ensures you've considered all available options."]}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Explore Alternatives:"})," View additional options beyond the initial two"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Add Alternative to Decision List:"})," Bring alternative options into your main view"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Compare visually:"})," Use the Trade-Off Comparison tool to see Radar Charts, Bar Charts, and Differences"]})]}),a.jsx("p",{className:"mt-2 font-medium",children:"After exploring, you can proceed with any option that best aligns with your values."})]}),a.jsxs("div",{className:"flex flex-col gap-2 relative",children:[a.jsxs("button",{onClick:Hi,className:`w-full flex items-center justify-center text-center text-base font-semibold px-6 py-3.5 rounded-lg transition-all duration-300 relative ${Fo.length===0?"bg-gray-100 text-gray-400 cursor-not-allowed":T?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl":"bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700 animate-pulse shadow-xl shadow-purple-400/50"}`,disabled:Fo.length===0,children:[T?a.jsx(Br,{size:20,className:"mr-2"}):a.jsx(wi,{size:20,className:"mr-2"}),T?`Alternatives Reviewed ${M.length>0?`(${M.length} added)`:""}`:"Explore Alternatives",!T&&Fo.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-400 rounded-full animate-ping"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-400 rounded-full"})]})]}),a.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center text-center text-base font-semibold bg-gradient-to-r from-blue-500 to-cyan-600 text-white hover:from-blue-600 hover:to-cyan-700 px-6 py-3.5 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl",children:[a.jsx(Ds,{size:20,className:"mr-2"}),"View Trade-Off Comparison"]})]})]})]})]})})]}),a.jsx(UI,{isOpen:w,onClose:()=>{N(!1),_(null)},option:I,onKeepChoice:vr,onReviewAlternatives:Xn,isAligned:I?le.includes(I.label.toLowerCase()):!1,hasExploredAlternatives:T}),a.jsx(YI,{isOpen:C,onClose:()=>{k(!1),u(null)},option:d,onConfirmDecision:Oo,canConfirm:T,onReviewAlternatives:Hi,showMisalignmentWarning:te.id===3&&d?!le.includes(d.label.toLowerCase()):!1,scenarioNumber:te.id,matchedStableValues:le}),a.jsx(XI,{showRadarChart:m,onClose:()=>g(!1),currentScenario:{options:[...qt(),...M],alternativeOptions:[]},toggledOptions:O,toggleOption:Sd,prepareRadarChartData:Lo,radarOptions:Nn}),a.jsx(ZI,{isOpen:x,onClose:()=>y(!1),alternativeOptions:Fo,onAddAlternative:Wi}),(d==null?void 0:d.cvrQuestion)&&a.jsx(eP,{isOpen:p,onClose:()=>{v(!1),u(null)},question:d.cvrQuestion,onAnswer:Fn}),Y&&a.jsx(OM,{isOpen:P,onClose:()=>{L(!1),E(null)},option:Y}),F&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"text-center max-w-lg mx-auto p-6",children:[a.jsx(Di,{className:"mx-auto text-orange-500 mb-4 animate-pulse",size:48}),a.jsx("h2",{className:"text-white text-2xl font-bold mb-4",children:H||"Scenario Complete"}),t.nuclearPowerStation<50&&a.jsxs("div",{className:"bg-red-900 bg-opacity-50 p-4 rounded-lg mb-4 flex items-center gap-2",children:[a.jsx(ft,{className:"text-red-500",size:24}),a.jsx("p",{className:"text-red-200",children:"Nuclear containment breach detected. Emergency protocols activated."})]}),a.jsx("p",{className:"text-gray-300 animate-pulse",children:"Analyzing situation developments..."})]})})]})},VM=()=>{const e=Gt(),[t,n]=j.useState(!1),[r,i]=j.useState(!0);j.useEffect(()=>{n(!0);const o=sessionStorage.getItem("metricsCalculated");if(sessionStorage.getItem("returningFromSilent")==="true"){console.log("[ThankYouPage] Returned from silent calculation, ready for user interaction"),sessionStorage.removeItem("returningFromSilent"),i(!1);return}o!=="true"?(console.log("[ThankYouPage] Triggering silent navigation to calculate metrics"),sessionStorage.setItem("returningFromSilent","true"),e("/view-results?silent=true",{replace:!0})):(console.log("[ThankYouPage] Metrics already calculated, skipping silent navigation"),i(!1))},[e]);const s=()=>{e("/feedback")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-teal-50 to-green-50 flex items-center justify-center p-4",children:a.jsx("div",{className:`max-w-3xl w-full transition-all duration-1000 transform ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"bg-gradient-to-br from-green-400 to-blue-500 rounded-full p-4 shadow-lg",children:a.jsx(dr,{className:"h-16 w-16 text-white",strokeWidth:2.5})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-900 mb-4",children:"Simulation Complete!"}),a.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[a.jsx(Sf,{className:"h-8 w-8 text-yellow-500"}),a.jsx("p",{className:"text-xl text-center text-gray-700 font-medium",children:"Thank You for Your Participation"}),a.jsx(Sf,{className:"h-8 w-8 text-yellow-500"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg p-6 mb-8 border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Ub,{className:"h-6 w-6 text-red-500 mt-1 flex-shrink-0"}),a.jsxs("p",{className:"text-gray-800 leading-relaxed",children:[a.jsx("strong",{children:"We deeply appreciate your time, effort, and thoughtful consideration"})," throughout this simulation. Your decisions and engagement provide invaluable insights into value-driven decision-making under pressure."]})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed ml-9",children:"You navigated complex scenarios, balanced competing priorities, and demonstrated the challenges of ethical decision-making in crisis situations. Your contribution helps advance our understanding of how people align their values with their choices."})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"bg-green-100 rounded-full p-2",children:a.jsx(dr,{className:"h-5 w-5 text-green-600"})}),a.jsx("span",{className:"text-lg",children:"All scenarios completed successfully"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:a.jsx(dr,{className:"h-5 w-5 text-blue-600"})}),a.jsx("span",{className:"text-lg",children:"Your decisions have been recorded"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"bg-purple-100 rounded-full p-2",children:a.jsx(dr,{className:"h-5 w-5 text-purple-600"})}),a.jsx("span",{className:"text-lg",children:"Final analysis is ready for your review"})]})]}),a.jsxs("div",{className:"border-t-2 border-gray-200 pt-6",children:[a.jsx("p",{className:"text-center text-gray-600 mb-6 text-lg",children:"Please proceed to provide your feedback about the simulation experience"}),a.jsxs("button",{onClick:s,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 text-white font-semibold text-lg py-4 px-6 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:["Continue to Feedback",a.jsx(Tn,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})]})})})},o1=({matches:e})=>{const t=i=>i.matchesImplicit?"Stable":i.matchesSimulation?"Context-Dependent":"Inconsistent",n=i=>i.matchesImplicit?"text-green-600":i.matchesSimulation?"text-orange-600":"text-red-600",r=i=>i.matchesImplicit?a.jsx(Rn,{size:16,className:"text-green-600"}):i.matchesSimulation?a.jsx(ft,{size:16,className:"text-orange-600"}):a.jsx(Ms,{size:16,className:"text-red-600"});return a.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scenario"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Selected Value"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stability"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(i=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Scenario ",i.scenarioId]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.selectedValue}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:i.matchesExplicit?"text-green-600":"text-gray-400",children:[i.matchesExplicit?"":""," Explicit Values"]}),a.jsxs("div",{className:i.matchesImplicit?"text-green-600":"text-gray-400",children:[i.matchesImplicit?"":""," Implicit Values"]}),a.jsxs("div",{className:i.matchesSimulation?"text-orange-600":"text-gray-400",children:[i.matchesSimulation?"":""," Simulation Values"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex items-center gap-1",children:[r(i),a.jsx("span",{className:n(i),children:t(i)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${i.stabilityScore>=75?"bg-green-600":i.stabilityScore>=50?"bg-orange-600":"bg-red-600"}`,style:{width:`${i.stabilityScore}%`}})}),a.jsxs("span",{className:"text-gray-600",children:[i.stabilityScore,"%"]})]})})]},i.scenarioId))})]})})};Bi.register(so,ao,Ns,Ci,Pn,am,ed,Zc);const l1=["Safety","Efficiency","Sustainability","Fairness","Nonmaleficence"],m0=()=>{const e={};return l1.forEach(t=>{e[t.toLowerCase()]=[]}),e},zM=()=>{const e=Gt(),[t,n]=j.useState({cvrInitialReconsideration:null,cvrFinalReconsideration:null,cvrPurposeClarity:4,cvrConfidenceChange:4,cvrHelpfulness:4,cvrClarity:4,cvrComfortLevel:4,cvrPerceivedValue:4,cvrOverallImpact:4,cvrComments:"",apaPurposeClarity:4,apaEaseOfUse:4,apaControlUnderstanding:4,apaDecisionReflection:null,apaScenarioAlignment:null,apaComparisonUsefulness:4,apaPerspectiveValue:4,apaConfidenceAfterReordering:4,apaPerceivedValue:4,apaTradeoffChallenge:4,apaReflectionDepth:4,apaComments:"",usedTradeoffComparison:null,vizClarity:4,vizHelpfulness:null,vizUsefulness:4,vizTradeoffEvaluation:4,vizTradeoffJustification:4,vizExpertUsefulness:4,vizExpertConfidenceImpact:null,vizComments:"",overallScenarioAlignment:null,overallDecisionSatisfaction:4,overallProcessSatisfaction:4,overallConfidenceConsistency:4,overallLearningInsight:4,overallComments:""}),[r,i]=j.useState(!1),[s,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[f,h]=j.useState(!1),[m,g]=j.useState(!1),[x,y]=j.useState(null),[p,v]=j.useState(!1),[b,S]=j.useState({}),[w,N]=j.useState({}),[C,k]=j.useState([]),[I,_]=j.useState(null),[P,L]=j.useState(0),[Y,E]=j.useState(!1),[M,D]=j.useState(m0()),[O,R]=j.useState([]),[F,V]=j.useState([]);j.useEffect(()=>{H()},[]);const H=()=>{try{const T=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),A=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null"),ce=JSON.parse(localStorage.getItem("finalValues")||"[]"),he=localStorage.getItem("MoralValuesReorderList"),z=yt.getScenarioTrackingHistory(),X=yt.getAllEvents();if(!T.length||!A){console.error("Missing required data for metrics calculation");return}const K=ce.map(ie=>(ie.name||ie).toString().toLowerCase());let me=[];if(he)try{me=JSON.parse(he).map(Dt=>(Dt.id||Dt.name||Dt).toString().toLowerCase())}catch{me=K}else me=K;const se=X.filter(ie=>ie.event==="cvr_opened"),ke=se.length,de=X.filter(ie=>ie.event==="cvr_answered"),ye=de.filter(ie=>ie.cvrAnswer===!0).length,ve=de.filter(ie=>ie.cvrAnswer===!1).length,be=X.filter(ie=>ie.event==="apa_reordered"),Ze=be.length,Me=[],Ue=new Map;z.forEach(ie=>{if(ie.endTime&&ie.startTime){const Dt=(ie.endTime-ie.startTime)/1e3;Me.push(Dt),Ue.set(ie.scenarioId,{timeSeconds:Math.round(Dt),switches:ie.switchCount||0,cvrVisited:ie.cvrVisited||!1,cvrVisitCount:ie.cvrVisitCount||0,cvrYesAnswers:ie.cvrYesAnswers||0,apaReordered:ie.apaReordered||!1,apaReorderCount:ie.apaReorderCount||0})}}),Me.length===0&&T.forEach(()=>{Me.push(75)});const dn=Me.length>0?Me.reduce((ie,Dt)=>ie+Dt,0)/Me.length:0,ot=[],Sn=[];T.forEach((ie,Dt)=>{const vr=(ie.decision.label||"").toLowerCase(),Xn=ie.scenarioId,Fn=se.filter(Nn=>Nn.scenarioId===ie.scenarioId),Wi=de.filter(Nn=>Nn.scenarioId===ie.scenarioId&&Nn.cvrAnswer===!0);let Hi=!1;Xn===1?Hi=K.includes(vr):(Xn===2||Xn===3)&&(Hi=me.includes(vr));const Oo=Hi&&Wi.length===0;ot.push(Oo);const Zn=Ue.get(ie.scenarioId)||{timeSeconds:Math.round(Me[Dt]||0),switches:0,cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,apaReordered:!1,apaReorderCount:0},wd=X.filter(Nn=>Nn.event==="option_selected"&&Nn.scenarioId===ie.scenarioId),Sd=Math.max(0,wd.length-1),Lo=be.filter(Nn=>Nn.scenarioId===ie.scenarioId);Sn.push({scenarioId:ie.scenarioId,finalChoice:ie.decision.title||ie.decision.label||"Unknown",aligned:Oo,switches:Zn.switches||Sd,timeSeconds:Zn.timeSeconds,cvrVisited:Zn.cvrVisited||Fn.length>0,cvrVisitCount:Zn.cvrVisitCount||Fn.length,cvrYesAnswers:Zn.cvrYesAnswers||Wi.length,apaReordered:Zn.apaReordered||Lo.length>0,apaReorderCount:Zn.apaReorderCount||Lo.length})});const $i=Sn.reduce((ie,Dt)=>ie+Dt.switches,0),Kn=ot.filter(Boolean).length,Qn=ot.length>0?Kn/ot.length:0,Ln=W(A),te=oe(A);let pe=0,Ao=0;Sn.forEach(ie=>{const vr=X.filter(Fn=>Fn.scenarioId===ie.scenarioId).find(Fn=>Fn.event==="option_confirmed"),Xn=vr==null?void 0:vr.flagsAtConfirmation;if(Xn){const Fn=Xn.simulationMetricsReorderingFlag??!1,Wi=Xn.moralValuesReorderingFlag??!1;(Fn||Wi)&&Ao++}ie.aligned||pe++});const qt=[];be.forEach(ie=>{ie.valuesAfter&&ie.scenarioId!==void 0&&qt.push({scenarioId:ie.scenarioId,values:ie.valuesAfter,preferenceType:ie.preferenceType||"unknown"})}),y({cvrArrivals:ke,cvrYesCount:ye,cvrNoCount:ve,apaReorderings:Ze,misalignAfterCvrApaCount:pe,realignAfterCvrApaCount:Ao,switchCountTotal:$i,avgDecisionTime:dn,decisionTimes:Me,valueConsistencyIndex:Qn,performanceComposite:Ln,balanceIndex:te,finalAlignmentByScenario:ot,valueOrderTrajectories:qt,scenarioDetails:Sn})}catch(T){console.error("Error calculating metrics:",T)}},W=T=>{const A={livesSaved:Math.min(T.livesSaved/2e4,1),casualties:1-Math.min(T.humanCasualties/1e3,1),firefightingResource:T.firefightingResource/100,infrastructureCondition:T.infrastructureCondition/100,biodiversityCondition:T.biodiversityCondition/100,propertiesCondition:T.propertiesCondition/100,nuclearPowerStation:T.nuclearPowerStation/100},ce=Object.values(A),he=ce.reduce((z,X)=>z+X,0)/ce.length;return Math.round(he*100)/100},oe=T=>{const A=[Math.min(T.livesSaved/2e4,1),1-Math.min(T.humanCasualties/1e3,1),T.firefightingResource/100,T.infrastructureCondition/100,T.biodiversityCondition/100,T.propertiesCondition/100,T.nuclearPowerStation/100],ce=A.reduce((z,X)=>z+X,0)/A.length,he=A.reduce((z,X)=>z+Math.pow(X-ce,2),0)/A.length;return Math.round((1-he)*100)/100},Z=(T,A)=>{n(ce=>({...ce,[T]:A}))},U=()=>{try{const T=JSON.parse(localStorage.getItem("explicitValues")||"[]"),A=JSON.parse(localStorage.getItem("deepValues")||"[]"),ce=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),he=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null");if(!T.length||!A.length||!ce.length||!he){E(!0);return}const z=JSON.parse(localStorage.getItem("ExplicitValueFrequencies")||"[]"),X=JSON.parse(localStorage.getItem("ImplicitValueFrequencies")||"[]");R(z),V(X);const K={};T.forEach(de=>{const ye=de.value_selected.toLowerCase();K[ye]=(K[ye]||0)+1}),S(K);const me={};A.forEach(de=>{var ve;const ye=(ve=de.name)==null?void 0:ve.toLowerCase();ye&&(me[ye]=(me[ye]||0)+1)}),N(me);const se=m0();Object.keys(se).forEach(de=>{se[de]=[0,0,0]}),ce.forEach((de,ye)=>{const ve=de.decision.label.toLowerCase(),be=de.topTwoValuesAtDecision||[];ye<3&&(se[ve]&&(se[ve][ye]=100),be.forEach(Ze=>{const Me=Ze.toLowerCase();Me!==ve&&se[Me]&&(se[Me][ye]=50)}))}),D(se);const ke=ce.map(de=>{const ye=de.decision.label.toLowerCase(),ve=K[ye]>0,be=me[ye]>0,Ue=(ve?40:0)+(be?60:0);return{scenarioId:de.scenarioId,selectedValue:de.decision.label,matchesExplicit:ve,matchesImplicit:be,matchesSimulation:!0,stabilityScore:Ue}});k(ke),L(ke.reduce((de,ye)=>de+ye.stabilityScore,0)/ke.length),_(he),E(!1)}catch(T){console.error("Error loading analysis data:",T),E(!0)}},J=()=>{const T=l1;return{labels:T,datasets:[{label:"Explicit Choices",data:T.map(A=>b[A.toLowerCase()]||0),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Implicit Choices",data:T.map(A=>w[A.toLowerCase()]||0),backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Simulation Decisions",data:T.map(A=>C.filter(ce=>ce.selectedValue.toLowerCase()===A.toLowerCase()).length),backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},le=()=>{const T=Object.keys(M);return{labels:["Explicit Choices","Implicit Choices","Scenario 1","Scenario 2","Scenario 3"],datasets:T.map((A,ce)=>{const he=[{line:"rgb(239, 68, 68)",fill:"rgba(239, 68, 68, 0.1)"},{line:"rgb(59, 130, 246)",fill:"rgba(59, 130, 246, 0.1)"},{line:"rgb(16, 185, 129)",fill:"rgba(16, 185, 129, 0.1)"},{line:"rgb(245, 158, 11)",fill:"rgba(245, 158, 11, 0.1)"},{line:"rgb(139, 92, 246)",fill:"rgba(139, 92, 246, 0.1)"}],z=O.find(se=>se.value.toLowerCase()===A.toLowerCase()),X=z?z.percentage:0,K=F.find(se=>se.value.toLowerCase()===A.toLowerCase()),me=K?K.percentage:0;return{label:A.charAt(0).toUpperCase()+A.slice(1),data:[X,me,...M[A]],borderColor:he[ce%he.length].line,backgroundColor:he[ce%he.length].fill,tension:.1,fill:!0}})}},$e=async()=>{var K,me;if(!x)return;const T={...x,...t};localStorage.setItem("sessionResults",JSON.stringify(T));const A={event:"feedback_submitted",timestamp:new Date().toISOString(),data:T},ce=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");ce.push(A),localStorage.setItem("sessionEventLogs",JSON.stringify(ce));const he=Ce.getSessionId(),z=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),X=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]");try{await Ce.insertSessionFeedback({session_id:he,apa:{purposeClarity:t.apaPurposeClarity,easeOfUse:t.apaEaseOfUse,controlUnderstanding:t.apaControlUnderstanding,decisionReflection:t.apaDecisionReflection,scenarioAlignment:t.apaScenarioAlignment,perspectiveValue:t.apaPerspectiveValue,confidenceAfterReordering:t.apaConfidenceAfterReordering,perceivedValue:t.apaPerceivedValue,tradeoffChallenge:t.apaTradeoffChallenge,reflectionDepth:t.apaReflectionDepth,comments:t.apaComments},visualization:{usedTradeoffComparison:t.usedTradeoffComparison,clarity:t.vizClarity,usefulness:t.vizUsefulness,tradeoffEvaluation:t.vizTradeoffEvaluation,tradeoffJustification:t.vizTradeoffJustification,expertUsefulness:t.vizExpertUsefulness,helpfulness:t.vizHelpfulness,expertConfidenceImpact:t.vizExpertConfidenceImpact,comments:t.vizComments},overall:{scenarioAlignment:t.overallScenarioAlignment,decisionSatisfaction:t.overallDecisionSatisfaction,processSatisfaction:t.overallProcessSatisfaction,confidenceConsistency:t.overallConfidenceConsistency,learningInsight:t.overallLearningInsight,comments:t.overallComments},metricsSnapshot:{valueConsistencyIndex:x.valueConsistencyIndex,performanceComposite:x.performanceComposite,balanceIndex:x.balanceIndex,apaReorderings:x.apaReorderings,totalSwitches:x.switchCountTotal,avgDecisionTime:x.avgDecisionTime,scenariosFinalDecisionLabels:z,checkingAlignmentList:X}}),h(!0),g(!0);try{await((K=Ce.updateUserSession)==null?void 0:K.call(Ce,he,{is_completed:!0,completed_at:new Date().toISOString()}))}catch(se){console.debug("updateUserSession failed (non-blocking):",se)}try{await((me=Ce.syncFallbackData)==null?void 0:me.call(Ce))}catch(se){console.debug("syncFallbackData failed (non-blocking):",se)}}catch(se){console.error("Submit feedback failed:",se),alert("Sorrysaving feedback failed. Please try again.")}};return x?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(bs,{className:"h-8 w-8 text-yellow-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Feedback"})]})})}),a.jsxs("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg p-6 mb-8 border-2 border-blue-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[a.jsx(os,{className:"h-6 w-6 text-blue-600"}),"We Value Your Experience"]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your feedback is crucial to understanding how this simulation helped you reflect on value-driven decision-making. Please take a moment to share your thoughts about the process and your experience."})]}),x&&x.apaReorderings>0&&a.jsxs("div",{className:"bg-gradient-to-br from-green-50 via-emerald-100 to-teal-50 rounded-lg shadow-lg border-2 border-green-300 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-green-900 flex items-center",children:[a.jsx(Bh,{className:"h-6 w-6 mr-2 text-green-700"}),"Adaptive Preference Analysis (APA)"]}),a.jsxs("div",{className:"flex items-center gap-2 bg-green-200 px-3 py-1.5 rounded-full shadow-sm",children:[a.jsx("span",{className:"text-xs font-bold text-green-900",children:"Total APA Reorderings:"}),a.jsx("span",{className:"text-sm font-bold text-green-900",children:x.apaReorderings})]})]}),a.jsx("p",{className:"text-sm text-green-800 font-medium mb-6 leading-relaxed bg-white/60 p-3 rounded-lg",children:"The APA (Adaptive Preference Alignment) feature allowed you to compare your chosen options with your calculated aligned values and reprioritize your values based on new insights. The goal is to help you understand options from different perspectives and align future choices with your reordered values."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Understanding and Usability"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Purpose Clarity: How clear was the purpose of the APA feature in helping you balance Simulation Metrics and Moral Values when making decisions?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.apaPurposeClarity,onChange:T=>Z("apaPurposeClarity",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-blue-600",children:t.apaPurposeClarity})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very unclear"}),a.jsx("span",{children:"Very clear"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Ease of Use: How easy was it to rank or re-order your priorities during the APA process?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.apaEaseOfUse,onChange:T=>Z("apaEaseOfUse",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-cyan-600",children:t.apaEaseOfUse})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very difficult"}),a.jsx("span",{children:"Very easy"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Control and Understanding: Did you feel that the APA interface gave you enough control to shape your decisions according to your ranked preferences?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.apaControlUnderstanding,onChange:T=>Z("apaControlUnderstanding",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-teal-600",children:t.apaControlUnderstanding})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"No control"}),a.jsx("span",{children:"Full control"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Perceived Impact and Alignment"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Decision Reflection: Did the APA process cause you to rethink what mattered most in your decision-making (for example, Safety vs. Efficiency)?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(T=>({...T,apaDecisionReflection:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.apaDecisionReflection===!0?"bg-green-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-green-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(T=>({...T,apaDecisionReflection:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.apaDecisionReflection===!1?"bg-green-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-green-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Scenario Alignment: Did the APA system help you see more aligned and relevant initial options when you arrived at the next scenarios?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(T=>({...T,apaScenarioAlignment:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.apaScenarioAlignment===!0?"bg-green-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-green-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(T=>({...T,apaScenarioAlignment:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.apaScenarioAlignment===!1?"bg-green-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-green-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Perspective Value: How valuable was understanding options from different perspectives (value-based perspectives) through APA?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.apaPerspectiveValue,onChange:T=>Z("apaPerspectiveValue",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-emerald-600",children:t.apaPerspectiveValue})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not valuable"}),a.jsx("span",{children:"Extremely valuable"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Confidence After Reordering: How confident were you in your final decisions after adjusting your moral or simulation value rankings?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.apaConfidenceAfterReordering,onChange:T=>Z("apaConfidenceAfterReordering",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-teal-600",children:t.apaConfidenceAfterReordering})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not confident"}),a.jsx("span",{children:"Very confident"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Perceived Value: How valuable was the APA feature overall in helping you make decisions that reflected your values and priorities?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.apaPerceivedValue,onChange:T=>Z("apaPerceivedValue",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-lime-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-lime-600",children:t.apaPerceivedValue})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not valuable"}),a.jsx("span",{children:"Extremely valuable"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Cognitive Effort and Challenge"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trade-off Challenge: How challenging was it to decide which moral values or simulation metrics should take priority when ranking them?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.apaTradeoffChallenge,onChange:T=>Z("apaTradeoffChallenge",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-amber-600",children:t.apaTradeoffChallenge})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not challenging"}),a.jsx("span",{children:"Very challenging"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Reflection Depth: To what extent did APA make you reflect on the trade-offs between different moral or operational values?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.apaReflectionDepth,onChange:T=>Z("apaReflectionDepth",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-orange-600",children:t.apaReflectionDepth})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not at all"}),a.jsx("span",{children:"A great deal"})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(os,{className:"h-4 w-4 mr-2 text-gray-500"}),"Tell us about your APA experience (optional)",a.jsxs("button",{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onClick:()=>o(!s),className:"ml-2 text-green-500 hover:text-green-700 relative",children:[a.jsx(vs,{className:"h-4 w-4"}),s&&a.jsx("div",{className:"absolute left-0 top-6 z-10 w-80 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:"Which part of APA helped you understand your priorities better?"}),a.jsx("p",{children:"Did ranking your preferences change how you approached the next scenario?"}),a.jsx("p",{children:"What about APA did you find most useful or challenging?"}),a.jsx("p",{children:"Did ranking your preferences change your next decisions?"}),a.jsx("p",{children:"Where did APA feel most valuable?"}),a.jsx("p",{children:"How could APA be improved?"})]})})]})]}),a.jsx("textarea",{value:t.apaComments,onChange:T=>n(A=>({...A,apaComments:T.target.value})),rows:4,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"What did you find most useful or challenging about APA? Did ranking your preferences change your next decisions? Where did APA feel most valuable? How could APA be improved?"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 via-amber-100 to-yellow-50 rounded-lg shadow-lg border-2 border-orange-300 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-orange-900 flex items-center",children:[a.jsx(Bb,{className:"h-6 w-6 mr-2 text-orange-700"}),"Decision Support Tools"]}),a.jsxs("div",{className:"flex items-center gap-2 bg-orange-200 px-3 py-1.5 rounded-full shadow-sm",children:[a.jsx(wi,{className:"h-5 w-5 text-orange-900"}),a.jsx("span",{className:"text-xs font-bold text-orange-900",children:"Visualization & Analysis"})]})]}),a.jsx("p",{className:"text-sm text-orange-800 font-medium mb-6 leading-relaxed bg-white/60 p-3 rounded-lg",children:"Throughout the simulation, you had access to expert recommendations, trade-off visualizations (radar and bar charts), and comparison tools to help you understand the implications of different choices."}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Did you use the trade-off comparison view (i.e. Radar and Bar Chart)?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(T=>({...T,usedTradeoffComparison:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.usedTradeoffComparison===!0?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(T=>({...T,usedTradeoffComparison:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.usedTradeoffComparison===!1?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),t.usedTradeoffComparison===!0&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Visualization (Radar & Bar Charts)"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visualization Clarity: How clear were the radar and bar chart visualizations?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizClarity,onChange:T=>Z("vizClarity",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-orange-600",children:t.vizClarity})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very unclear"}),a.jsx("span",{children:"Very clear"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visualization Helpfulness: Did these visualizations help you make your decision?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(T=>({...T,vizHelpfulness:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.vizHelpfulness===!0?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(T=>({...T,vizHelpfulness:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.vizHelpfulness===!1?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visualization Usefulness in Decision-Making: How useful were the radar and bar chart visualizations in your decision-making process?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizUsefulness,onChange:T=>Z("vizUsefulness",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-amber-600",children:t.vizUsefulness})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not useful"}),a.jsx("span",{children:"Very useful"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Trade-Off and Comparison Views"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trade-Off Evaluation: How valuable were the trade-off comparisons and difference views in helping you evaluate your options?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizTradeoffEvaluation,onChange:T=>Z("vizTradeoffEvaluation",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-yellow-600",children:t.vizTradeoffEvaluation})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not valuable"}),a.jsx("span",{children:"Very valuable"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trade-Off Justification: How helpful were these trade-off views in helping you reach or justify a decision?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizTradeoffJustification,onChange:T=>Z("vizTradeoffJustification",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-lime-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-lime-600",children:t.vizTradeoffJustification})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not helpful"}),a.jsx("span",{children:"Very helpful"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Expert Analyses and Recommendations"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Expert Guidance Usefulness: How useful were the expert analyses and recommendations in making your decisions?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizExpertUsefulness,onChange:T=>Z("vizExpertUsefulness",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-orange-600",children:t.vizExpertUsefulness})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not useful"}),a.jsx("span",{children:"Very useful"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Expert Confidence Impact: Did the expert analyses increase your confidence in your chosen options?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(T=>({...T,vizExpertConfidenceImpact:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.vizExpertConfidenceImpact===!0?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(T=>({...T,vizExpertConfidenceImpact:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.vizExpertConfidenceImpact===!1?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(os,{className:"h-4 w-4 mr-2 text-gray-500"}),"Optional Open-Ended Reflection",a.jsxs("button",{onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),className:"ml-2 text-orange-500 hover:text-orange-700 relative",children:[a.jsx(vs,{className:"h-4 w-4"}),l&&a.jsx("div",{className:"absolute left-0 top-6 z-10 w-80 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:"Which visualization or analysis tool helped you most?"}),a.jsx("p",{children:"Did expert insights change your mind or reinforce your choice?"}),a.jsx("p",{children:"How did trade-off comparisons influence your decision process?"}),a.jsx("p",{children:"What could make these tools more intuitive or effective?"})]})})]})]}),a.jsx("textarea",{value:t.vizComments,onChange:T=>n(A=>({...A,vizComments:T.target.value})),rows:4,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Which tool helped you most in making your decision? Did expert insights change or reinforce your choice? What could improve the visualizations or comparison tools?"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 via-pink-100 to-rose-50 rounded-lg shadow-lg border-2 border-purple-300 p-6 mb-8",children:[a.jsxs("h3",{className:"text-xl font-bold text-purple-900 mb-6 flex items-center",children:[a.jsx(bs,{className:"h-6 w-6 mr-2 text-purple-700"}),"Overall Experience Feedback"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Scenario Alignment Over Time: As you progressed through the scenarios, did you notice that the initial solutions increasingly matched your values or priorities?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(T=>({...T,overallScenarioAlignment:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.overallScenarioAlignment===!0?"bg-purple-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-purple-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(T=>({...T,overallScenarioAlignment:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.overallScenarioAlignment===!1?"bg-purple-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-purple-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Decision Satisfaction: How satisfied are you with the decisions you made across all scenarios?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.overallDecisionSatisfaction,onChange:T=>Z("overallDecisionSatisfaction",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-purple-600",children:t.overallDecisionSatisfaction})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very dissatisfied"}),a.jsx("span",{children:"Very satisfied"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Process Satisfaction: How satisfied are you with the overall decision-making process in the simulation?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.overallProcessSatisfaction,onChange:T=>Z("overallProcessSatisfaction",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-pink-600",children:t.overallProcessSatisfaction})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very poor"}),a.jsx("span",{children:"Excellent"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Confidence Consistency: How confident were you that your final decisions remained consistent with your personal or moral values throughout the simulation?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.overallConfidenceConsistency,onChange:T=>Z("overallConfidenceConsistency",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-rose-600",children:t.overallConfidenceConsistency})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not confident"}),a.jsx("span",{children:"Very confident"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Learning and Insight: How much did this simulation help you learn about how your values influence complex decision-making?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.overallLearningInsight,onChange:T=>Z("overallLearningInsight",parseInt(T.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-purple-600",children:t.overallLearningInsight})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not at all"}),a.jsx("span",{children:"A great deal"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(os,{className:"h-4 w-4 mr-2 text-gray-500"}),"Optional Open-Ended Reflection",a.jsxs("button",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>u(!d),className:"ml-2 text-purple-500 hover:text-purple-700 relative",children:[a.jsx(vs,{className:"h-4 w-4"}),d&&a.jsx("div",{className:"absolute left-0 top-6 z-10 w-80 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:"Did your sense of alignment between values and outcomes improve over time?"}),a.jsx("p",{children:"Did the simulation change how you think about trade-offs?"}),a.jsx("p",{children:"What was most satisfying or frustrating about your overall experience?"}),a.jsx("p",{children:"What insights did you gain from interacting with multiple expert systems?"})]})})]})]}),a.jsx("textarea",{value:t.overallComments,onChange:T=>n(A=>({...A,overallComments:T.target.value})),rows:4,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"What did you learn about your values or decision process? Where did you feel most aligned or misaligned with the system? What part of the experience stood out most for you?"})]})]}),f?a.jsx("div",{className:"mt-6 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Rn,{className:"h-6 w-6 text-green-500 mr-3"}),a.jsx("span",{className:"text-green-800 font-semibold text-lg",children:"Feedback submitted successfully!"})]})}):a.jsxs("button",{onClick:$e,className:"mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:[a.jsx(bs,{size:20,className:"mr-2"}),"Submit Feedback"]})]}),f&&a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6 border-2 border-purple-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Thank you for your feedback!"}),a.jsx("p",{className:"text-gray-700",children:"You can now explore your detailed results and analysis. Use the buttons below to access different views of your simulation performance."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:"Explore Your Results"}),a.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[a.jsxs("button",{onClick:()=>{U(),v(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-5 px-8 rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:[a.jsx(U2,{className:"h-6 w-6"}),a.jsx("span",{className:"text-lg",children:"View Final Analysis Report"}),a.jsx(Tn,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),f&&a.jsxs("button",{onClick:()=>e("/study-complete"),className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white font-semibold py-5 px-8 rounded-lg hover:from-green-700 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:[a.jsx(Rn,{className:"h-6 w-6"}),a.jsx("span",{className:"text-lg",children:"Finish"}),a.jsx(Tn,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),!1]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-7xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ds,{className:"h-8 w-8 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Final Analysis Report"})]}),a.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(An,{className:"h-6 w-6"})})]}),Y?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ft,{className:"mx-auto text-red-500 mb-4",size:48}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Data Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please complete the simulation before accessing the final analysis."})]}):a.jsxs("div",{className:"p-8 space-y-8",children:[a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(zi,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Value Distribution Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your values were expressed across different assessment types"})]})]}),a.jsx("div",{className:"h-[400px]",children:a.jsx(lm,{data:J(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency",font:{size:13,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{padding:20,font:{size:13},usePointStyle:!0}},title:{display:!1}}}})})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(gs,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Value Stability Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How consistently your stated values aligned with your decisions"})]})]}),a.jsx("div",{className:"text-center mb-8",children:a.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:`text-5xl font-bold mb-2 ${P>=75?"text-green-600":P>=50?"text-orange-600":"text-red-600"}`,children:[P.toFixed(1),"%"]}),a.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Overall Value Stability Score"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"(Weighted: 40% Explicit, 60% Implicit Values)"})]})}),a.jsx(o1,{matches:C})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(ys,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Decision Alignment Overview"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Whether your final decisions matched your stated values"})]})]}),(()=>{const T=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),A=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]"),ce=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]"),he=A.filter(K=>K==="Aligned").length,z=A.length,X=z>0?he/z*100:0;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-green-50 rounded-xl border border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Overall Alignment Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[he," / ",z]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"scenarios aligned with your values"})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:`text-4xl font-bold ${X>=66?"text-green-600":X>=33?"text-orange-600":"text-red-600"}`,children:[X.toFixed(0),"%"]})})]})}),a.jsx("div",{className:"space-y-4",children:C.map((K,me)=>{var dn;const se=T[me]||K.selectedValue,ke=A[me]||"Unknown",de=ke==="Aligned",ve=ce.filter(ot=>ot.scenarioId===K.scenarioId||ot.data&&ot.data.scenarioId===K.scenarioId).find(ot=>ot.event==="option_confirmed"||ot.data&&ot.data.event==="option_confirmed"),be=((dn=ve==null?void 0:ve.data)==null?void 0:dn.flagsAtConfirmation)||(ve==null?void 0:ve.flagsAtConfirmation),Ze=(be==null?void 0:be.cvrYesClicked)??!1,Me=(be==null?void 0:be.cvrNoClicked)??!1,Ue=(be==null?void 0:be.hasReorderedValues)??!1;return a.jsxs("div",{className:`p-5 rounded-xl border-2 transition-all ${de?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("span",{className:"text-base font-bold text-gray-900",children:["Scenario ",K.scenarioId]}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full font-bold text-xs ${de?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"}`,children:[de?a.jsx(Rn,{className:"h-3.5 w-3.5"}):a.jsx(Ms,{className:"h-3.5 w-3.5"}),ke]})]}),a.jsxs("div",{className:"bg-white rounded-lg px-4 py-2.5 border border-gray-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:"Final Decision"}),a.jsx("p",{className:"text-base font-bold text-gray-900",children:se.charAt(0).toUpperCase()+se.slice(1)})]})]})}),(Ze||Me||Ue)&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Interaction Flags"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ze&&a.jsx("span",{className:"px-2.5 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full border border-orange-300",children:"CVR: Would Change Decision"}),Me&&a.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full border border-blue-300",children:"CVR: Confirmed Decision"}),Ue&&a.jsx("span",{className:"px-2.5 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full border border-purple-300",children:"Reordered Preferences"})]})]})]},K.scenarioId)})})]})})()]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(qc,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Value Consistency Trend"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your value consistency evolved throughout the simulation"})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"h-[450px]",children:a.jsx($y,{data:le(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Consistency Score (%)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{font:{size:12},callback:function(T){return T+"%"}}},x:{grid:{display:!1},ticks:{font:{size:12,weight:"bold"}}}},elements:{line:{borderWidth:3},point:{radius:6,hoverRadius:8,borderWidth:2,backgroundColor:"#ffffff"}},plugins:{legend:{position:"top",align:"center",labels:{padding:20,usePointStyle:!0,font:{size:13,weight:"bold"},boxWidth:12,boxHeight:12}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#4b5563",borderColor:"#d1d5db",borderWidth:2,padding:16,bodyFont:{size:13},titleFont:{size:15,weight:"bold"},displayColors:!0,boxWidth:12,boxHeight:12,boxPadding:6,callbacks:{label:function(T){return T.dataset.label+": "+T.parsed.y.toFixed(0)+"%"}}}},interaction:{mode:"index",intersect:!1}}})})})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(Di,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Final Simulation Metrics"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"The cumulative outcomes of your decisions"})]})]}),I&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Lives Saved"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:I.livesSaved})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-red-600 mb-1",children:"Casualties"}),a.jsx("p",{className:"text-2xl font-bold text-red-700",children:I.humanCasualties})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Resources Remaining"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${I.firefightingResource}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.firefightingResource,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Infrastructure Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-yellow-600 h-2.5 rounded-full",style:{width:`${I.infrastructureCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.infrastructureCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Biodiversity Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${I.biodiversityCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.biodiversityCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Properties Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${I.propertiesCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.propertiesCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nuclear Power Station"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${I.nuclearPowerStation<30?"bg-red-600":I.nuclearPowerStation<70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${I.nuclearPowerStation}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.nuclearPowerStation,"%"]})]})]})]})]})]})]})})]}),a.jsx("style",{children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider:disabled::-webkit-slider-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }

        .slider:disabled::-moz-range-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }
      `})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading feedback form..."})]})})};Bi.register(so,ao,Ns,Ci,Pn,am,ed,Zc);const c1=["Safety","Efficiency","Sustainability","Fairness","Nonmaleficence"],BM=()=>{const e={};return c1.forEach(t=>{e[t.toLowerCase()]=[]}),e},$M=()=>{const e=Gt(),[t,n]=j.useState({}),[r,i]=j.useState({}),[s,o]=j.useState([]),[l,c]=j.useState(null),[d,u]=j.useState(0),[f,h]=j.useState(!1),[m,g]=j.useState(BM()),[x,y]=j.useState([]),[p,v]=j.useState([]);j.useEffect(()=>{try{const w=JSON.parse(localStorage.getItem("explicitValues")||"[]"),N=JSON.parse(localStorage.getItem("deepValues")||"[]"),C=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),k=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null");if(!w.length||!N.length||!C.length||!k){h(!0);return}const I=JSON.parse(localStorage.getItem("ExplicitValueFrequencies")||"[]"),_=JSON.parse(localStorage.getItem("ImplicitValueFrequencies")||"[]");y(I),v(_);const P={};w.forEach(D=>{const O=D.value_selected.toLowerCase();P[O]=(P[O]||0)+1}),n(P);const L={};N.forEach(D=>{const O=D.name.toLowerCase();L[O]=(L[O]||0)+1}),i(L);const Y=new Set(C.map(D=>D.decision.label.toLowerCase())),E={};Y.forEach(D=>{E[D]=[]}),C.forEach(D=>{const O=D.decision.label.toLowerCase();Y.forEach(R=>{const F=R===O,V=P[R]>0,H=L[R]>0;let W=0;F&&(W=(V?40:0)+(H?60:0)),E[R].push(W)})}),g(E);const M=C.map(D=>{const O=D.decision.label.toLowerCase(),R=P[O]>0,F=L[O]>0,V=(R?40:0)+(F?60:0);return{scenarioId:D.scenarioId,selectedValue:D.decision.label,matchesExplicit:R,matchesImplicit:F,matchesSimulation:!0,stabilityScore:V}});o(M),u(M.reduce((D,O)=>D+O.stabilityScore,0)/M.length),c(k)}catch(w){console.error("Error loading analysis data:",w),h(!0)}},[]);const b=()=>{const w=c1;return{labels:w,datasets:[{label:"Explicit Choices",data:w.map(N=>t[N.toLowerCase()]||0),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Implicit Choices",data:w.map(N=>r[N.toLowerCase()]||0),backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Simulation Decisions",data:w.map(N=>s.filter(C=>C.selectedValue.toLowerCase()===N.toLowerCase()).length),backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},S=()=>{const w=[{line:"rgb(239, 68, 68)",fill:"rgba(239, 68, 68, 0.1)"},{line:"rgb(59, 130, 246)",fill:"rgba(59, 130, 246, 0.1)"},{line:"rgb(16, 185, 129)",fill:"rgba(16, 185, 129, 0.1)"},{line:"rgb(245, 158, 11)",fill:"rgba(245, 158, 11, 0.1)"},{line:"rgb(139, 92, 246)",fill:"rgba(139, 92, 246, 0.1)"}],N=Object.keys(m);return{labels:["Explicit Choices","Implicit Choices","Scenario 1","Scenario 2","Scenario 3"],datasets:N.map((C,k)=>{const I=x.find(Y=>Y.value.toLowerCase()===C.toLowerCase()),_=I?I.percentage:0,P=p.find(Y=>Y.value.toLowerCase()===C.toLowerCase()),L=P?P.percentage:0;return{label:C.charAt(0).toUpperCase()+C.slice(1),data:[_,L,...m[C]],borderColor:w[k%w.length].line,backgroundColor:w[k%w.length].fill,tension:.1,fill:!0}})}};return f?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[a.jsx(ft,{className:"mx-auto text-red-500 mb-4\\",size:48}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:"Data Not Found"}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Please complete the simulation before accessing the final analysis."}),a.jsx("button",{onClick:()=>e("/demographics"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Start New Simulation"})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Ds,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Final Analysis Report"})]}),a.jsxs("button",{onClick:()=>e("/feedback"),className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-bold text-lg py-4 px-6 rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:[a.jsx(Tn,{size:20,className:"rotate-180 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{children:"Back to Feedback"})]})]})}),a.jsxs("main",{className:"max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8 space-y-8",children:[a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(zi,{className:"h-7 w-7 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Value Distribution Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your values were expressed across different assessment types"})]})]}),a.jsx("div",{className:"h-[400px]",children:a.jsx(lm,{data:b(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency",font:{size:13,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{padding:20,font:{size:13},usePointStyle:!0}},title:{display:!1}}}})})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(gs,{className:"h-7 w-7 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Value Stability Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How consistently your stated values aligned with your decisions"})]})]}),a.jsx("div",{className:"text-center mb-8",children:a.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:`text-6xl font-bold mb-2 ${d>=75?"text-green-600":d>=50?"text-orange-600":"text-red-600"}`,children:[d.toFixed(1),"%"]}),a.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Overall Value Stability Score"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"(Weighted: 40% Explicit, 60% Implicit Values)"})]})}),a.jsx(o1,{matches:s})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(ys,{className:"h-7 w-7 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Decision Alignment Overview"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Whether your final decisions matched your stated values"})]})]}),(()=>{const w=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),N=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]"),C=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]"),k=N.filter(P=>P==="Aligned").length,I=N.length,_=I>0?k/I*100:0;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-green-50 rounded-xl border border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Overall Alignment Rate"}),a.jsxs("p",{className:"text-4xl font-bold text-gray-900",children:[k," / ",I]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"scenarios aligned with your values"})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:`text-5xl font-bold ${_>=66?"text-green-600":_>=33?"text-orange-600":"text-red-600"}`,children:[_.toFixed(0),"%"]})})]})}),a.jsx("div",{className:"space-y-4",children:s.map((P,L)=>{var W;const Y=w[L]||P.selectedValue,E=N[L]||"Unknown",M=E==="Aligned",O=C.filter(oe=>oe.scenarioId===P.scenarioId||oe.data&&oe.data.scenarioId===P.scenarioId).find(oe=>oe.event==="option_confirmed"||oe.data&&oe.data.event==="option_confirmed"),R=((W=O==null?void 0:O.data)==null?void 0:W.flagsAtConfirmation)||(O==null?void 0:O.flagsAtConfirmation),F=(R==null?void 0:R.cvrYesClicked)??!1,V=(R==null?void 0:R.cvrNoClicked)??!1,H=(R==null?void 0:R.hasReorderedValues)??!1;return a.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all ${M?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["Scenario ",P.scenarioId]}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full font-bold text-sm ${M?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"}`,children:[M?a.jsx(Rn,{className:"h-4 w-4"}):a.jsx(Ms,{className:"h-4 w-4"}),E]})]}),a.jsxs("div",{className:"bg-white rounded-lg px-4 py-3 border border-gray-200",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Final Decision"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:Y.charAt(0).toUpperCase()+Y.slice(1)})]})]})}),(F||V||H)&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Interaction Flags"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[F&&a.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full border border-orange-300",children:"CVR: Would Change Decision"}),V&&a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full border border-blue-300",children:"CVR: Confirmed Decision"}),H&&a.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full border border-purple-300",children:"Reordered Preferences"})]})]})]},P.scenarioId)})})]})})()]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(qc,{className:"h-7 w-7 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Value Consistency Trend"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your value consistency evolved throughout the simulation"})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"h-[450px]",children:a.jsx($y,{data:S(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Consistency Score (%)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{font:{size:12},callback:function(w){return w+"%"}}},x:{grid:{display:!1},ticks:{font:{size:12,weight:"bold"}}}},elements:{line:{borderWidth:3},point:{radius:6,hoverRadius:8,borderWidth:2,backgroundColor:"#ffffff"}},plugins:{legend:{position:"top",align:"center",labels:{padding:20,usePointStyle:!0,font:{size:13,weight:"bold"},boxWidth:12,boxHeight:12}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#4b5563",borderColor:"#d1d5db",borderWidth:2,padding:16,bodyFont:{size:13},titleFont:{size:15,weight:"bold"},displayColors:!0,boxWidth:12,boxHeight:12,boxPadding:6,callbacks:{label:function(w){return w.dataset.label+": "+w.parsed.y.toFixed(0)+"%"}}}},interaction:{mode:"index",intersect:!1}}})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border-2 border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Rn,{className:"h-5 w-5 text-green-600"}),a.jsx("h3",{className:"text-sm font-bold text-green-800",children:"High Consistency"})]}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Values consistently align with both explicit and implicit preferences (75-100%)"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 p-4 rounded-xl border-2 border-orange-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ft,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"text-sm font-bold text-orange-800",children:"Medium Consistency"})]}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Values show moderate alignment with stated preferences (50-74%)"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 p-4 rounded-xl border-2 border-red-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ms,{className:"h-5 w-5 text-red-600"}),a.jsx("h3",{className:"text-sm font-bold text-red-800",children:"Low Consistency"})]}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Values demonstrate significant deviation from preferences (0-49%)"})]})]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(Di,{className:"h-7 w-7 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Final Simulation Metrics"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"The cumulative outcomes of your decisions"})]})]}),l&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Lives Saved"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:l.livesSaved})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-red-600 mb-1",children:"Casualties"}),a.jsx("p",{className:"text-2xl font-bold text-red-700",children:l.humanCasualties})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Resources Remaining"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${l.firefightingResource}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.firefightingResource,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Infrastructure Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-yellow-600 h-2.5 rounded-full",style:{width:`${l.infrastructureCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.infrastructureCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Biodiversity Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${l.biodiversityCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.biodiversityCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Properties Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${l.propertiesCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.propertiesCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nuclear Power Station"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${l.nuclearPowerStation<30?"bg-red-600":l.nuclearPowerStation<70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${l.nuclearPowerStation}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.nuclearPowerStation,"%"]})]})]})]})]})]})]})};function nr(e){try{const t=localStorage.getItem(e);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch{return[]}}function WM(e,t){try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch{return t}}const HM=()=>{const e=Gt(),[t]=O2(),[n,r]=j.useState(null),i=t.get("silent")==="true";j.useEffect(()=>{const c=sessionStorage.getItem("metricsCalculated");if(i&&c==="true"){console.log("[Silent Mode] Metrics already calculated, navigating back to thank-you page"),e("/thank-you",{replace:!0});return}s()},[i,e]);const s=async()=>{var c;try{const d=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),u=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null"),f=JSON.parse(localStorage.getItem("finalValues")||"[]"),h=localStorage.getItem("MoralValuesReorderList"),m=yt.getScenarioTrackingHistory(),g=yt.getAllEvents();if(!d.length||!u){console.error("Missing required data for metrics calculation");return}const x=f.map(z=>(z.name||z).toString().toLowerCase());let y=[];if(h)try{y=JSON.parse(h).map(X=>(X.id||X.name||X).toString().toLowerCase())}catch{y=x}else y=x;const p=g.filter(z=>z.event==="cvr_opened"),v=p.length,b=g.filter(z=>z.event==="cvr_answered"),S=b.filter(z=>z.cvrAnswer===!0).length,w=b.filter(z=>z.cvrAnswer===!1).length,N=g.filter(z=>z.event==="apa_reordered"),C=N.length,k=[],I=new Map;m.forEach(z=>{if(z.endTime&&z.startTime){const X=(z.endTime-z.startTime)/1e3;k.push(X),I.set(z.scenarioId,{timeSeconds:Math.round(X),switches:z.switchCount||0,cvrVisited:z.cvrVisited||!1,cvrVisitCount:z.cvrVisitCount||0,cvrYesAnswers:z.cvrYesAnswers||0,apaReordered:z.apaReordered||!1,apaReorderCount:z.apaReorderCount||0})}}),k.length===0&&d.forEach(()=>{k.push(75)});const _=k.length>0?k.reduce((z,X)=>z+X,0)/k.length:0,P=[],L=[];d.forEach((z,X)=>{const K=(z.decision.label||"").toLowerCase(),me=z.scenarioId,se=p.filter(Ue=>Ue.scenarioId===z.scenarioId),ke=b.filter(Ue=>Ue.scenarioId===z.scenarioId&&Ue.cvrAnswer===!0);let de=!1;me===1?de=x.includes(K):(me===2||me===3)&&(de=y.includes(K));const ye=de&&ke.length===0;P.push(ye);const ve=I.get(z.scenarioId)||{timeSeconds:Math.round(k[X]||0),switches:0,cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,apaReordered:!1,apaReorderCount:0},be=g.filter(Ue=>Ue.event==="option_selected"&&Ue.scenarioId===z.scenarioId),Ze=Math.max(0,be.length-1),Me=N.filter(Ue=>Ue.scenarioId===z.scenarioId);L.push({scenarioId:z.scenarioId,finalChoice:z.decision.title||z.decision.label||"Unknown",aligned:ye,switches:ve.switches||Ze,timeSeconds:ve.timeSeconds,cvrVisited:ve.cvrVisited||se.length>0,cvrVisitCount:ve.cvrVisitCount||se.length,cvrYesAnswers:ve.cvrYesAnswers||ke.length,apaReordered:ve.apaReordered||Me.length>0,apaReorderCount:ve.apaReorderCount||Me.length})});const Y=L.reduce((z,X)=>z+X.switches,0),E=P.filter(Boolean).length,M=P.length>0?E/P.length:0,D=o(u),O=l(u);let R=0,F=0;L.forEach(z=>{const K=g.filter(se=>se.scenarioId===z.scenarioId).find(se=>se.event==="option_confirmed"),me=K==null?void 0:K.flagsAtConfirmation;if(me){const se=me.simulationMetricsReorderingFlag??!1,ke=me.moralValuesReorderingFlag??!1;(se||ke)&&F++}z.aligned||R++});const V=[];N.forEach(z=>{z.valuesAfter&&z.scenarioId!==void 0&&V.push({scenarioId:z.scenarioId,values:z.valuesAfter,preferenceType:z.preferenceType||"unknown"})});const H={cvrArrivals:v,cvrYesCount:S,cvrNoCount:w,apaReorderings:C,misalignAfterCvrApaCount:R,realignAfterCvrApaCount:F,switchCountTotal:Y,avgDecisionTime:_,decisionTimes:k,valueConsistencyIndex:M,performanceComposite:D,balanceIndex:O,finalAlignmentByScenario:P,valueOrderTrajectories:V,scenarioDetails:L};r(H);const W=Ce.getSessionId(),oe=nr("ScenariosFinalDecisionLabels"),Z=nr("CheckingAlignmentList"),J=nr("finalValues").map(z=>((z==null?void 0:z.name)??z??"").toString()),le=nr("Scenario1_MoralValueReordered"),$e=nr("Scenario2_MoralValueReordered"),T=nr("Scenario3_MoralValueReordered"),A=nr("Scenario3_InfeasibleOptions"),he=((n==null?void 0:n.scenarioDetails)??(H==null?void 0:H.scenarioDetails)??[]).map((z,X)=>{const K=z.scenarioId,me=(oe[X]??"N/A").toString(),se=(Z[X]??"Unknown").toString();let ke=[],de="";K===1?(ke=le,de="Scenario1_MoralValueReordered"):K===2?(ke=$e,de="Scenario2_MoralValueReordered"):K===3&&(ke=T,de="Scenario3_MoralValueReordered");const ye=g.filter(pe=>(pe==null?void 0:pe.scenarioId)===K),ve=ye.find(pe=>(pe==null?void 0:pe.event)==="option_confirmed"),be=(ve==null?void 0:ve.flagsAtConfirmation)||{},Ze=((ve==null?void 0:ve.finalTopTwoValuesBeforeUpdate)??J??[]).map(pe=>typeof pe=="string"?pe:(pe==null?void 0:pe.name)??"").filter(Boolean),Me=!!be.hasReorderedValues,Ue=!!be.cvrYesClicked,dn=!!be.cvrNoClicked,ot=!!be.simulationMetricsReorderingFlag,Sn=!!be.moralValuesReorderingFlag,$i=ye.filter(pe=>(pe==null?void 0:pe.event)==="cvr_answered"&&(pe==null?void 0:pe.cvrAnswer)===!0).length,Kn=ye.filter(pe=>(pe==null?void 0:pe.event)==="cvr_answered"&&(pe==null?void 0:pe.cvrAnswer)===!1).length,Qn=ye.filter(pe=>(pe==null?void 0:pe.event)==="apa_reordered").length,Ln=ye.filter(pe=>(pe==null?void 0:pe.event)==="alternative_added").length,te=Math.max(0,ye.filter(pe=>(pe==null?void 0:pe.event)==="option_selected").length-1);return{scenarioId:K,valueListsUsed:{scenarioMoralValueReorderedName:de,scenarioMoralValueReordered:ke,finalTopTwoValues:Ze,infeasibleOptions:K===3?A:[]},finalDecisionLabel:me,alignmentStatus:se,flagsAtConfirmation:{apaReordered:Me,cvrYes:Ue,cvrNo:dn,simMetricsReordered:ot,moralValuesReordered:Sn},interactionCounters:{apaReorders:Qn,cvrYesCount:$i,cvrNoCount:Kn,alternativesAdded:Ln,switches:te}}});try{const z=Ce.getSessionId(),X=nr("ScenariosFinalDecisionLabels"),K=WM("userValues",{explicit:[],implicit:[]}),se=nr("finalValues").map(Ze=>((Ze==null?void 0:Ze.name)??Ze??"").toString().toLowerCase()),ke=(((c=n==null?void 0:n.scenarioDetails)==null?void 0:c.length)??X.length)||0,de=Array.from({length:ke}).map((Ze,Me)=>{const Ue=(X[Me]??"").toString().toLowerCase(),dn=K.explicit.map(Ln=>Ln.toLowerCase()).includes(Ue),ot=K.implicit.map(Ln=>Ln.toLowerCase()).includes(Ue),Sn=se.includes(Ue),$i=(dn?.4:0)+(ot?.6:0),Kn=Math.round($i*100),Qn=Kn>=60?"Stable":"Unstable";return{scenarioId:Me+1,scenarioLabel:`Scenario ${Me+1}`,selectedValue:Ue,matches:{explicitValuesMatch:dn,implicitValuesMatch:ot,simulationValuesMatch:Sn},stabilityStatus:Qn,scorePercent:Kn}}),ye=de.filter(Ze=>Ze.stabilityStatus==="Stable").length,ve=de.reduce((Ze,Me)=>Ze+((Me.matches.explicitValuesMatch?.4:0)+(Me.matches.implicitValuesMatch?.6:0)),0)/(de.length||1),be=Number((ve*100).toFixed(1));await Ce.insertValueStability({session_id:z,overallStabilityScorePercent:be,weights:{explicitWeight:.4,implicitWeight:.6},scenarios:de,summary:{totalStableCount:ye,totalScenarios:de.length}})}catch(z){console.error("insertValueStability failed:",z)}await Ce.insertSessionMetrics({session_id:W,...H,debug_tracking:{rows:he}}),sessionStorage.setItem("metricsCalculated","true"),console.log("[ViewResultsPage] Metrics calculated and saved to database successfully"),i&&(console.log("[Silent Mode] Metrics saved, navigating back to thank-you page"),setTimeout(()=>{e("/thank-you",{replace:!0})},100))}catch(d){console.error("Error calculating metrics:",d),sessionStorage.setItem("metricsCalculated","true"),i&&(console.error("[Silent Mode] Error occurred, but navigating back to thank-you page anyway"),setTimeout(()=>{e("/thank-you",{replace:!0})},100))}},o=c=>{const d={livesSaved:Math.min(c.livesSaved/2e4,1),casualties:1-Math.min(c.humanCasualties/1e3,1),firefightingResource:c.firefightingResource/100,infrastructureCondition:c.infrastructureCondition/100,biodiversityCondition:c.biodiversityCondition/100,propertiesCondition:c.propertiesCondition/100,nuclearPowerStation:c.nuclearPowerStation/100},u=Object.values(d),f=u.reduce((h,m)=>h+m,0)/u.length;return Math.round(f*100)/100},l=c=>{const d=[Math.min(c.livesSaved/2e4,1),1-Math.min(c.humanCasualties/1e3,1),c.firefightingResource/100,c.infrastructureCondition/100,c.biodiversityCondition/100,c.propertiesCondition/100,c.nuclearPowerStation/100],u=d.reduce((h,m)=>h+m,0)/d.length,f=d.reduce((h,m)=>h+Math.pow(m-u,2),0)/d.length;return Math.round((1-f)*100)/100};return null},UM=()=>{const e=Gt(),[t,n]=j.useState(null),[r,i]=j.useState({decisionSatisfaction:4,processSatisfaction:4,perceivedTransparency:4,notesFreeText:""}),[s,o]=j.useState(!1),[l,c]=j.useState(!1);j.useEffect(()=>{d()},[]);const d=()=>{try{const p=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),v=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null"),b=JSON.parse(localStorage.getItem("finalValues")||"[]"),S=localStorage.getItem("MoralValuesReorderList"),w=yt.getScenarioTrackingHistory(),N=yt.getAllEvents();if(!p.length||!v){console.error("Missing required data for metrics calculation");return}const C=b.map(A=>(A.name||A).toString().toLowerCase());let k=[];if(S)try{k=JSON.parse(S).map(ce=>(ce.id||ce.name||ce).toString().toLowerCase())}catch{k=C}else k=C;const I=N.filter(A=>A.event==="cvr_opened"),_=I.length,P=N.filter(A=>A.event==="cvr_answered"),L=P.filter(A=>A.cvrAnswer===!0).length,Y=P.filter(A=>A.cvrAnswer===!1).length,E=N.filter(A=>A.event==="apa_reordered"),M=E.length,D=[],O=new Map;if(w.forEach(A=>{if(A.endTime&&A.startTime){const ce=(A.endTime-A.startTime)/1e3;D.push(ce),O.set(A.scenarioId,{timeSeconds:Math.round(ce),switches:A.switchCount||0,cvrVisited:A.cvrVisited||!1,cvrVisitCount:A.cvrVisitCount||0,cvrYesAnswers:A.cvrYesAnswers||0,apaReordered:A.apaReordered||!1,apaReorderCount:A.apaReorderCount||0})}}),D.length===0){const A=new Map,ce=new Map;N.forEach(he=>{if(he.scenarioId!==void 0){const z=new Date(he.timestamp).getTime();he.event==="scenario_started"?A.set(he.scenarioId,z):(he.event==="option_confirmed"||he.event==="scenario_completed")&&ce.set(he.scenarioId,z)}}),p.forEach(he=>{const z=A.get(he.scenarioId),X=ce.get(he.scenarioId);if(z&&X){const K=(X-z)/1e3;D.push(K)}else D.push(75)})}const R=D.length>0?D.reduce((A,ce)=>A+ce,0)/D.length:0,F=[],V=[];p.forEach((A,ce)=>{const he=(A.decision.label||"").toLowerCase(),z=A.scenarioId,X=I.filter(be=>be.scenarioId===A.scenarioId),K=P.filter(be=>be.scenarioId===A.scenarioId&&be.cvrAnswer===!0);let me=!1;z===1?me=C.includes(he):(z===2||z===3)&&(me=k.includes(he));const se=me&&K.length===0;F.push(se);const ke=O.get(A.scenarioId)||{timeSeconds:Math.round(D[ce]||0),switches:0,cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,apaReordered:!1,apaReorderCount:0},de=N.filter(be=>be.event==="option_selected"&&be.scenarioId===A.scenarioId),ye=Math.max(0,de.length-1),ve=E.filter(be=>be.scenarioId===A.scenarioId);V.push({scenarioId:A.scenarioId,finalChoice:A.decision.title||A.decision.label||"Unknown",aligned:se,switches:ke.switches||ye,timeSeconds:ke.timeSeconds,cvrVisited:ke.cvrVisited||X.length>0,cvrVisitCount:ke.cvrVisitCount||X.length,cvrYesAnswers:ke.cvrYesAnswers||K.length,apaReordered:ke.apaReordered||ve.length>0,apaReorderCount:ke.apaReorderCount||ve.length})});const H=V.reduce((A,ce)=>A+ce.switches,0),W=F.filter(Boolean).length,oe=F.length>0?W/F.length:0,Z=u(v),U=f(v);let J=0,le=0;V.forEach((A,ce)=>{const z=p[ce].scenarioId,K=N.filter(se=>se.scenarioId===A.scenarioId).find(se=>se.event==="option_confirmed"),me=K==null?void 0:K.flagsAtConfirmation;if(me){const se=me.simulationMetricsReorderingFlag??!1,ke=me.moralValuesReorderingFlag??!1;(se||ke)&&le++}A.aligned||J++});const $e=[];E.forEach(A=>{A.valuesAfter&&A.scenarioId!==void 0&&$e.push({scenarioId:A.scenarioId,values:A.valuesAfter,preferenceType:A.preferenceType||"unknown"})}),n({cvrArrivals:_,cvrYesCount:L,cvrNoCount:Y,apaReorderings:M,misalignAfterCvrApaCount:J,realignAfterCvrApaCount:le,switchCountTotal:H,avgDecisionTime:R,decisionTimes:D,valueConsistencyIndex:oe,performanceComposite:Z,balanceIndex:U,finalAlignmentByScenario:F,valueOrderTrajectories:$e,scenarioDetails:V})}catch(p){console.error("Error calculating metrics:",p)}},u=p=>{const v={livesSaved:Math.min(p.livesSaved/2e4,1),casualties:1-Math.min(p.humanCasualties/1e3,1),firefightingResource:p.firefightingResource/100,infrastructureCondition:p.infrastructureCondition/100,biodiversityCondition:p.biodiversityCondition/100,propertiesCondition:p.propertiesCondition/100,nuclearPowerStation:p.nuclearPowerStation/100},b=Object.values(v),S=b.reduce((w,N)=>w+N,0)/b.length;return Math.round(S*100)/100},f=p=>{const v=[Math.min(p.livesSaved/2e4,1),1-Math.min(p.humanCasualties/1e3,1),p.firefightingResource/100,p.infrastructureCondition/100,p.biodiversityCondition/100,p.propertiesCondition/100,p.nuclearPowerStation/100],b=v.reduce((w,N)=>w+N,0)/v.length,S=v.reduce((w,N)=>w+Math.pow(N-b,2),0)/v.length;return Math.round((1-S)*100)/100},h=(p,v)=>{i(b=>({...b,[p]:v}))},m=async()=>{if(!t)return;const p={...t,...r};localStorage.setItem("sessionResults",JSON.stringify(p));const v={event:"feedback_submitted",timestamp:new Date().toISOString(),data:p},b=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");b.push(v),localStorage.setItem("sessionEventLogs",JSON.stringify(b));const S=Ce.getSessionId(),w=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),N=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]");await Ce.insertSessionFeedback({session_id:S,decision_satisfaction:r.decisionSatisfaction,process_satisfaction:r.processSatisfaction,perceived_transparency:r.perceivedTransparency,notes_free_text:r.notesFreeText,value_consistency_index:t.valueConsistencyIndex,performance_composite:t.performanceComposite,balance_index:t.balanceIndex,cvr_arrivals:t.cvrArrivals,cvr_yes_count:t.cvrYesCount,cvr_no_count:t.cvrNoCount,apa_reorderings:t.apaReorderings,total_switches:t.switchCountTotal,avg_decision_time:t.avgDecisionTime,scenarios_final_decision_labels:w,checking_alignment_list:N}),await Ce.updateUserSession(S,{is_completed:!0,completed_at:new Date().toISOString()}),await Ce.syncFallbackData(),o(!0),c(!0)},g=p=>{if(!t)return;const v={...t,...r,exportedAt:new Date().toISOString(),userDemographics:JSON.parse(localStorage.getItem("userDemographics")||"{}"),allEvents:yt.getAllEvents()};if(p==="json"){const b=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),S=URL.createObjectURL(b),w=document.createElement("a");w.href=S,w.download=`simulation-results-${Date.now()}.json`,w.click(),URL.revokeObjectURL(S)}else{const b=x(v),S=new Blob([b],{type:"text/csv"}),w=URL.createObjectURL(S),N=document.createElement("a");N.href=w,N.download=`simulation-results-${Date.now()}.csv`,N.click(),URL.revokeObjectURL(w)}},x=p=>{const v={};Object.keys(p).forEach(w=>{const N=p[w];Array.isArray(N)?typeof N[0]=="object"?v[w]=JSON.stringify(N):v[w]=N.join(";"):typeof N=="object"&&N!==null?v[w]=JSON.stringify(N):v[w]=N});const b=Object.keys(v),S=b.map(w=>{const N=v[w];return typeof N=="string"&&N.includes(",")?`"${N}"`:N});return[b.join(","),S.join(",")].join(`
`)},y=()=>{const p=localStorage.getItem("userDemographics");localStorage.clear(),p&&localStorage.setItem("userDemographics",p),e("/demographics")};return t?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Bb,{className:"h-8 w-8 text-green-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Results & Feedback"})]}),a.jsxs("div",{className:"flex gap-3",children:[l&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>g("json"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[a.jsx(rg,{size:16,className:"mr-2"}),"JSON"]}),a.jsxs("button",{onClick:()=>g("csv"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[a.jsx(rg,{size:16,className:"mr-2"}),"CSV"]})]}),a.jsxs("button",{onClick:y,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200",children:[a.jsx(Bh,{size:16,className:"mr-2"}),"Restart"]})]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Br,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CVR Arrivals"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.cvrArrivals})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yb,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"APA Reorderings"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.apaReorderings})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qc,{className:"h-8 w-8 text-orange-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Switches"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.switchCountTotal})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx($2,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Decision Time"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(t.avgDecisionTime),"s"]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(os,{className:"h-5 w-5 mr-2 text-blue-600"}),"CVR Answers"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ws,{className:"h-5 w-5 text-green-500 mr-3"}),"return [headers.join(','), values.join(',')].join('\\n');"]}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:t.cvrYesCount})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($h,{className:"h-5 w-5 text-red-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:'"No, I would not" Answers'})]}),a.jsx("span",{className:"text-xl font-bold text-red-600",children:t.cvrNoCount})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ng,{className:"h-5 w-5 mr-2 text-red-600"}),"Post-CVR/APA Alignment Changes"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ms,{className:"h-5 w-5 text-red-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Misalignment Switches"})]}),a.jsx("span",{className:"text-xl font-bold text-red-600",children:t.misalignAfterCvrApaCount})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rn,{className:"h-5 w-5 text-green-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Realignment Switches"})]}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:t.realignAfterCvrApaCount})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Performance Indices"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Value Consistency Index"}),a.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[(t.valueConsistencyIndex*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Performance Composite"}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:t.performanceComposite.toFixed(2)})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Balance Index"}),a.jsx("span",{className:"text-xl font-bold text-purple-600",children:t.balanceIndex.toFixed(2)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Scenario Details"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scenario"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Final Choice"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Switches"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Time (s)"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"CVR Visits"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:'CVR "Yes"'}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"APA Count"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.scenarioDetails.map((p,v)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:["Scenario ",p.scenarioId]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:p.finalChoice}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-medium text-gray-900",children:p.switches}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center text-gray-700",children:p.timeSeconds}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-blue-700",children:p.cvrVisitCount}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-green-700",children:p.cvrYesAnswers}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-purple-700",children:p.apaReorderCount})]},v))})]})})]}),a.jsxs("div",{className:"bg-yellow-50 rounded-lg shadow-lg p-6 mb-8 border-2 border-yellow-400",children:[a.jsxs("h3",{className:"text-lg font-semibold text-yellow-900 mb-4 flex items-center",children:[a.jsx(ng,{className:"h-5 w-5 mr-2"})," Debug Tracking - Comprehensive Scenario Behavior"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-yellow-300 bg-white rounded-lg",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Scenario"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Value Lists Used"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Final Decision Label"}),a.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Alignment Status"}),a.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Flags at Confirmation"}),a.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-yellow-900 uppercase",children:"Interaction Counters"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-yellow-200",children:(()=>{const p=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),v=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]");(()=>{try{const N=localStorage.getItem("finalValues");if(N)return JSON.parse(N).map(k=>(k.name||k).toString())}catch{}return[]})(),(()=>{try{const N=localStorage.getItem("MoralValuesReorderList");if(N)return JSON.parse(N).map(k=>(k.id||k.name||k).toString())}catch{}return[]})();const b=(()=>{try{const N=localStorage.getItem("Scenario1_MoralValueReordered");if(N)return JSON.parse(N)}catch{}return[]})(),S=(()=>{try{const N=localStorage.getItem("Scenario2_MoralValueReordered");if(N)return JSON.parse(N)}catch{}return[]})(),w=(()=>{try{const N=localStorage.getItem("Scenario3_MoralValueReordered");if(N)return JSON.parse(N)}catch{}return[]})();return t.scenarioDetails.map((N,C)=>{const k=N.scenarioId,I=p[C]||"N/A",_=v[C]||"Unknown";let P=[],L="";k===1?(P=b,L="Scenario1_MoralValueReordered"):k===2?(P=S,L="Scenario2_MoralValueReordered"):k===3&&(P=w,L="Scenario3_MoralValueReordered");const E=yt.getAllEvents().filter(le=>le.scenarioId===k),M=E.find(le=>le.event==="option_confirmed"),D=M==null?void 0:M.flagsAtConfirmation;console.log(`[Debug] Scenario ${k} - Confirmation event:`,M),console.log(`[Debug] Scenario ${k} - Flags at confirmation:`,D);const O=(D==null?void 0:D.hasReorderedValues)??!1,R=(D==null?void 0:D.cvrYesClicked)??!1,F=(D==null?void 0:D.cvrNoClicked)??!1,V=(D==null?void 0:D.simulationMetricsReorderingFlag)??!1,H=(D==null?void 0:D.moralValuesReorderingFlag)??!1,W=E.filter(le=>le.event==="cvr_answered"&&le.cvrAnswer===!0).length,oe=E.filter(le=>le.event==="cvr_answered"&&le.cvrAnswer===!1).length,Z=E.filter(le=>le.event==="apa_reordered").length,U=E.filter(le=>le.event==="alternative_added").length,J=Math.max(0,E.filter(le=>le.event==="option_selected").length-1);return console.log(`[Debug] Scenario ${k} - Counters - CVR Yes: ${W}, CVR No: ${oe}, APA: ${Z}, Alternatives: ${U}, Switches: ${J}`),M||console.warn(`[Warning] No confirmation event found for Scenario ${k}`),M&&!D&&console.warn(`[Warning] No flags captured at confirmation for Scenario ${k}`),a.jsxs("tr",{className:"hover:bg-yellow-50",children:[a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-bold text-gray-900 border-r border-yellow-200",children:["Scenario ",k]}),a.jsx("td",{className:"px-3 py-4 text-xs border-r border-yellow-200",children:a.jsxs("div",{className:"space-y-2",children:[P&&a.jsxs("div",{className:"bg-purple-50 p-2 rounded border-2 border-purple-400",children:[a.jsxs("p",{className:"font-bold text-purple-900 mb-1",children:[L,":"]}),a.jsx("p",{className:"text-purple-700 font-mono break-words",children:P.length>0?`[${P.map(le=>le.charAt(0).toUpperCase()+le.slice(1)).join(", ")}]`:"[ Empty ]"})]}),a.jsxs("div",{className:"bg-green-50 p-2 rounded border-2 border-green-400",children:[a.jsx("p",{className:"font-bold text-green-900 mb-1",children:"FinalTopTwoValues:"}),a.jsx("p",{className:"text-green-700 font-mono break-words",children:M!=null&&M.finalTopTwoValuesBeforeUpdate&&M.finalTopTwoValuesBeforeUpdate.length>0?`[${M.finalTopTwoValuesBeforeUpdate.map(le=>le.charAt(0).toUpperCase()+le.slice(1)).join(", ")}]`:"[ Empty ]"})]})]})}),a.jsx("td",{className:"px-3 py-4 text-sm border-r border-yellow-200",children:a.jsx("div",{className:"bg-cyan-50 px-3 py-2 rounded border border-cyan-300 inline-block",children:a.jsx("span",{className:"font-bold text-cyan-900",children:I.charAt(0).toUpperCase()+I.slice(1)})})}),a.jsx("td",{className:"px-3 py-4 text-center border-r border-yellow-200",children:a.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full font-bold text-sm ${_==="Aligned"?"bg-green-100 text-green-800 border-2 border-green-400":"bg-red-100 text-red-800 border-2 border-red-400"}`,children:[_==="Aligned"?a.jsx(Rn,{className:"h-4 w-4 mr-1"}):a.jsx(Ms,{className:"h-4 w-4 mr-1"}),_]})}),a.jsx("td",{className:"px-3 py-4 border-r border-yellow-200",children:D?a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${O?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:"APA Reordered:"}),a.jsx("span",{className:"ml-2 font-bold",children:O?" Yes":" No"})]}),a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${R?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:'CVR "Yes":'}),a.jsx("span",{className:"ml-2 font-bold",children:R?" Yes":" No"})]}),a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${F?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:'CVR "No":'}),a.jsx("span",{className:"ml-2 font-bold",children:F?" Yes":" No"})]}),a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${V?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:"Sim. Metrics Reord.:"}),a.jsx("span",{className:"ml-2 font-bold",children:V?" Yes":" No"})]}),a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${H?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:"Moral Values Reord.:"}),a.jsx("span",{className:"ml-2 font-bold",children:H?" Yes":" No"})]})]}):a.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-400 rounded p-2 text-xs text-yellow-900 font-bold",children:" No flag data captured at confirmation"})}),a.jsx("td",{className:"px-3 py-4",children:a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-purple-50 rounded",children:[a.jsx("span",{className:"font-semibold text-purple-900",children:"APA Reorders:"}),a.jsx("span",{className:"ml-2 font-bold text-purple-700",children:Z})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-green-50 rounded",children:[a.jsx("span",{className:"font-semibold text-green-900",children:'CVR "Yes":'}),a.jsx("span",{className:"ml-2 font-bold text-green-700",children:W})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-red-50 rounded",children:[a.jsx("span",{className:"font-semibold text-red-900",children:'CVR "No":'}),a.jsx("span",{className:"ml-2 font-bold text-red-700",children:oe})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-blue-50 rounded",children:[a.jsx("span",{className:"font-semibold text-blue-900",children:"Alternatives:"}),a.jsx("span",{className:"ml-2 font-bold text-blue-700",children:U})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-orange-50 rounded",children:[a.jsx("span",{className:"font-semibold text-orange-900",children:"Switches:"}),a.jsx("span",{className:"ml-2 font-bold text-orange-700",children:J})]})]})})]},C)})})()})]})}),a.jsx("div",{className:"mt-4 pt-4 border-t-2 border-yellow-400",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-300",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Session Totals"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Total CVR Arrivals:"}),a.jsx("span",{className:"font-bold text-blue-700",children:t.cvrArrivals})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Total APA Reorderings:"}),a.jsx("span",{className:"font-bold text-purple-700",children:t.apaReorderings})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Total Switches:"}),a.jsx("span",{className:"font-bold text-orange-700",children:t.switchCountTotal})]})]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-300",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"CVR Response Summary"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:'"Yes, I would" answers:'}),a.jsx("span",{className:"font-bold text-green-700",children:t.cvrYesCount})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:'"No, I would not" answers:'}),a.jsx("span",{className:"font-bold text-red-700",children:t.cvrNoCount})]})]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-300",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Alignment Summary"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Aligned Decisions:"}),a.jsxs("span",{className:"font-bold text-green-700",children:[t.finalAlignmentByScenario.filter(Boolean).length," / ",t.finalAlignmentByScenario.length]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Value Consistency:"}),a.jsxs("span",{className:"font-bold text-blue-700",children:[(t.valueConsistencyIndex*100).toFixed(1),"%"]})]})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center",children:[a.jsx(bs,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Your Feedback"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Decision Satisfaction"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:r.decisionSatisfaction,onChange:p=>h("decisionSatisfaction",parseInt(p.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:s}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-blue-600",children:r.decisionSatisfaction})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very Dissatisfied"}),a.jsx("span",{children:"Very Satisfied"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Process Satisfaction"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:r.processSatisfaction,onChange:p=>h("processSatisfaction",parseInt(p.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:s}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-green-600",children:r.processSatisfaction})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very Poor"}),a.jsx("span",{children:"Excellent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Perceived Transparency"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:r.perceivedTransparency,onChange:p=>h("perceivedTransparency",parseInt(p.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:s}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-purple-600",children:r.perceivedTransparency})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not Transparent"}),a.jsx("span",{children:"Very Transparent"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(os,{className:"h-4 w-4 mr-2 text-gray-500"}),"Additional Comments (Optional)"]}),a.jsx("textarea",{value:r.notesFreeText,onChange:p=>i(v=>({...v,notesFreeText:p.target.value})),rows:4,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Share any additional thoughts about your experience..."})]})]}),s?a.jsx("div",{className:"mt-6 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Rn,{className:"h-6 w-6 text-green-500 mr-3"}),a.jsx("span",{className:"text-green-800 font-semibold text-lg",children:"Feedback submitted successfully!"})]})}):a.jsxs("button",{onClick:m,className:"mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:[a.jsx(bs,{size:20,className:"mr-2"}),"Submit Feedback"]})]})]}),a.jsx("style",{children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider:disabled::-webkit-slider-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }

        .slider:disabled::-moz-range-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }
      `})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Calculating session metrics..."})]})})},YM=()=>{const[e,t]=j.useState(!1),[n,r]=j.useState(!1);return j.useEffect(()=>{window.scrollTo(0,0),(async()=>{t(!0),setTimeout(()=>r(!0),300);const s={event:"study_completed",timestamp:new Date().toISOString(),data:{completionStatus:"full"}},o=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");o.push(s),localStorage.setItem("sessionEventLogs",JSON.stringify(o));const l=localStorage.getItem("sessionId");l&&(await Ce.updateSessionStatus(l,{status:"completed",completed_at:new Date().toISOString(),study_fully_completed:!0}),await Ce.syncFallbackData())})()},[]),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-teal-50 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute bottom-20 right-10 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse delay-1000"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse delay-500"})]}),a.jsx("div",{className:`max-w-4xl w-full transition-all duration-1000 transform relative z-10 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 md:p-12 border border-gray-100",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 to-teal-500 rounded-full blur-xl opacity-50 animate-pulse"}),a.jsx("div",{className:"relative bg-gradient-to-br from-green-400 via-teal-500 to-blue-500 rounded-full p-5 shadow-2xl",children:a.jsx(dr,{className:"h-20 w-20 text-white",strokeWidth:2.5})})]})}),a.jsxs("div",{className:`transition-all duration-700 delay-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-900 mb-3",children:"Study Complete"}),a.jsxs("div",{className:"flex justify-center items-center gap-3 mb-8",children:[a.jsx(ls,{className:"h-6 w-6 text-yellow-500"}),a.jsx("p",{className:"text-xl text-center text-gray-700 font-medium",children:"Your Journey Has Concluded"}),a.jsx(ls,{className:"h-6 w-6 text-yellow-500"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 via-teal-50 to-green-50 rounded-2xl p-8 mb-8 border-2 border-teal-200 shadow-inner",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-red-400 to-pink-500 rounded-full p-3 shadow-lg flex-shrink-0",children:a.jsx(Ub,{className:"h-7 w-7 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Thank You for Your Invaluable Contribution"}),a.jsx("p",{className:"text-gray-800 leading-relaxed text-lg",children:"Your thoughtful participation has provided crucial insights into how individuals navigate complex ethical decisions under pressure. Your engagement throughout this study demonstrates the depth and nuance of human decision-making in challenging circumstances."})]})]}),a.jsx("div",{className:"space-y-4 ml-0 md:ml-16",children:a.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:"Through your careful consideration of each scenario, you have helped advance our understanding of value alignment, moral reasoning, and the intricate relationship between personal beliefs and real-world choices."})})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-blue-100 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-blue-100 rounded-full p-4",children:a.jsx(bs,{className:"h-8 w-8 text-blue-600"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Meaningful Impact"}),a.jsx("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:"Your decisions contribute to research that may shape future tools for ethical decision-making"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-teal-100 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-teal-100 rounded-full p-4",children:a.jsx(Sf,{className:"h-8 w-8 text-teal-600"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Exemplary Dedication"}),a.jsx("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:"Your commitment to completing this comprehensive study reflects exceptional dedication"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-green-100 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-green-100 rounded-full p-4",children:a.jsx(qc,{className:"h-8 w-8 text-green-600"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Advancing Knowledge"}),a.jsx("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:"Your responses help build a deeper understanding of human values and decision processes"})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-100 rounded-2xl p-8 border-2 border-gray-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"We Wish You All the Best"}),a.jsx("p",{className:"text-gray-700 text-lg leading-relaxed max-w-2xl mx-auto",children:"As you continue on your journey, may you carry forward the thoughtfulness and wisdom you demonstrated throughout this study. Your ability to navigate complex decisions with care and consideration is a valuable strength."}),a.jsx("div",{className:"pt-4",children:a.jsx("p",{className:"text-gray-600 font-medium",children:"Thank you once again for your time, effort, and invaluable insights."})})]})}),a.jsx("div",{className:"mt-8 pt-6 border-t-2 border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-center gap-4 text-gray-500",children:[a.jsx(dr,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-sm",children:"Study Completed Successfully"}),a.jsx(dr,{className:"h-5 w-5 text-green-600"})]})})]})]})})]})};function GM(){return a.jsx(A2,{basename:"/VRDS_APA",children:a.jsxs(D2,{children:[a.jsx(Mt,{path:"/",element:a.jsx(_2,{to:"/demographics",replace:!0})}),a.jsx(Mt,{path:"/demographics",element:a.jsx(Z2,{})}),a.jsx(Mt,{path:"/explicitvaluepage",element:a.jsx(ej,{})}),a.jsx(Mt,{path:"/preferences",element:a.jsx(tj,{})}),a.jsx(Mt,{path:"/completion",element:a.jsx(nj,{})}),a.jsx(Mt,{path:"/values",element:a.jsx(rj,{})}),a.jsx(Mt,{path:"/tutorial",element:a.jsx(ij,{})}),a.jsx(Mt,{path:"/simulation",element:a.jsx(FM,{})}),a.jsx(Mt,{path:"/thank-you",element:a.jsx(VM,{})}),a.jsx(Mt,{path:"/feedback",element:a.jsx(zM,{})}),a.jsx(Mt,{path:"/final-analysis",element:a.jsx($M,{})}),a.jsx(Mt,{path:"/view-results",element:a.jsx(HM,{})}),a.jsx(Mt,{path:"/results-feedback",element:a.jsx(UM,{})}),a.jsx(Mt,{path:"/study-complete",element:a.jsx(YM,{})})]})})}Ib(document.getElementById("root")).render(a.jsx(GM,{}));
