var x0=Object.defineProperty;var y0=(t,e,s)=>e in t?x0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var J=(t,e,s)=>y0(t,typeof e!="symbol"?e+"":e,s);function v0(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function b0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dm={exports:{}},il={},Fm={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=Symbol.for("react.element"),w0=Symbol.for("react.portal"),j0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),C0=Symbol.for("react.provider"),k0=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),M0=Symbol.for("react.suspense"),R0=Symbol.for("react.memo"),T0=Symbol.for("react.lazy"),Gu=Symbol.iterator;function I0(t){return t===null||typeof t!="object"?null:(t=Gu&&t[Gu]||t["@@iterator"],typeof t=="function"?t:null)}var Bm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hm=Object.assign,Wm={};function tr(t,e,s){this.props=t,this.context=e,this.refs=Wm,this.updater=s||Bm}tr.prototype.isReactComponent={};tr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $m(){}$m.prototype=tr.prototype;function Ed(t,e,s){this.props=t,this.context=e,this.refs=Wm,this.updater=s||Bm}var Pd=Ed.prototype=new $m;Pd.constructor=Ed;Hm(Pd,tr.prototype);Pd.isPureReactComponent=!0;var Zu=Array.isArray,Um=Object.prototype.hasOwnProperty,Ad={current:null},Ym={key:!0,ref:!0,__self:!0,__source:!0};function qm(t,e,s){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Um.call(e,n)&&!Ym.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:pa,type:t,key:a,ref:o,props:i,_owner:Ad.current}}function E0(t,e){return{$$typeof:pa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Od(t){return typeof t=="object"&&t!==null&&t.$$typeof===pa}function P0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var eh=/\/+/g;function Ol(t,e){return typeof t=="object"&&t!==null&&t.key!=null?P0(""+t.key):e.toString(36)}function lo(t,e,s,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pa:case w0:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ol(o,0):n,Zu(i)?(s="",t!=null&&(s=t.replace(eh,"$&/")+"/"),lo(i,e,s,"",function(d){return d})):i!=null&&(Od(i)&&(i=E0(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Zu(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Ol(a,l);o+=lo(a,e,s,c,i)}else if(c=I0(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Ol(a,l++),o+=lo(a,e,s,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ra(t,e,s){if(t==null)return t;var n=[],i=0;return lo(t,n,"","",function(a){return e.call(s,a,i++)}),n}function A0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},co={transition:null},O0={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:co,ReactCurrentOwner:Ad};function Jm(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Ra,forEach:function(t,e,s){Ra(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return Ra(t,function(){e++}),e},toArray:function(t){return Ra(t,function(e){return e})||[]},only:function(t){if(!Od(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=tr;ve.Fragment=j0;ve.Profiler=S0;ve.PureComponent=Ed;ve.StrictMode=N0;ve.Suspense=M0;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0;ve.act=Jm;ve.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Hm({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Ad.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Um.call(e,c)&&!Ym.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:pa,type:t.type,key:i,ref:a,props:n,_owner:o}};ve.createContext=function(t){return t={$$typeof:k0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C0,_context:t},t.Consumer=t};ve.createElement=qm;ve.createFactory=function(t){var e=qm.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:_0,render:t}};ve.isValidElement=Od;ve.lazy=function(t){return{$$typeof:T0,_payload:{_status:-1,_result:t},_init:A0}};ve.memo=function(t,e){return{$$typeof:R0,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=co.transition;co.transition={};try{t()}finally{co.transition=e}};ve.unstable_act=Jm;ve.useCallback=function(t,e){return Nt.current.useCallback(t,e)};ve.useContext=function(t){return Nt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Nt.current.useEffect(t,e)};ve.useId=function(){return Nt.current.useId()};ve.useImperativeHandle=function(t,e,s){return Nt.current.useImperativeHandle(t,e,s)};ve.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Nt.current.useMemo(t,e)};ve.useReducer=function(t,e,s){return Nt.current.useReducer(t,e,s)};ve.useRef=function(t){return Nt.current.useRef(t)};ve.useState=function(t){return Nt.current.useState(t)};ve.useSyncExternalStore=function(t,e,s){return Nt.current.useSyncExternalStore(t,e,s)};ve.useTransition=function(){return Nt.current.useTransition()};ve.version="18.3.1";Fm.exports=ve;var j=Fm.exports;const nn=b0(j),L0=v0({__proto__:null,default:nn},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0=j,z0=Symbol.for("react.element"),D0=Symbol.for("react.fragment"),F0=Object.prototype.hasOwnProperty,B0=V0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H0={key:!0,ref:!0,__self:!0,__source:!0};function Qm(t,e,s){var n,i={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)F0.call(e,n)&&!H0.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:z0,type:t,key:a,ref:o,props:i,_owner:B0.current}}il.Fragment=D0;il.jsx=Qm;il.jsxs=Qm;Dm.exports=il;var r=Dm.exports,Km={exports:{}},Wt={},Xm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,z){var D=T.length;T.push(z);e:for(;0<D;){var U=D-1>>>1,X=T[U];if(0<i(X,z))T[U]=z,T[D]=X,D=U;else break e}}function s(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var z=T[0],D=T.pop();if(D!==z){T[0]=D;e:for(var U=0,X=T.length,ge=X>>>1;U<ge;){var ee=2*(U+1)-1,$=T[ee],re=ee+1,ce=T[re];if(0>i($,D))re<X&&0>i(ce,$)?(T[U]=ce,T[re]=D,U=re):(T[U]=$,T[ee]=D,U=ee);else if(re<X&&0>i(ce,D))T[U]=ce,T[re]=D,U=re;else break e}}return z}function i(T,z){var D=T.sortIndex-z.sortIndex;return D!==0?D:T.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var z=s(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=T)n(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=s(d)}}function k(T){if(x=!1,v(T),!y)if(s(c)!==null)y=!0,A(N);else{var z=s(d);z!==null&&B(k,z.startTime-T)}}function N(T,z){y=!1,x&&(x=!1,m(S),S=-1),p=!0;var D=f;try{for(v(z),h=s(c);h!==null&&(!(h.expirationTime>z)||T&&!E());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var X=U(h.expirationTime<=z);z=t.unstable_now(),typeof X=="function"?h.callback=X:h===s(c)&&n(c),v(z)}else n(c);h=s(c)}if(h!==null)var ge=!0;else{var ee=s(d);ee!==null&&B(k,ee.startTime-z),ge=!1}return ge}finally{h=null,f=D,p=!1}}var w=!1,C=null,S=-1,_=5,I=-1;function E(){return!(t.unstable_now()-I<_)}function F(){if(C!==null){var T=t.unstable_now();I=T;var z=!0;try{z=C(!0,T)}finally{z?te():(w=!1,C=null)}}else w=!1}var te;if(typeof g=="function")te=function(){g(F)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=F,te=function(){V.postMessage(null)}}else te=function(){b(F,0)};function A(T){C=T,w||(w=!0,te())}function B(T,z){S=b(function(){T(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,A(N))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var D=f;f=z;try{return T()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,z){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=f;f=T;try{return z()}finally{f=D}},t.unstable_scheduleCallback=function(T,z,D){var U=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,T){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=D+X,T={id:u++,callback:z,priorityLevel:T,startTime:D,expirationTime:X,sortIndex:-1},D>U?(T.sortIndex=D,e(d,T),s(c)===null&&T===s(d)&&(x?(m(S),S=-1):x=!0,B(k,D-U))):(T.sortIndex=X,e(c,T),y||p||(y=!0,A(N))),T},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(T){var z=f;return function(){var D=f;f=z;try{return T.apply(this,arguments)}finally{f=D}}}})(Gm);Xm.exports=Gm;var W0=Xm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=j,Ht=W0;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zm=new Set,Br={};function oi(t,e){Hi(t,e),Hi(t+"Capture",e)}function Hi(t,e){for(Br[t]=e,t=0;t<e.length;t++)Zm.add(e[t])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=Object.prototype.hasOwnProperty,U0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,th={},sh={};function Y0(t){return Sc.call(sh,t)?!0:Sc.call(th,t)?!1:U0.test(t)?sh[t]=!0:(th[t]=!0,!1)}function q0(t,e,s,n){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J0(t,e,s,n){if(e===null||typeof e>"u"||q0(t,e,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,s,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ld=/[\-:]([a-z])/g;function Vd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ld,Vd);ut[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ld,Vd);ut[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ld,Vd);ut[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function zd(t,e,s,n){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J0(e,s,i,n)&&(s=null),n||i===null?Y0(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(e=i.attributeName,n=i.attributeNamespace,s===null?t.removeAttribute(e):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?t.setAttributeNS(n,e,s):t.setAttribute(e,s))))}var Js=$0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ta=Symbol.for("react.element"),xi=Symbol.for("react.portal"),yi=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),Cc=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),Fd=Symbol.for("react.forward_ref"),kc=Symbol.for("react.suspense"),_c=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),Zs=Symbol.for("react.lazy"),sp=Symbol.for("react.offscreen"),nh=Symbol.iterator;function or(t){return t===null||typeof t!="object"?null:(t=nh&&t[nh]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,Ll;function br(t){if(Ll===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Ll=e&&e[1]||""}return`
`+Ll+t}var Vl=!1;function zl(t,e){if(!t||Vl)return"";Vl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Vl=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?br(t):""}function Q0(t){switch(t.tag){case 5:return br(t.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 2:case 15:return t=zl(t.type,!1),t;case 11:return t=zl(t.type.render,!1),t;case 1:return t=zl(t.type,!0),t;default:return""}}function Mc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yi:return"Fragment";case xi:return"Portal";case Cc:return"Profiler";case Dd:return"StrictMode";case kc:return"Suspense";case _c:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tp:return(t.displayName||"Context")+".Consumer";case ep:return(t._context.displayName||"Context")+".Provider";case Fd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bd:return e=t.displayName||null,e!==null?e:Mc(t.type)||"Memo";case Zs:e=t._payload,t=t._init;try{return Mc(t(e))}catch{}}return null}function K0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mc(e);case 8:return e===Dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function np(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X0(t){var e=np(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ia(t){t._valueTracker||(t._valueTracker=X0(t))}function ip(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),n="";return t&&(n=np(t)?t.checked?"true":"false":t.value),t=n,t!==s?(e.setValue(t),!0):!1}function ko(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rc(t,e){var s=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function ih(t,e){var s=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;s=jn(e.value!=null?e.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rp(t,e){e=e.checked,e!=null&&zd(t,"checked",e,!1)}function Tc(t,e){rp(t,e);var s=jn(e.value),n=e.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ic(t,e.type,s):e.hasOwnProperty("defaultValue")&&Ic(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rh(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Ic(t,e,s){(e!=="number"||ko(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var wr=Array.isArray;function Ii(t,e,s,n){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&n&&(t[s].defaultSelected=!0)}else{for(s=""+jn(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ec(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ah(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(L(92));if(wr(s)){if(1<s.length)throw Error(L(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:jn(s)}}function ap(t,e){var s=jn(e.value),n=jn(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function oh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function op(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?op(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ea,lp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,s,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ea=Ea||document.createElement("div"),Ea.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ea.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hr(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G0=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(t){G0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_r[e]=_r[t]})});function cp(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||_r.hasOwnProperty(t)&&_r[t]?(""+e).trim():e+"px"}function dp(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=cp(s,e[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,i):t[s]=i}}var Z0=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ac(t,e){if(e){if(Z0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Oc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=null;function Hd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vc=null,Ei=null,Pi=null;function lh(t){if(t=ya(t)){if(typeof Vc!="function")throw Error(L(280));var e=t.stateNode;e&&(e=cl(e),Vc(t.stateNode,t.type,e))}}function up(t){Ei?Pi?Pi.push(t):Pi=[t]:Ei=t}function hp(){if(Ei){var t=Ei,e=Pi;if(Pi=Ei=null,lh(t),e)for(t=0;t<e.length;t++)lh(e[t])}}function fp(t,e){return t(e)}function mp(){}var Dl=!1;function pp(t,e,s){if(Dl)return t(e,s);Dl=!0;try{return fp(t,e,s)}finally{Dl=!1,(Ei!==null||Pi!==null)&&(mp(),hp())}}function Wr(t,e){var s=t.stateNode;if(s===null)return null;var n=cl(s);if(n===null)return null;s=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(L(231,e,typeof s));return s}var zc=!1;if($s)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){zc=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{zc=!1}function ey(t,e,s,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(u){this.onError(u)}}var Mr=!1,_o=null,Mo=!1,Dc=null,ty={onError:function(t){Mr=!0,_o=t}};function sy(t,e,s,n,i,a,o,l,c){Mr=!1,_o=null,ey.apply(ty,arguments)}function ny(t,e,s,n,i,a,o,l,c){if(sy.apply(this,arguments),Mr){if(Mr){var d=_o;Mr=!1,_o=null}else throw Error(L(198));Mo||(Mo=!0,Dc=d)}}function li(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function gp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ch(t){if(li(t)!==t)throw Error(L(188))}function iy(t){var e=t.alternate;if(!e){if(e=li(t),e===null)throw Error(L(188));return e!==t?null:t}for(var s=t,n=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return ch(i),t;if(a===n)return ch(i),e;a=a.sibling}throw Error(L(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o)throw Error(L(189))}}if(s.alternate!==n)throw Error(L(190))}if(s.tag!==3)throw Error(L(188));return s.stateNode.current===s?t:e}function xp(t){return t=iy(t),t!==null?yp(t):null}function yp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yp(t);if(e!==null)return e;t=t.sibling}return null}var vp=Ht.unstable_scheduleCallback,dh=Ht.unstable_cancelCallback,ry=Ht.unstable_shouldYield,ay=Ht.unstable_requestPaint,Je=Ht.unstable_now,oy=Ht.unstable_getCurrentPriorityLevel,Wd=Ht.unstable_ImmediatePriority,bp=Ht.unstable_UserBlockingPriority,Ro=Ht.unstable_NormalPriority,ly=Ht.unstable_LowPriority,wp=Ht.unstable_IdlePriority,rl=null,js=null;function cy(t){if(js&&typeof js.onCommitFiberRoot=="function")try{js.onCommitFiberRoot(rl,t,void 0,(t.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:hy,dy=Math.log,uy=Math.LN2;function hy(t){return t>>>=0,t===0?32:31-(dy(t)/uy|0)|0}var Pa=64,Aa=4194304;function jr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function To(t,e){var s=t.pendingLanes;if(s===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?n=jr(l):(a&=o,a!==0&&(n=jr(a)))}else o=s&~i,o!==0?n=jr(o):a!==0&&(n=jr(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)s=31-os(e),i=1<<s,n|=t[s],e&=~i;return n}function fy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function my(t,e){for(var s=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-os(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&n)&&(i[o]=fy(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Fc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jp(){var t=Pa;return Pa<<=1,!(Pa&4194240)&&(Pa=64),t}function Fl(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function ga(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-os(e),t[e]=s}function py(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-os(s),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,s&=~a}}function $d(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var n=31-os(s),i=1<<n;i&e|t[n]&e&&(t[n]|=e),s&=~i}}var Te=0;function Np(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sp,Ud,Cp,kp,_p,Bc=!1,Oa=[],hn=null,fn=null,mn=null,$r=new Map,Ur=new Map,tn=[],gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(t,e){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":$r.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(e.pointerId)}}function cr(t,e,s,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ya(e),e!==null&&Ud(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xy(t,e,s,n,i){switch(e){case"focusin":return hn=cr(hn,t,e,s,n,i),!0;case"dragenter":return fn=cr(fn,t,e,s,n,i),!0;case"mouseover":return mn=cr(mn,t,e,s,n,i),!0;case"pointerover":var a=i.pointerId;return $r.set(a,cr($r.get(a)||null,t,e,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ur.set(a,cr(Ur.get(a)||null,t,e,s,n,i)),!0}return!1}function Mp(t){var e=Dn(t.target);if(e!==null){var s=li(e);if(s!==null){if(e=s.tag,e===13){if(e=gp(s),e!==null){t.blockedOn=e,_p(t.priority,function(){Cp(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=Hc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);Lc=n,s.target.dispatchEvent(n),Lc=null}else return e=ya(s),e!==null&&Ud(e),t.blockedOn=s,!1;e.shift()}return!0}function hh(t,e,s){uo(t)&&s.delete(e)}function yy(){Bc=!1,hn!==null&&uo(hn)&&(hn=null),fn!==null&&uo(fn)&&(fn=null),mn!==null&&uo(mn)&&(mn=null),$r.forEach(hh),Ur.forEach(hh)}function dr(t,e){t.blockedOn===e&&(t.blockedOn=null,Bc||(Bc=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,yy)))}function Yr(t){function e(i){return dr(i,t)}if(0<Oa.length){dr(Oa[0],t);for(var s=1;s<Oa.length;s++){var n=Oa[s];n.blockedOn===t&&(n.blockedOn=null)}}for(hn!==null&&dr(hn,t),fn!==null&&dr(fn,t),mn!==null&&dr(mn,t),$r.forEach(e),Ur.forEach(e),s=0;s<tn.length;s++)n=tn[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<tn.length&&(s=tn[0],s.blockedOn===null);)Mp(s),s.blockedOn===null&&tn.shift()}var Ai=Js.ReactCurrentBatchConfig,Io=!0;function vy(t,e,s,n){var i=Te,a=Ai.transition;Ai.transition=null;try{Te=1,Yd(t,e,s,n)}finally{Te=i,Ai.transition=a}}function by(t,e,s,n){var i=Te,a=Ai.transition;Ai.transition=null;try{Te=4,Yd(t,e,s,n)}finally{Te=i,Ai.transition=a}}function Yd(t,e,s,n){if(Io){var i=Hc(t,e,s,n);if(i===null)Kl(t,e,n,Eo,s),uh(t,n);else if(xy(i,t,e,s,n))n.stopPropagation();else if(uh(t,n),e&4&&-1<gy.indexOf(t)){for(;i!==null;){var a=ya(i);if(a!==null&&Sp(a),a=Hc(t,e,s,n),a===null&&Kl(t,e,n,Eo,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else Kl(t,e,n,null,s)}}var Eo=null;function Hc(t,e,s,n){if(Eo=null,t=Hd(n),t=Dn(t),t!==null)if(e=li(t),e===null)t=null;else if(s=e.tag,s===13){if(t=gp(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eo=t,null}function Rp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oy()){case Wd:return 1;case bp:return 4;case Ro:case ly:return 16;case wp:return 536870912;default:return 16}default:return 16}}var rn=null,qd=null,ho=null;function Tp(){if(ho)return ho;var t,e=qd,s=e.length,n,i="value"in rn?rn.value:rn.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var o=s-t;for(n=1;n<=o&&e[s-n]===i[a-n];n++);return ho=i.slice(t,1<n?1-n:void 0)}function fo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function La(){return!0}function fh(){return!1}function $t(t){function e(s,n,i,a,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?La:fh,this.isPropagationStopped=fh,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),e}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jd=$t(sr),xa=$e({},sr,{view:0,detail:0}),wy=$t(xa),Bl,Hl,ur,al=$e({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&t.type==="mousemove"?(Bl=t.screenX-ur.screenX,Hl=t.screenY-ur.screenY):Hl=Bl=0,ur=t),Bl)},movementY:function(t){return"movementY"in t?t.movementY:Hl}}),mh=$t(al),jy=$e({},al,{dataTransfer:0}),Ny=$t(jy),Sy=$e({},xa,{relatedTarget:0}),Wl=$t(Sy),Cy=$e({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),ky=$t(Cy),_y=$e({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),My=$t(_y),Ry=$e({},sr,{data:0}),ph=$t(Ry),Ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ey={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ey[t])?!!e[t]:!1}function Qd(){return Py}var Ay=$e({},xa,{key:function(t){if(t.key){var e=Ty[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(t){return t.type==="keypress"?fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oy=$t(Ay),Ly=$e({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gh=$t(Ly),Vy=$e({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),zy=$t(Vy),Dy=$e({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fy=$t(Dy),By=$e({},al,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hy=$t(By),Wy=[9,13,27,32],Kd=$s&&"CompositionEvent"in window,Rr=null;$s&&"documentMode"in document&&(Rr=document.documentMode);var $y=$s&&"TextEvent"in window&&!Rr,Ip=$s&&(!Kd||Rr&&8<Rr&&11>=Rr),xh=" ",yh=!1;function Ep(t,e){switch(t){case"keyup":return Wy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vi=!1;function Uy(t,e){switch(t){case"compositionend":return Pp(e);case"keypress":return e.which!==32?null:(yh=!0,xh);case"textInput":return t=e.data,t===xh&&yh?null:t;default:return null}}function Yy(t,e){if(vi)return t==="compositionend"||!Kd&&Ep(t,e)?(t=Tp(),ho=qd=rn=null,vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ip&&e.locale!=="ko"?null:e.data;default:return null}}var qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qy[t.type]:e==="textarea"}function Ap(t,e,s,n){up(n),e=Po(e,"onChange"),0<e.length&&(s=new Jd("onChange","change",null,s,n),t.push({event:s,listeners:e}))}var Tr=null,qr=null;function Jy(t){Up(t,0)}function ol(t){var e=ji(t);if(ip(e))return t}function Qy(t,e){if(t==="change")return e}var Op=!1;if($s){var $l;if($s){var Ul="oninput"in document;if(!Ul){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),Ul=typeof bh.oninput=="function"}$l=Ul}else $l=!1;Op=$l&&(!document.documentMode||9<document.documentMode)}function wh(){Tr&&(Tr.detachEvent("onpropertychange",Lp),qr=Tr=null)}function Lp(t){if(t.propertyName==="value"&&ol(qr)){var e=[];Ap(e,qr,t,Hd(t)),pp(Jy,e)}}function Ky(t,e,s){t==="focusin"?(wh(),Tr=e,qr=s,Tr.attachEvent("onpropertychange",Lp)):t==="focusout"&&wh()}function Xy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ol(qr)}function Gy(t,e){if(t==="click")return ol(e)}function Zy(t,e){if(t==="input"||t==="change")return ol(e)}function ev(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ds=typeof Object.is=="function"?Object.is:ev;function Jr(t,e){if(ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Sc.call(e,i)||!ds(t[i],e[i]))return!1}return!0}function jh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nh(t,e){var s=jh(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=jh(s)}}function Vp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zp(){for(var t=window,e=ko();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=ko(t.document)}return e}function Xd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tv(t){var e=zp(),s=t.focusedElem,n=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&Vp(s.ownerDocument.documentElement,s)){if(n!==null&&Xd(s)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Nh(s,a);var o=Nh(s,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sv=$s&&"documentMode"in document&&11>=document.documentMode,bi=null,Wc=null,Ir=null,$c=!1;function Sh(t,e,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$c||bi==null||bi!==ko(n)||(n=bi,"selectionStart"in n&&Xd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ir&&Jr(Ir,n)||(Ir=n,n=Po(Wc,"onSelect"),0<n.length&&(e=new Jd("onSelect","select",null,e,s),t.push({event:e,listeners:n}),e.target=bi)))}function Va(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var wi={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},Yl={},Dp={};$s&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function ll(t){if(Yl[t])return Yl[t];if(!wi[t])return t;var e=wi[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in Dp)return Yl[t]=e[s];return t}var Fp=ll("animationend"),Bp=ll("animationiteration"),Hp=ll("animationstart"),Wp=ll("transitionend"),$p=new Map,Ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(t,e){$p.set(t,e),oi(e,[t])}for(var ql=0;ql<Ch.length;ql++){var Jl=Ch[ql],nv=Jl.toLowerCase(),iv=Jl[0].toUpperCase()+Jl.slice(1);kn(nv,"on"+iv)}kn(Fp,"onAnimationEnd");kn(Bp,"onAnimationIteration");kn(Hp,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(Wp,"onTransitionEnd");Hi("onMouseEnter",["mouseout","mouseover"]);Hi("onMouseLeave",["mouseout","mouseover"]);Hi("onPointerEnter",["pointerout","pointerover"]);Hi("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function kh(t,e,s){var n=t.type||"unknown-event";t.currentTarget=s,ny(n,e,void 0,t),t.currentTarget=null}function Up(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;kh(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;kh(i,l,d),a=c}}}if(Mo)throw t=Dc,Mo=!1,Dc=null,t}function ze(t,e){var s=e[Qc];s===void 0&&(s=e[Qc]=new Set);var n=t+"__bubble";s.has(n)||(Yp(e,t,2,!1),s.add(n))}function Ql(t,e,s){var n=0;e&&(n|=4),Yp(s,t,n,e)}var za="_reactListening"+Math.random().toString(36).slice(2);function Qr(t){if(!t[za]){t[za]=!0,Zm.forEach(function(s){s!=="selectionchange"&&(rv.has(s)||Ql(s,!1,t),Ql(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[za]||(e[za]=!0,Ql("selectionchange",!1,e))}}function Yp(t,e,s,n){switch(Rp(e)){case 1:var i=vy;break;case 4:i=by;break;default:i=Yd}s=i.bind(null,e,s,t),i=void 0,!zc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function Kl(t,e,s,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Dn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}pp(function(){var d=a,u=Hd(s),h=[];e:{var f=$p.get(t);if(f!==void 0){var p=Jd,y=t;switch(t){case"keypress":if(fo(s)===0)break e;case"keydown":case"keyup":p=Oy;break;case"focusin":y="focus",p=Wl;break;case"focusout":y="blur",p=Wl;break;case"beforeblur":case"afterblur":p=Wl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zy;break;case Fp:case Bp:case Hp:p=ky;break;case Wp:p=Fy;break;case"scroll":p=wy;break;case"wheel":p=Hy;break;case"copy":case"cut":case"paste":p=My;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gh}var x=(e&4)!==0,b=!x&&t==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var g=d,v;g!==null;){v=g;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,m!==null&&(k=Wr(g,m),k!=null&&x.push(Kr(g,k,v)))),b)break;g=g.return}0<x.length&&(f=new p(f,y,null,s,u),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&s!==Lc&&(y=s.relatedTarget||s.fromElement)&&(Dn(y)||y[Us]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=s.relatedTarget||s.toElement,p=d,y=y?Dn(y):null,y!==null&&(b=li(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(x=mh,k="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=gh,k="onPointerLeave",m="onPointerEnter",g="pointer"),b=p==null?f:ji(p),v=y==null?f:ji(y),f=new x(k,g+"leave",p,s,u),f.target=b,f.relatedTarget=v,k=null,Dn(u)===d&&(x=new x(m,g+"enter",y,s,u),x.target=v,x.relatedTarget=b,k=x),b=k,p&&y)t:{for(x=p,m=y,g=0,v=x;v;v=pi(v))g++;for(v=0,k=m;k;k=pi(k))v++;for(;0<g-v;)x=pi(x),g--;for(;0<v-g;)m=pi(m),v--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=pi(x),m=pi(m)}x=null}else x=null;p!==null&&_h(h,f,p,x,!1),y!==null&&b!==null&&_h(h,b,y,x,!0)}}e:{if(f=d?ji(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=Qy;else if(vh(f))if(Op)N=Zy;else{N=Xy;var w=Ky}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Gy);if(N&&(N=N(t,d))){Ap(h,N,s,u);break e}w&&w(t,f,d),t==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&Ic(f,"number",f.value)}switch(w=d?ji(d):window,t){case"focusin":(vh(w)||w.contentEditable==="true")&&(bi=w,Wc=d,Ir=null);break;case"focusout":Ir=Wc=bi=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,Sh(h,s,u);break;case"selectionchange":if(sv)break;case"keydown":case"keyup":Sh(h,s,u)}var C;if(Kd)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else vi?Ep(t,s)&&(S="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(Ip&&s.locale!=="ko"&&(vi||S!=="onCompositionStart"?S==="onCompositionEnd"&&vi&&(C=Tp()):(rn=u,qd="value"in rn?rn.value:rn.textContent,vi=!0)),w=Po(d,S),0<w.length&&(S=new ph(S,t,null,s,u),h.push({event:S,listeners:w}),C?S.data=C:(C=Pp(s),C!==null&&(S.data=C)))),(C=$y?Uy(t,s):Yy(t,s))&&(d=Po(d,"onBeforeInput"),0<d.length&&(u=new ph("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=C))}Up(h,e)})}function Kr(t,e,s){return{instance:t,listener:e,currentTarget:s}}function Po(t,e){for(var s=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Wr(t,s),a!=null&&n.unshift(Kr(t,a,i)),a=Wr(t,e),a!=null&&n.push(Kr(t,a,i))),t=t.return}return n}function pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _h(t,e,s,n,i){for(var a=e._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=Wr(s,a),c!=null&&o.unshift(Kr(s,c,l))):i||(c=Wr(s,a),c!=null&&o.push(Kr(s,c,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var av=/\r\n?/g,ov=/\u0000|\uFFFD/g;function Mh(t){return(typeof t=="string"?t:""+t).replace(av,`
`).replace(ov,"")}function Da(t,e,s){if(e=Mh(e),Mh(t)!==e&&s)throw Error(L(425))}function Ao(){}var Uc=null,Yc=null;function qc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jc=typeof setTimeout=="function"?setTimeout:void 0,lv=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,cv=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(t){return Rh.resolve(null).then(t).catch(dv)}:Jc;function dv(t){setTimeout(function(){throw t})}function Xl(t,e){var s=e,n=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){t.removeChild(i),Yr(e);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);Yr(e)}function pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Th(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var nr=Math.random().toString(36).slice(2),ws="__reactFiber$"+nr,Xr="__reactProps$"+nr,Us="__reactContainer$"+nr,Qc="__reactEvents$"+nr,uv="__reactListeners$"+nr,hv="__reactHandles$"+nr;function Dn(t){var e=t[ws];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Us]||s[ws]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=Th(t);t!==null;){if(s=t[ws])return s;t=Th(t)}return e}t=s,s=t.parentNode}return null}function ya(t){return t=t[ws]||t[Us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function cl(t){return t[Xr]||null}var Kc=[],Ni=-1;function _n(t){return{current:t}}function De(t){0>Ni||(t.current=Kc[Ni],Kc[Ni]=null,Ni--)}function Le(t,e){Ni++,Kc[Ni]=t.current,t.current=e}var Nn={},xt=_n(Nn),Tt=_n(!1),Xn=Nn;function Wi(t,e){var s=t.type.contextTypes;if(!s)return Nn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function It(t){return t=t.childContextTypes,t!=null}function Oo(){De(Tt),De(xt)}function Ih(t,e,s){if(xt.current!==Nn)throw Error(L(168));Le(xt,e),Le(Tt,s)}function qp(t,e,s){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(L(108,K0(t)||"Unknown",i));return $e({},s,n)}function Lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nn,Xn=xt.current,Le(xt,t),Le(Tt,Tt.current),!0}function Eh(t,e,s){var n=t.stateNode;if(!n)throw Error(L(169));s?(t=qp(t,e,Xn),n.__reactInternalMemoizedMergedChildContext=t,De(Tt),De(xt),Le(xt,t)):De(Tt),Le(Tt,s)}var Ls=null,dl=!1,Gl=!1;function Jp(t){Ls===null?Ls=[t]:Ls.push(t)}function fv(t){dl=!0,Jp(t)}function Mn(){if(!Gl&&Ls!==null){Gl=!0;var t=0,e=Te;try{var s=Ls;for(Te=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}Ls=null,dl=!1}catch(i){throw Ls!==null&&(Ls=Ls.slice(t+1)),vp(Wd,Mn),i}finally{Te=e,Gl=!1}}return null}var Si=[],Ci=0,Vo=null,zo=0,qt=[],Jt=0,Gn=null,zs=1,Ds="";function An(t,e){Si[Ci++]=zo,Si[Ci++]=Vo,Vo=t,zo=e}function Qp(t,e,s){qt[Jt++]=zs,qt[Jt++]=Ds,qt[Jt++]=Gn,Gn=t;var n=zs;t=Ds;var i=32-os(n)-1;n&=~(1<<i),s+=1;var a=32-os(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,zs=1<<32-os(e)+i|s<<i|n,Ds=a+t}else zs=1<<a|s<<i|n,Ds=t}function Gd(t){t.return!==null&&(An(t,1),Qp(t,1,0))}function Zd(t){for(;t===Vo;)Vo=Si[--Ci],Si[Ci]=null,zo=Si[--Ci],Si[Ci]=null;for(;t===Gn;)Gn=qt[--Jt],qt[Jt]=null,Ds=qt[--Jt],qt[Jt]=null,zs=qt[--Jt],qt[Jt]=null}var Ft=null,Vt=null,Fe=!1,rs=null;function Kp(t,e){var s=Qt(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function Ph(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ft=t,Vt=pn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ft=t,Vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=Gn!==null?{id:zs,overflow:Ds}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Qt(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Ft=t,Vt=null,!0):!1;default:return!1}}function Xc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gc(t){if(Fe){var e=Vt;if(e){var s=e;if(!Ph(t,e)){if(Xc(t))throw Error(L(418));e=pn(s.nextSibling);var n=Ft;e&&Ph(t,e)?Kp(n,s):(t.flags=t.flags&-4097|2,Fe=!1,Ft=t)}}else{if(Xc(t))throw Error(L(418));t.flags=t.flags&-4097|2,Fe=!1,Ft=t}}}function Ah(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ft=t}function Fa(t){if(t!==Ft)return!1;if(!Fe)return Ah(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qc(t.type,t.memoizedProps)),e&&(e=Vt)){if(Xc(t))throw Xp(),Error(L(418));for(;e;)Kp(t,e),e=pn(e.nextSibling)}if(Ah(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){Vt=pn(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}Vt=null}}else Vt=Ft?pn(t.stateNode.nextSibling):null;return!0}function Xp(){for(var t=Vt;t;)t=pn(t.nextSibling)}function $i(){Vt=Ft=null,Fe=!1}function eu(t){rs===null?rs=[t]:rs.push(t)}var mv=Js.ReactCurrentBatchConfig;function hr(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(L(309));var n=s.stateNode}if(!n)throw Error(L(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(L(284));if(!s._owner)throw Error(L(290,t))}return t}function Ba(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Oh(t){var e=t._init;return e(t._payload)}function Gp(t){function e(m,g){if(t){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function s(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=vn(m,g),m.index=0,m.sibling=null,m}function a(m,g,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,g,v,k){return g===null||g.tag!==6?(g=rc(v,m.mode,k),g.return=m,g):(g=i(g,v),g.return=m,g)}function c(m,g,v,k){var N=v.type;return N===yi?u(m,g,v.props.children,k,v.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zs&&Oh(N)===g.type)?(k=i(g,v.props),k.ref=hr(m,g,v),k.return=m,k):(k=bo(v.type,v.key,v.props,null,m.mode,k),k.ref=hr(m,g,v),k.return=m,k)}function d(m,g,v,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=ac(v,m.mode,k),g.return=m,g):(g=i(g,v.children||[]),g.return=m,g)}function u(m,g,v,k,N){return g===null||g.tag!==7?(g=$n(v,m.mode,k,N),g.return=m,g):(g=i(g,v),g.return=m,g)}function h(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=rc(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ta:return v=bo(g.type,g.key,g.props,null,m.mode,v),v.ref=hr(m,null,g),v.return=m,v;case xi:return g=ac(g,m.mode,v),g.return=m,g;case Zs:var k=g._init;return h(m,k(g._payload),v)}if(wr(g)||or(g))return g=$n(g,m.mode,v,null),g.return=m,g;Ba(m,g)}return null}function f(m,g,v,k){var N=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(m,g,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ta:return v.key===N?c(m,g,v,k):null;case xi:return v.key===N?d(m,g,v,k):null;case Zs:return N=v._init,f(m,g,N(v._payload),k)}if(wr(v)||or(v))return N!==null?null:u(m,g,v,k,null);Ba(m,v)}return null}function p(m,g,v,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(v)||null,l(g,m,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ta:return m=m.get(k.key===null?v:k.key)||null,c(g,m,k,N);case xi:return m=m.get(k.key===null?v:k.key)||null,d(g,m,k,N);case Zs:var w=k._init;return p(m,g,v,w(k._payload),N)}if(wr(k)||or(k))return m=m.get(v)||null,u(g,m,k,N,null);Ba(g,k)}return null}function y(m,g,v,k){for(var N=null,w=null,C=g,S=g=0,_=null;C!==null&&S<v.length;S++){C.index>S?(_=C,C=null):_=C.sibling;var I=f(m,C,v[S],k);if(I===null){C===null&&(C=_);break}t&&C&&I.alternate===null&&e(m,C),g=a(I,g,S),w===null?N=I:w.sibling=I,w=I,C=_}if(S===v.length)return s(m,C),Fe&&An(m,S),N;if(C===null){for(;S<v.length;S++)C=h(m,v[S],k),C!==null&&(g=a(C,g,S),w===null?N=C:w.sibling=C,w=C);return Fe&&An(m,S),N}for(C=n(m,C);S<v.length;S++)_=p(C,m,S,v[S],k),_!==null&&(t&&_.alternate!==null&&C.delete(_.key===null?S:_.key),g=a(_,g,S),w===null?N=_:w.sibling=_,w=_);return t&&C.forEach(function(E){return e(m,E)}),Fe&&An(m,S),N}function x(m,g,v,k){var N=or(v);if(typeof N!="function")throw Error(L(150));if(v=N.call(v),v==null)throw Error(L(151));for(var w=N=null,C=g,S=g=0,_=null,I=v.next();C!==null&&!I.done;S++,I=v.next()){C.index>S?(_=C,C=null):_=C.sibling;var E=f(m,C,I.value,k);if(E===null){C===null&&(C=_);break}t&&C&&E.alternate===null&&e(m,C),g=a(E,g,S),w===null?N=E:w.sibling=E,w=E,C=_}if(I.done)return s(m,C),Fe&&An(m,S),N;if(C===null){for(;!I.done;S++,I=v.next())I=h(m,I.value,k),I!==null&&(g=a(I,g,S),w===null?N=I:w.sibling=I,w=I);return Fe&&An(m,S),N}for(C=n(m,C);!I.done;S++,I=v.next())I=p(C,m,S,I.value,k),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),g=a(I,g,S),w===null?N=I:w.sibling=I,w=I);return t&&C.forEach(function(F){return e(m,F)}),Fe&&An(m,S),N}function b(m,g,v,k){if(typeof v=="object"&&v!==null&&v.type===yi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ta:e:{for(var N=v.key,w=g;w!==null;){if(w.key===N){if(N=v.type,N===yi){if(w.tag===7){s(m,w.sibling),g=i(w,v.props.children),g.return=m,m=g;break e}}else if(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Zs&&Oh(N)===w.type){s(m,w.sibling),g=i(w,v.props),g.ref=hr(m,w,v),g.return=m,m=g;break e}s(m,w);break}else e(m,w);w=w.sibling}v.type===yi?(g=$n(v.props.children,m.mode,k,v.key),g.return=m,m=g):(k=bo(v.type,v.key,v.props,null,m.mode,k),k.ref=hr(m,g,v),k.return=m,m=k)}return o(m);case xi:e:{for(w=v.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){s(m,g.sibling),g=i(g,v.children||[]),g.return=m,m=g;break e}else{s(m,g);break}else e(m,g);g=g.sibling}g=ac(v,m.mode,k),g.return=m,m=g}return o(m);case Zs:return w=v._init,b(m,g,w(v._payload),k)}if(wr(v))return y(m,g,v,k);if(or(v))return x(m,g,v,k);Ba(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(s(m,g.sibling),g=i(g,v),g.return=m,m=g):(s(m,g),g=rc(v,m.mode,k),g.return=m,m=g),o(m)):s(m,g)}return b}var Ui=Gp(!0),Zp=Gp(!1),Do=_n(null),Fo=null,ki=null,tu=null;function su(){tu=ki=Fo=null}function nu(t){var e=Do.current;De(Do),t._currentValue=e}function Zc(t,e,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===s)break;t=t.return}}function Oi(t,e){Fo=t,tu=ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(tu!==t)if(t={context:t,memoizedValue:e,next:null},ki===null){if(Fo===null)throw Error(L(308));ki=t,Fo.dependencies={lanes:0,firstContext:t}}else ki=ki.next=t;return e}var Fn=null;function iu(t){Fn===null?Fn=[t]:Fn.push(t)}function eg(t,e,s,n){var i=e.interleaved;return i===null?(s.next=s,iu(e)):(s.next=i.next,i.next=s),e.interleaved=s,Ys(t,n)}function Ys(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var en=!1;function ru(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gn(t,e,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ys(t,s)}return i=n.interleaved,i===null?(e.next=e,iu(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ys(t,s)}function mo(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,$d(t,s)}}function Lh(t,e){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function Bo(t,e,s,n){var i=t.updateQueue;en=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,p=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,x=l;switch(f=e,p=s,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=$e({},h,f);break e;case 2:en=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ei|=o,t.lanes=o,t.memoizedState=h}}function Vh(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(L(191,i));i.call(n)}}}var va={},Ns=_n(va),Gr=_n(va),Zr=_n(va);function Bn(t){if(t===va)throw Error(L(174));return t}function au(t,e){switch(Le(Zr,e),Le(Gr,t),Le(Ns,va),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pc(e,t)}De(Ns),Le(Ns,e)}function Yi(){De(Ns),De(Gr),De(Zr)}function sg(t){Bn(Zr.current);var e=Bn(Ns.current),s=Pc(e,t.type);e!==s&&(Le(Gr,t),Le(Ns,s))}function ou(t){Gr.current===t&&(De(Ns),De(Gr))}var He=_n(0);function Ho(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zl=[];function lu(){for(var t=0;t<Zl.length;t++)Zl[t]._workInProgressVersionPrimary=null;Zl.length=0}var po=Js.ReactCurrentDispatcher,ec=Js.ReactCurrentBatchConfig,Zn=0,We=null,tt=null,it=null,Wo=!1,Er=!1,ea=0,pv=0;function ft(){throw Error(L(321))}function cu(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!ds(t[s],e[s]))return!1;return!0}function du(t,e,s,n,i,a){if(Zn=a,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,po.current=t===null||t.memoizedState===null?vv:bv,t=s(n,i),Er){a=0;do{if(Er=!1,ea=0,25<=a)throw Error(L(301));a+=1,it=tt=null,e.updateQueue=null,po.current=wv,t=s(n,i)}while(Er)}if(po.current=$o,e=tt!==null&&tt.next!==null,Zn=0,it=tt=We=null,Wo=!1,e)throw Error(L(300));return t}function uu(){var t=ea!==0;return ea=0,t}function vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?We.memoizedState=it=t:it=it.next=t,it}function Zt(){if(tt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=it===null?We.memoizedState:it.next;if(e!==null)it=e,tt=t;else{if(t===null)throw Error(L(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},it===null?We.memoizedState=it=t:it=it.next=t}return it}function ta(t,e){return typeof e=="function"?e(t):e}function tc(t){var e=Zt(),s=e.queue;if(s===null)throw Error(L(311));s.lastRenderedReducer=t;var n=tt,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Zn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,We.lanes|=u,ei|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,ds(n,e.memoizedState)||(Rt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,s.lastRenderedState=n}if(t=s.interleaved,t!==null){i=t;do a=i.lane,We.lanes|=a,ei|=a,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function sc(t){var e=Zt(),s=e.queue;if(s===null)throw Error(L(311));s.lastRenderedReducer=t;var n=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ds(a,e.memoizedState)||(Rt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,n]}function ng(){}function ig(t,e){var s=We,n=Zt(),i=e(),a=!ds(n.memoizedState,i);if(a&&(n.memoizedState=i,Rt=!0),n=n.queue,hu(og.bind(null,s,n,t),[t]),n.getSnapshot!==e||a||it!==null&&it.memoizedState.tag&1){if(s.flags|=2048,sa(9,ag.bind(null,s,n,i,e),void 0,null),rt===null)throw Error(L(349));Zn&30||rg(s,e,i)}return i}function rg(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function ag(t,e,s,n){e.value=s,e.getSnapshot=n,lg(e)&&cg(t)}function og(t,e,s){return s(function(){lg(e)&&cg(t)})}function lg(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!ds(t,s)}catch{return!0}}function cg(t){var e=Ys(t,1);e!==null&&ls(e,t,1,-1)}function zh(t){var e=vs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},e.queue=t,t=t.dispatch=yv.bind(null,We,t),[e.memoizedState,t]}function sa(t,e,s,n){return t={tag:t,create:e,destroy:s,deps:n,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,e.lastEffect=t)),t}function dg(){return Zt().memoizedState}function go(t,e,s,n){var i=vs();We.flags|=t,i.memoizedState=sa(1|e,s,void 0,n===void 0?null:n)}function ul(t,e,s,n){var i=Zt();n=n===void 0?null:n;var a=void 0;if(tt!==null){var o=tt.memoizedState;if(a=o.destroy,n!==null&&cu(n,o.deps)){i.memoizedState=sa(e,s,a,n);return}}We.flags|=t,i.memoizedState=sa(1|e,s,a,n)}function Dh(t,e){return go(8390656,8,t,e)}function hu(t,e){return ul(2048,8,t,e)}function ug(t,e){return ul(4,2,t,e)}function hg(t,e){return ul(4,4,t,e)}function fg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mg(t,e,s){return s=s!=null?s.concat([t]):null,ul(4,4,fg.bind(null,e,t),s)}function fu(){}function pg(t,e){var s=Zt();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&cu(e,n[1])?n[0]:(s.memoizedState=[t,e],t)}function gg(t,e){var s=Zt();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&cu(e,n[1])?n[0]:(t=t(),s.memoizedState=[t,e],t)}function xg(t,e,s){return Zn&21?(ds(s,e)||(s=jp(),We.lanes|=s,ei|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=s)}function gv(t,e){var s=Te;Te=s!==0&&4>s?s:4,t(!0);var n=ec.transition;ec.transition={};try{t(!1),e()}finally{Te=s,ec.transition=n}}function yg(){return Zt().memoizedState}function xv(t,e,s){var n=yn(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},vg(t))bg(e,s);else if(s=eg(t,e,s,n),s!==null){var i=jt();ls(s,t,n,i),wg(s,e,n)}}function yv(t,e,s){var n=yn(t),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(vg(t))bg(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,ds(l,o)){var c=e.interleaved;c===null?(i.next=i,iu(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}s=eg(t,e,i,n),s!==null&&(i=jt(),ls(s,t,n,i),wg(s,e,n))}}function vg(t){var e=t.alternate;return t===We||e!==null&&e===We}function bg(t,e){Er=Wo=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function wg(t,e,s){if(s&4194240){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,$d(t,s)}}var $o={readContext:Gt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},vv={readContext:Gt,useCallback:function(t,e){return vs().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:Dh,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,go(4194308,4,fg.bind(null,e,t),s)},useLayoutEffect:function(t,e){return go(4194308,4,t,e)},useInsertionEffect:function(t,e){return go(4,2,t,e)},useMemo:function(t,e){var s=vs();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var n=vs();return e=s!==void 0?s(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xv.bind(null,We,t),[n.memoizedState,t]},useRef:function(t){var e=vs();return t={current:t},e.memoizedState=t},useState:zh,useDebugValue:fu,useDeferredValue:function(t){return vs().memoizedState=t},useTransition:function(){var t=zh(!1),e=t[0];return t=gv.bind(null,t[1]),vs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var n=We,i=vs();if(Fe){if(s===void 0)throw Error(L(407));s=s()}else{if(s=e(),rt===null)throw Error(L(349));Zn&30||rg(n,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,Dh(og.bind(null,n,a,t),[t]),n.flags|=2048,sa(9,ag.bind(null,n,a,s,e),void 0,null),s},useId:function(){var t=vs(),e=rt.identifierPrefix;if(Fe){var s=Ds,n=zs;s=(n&~(1<<32-os(n)-1)).toString(32)+s,e=":"+e+"R"+s,s=ea++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=pv++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bv={readContext:Gt,useCallback:pg,useContext:Gt,useEffect:hu,useImperativeHandle:mg,useInsertionEffect:ug,useLayoutEffect:hg,useMemo:gg,useReducer:tc,useRef:dg,useState:function(){return tc(ta)},useDebugValue:fu,useDeferredValue:function(t){var e=Zt();return xg(e,tt.memoizedState,t)},useTransition:function(){var t=tc(ta)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:ng,useSyncExternalStore:ig,useId:yg,unstable_isNewReconciler:!1},wv={readContext:Gt,useCallback:pg,useContext:Gt,useEffect:hu,useImperativeHandle:mg,useInsertionEffect:ug,useLayoutEffect:hg,useMemo:gg,useReducer:sc,useRef:dg,useState:function(){return sc(ta)},useDebugValue:fu,useDeferredValue:function(t){var e=Zt();return tt===null?e.memoizedState=t:xg(e,tt.memoizedState,t)},useTransition:function(){var t=sc(ta)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:ng,useSyncExternalStore:ig,useId:yg,unstable_isNewReconciler:!1};function ns(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function ed(t,e,s,n){e=t.memoizedState,s=s(n,e),s=s==null?e:$e({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var hl={isMounted:function(t){return(t=t._reactInternals)?li(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var n=jt(),i=yn(t),a=Hs(n,i);a.payload=e,s!=null&&(a.callback=s),e=gn(t,a,i),e!==null&&(ls(e,t,i,n),mo(e,t,i))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var n=jt(),i=yn(t),a=Hs(n,i);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=gn(t,a,i),e!==null&&(ls(e,t,i,n),mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=jt(),n=yn(t),i=Hs(s,n);i.tag=2,e!=null&&(i.callback=e),e=gn(t,i,n),e!==null&&(ls(e,t,n,s),mo(e,t,n))}};function Fh(t,e,s,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Jr(s,n)||!Jr(i,a):!0}function jg(t,e,s){var n=!1,i=Nn,a=e.contextType;return typeof a=="object"&&a!==null?a=Gt(a):(i=It(e)?Xn:xt.current,n=e.contextTypes,a=(n=n!=null)?Wi(t,i):Nn),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Bh(t,e,s,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,n),e.state!==t&&hl.enqueueReplaceState(e,e.state,null)}function td(t,e,s,n){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},ru(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Gt(a):(a=It(e)?Xn:xt.current,i.context=Wi(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ed(t,e,a,s),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hl.enqueueReplaceState(i,i.state,null),Bo(t,s,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qi(t,e){try{var s="",n=e;do s+=Q0(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function nc(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function sd(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var jv=typeof WeakMap=="function"?WeakMap:Map;function Ng(t,e,s){s=Hs(-1,s),s.tag=3,s.payload={element:null};var n=e.value;return s.callback=function(){Yo||(Yo=!0,hd=n),sd(t,e)},s}function Sg(t,e,s){s=Hs(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;s.payload=function(){return n(i)},s.callback=function(){sd(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){sd(t,e),typeof n!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function Hh(t,e,s){var n=t.pingCache;if(n===null){n=t.pingCache=new jv;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(s)||(i.add(s),t=Lv.bind(null,t,e,s),e.then(t,t))}function Wh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $h(t,e,s,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=Hs(-1,1),e.tag=2,gn(s,e,1))),s.lanes|=1),t)}var Nv=Js.ReactCurrentOwner,Rt=!1;function wt(t,e,s,n){e.child=t===null?Zp(e,null,s,n):Ui(e,t.child,s,n)}function Uh(t,e,s,n,i){s=s.render;var a=e.ref;return Oi(e,i),n=du(t,e,s,n,a,i),s=uu(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qs(t,e,i)):(Fe&&s&&Gd(e),e.flags|=1,wt(t,e,n,i),e.child)}function Yh(t,e,s,n,i){if(t===null){var a=s.type;return typeof a=="function"&&!wu(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,Cg(t,e,a,n,i)):(t=bo(s.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Jr,s(o,n)&&t.ref===e.ref)return qs(t,e,i)}return e.flags|=1,t=vn(a,n),t.ref=e.ref,t.return=e,e.child=t}function Cg(t,e,s,n,i){if(t!==null){var a=t.memoizedProps;if(Jr(a,n)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,qs(t,e,i)}return nd(t,e,s,n,i)}function kg(t,e,s){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Mi,Ot),Ot|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Mi,Ot),Ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,Le(Mi,Ot),Ot|=n}else a!==null?(n=a.baseLanes|s,e.memoizedState=null):n=s,Le(Mi,Ot),Ot|=n;return wt(t,e,i,s),e.child}function _g(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function nd(t,e,s,n,i){var a=It(s)?Xn:xt.current;return a=Wi(e,a),Oi(e,i),s=du(t,e,s,n,a,i),n=uu(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qs(t,e,i)):(Fe&&n&&Gd(e),e.flags|=1,wt(t,e,s,i),e.child)}function qh(t,e,s,n,i){if(It(s)){var a=!0;Lo(e)}else a=!1;if(Oi(e,i),e.stateNode===null)xo(t,e),jg(e,s,n),td(e,s,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Gt(d):(d=It(s)?Xn:xt.current,d=Wi(e,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Bh(e,o,n,d),en=!1;var f=e.memoizedState;o.state=f,Bo(e,n,o,i),c=e.memoizedState,l!==n||f!==c||Tt.current||en?(typeof u=="function"&&(ed(e,s,u,n),c=e.memoizedState),(l=en||Fh(e,s,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,tg(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ns(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Gt(c):(c=It(s)?Xn:xt.current,c=Wi(e,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Bh(e,o,n,c),en=!1,f=e.memoizedState,o.state=f,Bo(e,n,o,i);var y=e.memoizedState;l!==h||f!==y||Tt.current||en?(typeof p=="function"&&(ed(e,s,p,n),y=e.memoizedState),(d=en||Fh(e,s,d,n,f,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return id(t,e,s,n,a,i)}function id(t,e,s,n,i,a){_g(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Eh(e,s,!1),qs(t,e,a);n=e.stateNode,Nv.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ui(e,t.child,null,a),e.child=Ui(e,null,l,a)):wt(t,e,l,a),e.memoizedState=n.state,i&&Eh(e,s,!0),e.child}function Mg(t){var e=t.stateNode;e.pendingContext?Ih(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ih(t,e.context,!1),au(t,e.containerInfo)}function Jh(t,e,s,n,i){return $i(),eu(i),e.flags|=256,wt(t,e,s,n),e.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function ad(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rg(t,e,s){var n=e.pendingProps,i=He.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(He,i&1),t===null)return Gc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=pl(o,n,0,null),t=$n(t,n,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ad(s),e.memoizedState=rd,t):mu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Sv(t,e,o,n,l,i,s);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=vn(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=vn(l,a):(a=$n(a,o,s,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?ad(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,e.memoizedState=rd,n}return a=t.child,t=a.sibling,n=vn(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=s),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n}function mu(t,e){return e=pl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ha(t,e,s,n){return n!==null&&eu(n),Ui(e,t.child,null,s),t=mu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sv(t,e,s,n,i,a,o){if(s)return e.flags&256?(e.flags&=-257,n=nc(Error(L(422))),Ha(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=pl({mode:"visible",children:n.children},i,0,null),a=$n(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Ui(e,t.child,null,o),e.child.memoizedState=ad(o),e.memoizedState=rd,a);if(!(e.mode&1))return Ha(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(L(419)),n=nc(a,n,void 0),Ha(t,e,o,n)}if(l=(o&t.childLanes)!==0,Rt||l){if(n=rt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ys(t,i),ls(n,t,i,-1))}return bu(),n=nc(Error(L(421))),Ha(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Vv.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Vt=pn(i.nextSibling),Ft=e,Fe=!0,rs=null,t!==null&&(qt[Jt++]=zs,qt[Jt++]=Ds,qt[Jt++]=Gn,zs=t.id,Ds=t.overflow,Gn=e),e=mu(e,n.children),e.flags|=4096,e)}function Qh(t,e,s){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zc(t.return,e,s)}function ic(t,e,s,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function Tg(t,e,s){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(wt(t,e,n.children,s),n=He.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qh(t,s,e);else if(t.tag===19)Qh(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Le(He,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&Ho(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),ic(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ho(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}ic(e,!0,s,null,a);break;case"together":ic(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qs(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),ei|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,s=vn(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=vn(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function Cv(t,e,s){switch(e.tag){case 3:Mg(e),$i();break;case 5:sg(e);break;case 1:It(e.type)&&Lo(e);break;case 4:au(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Le(Do,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Le(He,He.current&1),e.flags|=128,null):s&e.child.childLanes?Rg(t,e,s):(Le(He,He.current&1),t=qs(t,e,s),t!==null?t.sibling:null);Le(He,He.current&1);break;case 19:if(n=(s&e.childLanes)!==0,t.flags&128){if(n)return Tg(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(He,He.current),n)break;return null;case 22:case 23:return e.lanes=0,kg(t,e,s)}return qs(t,e,s)}var Ig,od,Eg,Pg;Ig=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};od=function(){};Eg=function(t,e,s,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Bn(Ns.current);var a=null;switch(s){case"input":i=Rc(t,i),n=Rc(t,n),a=[];break;case"select":i=$e({},i,{value:void 0}),n=$e({},n,{value:void 0}),a=[];break;case"textarea":i=Ec(t,i),n=Ec(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ao)}Ac(s,n);var o;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Br.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Br.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ze("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};Pg=function(t,e,s,n){s!==n&&(e.flags|=4)};function fr(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=s,e}function kv(t,e,s){var n=e.pendingProps;switch(Zd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return It(e.type)&&Oo(),mt(e),null;case 3:return n=e.stateNode,Yi(),De(Tt),De(xt),lu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Fa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rs!==null&&(pd(rs),rs=null))),od(t,e),mt(e),null;case 5:ou(e);var i=Bn(Zr.current);if(s=e.type,t!==null&&e.stateNode!=null)Eg(t,e,s,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(L(166));return mt(e),null}if(t=Bn(Ns.current),Fa(e)){n=e.stateNode,s=e.type;var a=e.memoizedProps;switch(n[ws]=e,n[Xr]=a,t=(e.mode&1)!==0,s){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(i=0;i<Nr.length;i++)ze(Nr[i],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ih(n,a),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ze("invalid",n);break;case"textarea":ah(n,a),ze("invalid",n)}Ac(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Da(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Da(n.textContent,l,t),i=["children",""+l]):Br.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ze("scroll",n)}switch(s){case"input":Ia(n),rh(n,a,!0);break;case"textarea":Ia(n),oh(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ao)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=op(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(s,{is:n.is}):(t=o.createElement(s),s==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,s),t[ws]=e,t[Xr]=n,Ig(t,e,!1,!1),e.stateNode=t;e:{switch(o=Oc(s,n),s){case"dialog":ze("cancel",t),ze("close",t),i=n;break;case"iframe":case"object":case"embed":ze("load",t),i=n;break;case"video":case"audio":for(i=0;i<Nr.length;i++)ze(Nr[i],t);i=n;break;case"source":ze("error",t),i=n;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=n;break;case"details":ze("toggle",t),i=n;break;case"input":ih(t,n),i=Rc(t,n),ze("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=$e({},n,{value:void 0}),ze("invalid",t);break;case"textarea":ah(t,n),i=Ec(t,n),ze("invalid",t);break;default:i=n}Ac(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?dp(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lp(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Hr(t,c):typeof c=="number"&&Hr(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Br.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ze("scroll",t):c!=null&&zd(t,a,c,o))}switch(s){case"input":Ia(t),rh(t,n,!1);break;case"textarea":Ia(t),oh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+jn(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ii(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ii(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ao)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)Pg(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(L(166));if(s=Bn(Zr.current),Bn(Ns.current),Fa(e)){if(n=e.stateNode,s=e.memoizedProps,n[ws]=e,(a=n.nodeValue!==s)&&(t=Ft,t!==null))switch(t.tag){case 3:Da(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Da(n.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[ws]=e,e.stateNode=n}return mt(e),null;case 13:if(De(He),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Vt!==null&&e.mode&1&&!(e.flags&128))Xp(),$i(),e.flags|=98560,a=!1;else if(a=Fa(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(L(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[ws]=e}else $i(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),a=!1}else rs!==null&&(pd(rs),rs=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?st===0&&(st=3):bu())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Yi(),od(t,e),t===null&&Qr(e.stateNode.containerInfo),mt(e),null;case 10:return nu(e.type._context),mt(e),null;case 17:return It(e.type)&&Oo(),mt(e),null;case 19:if(De(He),a=e.memoizedState,a===null)return mt(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)fr(a,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ho(t),o!==null){for(e.flags|=128,fr(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=s,s=e.child;s!==null;)a=s,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Le(He,He.current&1|2),e.child}t=t.sibling}a.tail!==null&&Je()>Ji&&(e.flags|=128,n=!0,fr(a,!1),e.lanes=4194304)}else{if(!n)if(t=Ho(o),t!==null){if(e.flags|=128,n=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),fr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Fe)return mt(e),null}else 2*Je()-a.renderingStartTime>Ji&&s!==1073741824&&(e.flags|=128,n=!0,fr(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(s=a.last,s!==null?s.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Je(),e.sibling=null,s=He.current,Le(He,n?s&1|2:s&1),e):(mt(e),null);case 22:case 23:return vu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ot&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function _v(t,e){switch(Zd(e),e.tag){case 1:return It(e.type)&&Oo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yi(),De(Tt),De(xt),lu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ou(e),null;case 13:if(De(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));$i()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(He),null;case 4:return Yi(),null;case 10:return nu(e.type._context),null;case 22:case 23:return vu(),null;case 24:return null;default:return null}}var Wa=!1,gt=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,H=null;function _i(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Ye(t,e,n)}else s.current=null}function ld(t,e,s){try{s()}catch(n){Ye(t,e,n)}}var Kh=!1;function Rv(t,e){if(Uc=Io,t=zp(),Xd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===s&&++d===i&&(l=o),f===a&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Yc={focusedElem:t,selectionRange:s},Io=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:ns(e.type,x),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(k){Ye(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return y=Kh,Kh=!1,y}function Pr(t,e,s){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&ld(e,s,a)}i=i.next}while(i!==n)}}function fl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==e)}}function cd(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function Ag(t){var e=t.alternate;e!==null&&(t.alternate=null,Ag(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ws],delete e[Xr],delete e[Qc],delete e[uv],delete e[hv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Og(t){return t.tag===5||t.tag===3||t.tag===4}function Xh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Ao));else if(n!==4&&(t=t.child,t!==null))for(dd(t,e,s),t=t.sibling;t!==null;)dd(t,e,s),t=t.sibling}function ud(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ud(t,e,s),t=t.sibling;t!==null;)ud(t,e,s),t=t.sibling}var ot=null,is=!1;function Xs(t,e,s){for(s=s.child;s!==null;)Lg(t,e,s),s=s.sibling}function Lg(t,e,s){if(js&&typeof js.onCommitFiberUnmount=="function")try{js.onCommitFiberUnmount(rl,s)}catch{}switch(s.tag){case 5:gt||_i(s,e);case 6:var n=ot,i=is;ot=null,Xs(t,e,s),ot=n,is=i,ot!==null&&(is?(t=ot,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):ot.removeChild(s.stateNode));break;case 18:ot!==null&&(is?(t=ot,s=s.stateNode,t.nodeType===8?Xl(t.parentNode,s):t.nodeType===1&&Xl(t,s),Yr(t)):Xl(ot,s.stateNode));break;case 4:n=ot,i=is,ot=s.stateNode.containerInfo,is=!0,Xs(t,e,s),ot=n,is=i;break;case 0:case 11:case 14:case 15:if(!gt&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ld(s,e,o),i=i.next}while(i!==n)}Xs(t,e,s);break;case 1:if(!gt&&(_i(s,e),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Ye(s,e,l)}Xs(t,e,s);break;case 21:Xs(t,e,s);break;case 22:s.mode&1?(gt=(n=gt)||s.memoizedState!==null,Xs(t,e,s),gt=n):Xs(t,e,s);break;default:Xs(t,e,s)}}function Gh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Mv),e.forEach(function(n){var i=zv.bind(null,t,n);s.has(n)||(s.add(n),n.then(i,i))})}}function ss(t,e){var s=e.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,is=!1;break e;case 3:ot=l.stateNode.containerInfo,is=!0;break e;case 4:ot=l.stateNode.containerInfo,is=!0;break e}l=l.return}if(ot===null)throw Error(L(160));Lg(a,o,i),ot=null,is=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ye(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vg(e,t),e=e.sibling}function Vg(t,e){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ss(e,t),ps(t),n&4){try{Pr(3,t,t.return),fl(3,t)}catch(x){Ye(t,t.return,x)}try{Pr(5,t,t.return)}catch(x){Ye(t,t.return,x)}}break;case 1:ss(e,t),ps(t),n&512&&s!==null&&_i(s,s.return);break;case 5:if(ss(e,t),ps(t),n&512&&s!==null&&_i(s,s.return),t.flags&32){var i=t.stateNode;try{Hr(i,"")}catch(x){Ye(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&rp(i,a),Oc(l,o);var d=Oc(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?dp(i,h):u==="dangerouslySetInnerHTML"?lp(i,h):u==="children"?Hr(i,h):zd(i,u,h,d)}switch(l){case"input":Tc(i,a);break;case"textarea":ap(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ii(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ii(i,!!a.multiple,a.defaultValue,!0):Ii(i,!!a.multiple,a.multiple?[]:"",!1))}i[Xr]=a}catch(x){Ye(t,t.return,x)}}break;case 6:if(ss(e,t),ps(t),n&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){Ye(t,t.return,x)}}break;case 3:if(ss(e,t),ps(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Yr(e.containerInfo)}catch(x){Ye(t,t.return,x)}break;case 4:ss(e,t),ps(t);break;case 13:ss(e,t),ps(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(xu=Je())),n&4&&Gh(t);break;case 22:if(u=s!==null&&s.memoizedState!==null,t.mode&1?(gt=(d=gt)||u,ss(e,t),gt=d):ss(e,t),ps(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(H=t,u=t.child;u!==null;){for(h=H=u;H!==null;){switch(f=H,p=f.child,f.tag){case 0:case 11:case 14:case 15:Pr(4,f,f.return);break;case 1:_i(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,s=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Ye(n,s,x)}}break;case 5:_i(f,f.return);break;case 22:if(f.memoizedState!==null){ef(h);continue}}p!==null?(p.return=f,H=p):ef(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cp("display",o))}catch(x){Ye(t,t.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Ye(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ss(e,t),ps(t),n&4&&Gh(t);break;case 21:break;default:ss(e,t),ps(t)}}function ps(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(Og(s)){var n=s;break e}s=s.return}throw Error(L(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Hr(i,""),n.flags&=-33);var a=Xh(t);ud(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Xh(t);dd(t,l,o);break;default:throw Error(L(161))}}catch(c){Ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tv(t,e,s){H=t,zg(t)}function zg(t,e,s){for(var n=(t.mode&1)!==0;H!==null;){var i=H,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Wa;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||gt;l=Wa;var d=gt;if(Wa=o,(gt=c)&&!d)for(H=i;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?tf(i):c!==null?(c.return=o,H=c):tf(i);for(;a!==null;)H=a,zg(a),a=a.sibling;H=i,Wa=l,gt=d}Zh(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,H=a):Zh(t)}}function Zh(t){for(;H!==null;){var e=H;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||fl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!gt)if(s===null)n.componentDidMount();else{var i=e.elementType===e.type?s.memoizedProps:ns(e.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Vh(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}Vh(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Yr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}gt||e.flags&512&&cd(e)}catch(f){Ye(e,e.return,f)}}if(e===t){H=null;break}if(s=e.sibling,s!==null){s.return=e.return,H=s;break}H=e.return}}function ef(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var s=e.sibling;if(s!==null){s.return=e.return,H=s;break}H=e.return}}function tf(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{fl(4,e)}catch(c){Ye(e,s,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Ye(e,i,c)}}var a=e.return;try{cd(e)}catch(c){Ye(e,a,c)}break;case 5:var o=e.return;try{cd(e)}catch(c){Ye(e,o,c)}}}catch(c){Ye(e,e.return,c)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var Iv=Math.ceil,Uo=Js.ReactCurrentDispatcher,pu=Js.ReactCurrentOwner,Xt=Js.ReactCurrentBatchConfig,ke=0,rt=null,Ke=null,dt=0,Ot=0,Mi=_n(0),st=0,na=null,ei=0,ml=0,gu=0,Ar=null,_t=null,xu=0,Ji=1/0,Os=null,Yo=!1,hd=null,xn=null,$a=!1,an=null,qo=0,Or=0,fd=null,yo=-1,vo=0;function jt(){return ke&6?Je():yo!==-1?yo:yo=Je()}function yn(t){return t.mode&1?ke&2&&dt!==0?dt&-dt:mv.transition!==null?(vo===0&&(vo=jp()),vo):(t=Te,t!==0||(t=window.event,t=t===void 0?16:Rp(t.type)),t):1}function ls(t,e,s,n){if(50<Or)throw Or=0,fd=null,Error(L(185));ga(t,s,n),(!(ke&2)||t!==rt)&&(t===rt&&(!(ke&2)&&(ml|=s),st===4&&sn(t,dt)),Et(t,n),s===1&&ke===0&&!(e.mode&1)&&(Ji=Je()+500,dl&&Mn()))}function Et(t,e){var s=t.callbackNode;my(t,e);var n=To(t,t===rt?dt:0);if(n===0)s!==null&&dh(s),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(s!=null&&dh(s),e===1)t.tag===0?fv(sf.bind(null,t)):Jp(sf.bind(null,t)),cv(function(){!(ke&6)&&Mn()}),s=null;else{switch(Np(n)){case 1:s=Wd;break;case 4:s=bp;break;case 16:s=Ro;break;case 536870912:s=wp;break;default:s=Ro}s=Yg(s,Dg.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function Dg(t,e){if(yo=-1,vo=0,ke&6)throw Error(L(327));var s=t.callbackNode;if(Li()&&t.callbackNode!==s)return null;var n=To(t,t===rt?dt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Jo(t,n);else{e=n;var i=ke;ke|=2;var a=Bg();(rt!==t||dt!==e)&&(Os=null,Ji=Je()+500,Wn(t,e));do try{Av();break}catch(l){Fg(t,l)}while(!0);su(),Uo.current=a,ke=i,Ke!==null?e=0:(rt=null,dt=0,e=st)}if(e!==0){if(e===2&&(i=Fc(t),i!==0&&(n=i,e=md(t,i))),e===1)throw s=na,Wn(t,0),sn(t,n),Et(t,Je()),s;if(e===6)sn(t,n);else{if(i=t.current.alternate,!(n&30)&&!Ev(i)&&(e=Jo(t,n),e===2&&(a=Fc(t),a!==0&&(n=a,e=md(t,a))),e===1))throw s=na,Wn(t,0),sn(t,n),Et(t,Je()),s;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(L(345));case 2:On(t,_t,Os);break;case 3:if(sn(t,n),(n&130023424)===n&&(e=xu+500-Je(),10<e)){if(To(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jc(On.bind(null,t,_t,Os),e);break}On(t,_t,Os);break;case 4:if(sn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-os(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Iv(n/1960))-n,10<n){t.timeoutHandle=Jc(On.bind(null,t,_t,Os),n);break}On(t,_t,Os);break;case 5:On(t,_t,Os);break;default:throw Error(L(329))}}}return Et(t,Je()),t.callbackNode===s?Dg.bind(null,t):null}function md(t,e){var s=Ar;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=Jo(t,e),t!==2&&(e=_t,_t=s,e!==null&&pd(e)),t}function pd(t){_t===null?_t=t:_t.push.apply(_t,t)}function Ev(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!ds(a(),i))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sn(t,e){for(e&=~gu,e&=~ml,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-os(e),n=1<<s;t[s]=-1,e&=~n}}function sf(t){if(ke&6)throw Error(L(327));Li();var e=To(t,0);if(!(e&1))return Et(t,Je()),null;var s=Jo(t,e);if(t.tag!==0&&s===2){var n=Fc(t);n!==0&&(e=n,s=md(t,n))}if(s===1)throw s=na,Wn(t,0),sn(t,e),Et(t,Je()),s;if(s===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,On(t,_t,Os),Et(t,Je()),null}function yu(t,e){var s=ke;ke|=1;try{return t(e)}finally{ke=s,ke===0&&(Ji=Je()+500,dl&&Mn())}}function ti(t){an!==null&&an.tag===0&&!(ke&6)&&Li();var e=ke;ke|=1;var s=Xt.transition,n=Te;try{if(Xt.transition=null,Te=1,t)return t()}finally{Te=n,Xt.transition=s,ke=e,!(ke&6)&&Mn()}}function vu(){Ot=Mi.current,De(Mi)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,lv(s)),Ke!==null)for(s=Ke.return;s!==null;){var n=s;switch(Zd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oo();break;case 3:Yi(),De(Tt),De(xt),lu();break;case 5:ou(n);break;case 4:Yi();break;case 13:De(He);break;case 19:De(He);break;case 10:nu(n.type._context);break;case 22:case 23:vu()}s=s.return}if(rt=t,Ke=t=vn(t.current,null),dt=Ot=e,st=0,na=null,gu=ml=ei=0,_t=Ar=null,Fn!==null){for(e=0;e<Fn.length;e++)if(s=Fn[e],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}s.pending=n}Fn=null}return t}function Fg(t,e){do{var s=Ke;try{if(su(),po.current=$o,Wo){for(var n=We.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Wo=!1}if(Zn=0,it=tt=We=null,Er=!1,ea=0,pu.current=null,s===null||s.return===null){st=1,na=e,Ke=null;break}e:{var a=t,o=s.return,l=s,c=e;if(e=dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Wh(o);if(p!==null){p.flags&=-257,$h(p,o,l,a,e),p.mode&1&&Hh(a,d,e),e=p,c=d;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Hh(a,d,e),bu();break e}c=Error(L(426))}}else if(Fe&&l.mode&1){var b=Wh(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$h(b,o,l,a,e),eu(qi(c,l));break e}}a=c=qi(c,l),st!==4&&(st=2),Ar===null?Ar=[a]:Ar.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=Ng(a,c,e);Lh(a,m);break e;case 1:l=c;var g=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(xn===null||!xn.has(v)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=Sg(a,l,e);Lh(a,k);break e}}a=a.return}while(a!==null)}Wg(s)}catch(N){e=N,Ke===s&&s!==null&&(Ke=s=s.return);continue}break}while(!0)}function Bg(){var t=Uo.current;return Uo.current=$o,t===null?$o:t}function bu(){(st===0||st===3||st===2)&&(st=4),rt===null||!(ei&268435455)&&!(ml&268435455)||sn(rt,dt)}function Jo(t,e){var s=ke;ke|=2;var n=Bg();(rt!==t||dt!==e)&&(Os=null,Wn(t,e));do try{Pv();break}catch(i){Fg(t,i)}while(!0);if(su(),ke=s,Uo.current=n,Ke!==null)throw Error(L(261));return rt=null,dt=0,st}function Pv(){for(;Ke!==null;)Hg(Ke)}function Av(){for(;Ke!==null&&!ry();)Hg(Ke)}function Hg(t){var e=Ug(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,e===null?Wg(t):Ke=e,pu.current=null}function Wg(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=_v(s,e),s!==null){s.flags&=32767,Ke=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,Ke=null;return}}else if(s=kv(s,e,Ot),s!==null){Ke=s;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);st===0&&(st=5)}function On(t,e,s){var n=Te,i=Xt.transition;try{Xt.transition=null,Te=1,Ov(t,e,s,n)}finally{Xt.transition=i,Te=n}return null}function Ov(t,e,s,n){do Li();while(an!==null);if(ke&6)throw Error(L(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(py(t,a),t===rt&&(Ke=rt=null,dt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||$a||($a=!0,Yg(Ro,function(){return Li(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Xt.transition,Xt.transition=null;var o=Te;Te=1;var l=ke;ke|=4,pu.current=null,Rv(t,s),Vg(s,t),tv(Yc),Io=!!Uc,Yc=Uc=null,t.current=s,Tv(s),ay(),ke=l,Te=o,Xt.transition=a}else t.current=s;if($a&&($a=!1,an=t,qo=i),a=t.pendingLanes,a===0&&(xn=null),cy(s.stateNode),Et(t,Je()),e!==null)for(n=t.onRecoverableError,s=0;s<e.length;s++)i=e[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(Yo)throw Yo=!1,t=hd,hd=null,t;return qo&1&&t.tag!==0&&Li(),a=t.pendingLanes,a&1?t===fd?Or++:(Or=0,fd=t):Or=0,Mn(),null}function Li(){if(an!==null){var t=Np(qo),e=Xt.transition,s=Te;try{if(Xt.transition=null,Te=16>t?16:t,an===null)var n=!1;else{if(t=an,an=null,qo=0,ke&6)throw Error(L(331));var i=ke;for(ke|=4,H=t.current;H!==null;){var a=H,o=a.child;if(H.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(H=d;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:Pr(8,u,a)}var h=u.child;if(h!==null)h.return=u,H=h;else for(;H!==null;){u=H;var f=u.sibling,p=u.return;if(Ag(u),u===d){H=null;break}if(f!==null){f.return=p,H=f;break}H=p}}}var y=a.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}H=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,H=o;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pr(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,H=m;break e}H=a.return}}var g=t.current;for(H=g;H!==null;){o=H;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,H=v;else e:for(o=g;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(N){Ye(l,l.return,N)}if(l===o){H=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,H=k;break e}H=l.return}}if(ke=i,Mn(),js&&typeof js.onPostCommitFiberRoot=="function")try{js.onPostCommitFiberRoot(rl,t)}catch{}n=!0}return n}finally{Te=s,Xt.transition=e}}return!1}function nf(t,e,s){e=qi(s,e),e=Ng(t,e,1),t=gn(t,e,1),e=jt(),t!==null&&(ga(t,1,e),Et(t,e))}function Ye(t,e,s){if(t.tag===3)nf(t,t,s);else for(;e!==null;){if(e.tag===3){nf(e,t,s);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xn===null||!xn.has(n))){t=qi(s,t),t=Sg(e,t,1),e=gn(e,t,1),t=jt(),e!==null&&(ga(e,1,t),Et(e,t));break}}e=e.return}}function Lv(t,e,s){var n=t.pingCache;n!==null&&n.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&s,rt===t&&(dt&s)===s&&(st===4||st===3&&(dt&130023424)===dt&&500>Je()-xu?Wn(t,0):gu|=s),Et(t,e)}function $g(t,e){e===0&&(t.mode&1?(e=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):e=1);var s=jt();t=Ys(t,e),t!==null&&(ga(t,e,s),Et(t,s))}function Vv(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),$g(t,s)}function zv(t,e){var s=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(e),$g(t,s)}var Ug;Ug=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tt.current)Rt=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return Rt=!1,Cv(t,e,s);Rt=!!(t.flags&131072)}else Rt=!1,Fe&&e.flags&1048576&&Qp(e,zo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;xo(t,e),t=e.pendingProps;var i=Wi(e,xt.current);Oi(e,s),i=du(null,e,n,t,i,s);var a=uu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(n)?(a=!0,Lo(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ru(e),i.updater=hl,e.stateNode=i,i._reactInternals=e,td(e,n,t,s),e=id(null,e,n,!0,a,s)):(e.tag=0,Fe&&a&&Gd(e),wt(null,e,i,s),e=e.child),e;case 16:n=e.elementType;e:{switch(xo(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Fv(n),t=ns(n,t),i){case 0:e=nd(null,e,n,t,s);break e;case 1:e=qh(null,e,n,t,s);break e;case 11:e=Uh(null,e,n,t,s);break e;case 14:e=Yh(null,e,n,ns(n.type,t),s);break e}throw Error(L(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ns(n,i),nd(t,e,n,i,s);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ns(n,i),qh(t,e,n,i,s);case 3:e:{if(Mg(e),t===null)throw Error(L(387));n=e.pendingProps,a=e.memoizedState,i=a.element,tg(t,e),Bo(e,n,null,s);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=qi(Error(L(423)),e),e=Jh(t,e,n,s,i);break e}else if(n!==i){i=qi(Error(L(424)),e),e=Jh(t,e,n,s,i);break e}else for(Vt=pn(e.stateNode.containerInfo.firstChild),Ft=e,Fe=!0,rs=null,s=Zp(e,null,n,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if($i(),n===i){e=qs(t,e,s);break e}wt(t,e,n,s)}e=e.child}return e;case 5:return sg(e),t===null&&Gc(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,qc(n,i)?o=null:a!==null&&qc(n,a)&&(e.flags|=32),_g(t,e),wt(t,e,o,s),e.child;case 6:return t===null&&Gc(e),null;case 13:return Rg(t,e,s);case 4:return au(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ui(e,null,n,s):wt(t,e,n,s),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ns(n,i),Uh(t,e,n,i,s);case 7:return wt(t,e,e.pendingProps,s),e.child;case 8:return wt(t,e,e.pendingProps.children,s),e.child;case 12:return wt(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Le(Do,n._currentValue),n._currentValue=o,a!==null)if(ds(a.value,o)){if(a.children===i.children&&!Tt.current){e=qs(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Hs(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Zc(a.return,s,e),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(L(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Zc(o,s,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}wt(t,e,i.children,s),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Oi(e,s),i=Gt(i),n=n(i),e.flags|=1,wt(t,e,n,s),e.child;case 14:return n=e.type,i=ns(n,e.pendingProps),i=ns(n.type,i),Yh(t,e,n,i,s);case 15:return Cg(t,e,e.type,e.pendingProps,s);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ns(n,i),xo(t,e),e.tag=1,It(n)?(t=!0,Lo(e)):t=!1,Oi(e,s),jg(e,n,i),td(e,n,i,s),id(null,e,n,!0,t,s);case 19:return Tg(t,e,s);case 22:return kg(t,e,s)}throw Error(L(156,e.tag))};function Yg(t,e){return vp(t,e)}function Dv(t,e,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,s,n){return new Dv(t,e,s,n)}function wu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fv(t){if(typeof t=="function")return wu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fd)return 11;if(t===Bd)return 14}return 2}function vn(t,e){var s=t.alternate;return s===null?(s=Qt(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function bo(t,e,s,n,i,a){var o=2;if(n=t,typeof t=="function")wu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yi:return $n(s.children,i,a,e);case Dd:o=8,i|=8;break;case Cc:return t=Qt(12,s,e,i|2),t.elementType=Cc,t.lanes=a,t;case kc:return t=Qt(13,s,e,i),t.elementType=kc,t.lanes=a,t;case _c:return t=Qt(19,s,e,i),t.elementType=_c,t.lanes=a,t;case sp:return pl(s,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ep:o=10;break e;case tp:o=9;break e;case Fd:o=11;break e;case Bd:o=14;break e;case Zs:o=16,n=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Qt(o,s,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function $n(t,e,s,n){return t=Qt(7,t,n,e),t.lanes=s,t}function pl(t,e,s,n){return t=Qt(22,t,n,e),t.elementType=sp,t.lanes=s,t.stateNode={isHidden:!1},t}function rc(t,e,s){return t=Qt(6,t,null,e),t.lanes=s,t}function ac(t,e,s){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bv(t,e,s,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(t,e,s,n,i,a,o,l,c){return t=new Bv(t,e,s,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Qt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(a),t}function Hv(t,e,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:s}}function qg(t){if(!t)return Nn;t=t._reactInternals;e:{if(li(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(It(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var s=t.type;if(It(s))return qp(t,s,e)}return e}function Jg(t,e,s,n,i,a,o,l,c){return t=ju(s,n,!0,t,i,a,o,l,c),t.context=qg(null),s=t.current,n=jt(),i=yn(s),a=Hs(n,i),a.callback=e??null,gn(s,a,i),t.current.lanes=i,ga(t,i,n),Et(t,n),t}function gl(t,e,s,n){var i=e.current,a=jt(),o=yn(i);return s=qg(s),e.context===null?e.context=s:e.pendingContext=s,e=Hs(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=gn(i,e,o),t!==null&&(ls(t,i,o,a),mo(t,i,o)),o}function Qo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Nu(t,e){rf(t,e),(t=t.alternate)&&rf(t,e)}function Wv(){return null}var Qg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Su(t){this._internalRoot=t}xl.prototype.render=Su.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));gl(t,e,null,null)};xl.prototype.unmount=Su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ti(function(){gl(null,t,null,null)}),e[Us]=null}};function xl(t){this._internalRoot=t}xl.prototype.unstable_scheduleHydration=function(t){if(t){var e=kp();t={blockedOn:null,target:t,priority:e};for(var s=0;s<tn.length&&e!==0&&e<tn[s].priority;s++);tn.splice(s,0,t),s===0&&Mp(t)}};function Cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function af(){}function $v(t,e,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=Qo(o);a.call(d)}}var o=Jg(e,n,t,0,null,!1,!1,"",af);return t._reactRootContainer=o,t[Us]=o.current,Qr(t.nodeType===8?t.parentNode:t),ti(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=Qo(c);l.call(d)}}var c=ju(t,0,!1,null,null,!1,!1,"",af);return t._reactRootContainer=c,t[Us]=c.current,Qr(t.nodeType===8?t.parentNode:t),ti(function(){gl(e,c,s,n)}),c}function vl(t,e,s,n,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Qo(o);l.call(c)}}gl(e,o,t,i)}else o=$v(s,e,t,i,n);return Qo(o)}Sp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=jr(e.pendingLanes);s!==0&&($d(e,s|1),Et(e,Je()),!(ke&6)&&(Ji=Je()+500,Mn()))}break;case 13:ti(function(){var n=Ys(t,1);if(n!==null){var i=jt();ls(n,t,1,i)}}),Nu(t,1)}};Ud=function(t){if(t.tag===13){var e=Ys(t,134217728);if(e!==null){var s=jt();ls(e,t,134217728,s)}Nu(t,134217728)}};Cp=function(t){if(t.tag===13){var e=yn(t),s=Ys(t,e);if(s!==null){var n=jt();ls(s,t,e,n)}Nu(t,e)}};kp=function(){return Te};_p=function(t,e){var s=Te;try{return Te=t,e()}finally{Te=s}};Vc=function(t,e,s){switch(e){case"input":if(Tc(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var n=s[e];if(n!==t&&n.form===t.form){var i=cl(n);if(!i)throw Error(L(90));ip(n),Tc(n,i)}}}break;case"textarea":ap(t,s);break;case"select":e=s.value,e!=null&&Ii(t,!!s.multiple,e,!1)}};fp=yu;mp=ti;var Uv={usingClientEntryPoint:!1,Events:[ya,ji,cl,up,hp,yu]},mr={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yv={bundleType:mr.bundleType,version:mr.version,rendererPackageName:mr.rendererPackageName,rendererConfig:mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xp(t),t===null?null:t.stateNode},findFiberByHostInstance:mr.findFiberByHostInstance||Wv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{rl=Ua.inject(Yv),js=Ua}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uv;Wt.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(e))throw Error(L(200));return Hv(t,e,null,s)};Wt.createRoot=function(t,e){if(!Cu(t))throw Error(L(299));var s=!1,n="",i=Qg;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ju(t,1,!1,null,null,s,!1,n,i),t[Us]=e.current,Qr(t.nodeType===8?t.parentNode:t),new Su(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=xp(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return ti(t)};Wt.hydrate=function(t,e,s){if(!yl(e))throw Error(L(200));return vl(null,t,e,!0,s)};Wt.hydrateRoot=function(t,e,s){if(!Cu(t))throw Error(L(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",o=Qg;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=Jg(e,null,t,1,s??null,i,!1,a,o),t[Us]=e.current,Qr(t),n)for(t=0;t<n.length;t++)s=n[t],i=s._getVersion,i=i(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,i]:e.mutableSourceEagerHydrationData.push(s,i);return new xl(e)};Wt.render=function(t,e,s){if(!yl(e))throw Error(L(200));return vl(null,t,e,!1,s)};Wt.unmountComponentAtNode=function(t){if(!yl(t))throw Error(L(40));return t._reactRootContainer?(ti(function(){vl(null,null,t,!1,function(){t._reactRootContainer=null,t[Us]=null})}),!0):!1};Wt.unstable_batchedUpdates=yu;Wt.unstable_renderSubtreeIntoContainer=function(t,e,s,n){if(!yl(s))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return vl(t,e,s,!1,n)};Wt.version="18.3.1-next-f1338f8080-20240426";function Kg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kg)}catch(t){console.error(t)}}Kg(),Km.exports=Wt;var qv=Km.exports,Xg,of=qv;Xg=of.createRoot,of.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ia.apply(this,arguments)}var on;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(on||(on={}));const lf="popstate";function Jv(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return gd("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:Zg(i)}return Kv(e,s,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qv(){return Math.random().toString(36).substr(2,8)}function cf(t,e){return{usr:t.state,key:t.key,idx:e}}function gd(t,e,s,n){return s===void 0&&(s=null),ia({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ir(e):e,{state:s,key:e&&e.key||n||Qv()})}function Zg(t){let{pathname:e="/",search:s="",hash:n=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ir(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Kv(t,e,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=on.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(ia({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=on.Pop;let b=u(),m=b==null?null:b-d;d=b,c&&c({action:l,location:x.location,delta:m})}function f(b,m){l=on.Push;let g=gd(x.location,b,m);d=u()+1;let v=cf(g,d),k=x.createHref(g);try{o.pushState(v,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(k)}a&&c&&c({action:l,location:x.location,delta:1})}function p(b,m){l=on.Replace;let g=gd(x.location,b,m);d=u();let v=cf(g,d),k=x.createHref(g);o.replaceState(v,"",k),a&&c&&c({action:l,location:x.location,delta:0})}function y(b){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof b=="string"?b:Zg(b);return g=g.replace(/ $/,"%20"),Xe(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let x={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(lf,h),c=b,()=>{i.removeEventListener(lf,h),c=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let m=y(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return o.go(b)}};return x}var df;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(df||(df={}));function Xv(t,e,s){return s===void 0&&(s="/"),Gv(t,e,s)}function Gv(t,e,s,n){let i=typeof e=="string"?ir(e):e,a=sx(i.pathname||"/",s);if(a==null)return null;let o=ex(t);Zv(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ub(a);l=lb(o[c],d)}return l}function ex(t,e,s,n){e===void 0&&(e=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Un([n,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(Xe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ex(a.children,e,u,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:ab(d,a.index),routesMeta:u})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of tx(a.path))i(a,o,c)}),e}function tx(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=tx(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Zv(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:ob(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const eb=/^:[\w-]+$/,tb=3,sb=2,nb=1,ib=10,rb=-2,uf=t=>t==="*";function ab(t,e){let s=t.split("/"),n=s.length;return s.some(uf)&&(n+=rb),e&&(n+=sb),s.filter(i=>!uf(i)).reduce((i,a)=>i+(eb.test(a)?tb:a===""?nb:ib),n)}function ob(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function lb(t,e,s){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",h=cb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Un([a,h.pathname]),pathnameBase:pb(Un([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Un([a,h.pathnameBase]))}return o}function cb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=db(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let x=l[h]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[h];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function db(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),Gg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ub(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}function hb(t,e){e===void 0&&(e="/");let{pathname:s,search:n="",hash:i=""}=typeof t=="string"?ir(t):t;return{pathname:s?s.startsWith("/")?s:fb(s,e):e,search:gb(n),hash:xb(i)}}function fb(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function oc(t,e,s,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mb(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function nx(t,e){let s=mb(t);return e?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function ix(t,e,s,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ir(t):(i=ia({},t),Xe(!i.pathname||!i.pathname.includes("?"),oc("?","pathname","search",i)),Xe(!i.pathname||!i.pathname.includes("#"),oc("#","pathname","hash",i)),Xe(!i.search||!i.search.includes("#"),oc("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=hb(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Un=t=>t.join("/").replace(/\/\/+/g,"/"),pb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rx=["post","put","patch","delete"];new Set(rx);const vb=["get",...rx];new Set(vb);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ra.apply(this,arguments)}const ku=j.createContext(null),bb=j.createContext(null),ba=j.createContext(null),bl=j.createContext(null),ci=j.createContext({outlet:null,matches:[],isDataRoute:!1}),ax=j.createContext(null);function wa(){return j.useContext(bl)!=null}function wl(){return wa()||Xe(!1),j.useContext(bl).location}function ox(t){j.useContext(ba).static||j.useLayoutEffect(t)}function Pt(){let{isDataRoute:t}=j.useContext(ci);return t?Pb():wb()}function wb(){wa()||Xe(!1);let t=j.useContext(ku),{basename:e,future:s,navigator:n}=j.useContext(ba),{matches:i}=j.useContext(ci),{pathname:a}=wl(),o=JSON.stringify(nx(i,s.v7_relativeSplatPath)),l=j.useRef(!1);return ox(()=>{l.current=!0}),j.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=ix(d,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Un([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,a,t])}function jb(t,e){return Nb(t,e)}function Nb(t,e,s,n){wa()||Xe(!1);let{navigator:i,static:a}=j.useContext(ba),{matches:o}=j.useContext(ci),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let u=wl(),h;if(e){var f;let m=typeof e=="string"?ir(e):e;d==="/"||(f=m.pathname)!=null&&f.startsWith(d)||Xe(!1),h=m}else h=u;let p=h.pathname||"/",y=p;if(d!=="/"){let m=d.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}let x=Xv(t,{pathname:y}),b=Mb(x&&x.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:Un([d,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?d:Un([d,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,s,n);return e&&b?j.createElement(bl.Provider,{value:{location:ra({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:on.Pop}},b):b}function Sb(){let t=Eb(),e=yb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),s?j.createElement("pre",{style:i},s):null,null)}const Cb=j.createElement(Sb,null);class kb extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?j.createElement(ci.Provider,{value:this.props.routeContext},j.createElement(ax.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _b(t){let{routeContext:e,match:s,children:n}=t,i=j.useContext(ku);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(ci.Provider,{value:e},n)}function Mb(t,e,s,n){var i;if(e===void 0&&(e=[]),s===void 0&&(s=null),n===void 0&&(n=null),t==null){var a;if(!s)return null;if(s.errors)t=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let o=t,l=(i=s)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Xe(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=s,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,y=!1,x=null,b=null;s&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||Cb,c&&(d<0&&f===0?(Ab("route-fallback"),y=!0,b=null):d===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),g=()=>{let v;return p?v=x:y?v=b:h.route.Component?v=j.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,j.createElement(_b,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:s!=null},children:v})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(kb,{location:s.location,revalidation:s.revalidation,component:x,error:p,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var lx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lx||{}),cx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cx||{});function Rb(t){let e=j.useContext(ku);return e||Xe(!1),e}function Tb(t){let e=j.useContext(bb);return e||Xe(!1),e}function Ib(t){let e=j.useContext(ci);return e||Xe(!1),e}function dx(t){let e=Ib(),s=e.matches[e.matches.length-1];return s.route.id||Xe(!1),s.route.id}function Eb(){var t;let e=j.useContext(ax),s=Tb(),n=dx();return e!==void 0?e:(t=s.errors)==null?void 0:t[n]}function Pb(){let{router:t}=Rb(lx.UseNavigateStable),e=dx(cx.UseNavigateStable),s=j.useRef(!1);return ox(()=>{s.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ra({fromRouteId:e},a)))},[t,e])}const hf={};function Ab(t,e,s){hf[t]||(hf[t]=!0)}function Ob(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Lb(t){let{to:e,replace:s,state:n,relative:i}=t;wa()||Xe(!1);let{future:a,static:o}=j.useContext(ba),{matches:l}=j.useContext(ci),{pathname:c}=wl(),d=Pt(),u=ix(e,nx(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return j.useEffect(()=>d(JSON.parse(h),{replace:s,state:n,relative:i}),[d,h,i,s,n]),null}function bt(t){Xe(!1)}function Vb(t){let{basename:e="/",children:s=null,location:n,navigationType:i=on.Pop,navigator:a,static:o=!1,future:l}=t;wa()&&Xe(!1);let c=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:o,future:ra({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ir(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:y="default"}=n,x=j.useMemo(()=>{let b=sx(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:y},navigationType:i}},[c,u,h,f,p,y,i]);return x==null?null:j.createElement(ba.Provider,{value:d},j.createElement(bl.Provider,{children:s,value:x}))}function zb(t){let{children:e,location:s}=t;return jb(xd(e),s)}new Promise(()=>{});function xd(t,e){e===void 0&&(e=[]);let s=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let a=[...e,i];if(n.type===j.Fragment){s.push.apply(s,xd(n.props.children,a));return}n.type!==bt&&Xe(!1),!n.props.index||!n.props.children||Xe(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=xd(n.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,s)=>{let n=t[s];return e.concat(Array.isArray(n)?n.map(i=>[s,i]):[[s,n]])},[]))}function Db(t,e){let s=yd(t);return e&&e.forEach((n,i)=>{s.has(i)||e.getAll(i).forEach(a=>{s.append(i,a)})}),s}const Fb="6";try{window.__reactRouterVersion=Fb}catch{}const Bb="startTransition",ff=L0[Bb];function Hb(t){let{basename:e,children:s,future:n,window:i}=t,a=j.useRef();a.current==null&&(a.current=Jv({window:i,v5Compat:!0}));let o=a.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=j.useCallback(h=>{d&&ff?ff(()=>c(h)):c(h)},[c,d]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.useEffect(()=>Ob(n),[n]),j.createElement(Vb,{basename:e,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}var mf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mf||(mf={}));var pf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pf||(pf={}));function Wb(t){let e=j.useRef(yd(t)),s=j.useRef(!1),n=wl(),i=j.useMemo(()=>Db(n.search,s.current?null:e.current),[n.search]),a=Pt(),o=j.useCallback((l,c)=>{const d=yd(typeof l=="function"?l(i):l);s.current=!0,a("?"+d,c)},[a,i]);return[i,o]}/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(t,e)=>{const s=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>j.createElement("svg",{ref:u,...$b,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Ub(t)}`,l].join(" "),...d},[...e.map(([h,f])=>j.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Q("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Q("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Q("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=Q("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Q("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Q("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Q("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Q("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Q("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Q("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Q("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Q("Radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=Q("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Q("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Q("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Q("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Q("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Q("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),gs="/VRDS_CVR";let cc=null;function iw(){var t;return(t=globalThis.crypto)!=null&&t.randomUUID?globalThis.crypto.randomUUID():"sess_"+Date.now()+"_"+Math.random().toString(36).slice(2)}function rw(){if(cc)return cc;let t=localStorage.getItem("session_id");return t||(t=iw(),localStorage.setItem("session_id",t)),cc=t,t}const we={getSessionId(){return rw()},async createUserSession(t){const e=await fetch(`${gs}/api/user-sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw new Error((s==null?void 0:s.error)||"Failed to create user session");return s},async insertValueEvolution(t){const e=await fetch(`${gs}/api/value-evolution`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw new Error((s==null?void 0:s.error)||"Failed to save value evolution");return s},async insertScenarioInteraction(t){const e=await fetch(`${gs}/api/scenario-interactions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw new Error((s==null?void 0:s.error)||"Failed to save scenario interaction");return s},async insertCVRResponse(t){const e=await fetch(`${gs}/api/cvr-responses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw new Error((s==null?void 0:s.error)||"Failed to save CVR response");return s},async insertAPAReordering(t){const e=await fetch(`${gs}/api/apa-reorderings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw new Error((s==null?void 0:s.error)||"Failed to save APA reordering");return s},async insertFinalDecision(t){const e=await fetch(`${gs}/api/final-decisions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw new Error((s==null?void 0:s.error)||"Failed to save final decision");return s},async insertSessionMetrics(t){const e=await fetch(`${gs}/api/session-metrics`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw new Error((s==null?void 0:s.error)||"Failed to upsert session metrics");return s},async insertSessionFeedback(t){const e=await fetch(`${gs}/api/session-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw new Error((s==null?void 0:s.error)||"Failed to upsert session feedback");return s},async updateUserSession(t,e){const s=await fetch(`${gs}/api/user-sessions/${encodeURIComponent(t)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await s.json().catch(()=>({}));if(!s.ok)throw new Error((n==null?void 0:n.error)||"Failed to update user session");return n},async insertValueStability(t){const e=await fetch(`${gs}/api/value-stability`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw new Error((s==null?void 0:s.error)||"Failed to upsert value stability");return s}},aw=()=>{const t=Pt(),[e,s]=j.useState({age:"",gender:"",aiExperience:"",moralReasoningExperience:""}),[n,i]=j.useState(""),[a,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[h,f]=j.useState(!1),[p,y]=j.useState(!1);j.useEffect(()=>{localStorage.clear(),setTimeout(()=>o(!0),100)},[]);const x=()=>{if(!h)return;const m=new Date().toISOString();localStorage.setItem("userConsent",JSON.stringify({agreed:!0,timestamp:m})),u(!0),setTimeout(()=>{y(!0)},300)},b=async m=>{if(m.preventDefault(),!e.age||!e.gender||!e.aiExperience||!e.moralReasoningExperience){i("Please fill in all fields");return}const g=parseInt(e.age);if(isNaN(g)||g<18||g>120){i("Please enter a valid age between 18 and 120");return}localStorage.setItem("userDemographics",JSON.stringify(e));const v=we.getSessionId();localStorage.setItem("currentSessionId",v);const k=JSON.parse(localStorage.getItem("userConsent")||"{}");await we.createUserSession({session_id:v,experiment_condition:"2",demographics:e,consent_agreed:k.agreed||!1,consent_timestamp:k.timestamp}),t("/explicitvaluepage")};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-yellow-50 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-orange-200/30 to-red-200/30 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-yellow-200/30 to-orange-200/30 rounded-full blur-3xl animate-pulse delay-1000"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-red-100/20 to-orange-100/20 rounded-full blur-3xl animate-pulse delay-500"})]}),r.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[r.jsx(ni,{className:"absolute top-20 left-20 text-orange-300/40 animate-bounce",size:32,style:{animationDelay:"0s",animationDuration:"3s"}}),r.jsx(Ki,{className:"absolute top-32 right-32 text-red-300/40 animate-bounce",size:28,style:{animationDelay:"1s",animationDuration:"4s"}}),r.jsx(Xi,{className:"absolute bottom-32 left-32 text-yellow-300/40 animate-bounce",size:30,style:{animationDelay:"2s",animationDuration:"3.5s"}}),r.jsx(Ko,{className:"absolute bottom-20 right-20 text-orange-300/40 animate-bounce",size:26,style:{animationDelay:"0.5s",animationDuration:"4.5s"}})]}),r.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 py-8",children:r.jsx("div",{className:`w-full max-w-4xl transition-all duration-1000 transform ${a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:d?r.jsx("div",{className:`transition-all duration-500 ${p?"opacity-100 translate-x-0":"opacity-0 translate-x-[100%]"}`,children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-12",children:[r.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[r.jsx("div",{className:"flex justify-center lg:justify-start mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-400 to-red-500 rounded-full blur-lg opacity-30 animate-pulse"}),r.jsx("div",{className:"relative bg-gradient-to-r from-orange-500 to-red-600 p-3 rounded-full shadow-2xl",children:r.jsx(Qb,{className:"h-10 w-10 text-white"})})]})}),r.jsx("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-yellow-600 bg-clip-text text-transparent mb-3",children:"Wildfire Crisis Simulation"}),r.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-400 to-red-500 mx-auto lg:mx-0 rounded-full mb-4"}),r.jsx("p",{className:"text-base text-gray-700 leading-relaxed mb-6",children:"Experience ethical decision-making in crisis scenarios. Your choices will help us understand how values influence critical decisions."}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[r.jsx(ni,{className:"h-5 w-5 text-orange-500 mb-1 mx-auto lg:mx-0"}),r.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Crisis Management"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[r.jsx(Ki,{className:"h-5 w-5 text-red-500 mb-1 mx-auto lg:mx-0"}),r.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Ethical Decisions"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[r.jsx(Xi,{className:"h-5 w-5 text-yellow-500 mb-1 mx-auto lg:mx-0"}),r.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Impact Analysis"})]}),r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[r.jsx(Ko,{className:"h-5 w-5 text-orange-500 mb-1 mx-auto lg:mx-0"}),r.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Expert Insights"})]})]})]}),r.jsx("div",{className:"w-full lg:w-96 flex-shrink-0",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg py-6 px-6 shadow-2xl rounded-2xl border border-white/50",children:[r.jsxs("form",{className:"space-y-4",onSubmit:b,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"age",className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Age"}),r.jsx("input",{id:"age",name:"age",type:"number",required:!0,min:"18",max:"120",value:e.age,onChange:m=>s(g=>({...g,age:m.target.value})),className:"appearance-none block w-full px-4 py-2.5 border border-gray-200 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 bg-white/90 backdrop-blur-sm",placeholder:"Enter your age"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"gender",className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Gender"}),r.jsxs("select",{id:"gender",name:"gender",required:!0,value:e.gender,onChange:m=>s(g=>({...g,gender:m.target.value})),className:"appearance-none block w-full px-4 py-2.5 border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 bg-white/90 backdrop-blur-sm text-gray-700",children:[r.jsx("option",{value:"",children:"Select your gender"}),r.jsx("option",{value:"Male",children:"Male"}),r.jsx("option",{value:"Female",children:"Female"}),r.jsx("option",{value:"Other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Dealing with AI Systems"}),r.jsx("div",{className:"flex gap-2",children:["Never","Rarely","Often","Very Often","Most of the Time"].map(m=>r.jsx("button",{type:"button",onClick:()=>s(g=>({...g,aiExperience:m})),className:`flex-1 py-2 px-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${e.aiExperience===m?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg scale-105":"bg-white/90 text-gray-700 border border-gray-200 hover:border-orange-300 hover:shadow-md"}`,children:m},m))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-1.5",children:["Experience with Moral Reasoning",r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),className:"text-orange-500 hover:text-orange-600 transition-colors",children:r.jsx(Vi,{size:16})}),l&&r.jsxs("div",{className:"absolute left-0 top-6 z-50 bg-gray-800 text-white text-xs rounded-lg py-2 px-3 shadow-xl whitespace-nowrap",children:["i.e., Philosophy Class, Moral Machine",r.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-800 transform rotate-45"})]})]})]}),r.jsx("div",{className:"flex gap-2",children:["Poor","Fair","Good","Very Good","Excellent"].map(m=>r.jsx("button",{type:"button",onClick:()=>s(g=>({...g,moralReasoningExperience:m})),className:`flex-1 py-2 px-2 text-xs font-medium rounded-lg transition-all duration-200 ${e.moralReasoningExperience===m?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg scale-105":"bg-white/90 text-gray-700 border border-gray-200 hover:border-orange-300 hover:shadow-md"}`,children:m},m))})]}),n&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-2.5 animate-shake",children:r.jsx("p",{className:"text-red-600 text-sm font-medium",children:n})}),r.jsx("div",{children:r.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center items-center py-2.5 px-4 border border-transparent rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200 transform hover:scale-105 hover:shadow-xl",children:[r.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-orange-400 to-red-500 rounded-xl blur opacity-30 group-hover:opacity-50 transition-opacity duration-200"}),r.jsxs("span",{className:"relative flex items-center",children:["Begin Assessment",r.jsx(Cs,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Your responses will be used for research purposes only"})})]})})]})}):r.jsx("div",{className:`transition-all duration-500 ${d?"opacity-0 translate-x-[-100%]":"opacity-100 translate-x-0"}`,children:r.jsxs("div",{className:"bg-white/90 backdrop-blur-lg shadow-2xl rounded-2xl border border-white/50 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 px-8 py-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Informed Consent"}),r.jsx("p",{className:"text-orange-50 text-center mt-2",children:"Please read this consent document carefully before you decide to participate in this study."})]}),r.jsx("div",{className:"px-8 py-6 max-h-[65vh] overflow-y-auto custom-scrollbar",children:r.jsxs("div",{className:"space-y-6 text-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Study Title"}),r.jsx("p",{className:"leading-relaxed",children:"Negotiation and Cognitive Value Recontextualization for Consistency Assessment in Human-AI Collaboration: Advancing Joint Decision-Making through Adaptive Preference Alignment"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Purpose of the Study"}),r.jsx("p",{className:"leading-relaxed mb-3",children:"This study builds on the Moral Machine Experiment, which examined how people make ethical trade-offs in complex situations. It explores how humans collaborate with multiple AI expert agentseach representing values such as Safety, Efficiency, Fairness, Sustainability, and Non-maleficenceduring simulated wildfire emergencies."}),r.jsxs("p",{className:"leading-relaxed mb-3",children:["The experiment applies two frameworks: ",r.jsx("strong",{children:"Cognitive Value Recontextualization (CVR)"}),", which examines how people reinterpret their values in new contexts, and ",r.jsx("strong",{children:"Adaptive Preference Alignment (APA)"}),", which studies how human and AI preferences can be aligned for more ethical and transparent decisions."]}),r.jsx("p",{className:"leading-relaxed",children:"The goal is to better understand how AI can support human moral reasoning and decision-making in high-stakes scenarios."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Procedures"}),r.jsx("p",{className:"leading-relaxed mb-3",children:"This experiment will be conducted entirely online through a web-based simulation platform. Participants will begin by completing a brief demographic questionnaire, followed by two value-assessment phases:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-4 mb-3",children:[r.jsxs("li",{className:"leading-relaxed",children:[r.jsx("strong",{children:"Explicit Value Questionnaire"}),"  consisting of simple, everyday scenarios designed to identify stable personal values."]}),r.jsxs("li",{className:"leading-relaxed",children:[r.jsx("strong",{children:"Implicit Value Questionnaire"}),"  involving mid-level contextual scenarios to reveal how values shift across different situations."]})]}),r.jsx("p",{className:"leading-relaxed mb-3",children:"Based on these responses, the system generates each participant's evaluated stable and context-dependent value profile."}),r.jsx("p",{className:"leading-relaxed mb-3",children:"Next, participants will engage with three interactive wildfire scenarios. In each scenario, they will receive guidance from multiple AI expert agents, each representing a distinct ethical or operational perspective (e.g., Safety, Efficiency, Fairness, Sustainability, and Non-maleficence). Participants will then decide how to allocate firefighting resources based on the agents' recommendations and their own judgment."}),r.jsx("p",{className:"leading-relaxed mb-3",children:"After completing the scenarios, participants will be asked to respond to brief follow-up questions that evaluate their reasoning, satisfaction, and overall experience."}),r.jsxs("p",{className:"leading-relaxed",children:["The full session will take approximately ",r.jsx("strong",{children:"2035 minutes"})," and can be completed in one sitting using a computer or tablet."]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Potential Risks of Participating"}),r.jsx("p",{className:"leading-relaxed",children:"There are no known risks beyond what you'd normally experience using a computer. Some people might feel brief mental fatigue or mild stress when facing moral trade-offs (like choosing between difficult rescue options), but you can pause or stop at any time."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Potential Benefits of Participating"}),r.jsx("p",{className:"leading-relaxed",children:"By taking part, you'll help us learn how people and AI can work together to make better decisions during emergency situations like wildfires. Your participation will help researchers design future AI systems that are more ethical, transparent, and human-centered tools that could improve safety and decision support in real-world disaster response. You may also find it interesting to see how your own values and reasoning compare to the AI experts' perspectives."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Compensation"}),r.jsx("p",{className:"leading-relaxed",children:"Those who are taking designated undergraduate-level courses may be eligible to receive extra credit upon the completion of the study."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Confidentiality"}),r.jsx("p",{className:"leading-relaxed",children:"Your responses will remain completely anonymous. No names, emails, or identifiable information will be collected. Data will be stored on secure, password-protected servers accessible only to the research team. Results will be reported in aggregate form only, ensuring that no individual participant can be identified."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Voluntary Participation"}),r.jsx("p",{className:"leading-relaxed",children:"Your participation in this study is completely voluntary. There is no penalty for not participating. You may also refuse to answer questions that are asked in the study."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Right to Withdraw from the Study"}),r.jsx("p",{className:"leading-relaxed",children:"You have the right to withdraw from the study at any time without consequence."})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Whom to Contact if You Have Questions"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"About the study:"}),r.jsx("p",{children:"Waseem Samkari, Ph.D. Candidate"}),r.jsx("p",{children:"College of Engineering and Science"}),r.jsx("p",{children:"Florida Institute of Technology"}),r.jsxs("p",{children:["Email: ",r.jsx("a",{href:"mailto:wsamkari2022@my.fit.edu",className:"text-orange-600 hover:text-orange-700 underline",children:"wsamkari2022@my.fit.edu"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"About your rights as a research participant:"}),r.jsx("p",{children:"Dr. Jignya Patel, IRB Chairperson"}),r.jsx("p",{children:"150 West University Blvd."}),r.jsx("p",{children:"Melbourne, FL 32901"}),r.jsxs("p",{children:["Email: ",r.jsx("a",{href:"mailto:FIT_IRB@fit.edu",className:"text-orange-600 hover:text-orange-700 underline",children:"FIT_IRB@fit.edu"})]})]})]})]}),r.jsxs("div",{className:"border-t-2 border-orange-200 pt-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Agreement"}),r.jsxs("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-6",children:[r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[r.jsx("input",{type:"checkbox",checked:h,onChange:m=>f(m.target.checked),className:"mt-1 w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500 focus:ring-2 cursor-pointer"}),r.jsx("span",{className:"text-gray-800 leading-relaxed group-hover:text-gray-900 transition-colors",children:"I have read the procedure described above. I voluntarily agree to participate in the procedure and I have received a copy of this description."})]}),r.jsx("button",{onClick:x,disabled:!h,className:`mt-6 w-full py-3 px-6 rounded-xl font-semibold text-white transition-all duration-200 ${h?"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 hover:shadow-lg transform hover:scale-105 cursor-pointer":"bg-gray-300 cursor-not-allowed opacity-60"}`,children:"Confirm and Continue"})]})]})]})})]})})})}),r.jsx("style",{jsx:!0,children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, #f97316, #dc2626);
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, #ea580c, #b91c1c);
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.5s ease-in-out;
        }
      `})]})},zn=[{id:1,scenario:"Your neighbor's cat frequently visits your garden. You notice it's not well-fed. What do you do?",options:[{value:"Safety",label:"Report to animal welfare immediately",icon:""},{value:"Fairness",label:"Discuss the situation with your neighbor first",icon:""},{value:"Nonmaleficence",label:"Leave food without interfering",icon:""},{value:"Efficiency",label:"Set up deterrents to keep the cat away",icon:""}]},{id:2,scenario:"You have two routes to work: a shorter route through a busy area or a longer, scenic route. Which do you choose?",options:[{value:"Efficiency",label:"Take the shorter route to save time",icon:""},{value:"Sustainability",label:"Choose the scenic route with less traffic",icon:""},{value:"Safety",label:"Pick the route with better road conditions",icon:""}]},{id:3,scenario:"Your apartment building has limited parking spaces. How should they be allocated?",options:[{value:"Fairness",label:"First-come, first-served basis",icon:""},{value:"Efficiency",label:"Closest spaces for most frequent users",icon:""},{value:"Safety",label:"Priority for elderly and disabled residents",icon:""},{value:"Sustainability",label:"Extra spaces for carpooling residents",icon:""}]},{id:4,scenario:"You find a wallet with cash and ID. What's your immediate action?",options:[{value:"Urgency",label:"Contact the owner immediately",icon:""},{value:"Safety",label:"Turn it in to the police",icon:""},{value:"Fairness",label:"Leave it where found but monitor",icon:""},{value:"Efficiency",label:"Drop it in a mailbox",icon:""}]},{id:5,scenario:"Your community garden has limited water during a drought. How do you manage resources?",options:[{value:"Sustainability",label:"Implement water-saving techniques",icon:""},{value:"Fairness",label:"Create a strict watering schedule",icon:""},{value:"Efficiency",label:"Focus on plants with highest yield",icon:""},{value:"Nonmaleficence",label:"Share water equally regardless of need",icon:""}]}],Iu=({currentStep:t,steps:e})=>{const i=e.length,a=1/(i-1)*100,l=5/(i-1)*100-a;return r.jsx("div",{className:"w-full bg-gradient-to-r from-blue-50 to-green-50 py-6 mb-6",children:r.jsx("div",{className:"max-w-5xl mx-auto px-4",children:r.jsxs("div",{className:"relative flex items-center justify-between",children:[r.jsx("div",{className:"absolute rounded-3xl border-2 border-amber-300 bg-amber-50/30 backdrop-blur-sm shadow-lg",style:{left:`calc(${a}% - 2%)`,width:`calc(${l}% + 4%)`,top:"-20px",bottom:"-10px",zIndex:0},children:r.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-amber-100 border-2 border-amber-300 px-4 py-1 rounded-full shadow-md",children:r.jsx("span",{className:"text-xs font-bold text-amber-800 tracking-wide",children:"Implicit Values"})})}),e.map((c,d)=>{const u=d<t,h=d===t,f=d>t,p=c.isLarger,y=p?"w-14 h-14":"w-10 h-10",x=p?"text-sm font-bold":"text-xs";return r.jsxs("div",{className:"relative flex flex-col items-center",style:{flex:1},children:[d>0&&r.jsx("div",{className:`absolute top-5 right-1/2 h-0.5 transition-all duration-500 ${u||d===t&&d>0?"bg-green-500":"bg-gray-300"}`,style:{width:"100%",transform:"translateY(-50%)"}}),r.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[r.jsxs("div",{className:`${y} rounded-full border-4 transition-all duration-500 flex items-center justify-center ${u?"bg-green-500 border-green-500 shadow-lg shadow-green-300/50":h?"bg-white border-blue-500 shadow-lg shadow-blue-300/50 animate-pulse":"bg-white border-gray-300 shadow-md"}`,children:[u&&r.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),h&&r.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 animate-pulse"}),f&&r.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"})]}),r.jsx("div",{className:`mt-3 ${x} text-center font-medium transition-all duration-500 ${u?"text-green-700":h?"text-blue-700":"text-gray-500"}`,style:{minWidth:"60px",maxWidth:p?"80px":"70px"},children:c.label})]})]},c.id)})]})})})},ow=()=>{const t=Pt(),[e,s]=j.useState({}),[n,i]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState(!0),[d,u]=j.useState(!1),h=(y,x)=>{s(b=>({...b,[y]:x}))};j.useEffect(()=>{const y=()=>{window.scrollY>100&&!d&&(u(!0),c(!1))};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[d]);const f=async()=>{if(Object.keys(e).length!==zn.length){alert("Please answer all questions before continuing.");return}i(!0);const y=Object.entries(e).map(([x,b])=>({question_id:parseInt(x),value_selected:b,timestamp:new Date().toISOString()}));try{localStorage.setItem("explicitValues",JSON.stringify(y)),o(!0),setTimeout(()=>{t("/preferences")},2e3)}catch(x){console.error("Failed to save explicit values:",x),i(!1)}};if(a)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[r.jsx(cs,{className:"mx-auto text-green-500 mb-4",size:48}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You!"}),r.jsx("p",{className:"text-gray-600",children:"Your responses have been recorded. Proceeding to the next stage..."})]})});const p=[{id:"explicit",label:"Explicit Values"},{id:"hospital",label:"Hospital"},{id:"environment",label:"Environment"},{id:"safety",label:"Safety"},{id:"resources",label:"Resources"},{id:"medical",label:"Medical"},{id:"results",label:"Results"},{id:"simulation",label:"Simulation",isLarger:!0}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Xb,{className:"h-8 w-8 text-blue-600"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Explicit Value Identification  Benchmark Questionnaire"})]})})}),r.jsx(Iu,{currentStep:0,steps:p}),r.jsxs("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-md mb-8",children:r.jsx("p",{className:"text-blue-700",children:"Please answer the following simple everyday dilemmas. Select the value that best reflects your personal beliefs. Your selections will serve as a baseline for later comparison."})}),l&&r.jsx("div",{className:"fixed top-1/2 right-8 transform -translate-y-1/2 z-50 animate-bounce",children:r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4 rounded-2xl shadow-2xl max-w-xs",children:[r.jsxs("p",{className:"text-sm font-semibold mb-1 flex items-center",children:[r.jsx(Yn,{size:20,className:"mr-2 animate-pulse"}),"Scroll Down!"]}),r.jsx("p",{className:"text-xs opacity-90",children:"Answer all five questions below"})]}),r.jsx("div",{className:"absolute -left-3 top-1/2 transform -translate-y-1/2 w-0 h-0 border-t-8 border-b-8 border-r-8 border-transparent border-r-purple-600"})]})}),r.jsx("div",{className:"space-y-8",children:zn.map(y=>r.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:y.scenario}),r.jsx("div",{className:"grid gap-3",children:y.options.map(x=>r.jsx("button",{onClick:()=>h(y.id,x.value),className:`w-full text-left p-4 rounded-lg border transition-all duration-200 ${e[y.id]===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-xl mr-3",children:x.icon}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:x.value}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.label})]})]})},x.value))})]},y.id))}),r.jsx("div",{className:"sticky bottom-8 mt-8",children:r.jsx("div",{className:"bg-white bg-opacity-90 backdrop-blur supports-[backdrop-filter]:bg-opacity-50 border rounded-lg shadow-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[Object.keys(e).length," of ",zn.length," questions answered"]}),r.jsxs("button",{onClick:f,disabled:Object.keys(e).length!==zn.length||n,className:`flex items-center px-6 py-2 rounded-md text-white font-medium transition-colors duration-200 ${Object.keys(e).length===zn.length&&!n?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:["Submit Answers & Continue",r.jsx(Cs,{className:"ml-2 h-5 w-5"})]})]})})})]})]})},bd=[{id:"hospital-triage",title:" Hospital Emergency Triage",scenario:"A hospital has limited resources during a crisis. Should they prioritize treating many patients with moderate injuries or focus on fewer patients with severe conditions?",options:[{text:"Treat many moderate injuries (maximizing efficiency)",value:"efficiency"},{text:"Focus on severe cases (prioritizing individual care)",value:"nonmaleficence"}],followUpQuestions:{efficiency:{question:"In a different scenario, if a company needs to cut costs, would you prefer laying off a few high-salary employees or implementing smaller pay cuts across the entire workforce?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Nonmaleficence",type:"Context-Dependent"}]},nonmaleficence:{question:"If you were developing a new medication, would you also prioritize thoroughly testing for rare but severe side effects, even if it delays helping many patients with moderate conditions?",valueIfYes:{name:"Nonmaleficence",type:"Stable"},valueIfNo:[{name:"Nonmaleficence",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}},{id:"environmental-project",title:" Environmental Project Decision",scenario:"A city must choose between implementing immediate but temporary pollution controls or a longer-term sustainable solution that takes more time to show results.",options:[{text:"Quick temporary solution (immediate impact)",value:"efficiency"},{text:"Long-term sustainable approach (future impact)",value:"sustainability"}],followUpQuestions:{efficiency:{question:"In managing a wildlife conservation project, would you also choose quick-fix solutions over more comprehensive but time-consuming approaches?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Sustainability",type:"Context-Dependent"}]},sustainability:{question:"Would you support higher taxes to fund long-term environmental projects, even if it means slower economic growth in the short term?",valueIfYes:{name:"Sustainability",type:"Stable"},valueIfNo:[{name:"Sustainability",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}},{id:"safety-protocol",title:" Workplace Safety Protocol",scenario:"A manufacturing plant must decide between maintaining current production levels with standard safety measures or reducing output to implement enhanced safety protocols.",options:[{text:"Maintain production with current safety",value:"efficiency"},{text:"Reduce output for enhanced safety",value:"safety"}],followUpQuestions:{efficiency:{question:"In a different context, would you also prioritize meeting project deadlines over implementing additional safety measures in construction work?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Safety",type:"Context-Dependent"}]},safety:{question:"Would you support mandatory safety training in all industries, even if it significantly increases operational costs and reduces productivity?",valueIfYes:{name:"Safety",type:"Stable"},valueIfNo:[{name:"Safety",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}},{id:"resource-distribution",title:" Resource Distribution",scenario:"A community must decide how to distribute limited educational resources: either equally across all schools or based on individual school needs and performance.",options:[{text:"Equal distribution",value:"fairness"},{text:"Need-based distribution",value:"efficiency"}],followUpQuestions:{fairness:{question:"In healthcare resource allocation, would you also support equal distribution of resources regardless of population density or specific community needs?",valueIfYes:{name:"Fairness",type:"Stable"},valueIfNo:[{name:"Fairness",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]},efficiency:{question:"Would you support allocating more resources to high-performing schools to maximize overall educational outcomes?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Fairness",type:"Context-Dependent"}]}}},{id:"medical-research",title:" Medical Research Ethics",scenario:"A research institution must decide between fast-tracking a promising treatment with unknown long-term effects or conducting extended trials to ensure complete safety.",options:[{text:"Fast-track the treatment",value:"efficiency"},{text:"Conduct extended trials",value:"nonmaleficence"}],followUpQuestions:{efficiency:{question:"In a hospital management context, would you also prioritize launching a new digital patient record system quickly to improve operations, even if some data-security measures are not yet fully tested?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Nonmaleficence",type:"Context-Dependent"}]},nonmaleficence:{question:"Would you maintain the same cautious approach in testing new technologies that could immediately improve quality of life but might have unknown long-term impacts?",valueIfYes:{name:"Nonmaleficence",type:"Stable"},valueIfNo:[{name:"Nonmaleficence",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}}],lw=()=>{var f,p,y;const t=Pt(),[e,s]=j.useState(0),[n,i]=j.useState([]),[a,o]=j.useState(!1);j.useEffect(()=>{localStorage.removeItem("userResponses"),i([]),s(0)},[]),j.useEffect(()=>{a&&t("/completion")},[a,t]);const l=bd[e],c=x=>{const b={scenarioId:l.id,selectedOption:x,followUpAnswer:null,deepValues:[]};i(m=>{const g=[...m];return g[e]=b,localStorage.setItem("userResponses",JSON.stringify(g)),g})},d=x=>{i(b=>{const m=[...b],g=m[e]={...m[e],followUpAnswer:x},v=l.followUpQuestions[g.selectedOption];if(x?g.deepValues=[v.valueIfYes]:g.deepValues=[{name:v.valueIfNo[0].name,type:"Context-Dependent"},{name:v.valueIfNo[1].name,type:"Context-Dependent"}],e===bd.length-1){const k=[...m].flatMap(N=>N.deepValues);localStorage.setItem("deepValues",JSON.stringify(k)),localStorage.setItem("userResponses",JSON.stringify(m)),o(!0)}else localStorage.setItem("userResponses",JSON.stringify(m)),s(k=>k+1);return m})},u=()=>n[e],h=[{id:"explicit",label:"Explicit Values"},{id:"hospital",label:"Hospital"},{id:"environment",label:"Environment"},{id:"safety",label:"Safety"},{id:"resources",label:"Resources"},{id:"medical",label:"Medical"},{id:"results",label:"Results"},{id:"simulation",label:"Simulation",isLarger:!0}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(sw,{className:"h-8 w-8 text-blue-600"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Preference Selection & Implicit Value Revealing"})]})})}),r.jsx(Iu,{currentStep:1+e,steps:h}),r.jsx("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"space-y-6",children:l&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:l.title}),r.jsx("p",{className:"text-gray-600 mb-6",children:l.scenario}),(!u()||((f=u())==null?void 0:f.followUpAnswer)===null)&&r.jsx("div",{className:"space-y-4",children:l.options.map(x=>{var b;return r.jsx("button",{onClick:()=>c(x.value),className:`w-full p-4 text-left rounded-lg border transition-all duration-200 ${((b=u())==null?void 0:b.selectedOption)===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:x.text},x.value)})}),((p=u())==null?void 0:p.selectedOption)&&((y=u())==null?void 0:y.followUpAnswer)===null&&r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx("h3",{className:"font-semibold mb-4",children:l.followUpQuestions[u().selectedOption].question}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>d(!0),className:"flex-1 py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Yes"}),r.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-2 px-4 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"No"})]})]})]})})})]})},cw=()=>{const t=Pt(),[e,s]=j.useState(!1);return j.useEffect(()=>{s(!0);const n=setTimeout(()=>{t("/values")},3e3);return()=>clearTimeout(n)},[t]),r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:`text-center transform transition-all duration-500 ${e?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-auto",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"rounded-full bg-green-100 p-3",children:r.jsx(cs,{className:"h-12 w-12 text-green-600"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Preferences Selection Complete!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for completing the preferences selection. You'll be redirected to review your values in a moment."}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-600",children:[r.jsx("span",{children:"Proceeding to Values Review"}),r.jsx(Cs,{className:"h-5 w-5 animate-bounce"})]})]})})})},dw=()=>{const t=Pt(),[e,s]=j.useState([]),[n,i]=j.useState({stable:[],contextDependent:[]}),[a,o]=j.useState([]),[l,c]=j.useState([]),[d,u]=j.useState({stable:0,contextDependent:0}),[h,f]=j.useState(!1),[p,y]=j.useState([]),[x,b]=j.useState(!1),[m,g]=j.useState([]);j.useEffect(()=>{const C=localStorage.getItem("deepValues"),S=localStorage.getItem("explicitValues"),_=localStorage.getItem("userResponses");if(!C||!S||!_){f(!0);return}try{const I=JSON.parse(C),E=JSON.parse(_),F=JSON.parse(S);s(I),o(F);const te={stable:[],contextDependent:[]};E.forEach(($,re)=>{const ce=$.scenarioId,Ze=bd.find(P=>P.id===ce),M=Ze?Ze.title:`Scenario ${re+1}`;$.deepValues.length===1?te.stable.push({scenarioId:M,value:$.deepValues[0]}):$.deepValues.length===2&&te.contextDependent.push({scenarioId:M,values:$.deepValues})}),i(te);const R={};F.forEach($=>{R[$.value_selected]=(R[$.value_selected]||0)+1});const V=F.length,A=Object.entries(R).map(([$,re])=>({value:$,count:re,percentage:re/V*100})).sort(($,re)=>re.count-$.count);c(A);const B={};I.forEach($=>{B[$.name]=(B[$.name]||0)+1});const T=I.length,z=Object.entries(B).map(([$,re])=>({value:$,count:re,percentage:re/T*100})).sort(($,re)=>re.count-$.count);g(z);const D=Array.from(new Set(I.filter($=>$.type==="Stable").map($=>$.name))),U=I.filter($=>$.type==="Context-Dependent").map($=>$.name),X=D.map($=>{const re=A.find(ce=>ce.value===$);return{name:$,matchPercentage:re?re.percentage:0}}).filter($=>$.matchPercentage>0).sort(($,re)=>re.matchPercentage-$.matchPercentage);y(X);let ge=0,ee=0;A.forEach($=>{D.includes($.value)&&ge++,U.includes($.value)&&ee++}),u({stable:D.length?ge/D.length*100:0,contextDependent:U.length?ee/U.length*100:0})}catch(I){console.error("Error parsing saved values:",I),f(!0)}},[]);const v=async()=>{try{const C=we.getSessionId(),S={explicit:a.map(E=>E.value_selected),implicit:e.map(E=>E.name)};localStorage.setItem("userValues",JSON.stringify(S)),localStorage.setItem("ExplicitValueFrequencies",JSON.stringify(l)),localStorage.setItem("ImplicitValueFrequencies",JSON.stringify(m));const _=p.slice(0,2);localStorage.setItem("finalValues",JSON.stringify(_));const I=_.map((E,F)=>({session_id:C,value_name:E.name,match_percentage:E.matchPercentage,rank_order:F+1,value_type:"stable"}));await we.insertValueEvolution({session_id:C,value_list_snapshot:_}),t("/tutorial")}catch(C){console.error("Failed to save values:",C)}},k=C=>{const S=zn.find(_=>_.id===C);return S?S.scenario:"Unknown Question"},N=(C,S)=>{const _=zn.find(E=>E.id===C);if(!_)return S;const I=_.options.find(E=>E.value===S);return I?`${I.icon} ${I.value} - ${I.label}`:S};if(h)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Yb,{className:"h-5 w-5 text-red-400"}),r.jsx("p",{className:"ml-3 text-red-700",children:"Please complete both the explicit and implicit value assessments first."})]}),r.jsx("button",{onClick:()=>t("/explicitvaluepage"),className:"mt-2 text-red-600 hover:text-red-800 font-medium",children:"Start from the beginning"})]})});const w=[{id:"explicit",label:"Explicit Values"},{id:"hospital",label:"Hospital"},{id:"environment",label:"Environment"},{id:"safety",label:"Safety"},{id:"resources",label:"Resources"},{id:"medical",label:"Medical"},{id:"results",label:"Results"},{id:"simulation",label:"Simulation",isLarger:!0}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Rn,{className:"h-8 w-8 text-purple-600"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Value Assessment Results"})]})})}),r.jsx(Iu,{currentStep:6,steps:w}),r.jsxs("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[x?r.jsxs("div",{children:[r.jsx("div",{className:"mb-6 flex justify-center",children:r.jsxs("button",{onClick:()=>b(!1),className:"bg-gray-100 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-300 font-medium flex items-center gap-2 border border-gray-300",children:[r.jsx(aa,{className:"h-4 w-4"}),"Back to Summary"]})}),p.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Lr,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Matched Stable Values"})]}),r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6 rounded-r-lg",children:r.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"What are Matched Stable Values?"})," These values appeared consistently across your implicit scenarios and align with your explicit value choices. The match percentage indicates how frequently each stable value appeared in your explicit responses, demonstrating the strength of alignment between your conscious choices and underlying decision patterns. Higher percentages suggest these values are deeply integrated into your decision-making framework."]})}),r.jsx("div",{className:"space-y-3",children:p.map((C,S)=>r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-blue-900",children:C.name}),r.jsxs("span",{className:"text-blue-700",children:["Match: ",C.matchPercentage.toFixed(1),"%"]})]}),r.jsx("div",{className:"mt-2 bg-blue-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${C.matchPercentage}%`}})})]},S))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Gb,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Explicit Values"})]}),r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-4 rounded-r-lg",children:r.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"Understanding Explicit Values:"})," These are the values you consciously selected when presented with straightforward ethical scenarios. Your direct choices provide insight into your stated value preferences and help us understand what you believe guides your decisions. Each scenario below shows the specific value you prioritized."]})}),r.jsx("div",{className:"space-y-4",children:a.map((C,S)=>r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Scenario: ",k(C.question_id)]}),r.jsxs("p",{className:"text-sm font-medium text-blue-800",children:["Your Choice: ",N(C.question_id,C.value_selected)]})]},S))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Lr,{className:"h-6 w-6 text-green-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Implicit Values"})]}),r.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-4 rounded-r-lg",children:r.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"Understanding Implicit Values:"})," These values emerged from analyzing your preference patterns in complex scenarios where you ranked multiple options. Unlike explicit choices, these reflect the underlying values that guide your decision-making when faced with nuanced trade-offs. Stable values appeared consistently, while context-dependent values varied based on situational factors."]})}),n.stable.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Stable Values"}),r.jsx("div",{className:"space-y-3",children:n.stable.map((C,S)=>r.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:C.scenarioId}),r.jsx("span",{className:"font-medium text-green-700",children:C.value.name})]})},S))})]}),n.contextDependent.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Context-Dependent Values"}),r.jsx("div",{className:"space-y-3",children:n.contextDependent.map((C,S)=>r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[r.jsx("div",{className:"mb-2 text-sm text-gray-600",children:C.scenarioId}),r.jsx("div",{className:"flex items-center gap-3",children:C.values.map((_,I)=>r.jsx("span",{className:"px-3 py-1 bg-yellow-100 rounded-full text-yellow-800 text-sm",children:_.name},I))})]},S))})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Qi,{className:"h-6 w-6 text-teal-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Value Alignment Analysis"})]}),r.jsx("div",{className:"bg-teal-50 border-l-4 border-teal-400 p-4 mb-6 rounded-r-lg",children:r.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"How Value Alignment Works:"})," This section compares your explicit value choices with your implicit values to measure consistency. The frequency analysis shows which values you chose most often in explicit scenarios, while the alignment metrics reveal how well your stated preferences match your underlying decision patterns. Strong alignment suggests coherent value integration across different decision contexts."]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Most Common Explicit Values"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These bars show how frequently each value appeared in your explicit choices. Higher percentages indicate values you consistently prioritized across different scenarios."}),l.map((C,S)=>r.jsxs("div",{className:"bg-teal-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-teal-900",children:C.value}),r.jsxs("span",{className:"text-teal-700",children:[C.percentage.toFixed(1),"% (",C.count," times)"]})]}),r.jsx("div",{className:"mt-2 bg-teal-200 rounded-full h-2",children:r.jsx("div",{className:"bg-teal-600 h-2 rounded-full",style:{width:`${C.percentage}%`}})})]},S))]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Most Common Implicit Values"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These bars show how frequently each value appeared in your implicit preferences. Higher percentages indicate values that consistently emerged from your decision patterns."}),m.map((C,S)=>r.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-green-900",children:C.value}),r.jsxs("span",{className:"text-green-700",children:[C.percentage.toFixed(1),"% (",C.count," times)"]})]}),r.jsx("div",{className:"mt-2 bg-green-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${C.percentage}%`}})})]},S))]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Value Alignment"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These metrics measure how well your explicit choices align with your implicit values. Higher alignment percentages indicate greater consistency between what you consciously choose and what your decision patterns reveal."}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-green-900",children:"Match with Stable Values"}),r.jsxs("span",{className:"text-green-700",children:[d.stable.toFixed(1),"%"]})]}),r.jsx("div",{className:"bg-green-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${d.stable}%`}})})]}),r.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-yellow-900",children:"Match with Context-Dependent Values"}),r.jsxs("span",{className:"text-yellow-700",children:[d.contextDependent.toFixed(1),"%"]})]}),r.jsx("div",{className:"bg-yellow-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:`${d.contextDependent}%`}})})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:r.jsx("p",{className:"text-sm text-gray-600",children:d.stable>d.contextDependent?"Your explicit choices align more strongly with your stable deep values, suggesting consistent ethical decision-making patterns.":"Your explicit choices show more alignment with context-dependent values, indicating flexibility in your decision-making approach."})})]})]})]})]}):r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-2xl shadow-lg p-8 mb-8 border border-blue-100",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx("div",{className:"bg-white rounded-full p-4 shadow-md",children:r.jsx(Lr,{className:"h-12 w-12 text-blue-600"})})}),r.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:"Your Value Analysis is Complete"}),r.jsxs("p",{className:"text-center text-gray-700 text-lg mb-8 max-w-2xl mx-auto",children:["Thank you for completing both assessments. Based on your responses to explicit and implicit value questions, we've identified ",p.length===1?"your":"your top"," matched stable ",p.length===1?"value":"values",":"]}),r.jsx("div",{className:"space-y-4 mb-8",children:p.slice(0,2).map((C,S)=>r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500 transform transition-all duration-300 hover:shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:C.name}),r.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-semibold px-4 py-2 rounded-full",children:[C.matchPercentage.toFixed(1),"% Match"]})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:"This value consistently appeared across your responses, indicating it's a core part of your decision-making."})]},S))}),p.length===0&&r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:r.jsx("p",{className:"text-center text-gray-700",children:"We're still analyzing your responses. Your value patterns will be used in the upcoming simulation."})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center border border-gray-200",children:[r.jsxs("div",{className:"max-w-2xl mx-auto mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Want to understand how we identified these values?"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We used a comprehensive analysis comparing your explicit choices with patterns from implicit scenarios. If you're curious about the methodology and detailed breakdown, you can explore the full analysis below."}),r.jsx("p",{className:"text-sm text-gray-500 mt-3 italic",children:"Exploring the detailed analysis is completely optional"})]}),r.jsxs("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center gap-2 mx-auto",children:[r.jsx(Qi,{className:"h-5 w-5"}),"Explore Why"]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("button",{onClick:()=>t("/preferences"),className:"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300 flex items-center gap-2",children:[r.jsx(aa,{className:"h-5 w-5"}),"Back to Preferences"]}),r.jsxs("button",{onClick:v,className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center gap-2",children:["Start Simulation",r.jsx(Cs,{className:"h-5 w-5"})]})]})]})]})},uw=()=>{const t=Pt(),[e,s]=j.useState(!1),[n,i]=j.useState(!1),a=j.useRef(null),o=()=>{if(a.current){const d="VbISk2VL0G8";a.current.src=`https://www.youtube.com/embed/${d}?autoplay=1&enablejsapi=1&rel=0`,i(!0)}},l=()=>{t("/simulation")},c=()=>{s(!0)};return j.useEffect(()=>{const d=u=>{if(u.origin==="https://www.youtube.com")try{const h=typeof u.data=="string"?JSON.parse(u.data):u.data;h.event==="onStateChange"&&(h.info===1?i(!0):h.info===0&&s(!0))}catch(h){console.log("YouTube message parsing error:",h)}};return window.addEventListener("message",d),()=>{window.removeEventListener("message",d)}},[]),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(nw,{className:"h-8 w-8 text-blue-600"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Simulation Tutorial"})]})})}),r.jsxs("main",{className:"max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl shadow-lg p-8 mb-8 border border-blue-100",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx("div",{className:"bg-white rounded-full p-4 shadow-md",children:r.jsx(ew,{className:"h-12 w-12 text-blue-600"})})}),r.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:"Before You Begin the Simulation"}),r.jsx("p",{className:"text-center text-gray-700 text-lg mb-6 max-w-2xl mx-auto",children:"Please watch this tutorial video to understand how the wildfire crisis simulation works. The video will explain the interface, decision-making process, and what to expect during the simulation."}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:r.jsx("div",{className:"relative",style:{paddingBottom:"56.25%",height:0},children:r.jsx("iframe",{ref:a,className:"absolute top-0 left-0 w-full h-full rounded-lg",src:"https://www.youtube.com/embed/VbISk2VL0G8?enablejsapi=1&rel=0",title:"Simulation Tutorial Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),r.jsx("div",{className:"flex flex-col gap-4 justify-center items-center",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center w-full",children:[r.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-300 font-semibold shadow-md hover:shadow-lg",children:[r.jsx(gx,{className:"h-5 w-5"}),"Replay Video"]}),!e&&r.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-300 font-semibold shadow-md hover:shadow-lg",children:[r.jsx(Fs,{className:"h-5 w-5"}),"I've Watched the Video"]}),r.jsxs("button",{onClick:l,disabled:!e,className:`flex items-center gap-2 px-8 py-3 rounded-lg font-semibold shadow-md transition-all duration-300 ${e?"bg-green-600 text-white hover:bg-green-700 hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Proceed to Simulation",r.jsx(Cs,{className:"h-5 w-5"})]})]})}),!e&&r.jsx("div",{className:"mt-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Note:"}),` After watching the video, click "I've Watched the Video" to enable the proceed button. You can pause and resume the video at any time using the YouTube controls.`]})}),e&&r.jsx("div",{className:"mt-6 bg-green-50 border-l-4 border-green-400 p-4 rounded-r-lg",children:r.jsxs("p",{className:"text-sm text-green-800",children:[r.jsx("strong",{children:"Ready!"})," You can now proceed to the simulation. If you'd like to review anything, feel free to replay the video before continuing."]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"What You'll Learn in This Tutorial"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-blue-600 mr-2",children:""}),r.jsx("span",{children:"How to evaluate different decision options in the simulation"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-blue-600 mr-2",children:""}),r.jsx("span",{children:"Understanding the metrics and their impact on your decisions"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-blue-600 mr-2",children:""}),r.jsx("span",{children:"How to explore alternative options and make informed choices"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-blue-600 mr-2",children:""}),r.jsx("span",{children:"What to expect as you progress through the wildfire crisis scenarios"})]})]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Na(t){return t+.5|0}const ln=(t,e,s)=>Math.max(Math.min(t,s),e);function Sr(t){return ln(Na(t*2.55),0,255)}function wn(t){return ln(Na(t*255),0,255)}function Vs(t){return ln(Na(t/2.55)/100,0,1)}function vf(t){return ln(Na(t*100),0,100)}const Yt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wd=[..."0123456789ABCDEF"],hw=t=>wd[t&15],fw=t=>wd[(t&240)>>4]+wd[t&15],Ya=t=>(t&240)>>4===(t&15),mw=t=>Ya(t.r)&&Ya(t.g)&&Ya(t.b)&&Ya(t.a);function pw(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Yt[t[1]]*17,g:255&Yt[t[2]]*17,b:255&Yt[t[3]]*17,a:e===5?Yt[t[4]]*17:255}:(e===7||e===9)&&(s={r:Yt[t[1]]<<4|Yt[t[2]],g:Yt[t[3]]<<4|Yt[t[4]],b:Yt[t[5]]<<4|Yt[t[6]],a:e===9?Yt[t[7]]<<4|Yt[t[8]]:255})),s}const gw=(t,e)=>t<255?e(t):"";function xw(t){var e=mw(t)?hw:fw;return t?"#"+e(t.r)+e(t.g)+e(t.b)+gw(t.a,e):void 0}const yw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xx(t,e,s){const n=e*Math.min(s,1-s),i=(a,o=(a+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function vw(t,e,s){const n=(i,a=(i+t/60)%6)=>s-s*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function bw(t,e,s){const n=xx(t,1,.5);let i;for(e+s>1&&(i=1/(e+s),e*=i,s*=i),i=0;i<3;i++)n[i]*=1-e-s,n[i]+=e;return n}function ww(t,e,s,n,i){return t===i?(e-s)/n+(e<s?6:0):e===i?(s-t)/n+2:(t-e)/n+4}function Eu(t){const s=t.r/255,n=t.g/255,i=t.b/255,a=Math.max(s,n,i),o=Math.min(s,n,i),l=(a+o)/2;let c,d,u;return a!==o&&(u=a-o,d=l>.5?u/(2-a-o):u/(a+o),c=ww(s,n,i,u,a),c=c*60+.5),[c|0,d||0,l]}function Pu(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(wn)}function Au(t,e,s){return Pu(xx,t,e,s)}function jw(t,e,s){return Pu(bw,t,e,s)}function Nw(t,e,s){return Pu(vw,t,e,s)}function yx(t){return(t%360+360)%360}function Sw(t){const e=yw.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Sr(+e[5]):wn(+e[5]));const i=yx(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=jw(i,a,o):e[1]==="hsv"?n=Nw(i,a,o):n=Au(i,a,o),{r:n[0],g:n[1],b:n[2],a:s}}function Cw(t,e){var s=Eu(t);s[0]=yx(s[0]+e),s=Au(s),t.r=s[0],t.g=s[1],t.b=s[2]}function kw(t){if(!t)return;const e=Eu(t),s=e[0],n=vf(e[1]),i=vf(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${i}%, ${Vs(t.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const bf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _w(){const t={},e=Object.keys(wf),s=Object.keys(bf);let n,i,a,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],i=0;i<s.length;i++)a=s[i],l=l.replace(a,bf[a]);a=parseInt(wf[o],16),t[l]=[a>>16&255,a>>8&255,a&255]}return t}let qa;function Mw(t){qa||(qa=_w(),qa.transparent=[0,0,0,0]);const e=qa[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Rw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Tw(t){const e=Rw.exec(t);let s=255,n,i,a;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?Sr(o):ln(o*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?Sr(n):ln(n,0,255)),i=255&(e[4]?Sr(i):ln(i,0,255)),a=255&(e[6]?Sr(a):ln(a,0,255)),{r:n,g:i,b:a,a:s}}}function Iw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Vs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const dc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,gi=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ew(t,e,s){const n=gi(Vs(t.r)),i=gi(Vs(t.g)),a=gi(Vs(t.b));return{r:wn(dc(n+s*(gi(Vs(e.r))-n))),g:wn(dc(i+s*(gi(Vs(e.g))-i))),b:wn(dc(a+s*(gi(Vs(e.b))-a))),a:t.a+s*(e.a-t.a)}}function Ja(t,e,s){if(t){let n=Eu(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=Au(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function vx(t,e){return t&&Object.assign(e||{},t)}function jf(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=wn(t[3]))):(e=vx(t,{r:0,g:0,b:0,a:1}),e.a=wn(e.a)),e}function Pw(t){return t.charAt(0)==="r"?Tw(t):Sw(t)}class oa{constructor(e){if(e instanceof oa)return e;const s=typeof e;let n;s==="object"?n=jf(e):s==="string"&&(n=pw(e)||Mw(e)||Pw(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=vx(this._rgb);return e&&(e.a=Vs(e.a)),e}set rgb(e){this._rgb=jf(e)}rgbString(){return this._valid?Iw(this._rgb):void 0}hexString(){return this._valid?xw(this._rgb):void 0}hslString(){return this._valid?kw(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,i=e.rgb;let a;const o=s===a?.5:s,l=2*o-1,c=n.a-i.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-d,n.r=255&d*n.r+a*i.r+.5,n.g=255&d*n.g+a*i.g+.5,n.b=255&d*n.b+a*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=Ew(this._rgb,e._rgb,s)),this}clone(){return new oa(this.rgb)}alpha(e){return this._rgb.a=wn(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Na(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ja(this._rgb,2,e),this}darken(e){return Ja(this._rgb,2,-e),this}saturate(e){return Ja(this._rgb,1,e),this}desaturate(e){return Ja(this._rgb,1,-e),this}rotate(e){return Cw(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Is(){}const Aw=(()=>{let t=0;return()=>t++})();function _e(t){return t==null}function Be(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function je(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function at(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function xs(t,e){return at(t)?t:e}function ye(t,e){return typeof t>"u"?e:t}const Ow=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Oe(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function Re(t,e,s,n){let i,a,o;if(Be(t))for(a=t.length,i=0;i<a;i++)e.call(s,t[i],i);else if(je(t))for(o=Object.keys(t),a=o.length,i=0;i<a;i++)e.call(s,t[o[i]],o[i])}function Xo(t,e){let s,n,i,a;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(i=t[s],a=e[s],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Go(t){if(Be(t))return t.map(Go);if(je(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let i=0;for(;i<n;++i)e[s[i]]=Go(t[s[i]]);return e}return t}function bx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Lw(t,e,s,n){if(!bx(t))return;const i=e[t],a=s[t];je(i)&&je(a)?la(i,a,n):e[t]=Go(a)}function la(t,e,s){const n=Be(e)?e:[e],i=n.length;if(!je(t))return t;s=s||{};const a=s.merger||Lw;let o;for(let l=0;l<i;++l){if(o=n[l],!je(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)a(c[d],t,o,s)}return t}function Vr(t,e){return la(t,e,{merger:Vw})}function Vw(t,e,s){if(!bx(t))return;const n=e[t],i=s[t];je(n)&&je(i)?Vr(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Go(i))}const Nf={"":t=>t,x:t=>t.x,y:t=>t.y};function zw(t){const e=t.split("."),s=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function Dw(t){const e=zw(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function ii(t,e){return(Nf[e]||(Nf[e]=Dw(e)))(t)}function Ou(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ca=t=>typeof t<"u",Cn=t=>typeof t=="function",Sf=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function Fw(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ge=Math.PI,Bt=2*Ge,Bw=Bt+Ge,Zo=Number.POSITIVE_INFINITY,Hw=Ge/180,zt=Ge/2,In=Ge/4,Cf=Ge*2/3,wx=Math.log10,Ss=Math.sign;function zr(t,e,s){return Math.abs(t-e)<s}function kf(t){const e=Math.round(t);t=zr(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(wx(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function Ww(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((i,a)=>i-a).pop(),e}function $w(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function da(t){return!$w(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Uw(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function Yw(t,e,s){let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n][s],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function cn(t){return t*(Ge/180)}function Lu(t){return t*(180/Ge)}function _f(t){if(!at(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function qw(t,e){const s=e.x-t.x,n=e.y-t.y,i=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*Ge&&(a+=Bt),{angle:a,distance:i}}function jd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Jw(t,e){return(t-e+Bw)%Bt-Ge}function Lt(t){return(t%Bt+Bt)%Bt}function jx(t,e,s,n){const i=Lt(t),a=Lt(e),o=Lt(s),l=Lt(a-i),c=Lt(o-i),d=Lt(i-a),u=Lt(i-o);return i===a||i===o||n&&a===o||l>c&&d<u}function Dt(t,e,s){return Math.max(e,Math.min(s,t))}function Qw(t){return Dt(t,-32768,32767)}function dn(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function Vu(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,s(a)?i=a:n=a;return{lo:i,hi:n}}const Hn=(t,e,s,n)=>Vu(t,s,n?i=>{const a=t[i][e];return a<s||a===s&&t[i+1][e]===s}:i=>t[i][e]<s),Kw=(t,e,s)=>Vu(t,s,n=>t[n][e]>=s);function Xw(t,e,s){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>s;)i--;return n>0||i<t.length?t.slice(n,i):t}const Nx=["push","pop","shift","splice","unshift"];function Gw(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Nx.forEach(s=>{const n="_onData"+Ou(s),i=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...a)}),o}})})}function Mf(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Nx.forEach(a=>{delete t[a]}),delete t._chartjs)}function Sx(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Cx=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function kx(t,e){let s=[],n=!1;return function(...i){s=i,n||(n=!0,Cx.call(window,()=>{n=!1,t.apply(e,s)}))}}function Zw(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const zu=t=>t==="start"?"left":t==="end"?"right":"center",pt=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,e1=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function t1(t,e,s){const n=e.length;let i=0,a=n;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:y}=o.getUserBounds();if(p){if(i=Math.min(Hn(c,u,h).lo,s?n:Hn(e,u,o.getPixelForValue(h)).lo),d){const x=c.slice(0,i+1).reverse().findIndex(b=>!_e(b[l.axis]));i-=Math.max(0,x)}i=Dt(i,0,n-1)}if(y){let x=Math.max(Hn(c,o.axis,f,!0).hi+1,s?0:Hn(e,u,o.getPixelForValue(f),!0).hi+1);if(d){const b=c.slice(x-1).findIndex(m=>!_e(m[l.axis]));x+=Math.max(0,b)}a=Dt(x,i,n)-i}else a=n-i}return{start:i,count:a}}function s1(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=i,!0;const a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),a}const Qa=t=>t===0||t===1,Rf=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Bt/s)),Tf=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Bt/s)+1,Dr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*zt)+1,easeOutSine:t=>Math.sin(t*zt),easeInOutSine:t=>-.5*(Math.cos(Ge*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Qa(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Qa(t)?t:Rf(t,.075,.3),easeOutElastic:t=>Qa(t)?t:Tf(t,.075,.3),easeInOutElastic(t){return Qa(t)?t:t<.5?.5*Rf(t*2,.1125,.45):.5+.5*Tf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Dr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Dr.easeInBounce(t*2)*.5:Dr.easeOutBounce(t*2-1)*.5+.5};function Du(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function If(t){return Du(t)?t:new oa(t)}function uc(t){return Du(t)?t:new oa(t).saturate(.5).darken(.1).hexString()}const n1=["x","y","borderWidth","radius","tension"],i1=["color","borderColor","backgroundColor"];function r1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:i1},numbers:{type:"number",properties:n1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function a1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ef=new Map;function o1(t,e){e=e||{};const s=t+JSON.stringify(e);let n=Ef.get(s);return n||(n=new Intl.NumberFormat(t,e),Ef.set(s,n)),n}function _x(t,e,s){return o1(e,s).format(t)}const l1={values(t){return Be(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let i,a=t;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=c1(t,s)}const o=wx(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),_x(t,n,c)}};function c1(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var Fu={formatters:l1};function d1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Fu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ri=Object.create(null),Nd=Object.create(null);function Fr(t,e){if(!e)return t;const s=e.split(".");for(let n=0,i=s.length;n<i;++n){const a=s[n];t=t[a]||(t[a]=Object.create(null))}return t}function hc(t,e,s){return typeof e=="string"?la(Fr(t,e),s):la(Fr(t,""),e)}class u1{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>uc(i.backgroundColor),this.hoverBorderColor=(n,i)=>uc(i.borderColor),this.hoverColor=(n,i)=>uc(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return hc(this,e,s)}get(e){return Fr(this,e)}describe(e,s){return hc(Nd,e,s)}override(e,s){return hc(ri,e,s)}route(e,s,n,i){const a=Fr(this,e),o=Fr(this,n),l="_"+s;Object.defineProperties(a,{[l]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],d=o[i];return je(c)?Object.assign({},d,c):ye(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(s=>s(this))}}var qe=new u1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[r1,a1,d1]);function h1(t){return!t||_e(t.size)||_e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function el(t,e,s,n,i){let a=e[i];return a||(a=e[i]=t.measureText(i).width,s.push(i)),a>n&&(n=a),n}function f1(t,e,s,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const l=s.length;let c,d,u,h,f;for(c=0;c<l;c++)if(h=s[c],h!=null&&!Be(h))o=el(t,i,a,o,h);else if(Be(h))for(d=0,u=h.length;d<u;d++)f=h[d],f!=null&&!Be(f)&&(o=el(t,i,a,o,f));t.restore();const p=a.length/2;if(p>s.length){for(c=0;c<p;c++)delete i[a[c]];a.splice(0,p)}return o}function En(t,e,s){const n=t.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((e-i)*n)/n+i}function Pf(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Sd(t,e,s,n){Mx(t,e,s,n,null)}function Mx(t,e,s,n,i){let a,o,l,c,d,u,h,f;const p=e.pointStyle,y=e.rotation,x=e.radius;let b=(y||0)*Hw;if(p&&typeof p=="object"&&(a=p.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),p){default:i?t.ellipse(s,n,i/2,x,0,0,Bt):t.arc(s,n,x,0,Bt),t.closePath();break;case"triangle":u=i?i/2:x,t.moveTo(s+Math.sin(b)*u,n-Math.cos(b)*x),b+=Cf,t.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*x),b+=Cf,t.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*x),t.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(b+In)*c,h=Math.cos(b+In)*(i?i/2-d:c),l=Math.sin(b+In)*c,f=Math.sin(b+In)*(i?i/2-d:c),t.arc(s-h,n-l,d,b-Ge,b-zt),t.arc(s+f,n-o,d,b-zt,b),t.arc(s+h,n+l,d,b,b+zt),t.arc(s-f,n+o,d,b+zt,b+Ge),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*x,u=i?i/2:c,t.rect(s-u,n-c,2*u,2*c);break}b+=In;case"rectRot":h=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,f=Math.sin(b)*(i?i/2:x),t.moveTo(s-h,n-l),t.lineTo(s+f,n-o),t.lineTo(s+h,n+l),t.lineTo(s-f,n+o),t.closePath();break;case"crossRot":b+=In;case"cross":h=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,f=Math.sin(b)*(i?i/2:x),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"star":h=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,f=Math.sin(b)*(i?i/2:x),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o),b+=In,h=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,f=Math.sin(b)*(i?i/2:x),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"line":o=i?i/2:Math.cos(b)*x,l=Math.sin(b)*x,t.moveTo(s-o,n-l),t.lineTo(s+o,n+l);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(b)*(i?i/2:x),n+Math.sin(b)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Bs(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Cl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function kl(t){t.restore()}function m1(t,e,s,n,i){if(!e)return t.lineTo(s.x,s.y);if(i==="middle"){const a=(e.x+s.x)/2;t.lineTo(a,e.y),t.lineTo(a,s.y)}else i==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function p1(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function g1(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),_e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function x1(t,e,s,n,i){if(i.strikethrough||i.underline){const a=t.measureText(n),o=e-a.actualBoundingBoxLeft,l=e+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,d=s+a.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function y1(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function ai(t,e,s,n,i,a={}){const o=Be(e)?e:[e],l=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(t.save(),t.font=i.string,g1(t,a),c=0;c<o.length;++c)d=o[c],a.backdrop&&y1(t,a.backdrop),l&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),_e(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(d,s,n,a.maxWidth)),t.fillText(d,s,n,a.maxWidth),x1(t,s,n,d,a),n+=Number(i.lineHeight);t.restore()}function ua(t,e){const{x:s,y:n,w:i,h:a,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ge,Ge,!0),t.lineTo(s,n+a-o.bottomLeft),t.arc(s+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,Ge,zt,!0),t.lineTo(s+i-o.bottomRight,n+a),t.arc(s+i-o.bottomRight,n+a-o.bottomRight,o.bottomRight,zt,0,!0),t.lineTo(s+i,n+o.topRight),t.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-zt,!0),t.lineTo(s+o.topLeft,n)}const v1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,b1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function w1(t,e){const s=(""+t).match(v1);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const j1=t=>+t||0;function Rx(t,e){const s={},n=je(e),i=n?Object.keys(e):e,a=je(t)?n?o=>ye(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)s[o]=j1(a(o));return s}function Tx(t){return Rx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function qn(t){return Rx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function yt(t){const e=Tx(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nt(t,e){t=t||{},e=e||qe.font;let s=ye(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=ye(t.style,e.style);n&&!(""+n).match(b1)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ye(t.family,e.family),lineHeight:w1(ye(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:ye(t.weight,e.weight),string:""};return i.string=h1(i),i}function Ka(t,e,s,n){let i,a,o;for(i=0,a=t.length;i<a;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function N1(t,e,s){const{min:n,max:i}=t,a=Ow(e,(i-n)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(n,-Math.abs(a)),max:o(i,a)}}function Tn(t,e){return Object.assign(Object.create(t),e)}function Bu(t,e=[""],s,n,i=()=>t[0]){const a=s||t;typeof n>"u"&&(n=Ax("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:n,_getTarget:i,override:l=>Bu([l,...t],e,a,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Ex(l,c,()=>I1(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return Of(l).includes(c)},ownKeys(l){return Of(l)},set(l,c,d){const u=l._storage||(l._storage=i());return l[c]=u[c]=d,delete l._keys,!0}})}function Zi(t,e,s,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:Ix(t,n),setContext:a=>Zi(t,a,s,n),override:a=>Zi(t.override(a),e,s,n)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete t[o],!0},get(a,o,l){return Ex(a,o,()=>C1(a,o,l))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(a,o,l){return t[o]=l,delete a[o],!0}})}function Ix(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Cn(s)?s:()=>s,isIndexable:Cn(n)?n:()=>n}}const S1=(t,e)=>t?t+Ou(e):e,Hu=(t,e)=>je(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ex(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function C1(t,e,s){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=t;let l=n[e];return Cn(l)&&o.isScriptable(e)&&(l=k1(e,l,t,s)),Be(l)&&l.length&&(l=_1(e,l,t,o.isIndexable)),Hu(e,l)&&(l=Zi(l,i,a&&a[e],o)),l}function k1(t,e,s,n){const{_proxy:i,_context:a,_subProxy:o,_stack:l}=s;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(a,o||n);return l.delete(t),Hu(t,c)&&(c=Wu(i._scopes,i,t,c)),c}function _1(t,e,s,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:l}=s;if(typeof a.index<"u"&&n(t))return e[a.index%e.length];if(je(e[0])){const c=e,d=i._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=Wu(d,i,t,u);e.push(Zi(h,a,o&&o[t],l))}}return e}function Px(t,e,s){return Cn(t)?t(e,s):t}const M1=(t,e)=>t===!0?e:typeof t=="string"?ii(e,t):void 0;function R1(t,e,s,n,i){for(const a of e){const o=M1(s,a);if(o){t.add(o);const l=Px(o._fallback,s,i);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function Wu(t,e,s,n){const i=e._rootScopes,a=Px(e._fallback,s,n),o=[...t,...i],l=new Set;l.add(n);let c=Af(l,o,s,a||s,n);return c===null||typeof a<"u"&&a!==s&&(c=Af(l,o,a,c,n),c===null)?!1:Bu(Array.from(l),[""],i,a,()=>T1(e,s,n))}function Af(t,e,s,n,i){for(;s;)s=R1(t,e,s,n,i);return s}function T1(t,e,s){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return Be(i)&&je(s)?s:i||{}}function I1(t,e,s,n){let i;for(const a of e)if(i=Ax(S1(a,t),s),typeof i<"u")return Hu(t,i)?Wu(s,n,t,i):i}function Ax(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function Of(t){let e=t._keys;return e||(e=t._keys=E1(t._scopes)),e}function E1(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function P1(t,e,s,n){const{iScale:i}=t,{key:a="r"}=this._parsing,o=new Array(n);let l,c,d,u;for(l=0,c=n;l<c;++l)d=l+s,u=e[d],o[l]={r:i.parse(ii(u,a),d)};return o}const A1=Number.EPSILON||1e-14,er=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ox=t=>t==="x"?"y":"x";function O1(t,e,s,n){const i=t.skip?e:t,a=e,o=s.skip?e:s,l=jd(a,i),c=jd(o,a);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,f=n*u;return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+f*(o.x-i.x),y:a.y+f*(o.y-i.y)}}}function L1(t,e,s){const n=t.length;let i,a,o,l,c,d=er(t,0);for(let u=0;u<n-1;++u)if(c=d,d=er(t,u+1),!(!c||!d)){if(zr(e[u],0,A1)){s[u]=s[u+1]=0;continue}i=s[u]/e[u],a=s[u+1]/e[u],l=Math.pow(i,2)+Math.pow(a,2),!(l<=9)&&(o=3/Math.sqrt(l),s[u]=i*o*e[u],s[u+1]=a*o*e[u])}}function V1(t,e,s="x"){const n=Ox(s),i=t.length;let a,o,l,c=er(t,0);for(let d=0;d<i;++d){if(o=l,l=c,c=er(t,d+1),!l)continue;const u=l[s],h=l[n];o&&(a=(u-o[s])/3,l[`cp1${s}`]=u-a,l[`cp1${n}`]=h-a*e[d]),c&&(a=(c[s]-u)/3,l[`cp2${s}`]=u+a,l[`cp2${n}`]=h+a*e[d])}}function z1(t,e="x"){const s=Ox(e),n=t.length,i=Array(n).fill(0),a=Array(n);let o,l,c,d=er(t,0);for(o=0;o<n;++o)if(l=c,c=d,d=er(t,o+1),!!c){if(d){const u=d[e]-c[e];i[o]=u!==0?(d[s]-c[s])/u:0}a[o]=l?d?Ss(i[o-1])!==Ss(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}L1(t,i,a),V1(t,a,e)}function Xa(t,e,s){return Math.max(Math.min(t,s),e)}function D1(t,e){let s,n,i,a,o,l=Bs(t[0],e);for(s=0,n=t.length;s<n;++s)o=a,a=l,l=s<n-1&&Bs(t[s+1],e),a&&(i=t[s],o&&(i.cp1x=Xa(i.cp1x,e.left,e.right),i.cp1y=Xa(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Xa(i.cp2x,e.left,e.right),i.cp2y=Xa(i.cp2y,e.top,e.bottom)))}function F1(t,e,s,n,i){let a,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")z1(t,i);else{let d=n?t[t.length-1]:t[0];for(a=0,o=t.length;a<o;++a)l=t[a],c=O1(d,l,t[Math.min(a+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&D1(t,s)}function $u(){return typeof window<"u"&&typeof document<"u"}function Uu(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function tl(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const _l=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function B1(t,e){return _l(t).getPropertyValue(e)}const H1=["top","right","bottom","left"];function Jn(t,e,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const a=H1[i];n[a]=parseFloat(t[e+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const W1=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function $1(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:i,offsetY:a}=n;let o=!1,l,c;if(W1(i,a,t.target))l=i,c=a;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Ln(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,i=_l(s),a=i.boxSizing==="border-box",o=Jn(i,"padding"),l=Jn(i,"border","width"),{x:c,y:d,box:u}=$1(t,s),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:p,height:y}=e;return a&&(p-=o.width+l.width,y-=o.height+l.height),{x:Math.round((c-h)/p*s.width/n),y:Math.round((d-f)/y*s.height/n)}}function U1(t,e,s){let n,i;if(e===void 0||s===void 0){const a=t&&Uu(t);if(!a)e=t.clientWidth,s=t.clientHeight;else{const o=a.getBoundingClientRect(),l=_l(a),c=Jn(l,"border","width"),d=Jn(l,"padding");e=o.width-d.width-c.width,s=o.height-d.height-c.height,n=tl(l.maxWidth,a,"clientWidth"),i=tl(l.maxHeight,a,"clientHeight")}}return{width:e,height:s,maxWidth:n||Zo,maxHeight:i||Zo}}const Ga=t=>Math.round(t*10)/10;function Y1(t,e,s,n){const i=_l(t),a=Jn(i,"margin"),o=tl(i.maxWidth,t,"clientWidth")||Zo,l=tl(i.maxHeight,t,"clientHeight")||Zo,c=U1(t,e,s);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const f=Jn(i,"border","width"),p=Jn(i,"padding");d-=p.width+f.width,u-=p.height+f.height}return d=Math.max(0,d-a.width),u=Math.max(0,n?d/n:u-a.height),d=Ga(Math.min(d,o,c.maxWidth)),u=Ga(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Ga(d/2)),(e!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Ga(Math.floor(u*n))),{width:d,height:u}}function Lf(t,e,s){const n=e||1,i=Math.floor(t.height*n),a=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==i||o.width!==a?(t.currentDevicePixelRatio=n,o.height=i,o.width=a,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const q1=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};$u()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Vf(t,e){const s=B1(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Vn(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function J1(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function Q1(t,e,s,n){const i={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},o=Vn(t,i,s),l=Vn(i,a,s),c=Vn(a,e,s),d=Vn(o,l,s),u=Vn(l,c,s);return Vn(d,u,s)}const K1=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},X1=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Fi(t,e,s){return t?K1(e,s):X1()}function Lx(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Vx(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function zx(t){return t==="angle"?{between:jx,compare:Jw,normalize:Lt}:{between:dn,compare:(e,s)=>e-s,normalize:e=>e}}function zf({start:t,end:e,count:s,loop:n,style:i}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:i}}function G1(t,e,s){const{property:n,start:i,end:a}=s,{between:o,normalize:l}=zx(n),c=e.length;let{start:d,end:u,loop:h}=t,f,p;if(h){for(d+=c,u+=c,f=0,p=c;f<p&&o(l(e[d%c][n]),i,a);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function Dx(t,e,s){if(!s)return[t];const{property:n,start:i,end:a}=s,o=e.length,{compare:l,between:c,normalize:d}=zx(n),{start:u,end:h,loop:f,style:p}=G1(t,e,s),y=[];let x=!1,b=null,m,g,v;const k=()=>c(i,v,m)&&l(i,v)!==0,N=()=>l(a,m)===0||c(a,v,m),w=()=>x||k(),C=()=>!x||N();for(let S=u,_=u;S<=h;++S)g=e[S%o],!g.skip&&(m=d(g[n]),m!==v&&(x=c(m,i,a),b===null&&w()&&(b=l(m,i)===0?S:_),b!==null&&C()&&(y.push(zf({start:b,end:S,loop:f,count:o,style:p})),b=null),_=S,v=m));return b!==null&&y.push(zf({start:b,end:h,loop:f,count:o,style:p})),y}function Fx(t,e){const s=[],n=t.segments;for(let i=0;i<n.length;i++){const a=Dx(n[i],t.points,e);a.length&&s.push(...a)}return s}function Z1(t,e,s,n){let i=0,a=e-1;if(s&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,s&&(a+=i);a>i&&t[a%e].skip;)a--;return a%=e,{start:i,end:a}}function ej(t,e,s,n){const i=t.length,a=[];let o=e,l=t[e],c;for(c=e+1;c<=s;++c){const d=t[c%i];d.skip||d.stop?l.skip||(n=!1,a.push({start:e%i,end:(c-1)%i,loop:n}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&a.push({start:e%i,end:o%i,loop:n}),a}function tj(t,e){const s=t.points,n=t.options.spanGaps,i=s.length;if(!i)return[];const a=!!t._loop,{start:o,end:l}=Z1(s,i,a,n);if(n===!0)return Df(t,[{start:o,end:l,loop:a}],s,e);const c=l<o?l+i:l,d=!!t._fullLoop&&o===0&&l===i-1;return Df(t,ej(s,o,c,d),s,e)}function Df(t,e,s,n){return!n||!n.setContext||!s?e:sj(t,e,s,n)}function sj(t,e,s,n){const i=t._chart.getContext(),a=Ff(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=s.length,d=[];let u=a,h=e[0].start,f=h;function p(y,x,b,m){const g=l?-1:1;if(y!==x){for(y+=c;s[y%c].skip;)y-=g;for(;s[x%c].skip;)x+=g;y%c!==x%c&&(d.push({start:y%c,end:x%c,loop:b,style:m}),u=m,h=x%c)}}for(const y of e){h=l?h:y.start;let x=s[h%c],b;for(f=h+1;f<=y.end;f++){const m=s[f%c];b=Ff(n.setContext(Tn(i,{type:"segment",p0:x,p1:m,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),nj(b,u)&&p(h,f-1,y.loop,u),x=m,u=b}h<f-1&&p(h,f-1,y.loop,u)}return d}function Ff(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function nj(t,e){if(!e)return!1;const s=[],n=function(i,a){return Du(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(t,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ij{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,i){const a=s.listeners[i],o=s.duration;a.forEach(l=>l({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Cx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,l=!1,c;for(;o>=0;--o)c=a[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(a[o]=a[a.length-1],a.pop());l&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),s+=a.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ps=new ij;const Bf="transparent",rj={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=If(t||Bf),i=n.valid&&If(e||Bf);return i&&i.valid?i.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class aj{constructor(e,s,n,i){const a=s[n];i=Ka([e.to,i,a,e.from]);const o=Ka([e.from,a,i]);this._active=!0,this._fn=e.fn||rj[e.type||typeof o],this._easing=Dr[e.easing]||Dr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Ka([e.to,s,i,e.from]),this._from=Ka([e.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,i=this._prop,a=this._from,o=this._loop,l=this._to;let c;if(this._active=a!==l&&(o||s<n),!this._active){this._target[i]=l,this._notify(!0);return}if(s<0){this._target[i]=a;return}c=s/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class Bx{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!je(e))return;const s=Object.keys(qe.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!je(a))return;const o={};for(const l of s)o[l]=a[l];(Be(a.properties)&&a.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,s){const n=s.options,i=lj(e,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&oj(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,s){const n=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,s));continue}const u=s[d];let h=a[d];const f=n.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}a[d]=h=new aj(f,e,d,u),i.push(h)}return i}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return Ps.add(this._chart,n),!0}}function oj(t,e){const s=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const a=t[n[i]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function lj(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Hf(t,e){const s=t&&t.options||{},n=s.reverse,i=s.min===void 0?e:0,a=s.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function cj(t,e,s){if(s===!1)return!1;const n=Hf(t,s),i=Hf(e,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function dj(t){let e,s,n,i;return je(t)?(e=t.top,s=t.right,n=t.bottom,i=t.left):e=s=n=i=t,{top:e,right:s,bottom:n,left:i,disabled:t===!1}}function Hx(t,e){const s=[],n=t._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)s.push(n[i].index);return s}function Wf(t,e,s,n={}){const i=t.keys,a=n.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===s){if(u=!0,n.all)continue;break}d=t.values[c],at(d)&&(a||e===0||Ss(e)===Ss(d))&&(e+=d)}return!u&&!n.all?0:e}function uj(t,e){const{iScale:s,vScale:n}=e,i=s.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[i]:u,[a]:t[u]};return l}function fc(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function hj(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function fj(t){const{min:e,max:s,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function mj(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function $f(t,e,s,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const a=t[i.index];if(s&&a>0||!s&&a<0)return i.index}return null}function Uf(t,e){const{chart:s,_cachedMeta:n}=t,i=s._stacks||(s._stacks={}),{iScale:a,vScale:o,index:l}=n,c=a.axis,d=o.axis,u=hj(a,o,n),h=e.length;let f;for(let p=0;p<h;++p){const y=e[p],{[c]:x,[d]:b}=y,m=y._stacks||(y._stacks={});f=m[d]=mj(i,u,x),f[l]=b,f._top=$f(f,o,!0,n.type),f._bottom=$f(f,o,!1,n.type);const g=f._visualValues||(f._visualValues={});g[l]=b}}function mc(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function pj(t,e){return Tn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gj(t,e,s){return Tn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function pr(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const a=i._stacks;if(!a||a[n]===void 0||a[n][s]===void 0)return;delete a[n][s],a[n]._visualValues!==void 0&&a[n]._visualValues[s]!==void 0&&delete a[n]._visualValues[s]}}}const pc=t=>t==="reset"||t==="none",Yf=(t,e)=>e?t:Object.assign({},t),xj=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:Hx(s,!0),values:null};class Qn{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=fc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&pr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,p,y)=>h==="x"?f:h==="r"?y:p,a=s.xAxisID=ye(n.xAxisID,mc(e,"x")),o=s.yAxisID=ye(n.yAxisID,mc(e,"y")),l=s.rAxisID=ye(n.rAxisID,mc(e,"r")),c=s.indexAxis,d=s.iAxisID=i(c,a,o,l),u=s.vAxisID=i(c,o,a,l);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Mf(this._data,this),e._stacked&&pr(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(je(s)){const i=this._cachedMeta;this._data=uj(s,i)}else if(n!==s){if(n){Mf(n,this);const i=this._cachedMeta;pr(i),i._parsed=[]}s&&Object.isExtensible(s)&&Gw(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=s._stacked;s._stacked=fc(s.vScale,s),s.stack!==n.stack&&(i=!0,pr(s),s.stack=n.stack),this._resyncElements(e),(i||a!==s._stacked)&&(Uf(this,s._parsed),s._stacked=fc(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:o}=n,l=a.axis;let c=e===0&&s===i.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Be(i[e])?f=this.parseArrayData(n,i,e,s):je(i[e])?f=this.parseObjectData(n,i,e,s):f=this.parsePrimitiveData(n,i,e,s);const p=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<s;++u)n._parsed[u+e]=h=f[u],c&&(p()&&(c=!1),d=h);n._sorted=c}o&&Uf(this,f)}parsePrimitiveData(e,s,n,i){const{iScale:a,vScale:o}=e,l=a.axis,c=o.axis,d=a.getLabels(),u=a===o,h=new Array(i);let f,p,y;for(f=0,p=i;f<p;++f)y=f+n,h[f]={[l]:u||a.parse(d[y],y),[c]:o.parse(s[y],y)};return h}parseArrayData(e,s,n,i){const{xScale:a,yScale:o}=e,l=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+n,h=s[u],l[c]={x:a.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,s,n,i){const{xScale:a,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,h,f,p;for(u=0,h=i;u<h;++u)f=u+n,p=s[f],d[u]={x:a.parse(ii(p,l),f),y:o.parse(ii(p,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const i=this.chart,a=this._cachedMeta,o=s[e.axis],l={keys:Hx(i,!0),values:s._stacks[e.axis]._visualValues};return Wf(l,o,a.index,{mode:n})}updateRangeFromParsed(e,s,n,i){const a=n[s.axis];let o=a===null?NaN:a;const l=i&&n._stacks[s.axis];i&&l&&(i.values=l,o=Wf(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,o=i.length,l=this._getOtherScale(e),c=xj(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=fj(l);let f,p;function y(){p=i[f];const x=p[l.axis];return!at(p[e.axis])||u>x||h<x}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(d,e,p,c),a));++f);if(a){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(d,e,p,c);break}}return d}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let i,a,o;for(i=0,a=s.length;i<a;++i)o=s[i][e.axis],at(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,i=s.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=dj(ye(this.options.clip,cj(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],a=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,a,l,c),u=l;u<l+c;++u){const h=i[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,a))}for(u=0;u<o.length;++u)o[u].draw(e,a)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=gj(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=pj(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const i=s==="active",a=this._cachedDataOpts,o=e+"-"+s,l=a[o],c=this.enableOptionSharing&&ca(n);if(l)return Yf(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(qe.elements[e]),y=()=>this.getContext(n,i,s),x=d.resolveNamedOptions(f,p,y,h);return x.$shared&&(x.$shared=c,a[o]=Object.freeze(Yf(x,c))),x}_resolveAnimations(e,s,n){const i=this.chart,a=this._cachedDataOpts,o=`animation-${s}`,l=a[o];if(l)return l;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,n,s))}const d=new Bx(i,c&&c.animations);return c&&c._cacheable&&(a[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||pc(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),i=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(s,a)||a!==i;return this.updateSharedOptions(a,s,n),{sharedOptions:a,includeOptions:o}}updateElement(e,s,n,i){pc(i)?Object.assign(e,n):this._resolveAnimations(s,i).update(e,n)}updateSharedOptions(e,s,n){e&&!pc(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,i){e.active=i;const a=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const i=n.length,a=s.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,s,n=!0){const i=this._cachedMeta,a=i.data,o=e+s;let l;const c=d=>{for(d.length+=s,l=d.length-1;l>=o;l--)d[l]=d[l-s]};for(c(a),l=e;l<o;++l)a[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,s),n&&this.updateElements(a,e,s,"reset")}updateElements(e,s,n,i){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,s);n._stacked&&pr(n,i)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,i]=e;this[s](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}J(Qn,"defaults",{}),J(Qn,"datasetElementType",null),J(Qn,"dataElementType",null);function yj(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,a=s.length;i<a;i++)n=n.concat(s[i].controller.getAllParsedValues(t));t._cache.$bar=Sx(n.sort((i,a)=>i-a))}return t._cache.$bar}function vj(t){const e=t.iScale,s=yj(e,t.type);let n=e._length,i,a,o,l;const c=()=>{o===32767||o===-32768||(ca(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(i=0,a=s.length;i<a;++i)o=e.getPixelForValue(s[i]),c();for(l=void 0,i=0,a=e.ticks.length;i<a;++i)o=e.getPixelForTick(i),c();return n}function bj(t,e,s,n){const i=s.barThickness;let a,o;return _e(i)?(a=e.min*s.categoryPercentage,o=s.barPercentage):(a=i*n,o=1),{chunk:a/n,ratio:o,start:e.pixels[t]-a/2}}function wj(t,e,s,n){const i=e.pixels,a=i[t];let o=t>0?i[t-1]:null,l=t<i.length-1?i[t+1]:null;const c=s.categoryPercentage;o===null&&(o=a-(l===null?e.end-e.start:l-a)),l===null&&(l=a+a-o);const d=a-(a-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:s.barPercentage,start:d}}function jj(t,e,s,n){const i=s.parse(t[0],n),a=s.parse(t[1],n),o=Math.min(i,a),l=Math.max(i,a);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[s.axis]=d,e._custom={barStart:c,barEnd:d,start:i,end:a,min:o,max:l}}function Wx(t,e,s,n){return Be(t)?jj(t,e,s,n):e[s.axis]=s.parse(t,n),e}function qf(t,e,s,n){const i=t.iScale,a=t.vScale,o=i.getLabels(),l=i===a,c=[];let d,u,h,f;for(d=s,u=s+n;d<u;++d)f=e[d],h={},h[i.axis]=l||i.parse(o[d],d),c.push(Wx(f,h,a,d));return c}function gc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Nj(t,e,s){return t!==0?Ss(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function Sj(t){let e,s,n,i,a;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(i="end",a="start"):(i="start",a="end"),{start:s,end:n,reverse:e,top:i,bottom:a}}function Cj(t,e,s,n){let i=e.borderSkipped;const a={};if(!i){t.borderSkipped=a;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=Sj(t);i==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?i=d:(s._bottom||0)===n?i=u:(a[Jf(u,o,l,c)]=!0,i=d)),a[Jf(i,o,l,c)]=!0,t.borderSkipped=a}function Jf(t,e,s,n){return n?(t=kj(t,e,s),t=Qf(t,s,e)):t=Qf(t,e,s),t}function kj(t,e,s){return t===e?s:t===s?e:t}function Qf(t,e,s){return t==="start"?e:t==="end"?s:t}function _j(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class wo extends Qn{parsePrimitiveData(e,s,n,i){return qf(e,s,n,i)}parseArrayData(e,s,n,i){return qf(e,s,n,i)}parseObjectData(e,s,n,i){const{iScale:a,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=a.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let f,p,y,x;for(f=n,p=n+i;f<p;++f)x=s[f],y={},y[a.axis]=a.parse(ii(x,d),f),h.push(Wx(ii(x,u),y,o,f));return h}updateRangeFromParsed(e,s,n,i){super.updateRangeFromParsed(e,s,n,i);const a=n._custom;a&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:i}=s,a=this.getParsed(e),o=a._custom,l=gc(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,i){const a=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let p=s;p<s+n;p++){const y=this.getParsed(p),x=a||_e(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,u),m=(y._stacks||{})[l.axis],g={horizontal:d,base:x.base,enableBorderRadius:!m||gc(y._custom)||o===m._top||o===m._bottom,x:d?x.head:b.center,y:d?b.center:x.head,height:d?b.size:Math.abs(x.size),width:d?Math.abs(x.size):b.size};f&&(g.options=h||this.resolveDataElementOptions(p,e[p].active?"active":i));const v=g.options||e[p].options;Cj(g,v,m,o),_j(g,v,u.ratio),this.updateElement(e[p],p,g,i)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(s),c=l&&l[n.axis],d=u=>{const h=u._parsed.find(p=>p[n.axis]===c),f=h&&h[u.vScale.axis];if(_e(f)||isNaN(f))return!0};for(const u of i)if(!(s!==void 0&&d(u))&&((a===!1||o.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,n){const i=this._getStacks(e,n),a=s!==void 0?i.indexOf(s):-1;return a===-1?i.length-1:a}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,i=[];let a,o;for(a=0,o=s.data.length;a<o;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const l=e.barThickness;return{min:l||vj(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:a,minBarLength:o}}=this,l=a||0,c=this.getParsed(e),d=c._custom,u=gc(d);let h=c[s.axis],f=0,p=n?this.applyStack(s,c,n):h,y,x;p!==h&&(f=p-h,p=h),u&&(h=d.barStart,p=d.barEnd-d.barStart,h!==0&&Ss(h)!==Ss(d.barEnd)&&(f=0),f+=h);const b=!_e(a)&&!u?a:f;let m=s.getPixelForValue(b);if(this.chart.getDataVisibility(e)?y=s.getPixelForValue(f+p):y=m,x=y-m,Math.abs(x)<o){x=Nj(x,s,l)*o,h===l&&(m-=x/2);const g=s.getPixelForDecimal(0),v=s.getPixelForDecimal(1),k=Math.min(g,v),N=Math.max(g,v);m=Math.max(Math.min(m,N),k),y=m+x,n&&!u&&(c._stacks[s.axis]._visualValues[i]=s.getValueForPixel(y)-s.getValueForPixel(m))}if(m===s.getPixelForValue(l)){const g=Ss(x)*s.getLineWidthForValue(l)/2;m+=g,x-=g}return{size:x,base:m,head:y,center:y+x/2}}_calculateBarIndexPixels(e,s){const n=s.scale,i=this.options,a=i.skipNull,o=ye(i.maxBarThickness,1/0);let l,c;if(s.grouped){const d=a?this._getStackCount(e):s.stackCount,u=i.barThickness==="flex"?wj(e,s,i,d):bj(e,s,i,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);l=u.start+u.chunk*h+u.chunk/2,c=Math.min(o,u.chunk*u.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,s.min*s.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,i=n.length;let a=0;for(;a<i;++a)this.getParsed(a)[s.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}J(wo,"id","bar"),J(wo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),J(wo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class jo extends Qn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=s,o=this.chart._animationsDisabled;let{start:l,count:c}=t1(s,i,o);this._drawStart=l,this._drawCount=c,s1(s)&&(l=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},e),this.updateElements(i,l,c,e)}updateElements(e,s,n,i){const a=i==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),f=o.axis,p=l.axis,{spanGaps:y,segment:x}=this.options,b=da(y)?y:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||a||i==="none",g=s+n,v=e.length;let k=s>0&&this.getParsed(s-1);for(let N=0;N<v;++N){const w=e[N],C=m?w:{};if(N<s||N>=g){C.skip=!0;continue}const S=this.getParsed(N),_=_e(S[p]),I=C[f]=o.getPixelForValue(S[f],N),E=C[p]=a||_?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,S,c):S[p],N);C.skip=isNaN(I)||isNaN(E)||_,C.stop=N>0&&Math.abs(S[f]-k[f])>b,x&&(C.parsed=S,C.raw=d.data[N]),h&&(C.options=u||this.resolveDataElementOptions(N,w.active?"active":i)),m||this.updateElement(w,N,C,i),k=S}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}J(jo,"id","line"),J(jo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),J(jo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class No extends Qn{getLabelAndValue(e){const s=this._cachedMeta.vScale,n=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(e,s,n,i){return P1.bind(this)(e,s,n,i)}update(e){const s=this._cachedMeta,n=s.dataset,i=s.data||[],a=s.iScale.getLabels();if(n.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:a.length===i.length,options:o};this.updateElement(n,void 0,l,e)}this.updateElements(i,0,i.length,e)}updateElements(e,s,n,i){const a=this._cachedMeta.rScale,o=i==="reset";for(let l=s;l<s+n;l++){const c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":i),u=a.getPointPositionForValue(l,this.getParsed(l).r),h=o?a.xCenter:u.x,f=o?a.yCenter:u.y,p={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:d};this.updateElement(c,l,p,i)}}}J(No,"id","radar"),J(No,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),J(No,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function Pn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yu{constructor(e){J(this,"options");this.options=e||{}}static override(e){Object.assign(Yu.prototype,e)}init(){}formats(){return Pn()}parse(){return Pn()}format(){return Pn()}add(){return Pn()}diff(){return Pn()}startOf(){return Pn()}endOf(){return Pn()}}var Mj={_date:Yu};function Rj(t,e,s,n){const{controller:i,data:a,_sorted:o}=t,l=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&a.length){const d=l._reversePixels?Kw:Hn;if(n){if(i._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(a,e,s-h),p=d(a,e,s+h);return{lo:f.lo,hi:p.hi}}}}else{const u=d(a,e,s);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,p=f.slice(0,u.lo+1).reverse().findIndex(x=>!_e(x[h.axis]));u.lo-=Math.max(0,p);const y=f.slice(u.hi).findIndex(x=>!_e(x[h.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:a.length-1}}function Ml(t,e,s,n,i){const a=t.getSortedVisibleDatasetMetas(),o=s[e];for(let l=0,c=a.length;l<c;++l){const{index:d,data:u}=a[l],{lo:h,hi:f}=Rj(a[l],e,o,i);for(let p=h;p<=f;++p){const y=u[p];y.skip||n(y,d,p)}}}function Tj(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,i){const a=e?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function xc(t,e,s,n,i){const a=[];return!i&&!t.isPointInArea(e)||Ml(t,s,e,function(l,c,d){!i&&!Bs(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&a.push({element:l,datasetIndex:c,index:d})},!0),a}function Ij(t,e,s,n){let i=[];function a(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=qw(o,{x:e.x,y:e.y});jx(h,d,u)&&i.push({element:o,datasetIndex:l,index:c})}return Ml(t,s,e,a),i}function Ej(t,e,s,n,i,a){let o=[];const l=Tj(s);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const p=u.inRange(e.x,e.y,i);if(n&&!p)return;const y=u.getCenterPoint(i);if(!(!!a||t.isPointInArea(y))&&!p)return;const b=l(e,y);b<c?(o=[{element:u,datasetIndex:h,index:f}],c=b):b===c&&o.push({element:u,datasetIndex:h,index:f})}return Ml(t,s,e,d),o}function yc(t,e,s,n,i,a){return!a&&!t.isPointInArea(e)?[]:s==="r"&&!n?Ij(t,e,s,i):Ej(t,e,s,n,i,a)}function Kf(t,e,s,n,i){const a=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return Ml(t,s,e,(c,d,u)=>{c[o]&&c[o](e[s],i)&&(a.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,i))}),n&&!l?[]:a}var Pj={modes:{index(t,e,s,n){const i=Ln(e,t),a=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?xc(t,i,a,n,o):yc(t,i,a,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,s,n){const i=Ln(e,t),a=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?xc(t,i,a,n,o):yc(t,i,a,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,s,n){const i=Ln(e,t),a=s.axis||"xy",o=s.includeInvisible||!1;return xc(t,i,a,n,o)},nearest(t,e,s,n){const i=Ln(e,t),a=s.axis||"xy",o=s.includeInvisible||!1;return yc(t,i,a,s.intersect,n,o)},x(t,e,s,n){const i=Ln(e,t);return Kf(t,i,"x",s.intersect,n)},y(t,e,s,n){const i=Ln(e,t);return Kf(t,i,"y",s.intersect,n)}}};const $x=["left","top","right","bottom"];function gr(t,e){return t.filter(s=>s.pos===e)}function Xf(t,e){return t.filter(s=>$x.indexOf(s.pos)===-1&&s.box.axis===e)}function xr(t,e){return t.sort((s,n)=>{const i=e?n:s,a=e?s:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function Aj(t){const e=[];let s,n,i,a,o,l;for(s=0,n=(t||[]).length;s<n;++s)i=t[s],{position:a,options:{stack:o,stackWeight:l=1}}=i,e.push({index:s,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:l});return e}function Oj(t){const e={};for(const s of t){const{stack:n,pos:i,stackWeight:a}=s;if(!n||!$x.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function Lj(t,e){const s=Oj(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let a,o,l;for(a=0,o=t.length;a<o;++a){l=t[a];const{fullSize:c}=l.box,d=s[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=i):(l.width=n,l.height=u?u*i:c&&e.availableHeight)}return s}function Vj(t){const e=Aj(t),s=xr(e.filter(d=>d.box.fullSize),!0),n=xr(gr(e,"left"),!0),i=xr(gr(e,"right")),a=xr(gr(e,"top"),!0),o=xr(gr(e,"bottom")),l=Xf(e,"x"),c=Xf(e,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:gr(e,"chartArea"),vertical:n.concat(i).concat(c),horizontal:a.concat(o).concat(l)}}function Gf(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function Ux(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function zj(t,e,s,n){const{pos:i,box:a}=s,o=t.maxPadding;if(!je(i)){s.size&&(t[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,t[i]+=s.size}a.getPadding&&Ux(o,a.getPadding());const l=Math.max(0,e.outerWidth-Gf(o,t,"left","right")),c=Math.max(0,e.outerHeight-Gf(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function Dj(t){const e=t.maxPadding;function s(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function Fj(t,e){const s=e.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(e[o],s[o])}),a}return n(t?["left","right"]:["top","bottom"])}function Cr(t,e,s,n){const i=[];let a,o,l,c,d,u;for(a=0,o=t.length,d=0;a<o;++a){l=t[a],c=l.box,c.update(l.width||e.w,l.height||e.h,Fj(l.horizontal,e));const{same:h,other:f}=zj(e,s,l,n);d|=h&&i.length,u=u||f,c.fullSize||i.push(l)}return d&&Cr(i,e,s,n)||u}function Za(t,e,s,n,i){t.top=s,t.left=e,t.right=e+n,t.bottom=s+i,t.width=n,t.height=i}function Zf(t,e,s,n){const i=s.padding;let{x:a,y:o}=e;for(const l of t){const c=l.box,d=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,f=d.size||c.height;ca(d.start)&&(o=d.start),c.fullSize?Za(c,i.left,o,s.outerWidth-i.right-i.left,f):Za(c,e.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,f=d.size||c.width;ca(d.start)&&(a=d.start),c.fullSize?Za(c,a,i.top,f,s.outerHeight-i.bottom-i.top):Za(c,a,e.top+d.placed,f,h),d.start=a,d.placed+=h,a=c.right}}e.x=a,e.y=o}var Kt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const i=yt(t.options.layout.padding),a=Math.max(e-i.width,0),o=Math.max(s-i.height,0),l=Vj(t.boxes),c=l.vertical,d=l.horizontal;Re(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,b)=>b.box.options&&b.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);Ux(f,yt(n));const p=Object.assign({maxPadding:f,w:a,h:o,x:i.left,y:i.top},i),y=Lj(c.concat(d),h);Cr(l.fullSize,p,h,y),Cr(c,p,h,y),Cr(d,p,h,y)&&Cr(c,p,h,y),Dj(p),Zf(l.leftAndTop,p,h,y),p.x+=p.w,p.y+=p.h,Zf(l.rightAndBottom,p,h,y),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Re(l.chartArea,x=>{const b=x.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Yx{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,i){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(e){return!0}updateConfig(e){}}class Bj extends Yx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const So="$chartjs",Hj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},em=t=>t===null||t==="";function Wj(t,e){const s=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[So]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",em(i)){const a=Vf(t,"width");a!==void 0&&(t.width=a)}if(em(n))if(t.style.height==="")t.height=t.width/(e||2);else{const a=Vf(t,"height");a!==void 0&&(t.height=a)}return t}const qx=q1?{passive:!0}:!1;function $j(t,e,s){t&&t.addEventListener(e,s,qx)}function Uj(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,qx)}function Yj(t,e){const s=Hj[t.type]||t.type,{x:n,y:i}=Ln(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function sl(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function qj(t,e,s){const n=t.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||sl(l.addedNodes,n),o=o&&!sl(l.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function Jj(t,e,s){const n=t.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||sl(l.removedNodes,n),o=o&&!sl(l.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const ha=new Map;let tm=0;function Jx(){const t=window.devicePixelRatio;t!==tm&&(tm=t,ha.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function Qj(t,e){ha.size||window.addEventListener("resize",Jx),ha.set(t,e)}function Kj(t){ha.delete(t),ha.size||window.removeEventListener("resize",Jx)}function Xj(t,e,s){const n=t.canvas,i=n&&Uu(n);if(!i)return;const a=kx((l,c)=>{const d=i.clientWidth;s(l,c),d<i.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return o.observe(i),Qj(t,a),o}function vc(t,e,s){s&&s.disconnect(),e==="resize"&&Kj(t)}function Gj(t,e,s){const n=t.canvas,i=kx(a=>{t.ctx!==null&&s(Yj(a,t))},t);return $j(n,e,i),i}class Zj extends Yx{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Wj(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[So])return!1;const n=s[So].initial;["height","width"].forEach(a=>{const o=n[a];_e(o)?s.removeAttribute(a):s.setAttribute(a,o)});const i=n.style||{};return Object.keys(i).forEach(a=>{s.style[a]=i[a]}),s.width=s.width,delete s[So],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const i=e.$proxies||(e.$proxies={}),o={attach:qj,detach:Jj,resize:Xj}[s]||Gj;i[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),i=n[s];if(!i)return;({attach:vc,detach:vc,resize:vc}[s]||Uj)(e,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,i){return Y1(e,s,n,i)}isAttached(e){const s=e&&Uu(e);return!!(s&&s.isConnected)}}function e2(t){return!$u()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Bj:Zj}class ks{constructor(){J(this,"x");J(this,"y");J(this,"active",!1);J(this,"options");J(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return da(this.x)&&da(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}}J(ks,"defaults",{}),J(ks,"defaultRoutes");function t2(t,e){const s=t.options.ticks,n=s2(t),i=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?i2(e):[],o=a.length,l=a[0],c=a[o-1],d=[];if(o>i)return r2(e,d,a,o/i),d;const u=n2(a,e,i);if(o>0){let h,f;const p=o>1?Math.round((c-l)/(o-1)):null;for(eo(e,d,u,_e(p)?0:l-p,l),h=0,f=o-1;h<f;h++)eo(e,d,u,a[h],a[h+1]);return eo(e,d,u,c,_e(p)?e.length:c+p),d}return eo(e,d,u),d}function s2(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),i=t._maxLength/s;return Math.floor(Math.min(n,i))}function n2(t,e,s){const n=a2(t),i=e.length/s;if(!n)return Math.max(i,1);const a=Ww(n);for(let o=0,l=a.length-1;o<l;o++){const c=a[o];if(c>i)return c}return Math.max(i,1)}function i2(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function r2(t,e,s,n){let i=0,a=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===a&&(e.push(t[o]),i++,a=s[i*n])}function eo(t,e,s,n,i){const a=ye(n,0),o=Math.min(ye(i,t.length),t.length);let l=0,c,d,u;for(s=Math.ceil(s),i&&(c=i-n,s=c/Math.floor(c/s)),u=a;u<0;)l++,u=Math.round(a+l*s);for(d=Math.max(a,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(a+l*s))}function a2(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const o2=t=>t==="left"?"right":t==="right"?"left":t,sm=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,nm=(t,e)=>Math.min(e||t,t);function im(t,e){const s=[],n=t.length/e,i=t.length;let a=0;for(;a<i;a+=n)s.push(t[Math.floor(a)]);return s}function l2(t,e,s){const n=t.ticks.length,i=Math.min(e,n-1),a=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(i),d;if(!(s&&(n===1?d=Math.max(c-a,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(i-1))/2,c+=i<e?d:-d,c<a-l||c>o+l)))return c}function c2(t,e){Re(t,s=>{const n=s.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete s.data[n[a]];n.splice(0,i)}})}function yr(t){return t.drawTicks?t.tickLength:0}function rm(t,e){if(!t.display)return 0;const s=nt(t.font,e),n=yt(t.padding);return(Be(t.text)?t.text.length:1)*s.lineHeight+n.height}function d2(t,e){return Tn(t,{scale:e,type:"scale"})}function u2(t,e,s){return Tn(t,{tick:s,index:e,type:"tick"})}function h2(t,e,s){let n=zu(t);return(s&&e!=="right"||!s&&e==="right")&&(n=o2(n)),n}function f2(t,e,s,n){const{top:i,left:a,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,p,y;const x=o-i,b=l-a;if(t.isHorizontal()){if(p=pt(n,a,l),je(s)){const m=Object.keys(s)[0],g=s[m];y=u[m].getPixelForValue(g)+x-e}else s==="center"?y=(d.bottom+d.top)/2+x-e:y=sm(t,s,e);f=l-a}else{if(je(s)){const m=Object.keys(s)[0],g=s[m];p=u[m].getPixelForValue(g)-b+e}else s==="center"?p=(d.left+d.right)/2-b+e:p=sm(t,s,e);y=pt(n,o,i),h=s==="left"?-zt:zt}return{titleX:p,titleY:y,maxWidth:f,rotation:h}}class rr extends ks{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return e=xs(e,Number.POSITIVE_INFINITY),s=xs(s,Number.NEGATIVE_INFINITY),n=xs(n,Number.POSITIVE_INFINITY),i=xs(i,Number.NEGATIVE_INFINITY),{min:xs(e,n),max:xs(s,i),minDefined:at(e),maxDefined:at(s)}}getMinMax(e){let{min:s,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),i||(s=Math.min(s,o.min)),a||(n=Math.max(n,o.max));return s=a&&s>n?n:s,n=i&&s>n?s:n,{min:xs(s,xs(n,s)),max:xs(n,xs(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Oe(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:i,grace:a,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=N1(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?im(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=t2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Oe(this.options.afterUpdate,[this])}beforeSetDimensions(){Oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Oe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Oe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=Oe(s.callback,[a.value,n,e],this)}afterTickToLabelConversion(){Oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=nm(this.ticks.length,e.ticks.maxTicksLimit),i=s.minRotation||0,a=s.maxRotation;let o=i,l,c,d;if(!this._isVisible()||!s.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=Dt(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:p/(n-1),h+6>l&&(l=p/(n-(e.offset?.5:1)),c=this.maxHeight-yr(e.grid)-s.padding-rm(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=Lu(Math.min(Math.asin(Dt((u.highest.height+6)/l,-1,1)),Math.asin(Dt(c/d,-1,1))-Math.asin(Dt(f/d,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Oe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:a}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=rm(i,s.options.font);if(l?(e.width=this.maxWidth,e.height=yr(a)+c):(e.height=this.maxHeight,e.width=yr(a)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,y=cn(this.labelRotation),x=Math.cos(y),b=Math.sin(y);if(l){const m=n.mirror?0:b*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+m+p)}else{const m=n.mirror?0:x*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+m+p)}this._calculatePadding(d,u,b,x)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,i){const{ticks:{align:a,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=i*e.width,p=n*s.height):(f=n*e.height,p=i*s.width):a==="start"?p=s.width:a==="end"?f=e.width:a!=="inner"&&(f=e.width/2,p=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=e.height/2;a==="start"?(u=0,h=e.height):a==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Oe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)_e(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=im(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:i,_longestTextCache:a}=this,o=[],l=[],c=Math.floor(s/nm(s,n));let d=0,u=0,h,f,p,y,x,b,m,g,v,k,N;for(h=0;h<s;h+=c){if(y=e[h].label,x=this._resolveTickFontOptions(h),i.font=b=x.string,m=a[b]=a[b]||{data:{},gc:[]},g=x.lineHeight,v=k=0,!_e(y)&&!Be(y))v=el(i,m.data,m.gc,v,y),k=g;else if(Be(y))for(f=0,p=y.length;f<p;++f)N=y[f],!_e(N)&&!Be(N)&&(v=el(i,m.data,m.gc,v,N),k+=g);o.push(v),l.push(k),d=Math.max(v,d),u=Math.max(k,u)}c2(a,s);const w=o.indexOf(d),C=l.indexOf(u),S=_=>({width:o[_]||0,height:l[_]||0});return{first:S(0),last:S(s-1),widest:S(w),highest:S(C),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return Qw(this._alignToPixels?En(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=u2(this.getContext(),e,n))}return this.$context||(this.$context=d2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=cn(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,l=a?a.widest.width+o:0,c=a?a.highest.height+o:0;return this.isHorizontal()?c*n>l*i?l/n:c/i:c*i<l*n?c/n:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,i=this.options,{grid:a,position:o,border:l}=i,c=a.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=yr(a),p=[],y=l.setContext(this.getContext()),x=y.display?y.width:0,b=x/2,m=function(A){return En(n,A,x)};let g,v,k,N,w,C,S,_,I,E,F,te;if(o==="top")g=m(this.bottom),C=this.bottom-f,_=g-b,E=m(e.top)+b,te=e.bottom;else if(o==="bottom")g=m(this.top),E=e.top,te=m(e.bottom)-b,C=g+b,_=this.top+f;else if(o==="left")g=m(this.right),w=this.right-f,S=g-b,I=m(e.left)+b,F=e.right;else if(o==="right")g=m(this.left),I=e.left,F=m(e.right)-b,w=g+b,S=this.left+f;else if(s==="x"){if(o==="center")g=m((e.top+e.bottom)/2+.5);else if(je(o)){const A=Object.keys(o)[0],B=o[A];g=m(this.chart.scales[A].getPixelForValue(B))}E=e.top,te=e.bottom,C=g+b,_=C+f}else if(s==="y"){if(o==="center")g=m((e.left+e.right)/2);else if(je(o)){const A=Object.keys(o)[0],B=o[A];g=m(this.chart.scales[A].getPixelForValue(B))}w=g-b,S=w-f,I=e.left,F=e.right}const R=ye(i.ticks.maxTicksLimit,h),V=Math.max(1,Math.ceil(h/R));for(v=0;v<h;v+=V){const A=this.getContext(v),B=a.setContext(A),T=l.setContext(A),z=B.lineWidth,D=B.color,U=T.dash||[],X=T.dashOffset,ge=B.tickWidth,ee=B.tickColor,$=B.tickBorderDash||[],re=B.tickBorderDashOffset;k=l2(this,v,c),k!==void 0&&(N=En(n,k,z),d?w=S=I=F=N:C=_=E=te=N,p.push({tx1:w,ty1:C,tx2:S,ty2:_,x1:I,y1:E,x2:F,y2:te,width:z,color:D,borderDash:U,borderDashOffset:X,tickWidth:ge,tickColor:ee,tickBorderDash:$,tickBorderDashOffset:re}))}return this._ticksLength=h,this._borderValue=g,p}_computeLabelItems(e){const s=this.axis,n=this.options,{position:i,ticks:a}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=a,f=yr(n.grid),p=f+u,y=h?-u:p,x=-cn(this.labelRotation),b=[];let m,g,v,k,N,w,C,S,_,I,E,F,te="middle";if(i==="top")w=this.bottom-y,C=this._getXAxisLabelAlignment();else if(i==="bottom")w=this.top+y,C=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(f);C=V.textAlign,N=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(f);C=V.textAlign,N=V.x}else if(s==="x"){if(i==="center")w=(e.top+e.bottom)/2+p;else if(je(i)){const V=Object.keys(i)[0],A=i[V];w=this.chart.scales[V].getPixelForValue(A)+p}C=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")N=(e.left+e.right)/2-p;else if(je(i)){const V=Object.keys(i)[0],A=i[V];N=this.chart.scales[V].getPixelForValue(A)}C=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(c==="start"?te="top":c==="end"&&(te="bottom"));const R=this._getLabelSizes();for(m=0,g=l.length;m<g;++m){v=l[m],k=v.label;const V=a.setContext(this.getContext(m));S=this.getPixelForTick(m)+a.labelOffset,_=this._resolveTickFontOptions(m),I=_.lineHeight,E=Be(k)?k.length:1;const A=E/2,B=V.color,T=V.textStrokeColor,z=V.textStrokeWidth;let D=C;o?(N=S,C==="inner"&&(m===g-1?D=this.options.reverse?"left":"right":m===0?D=this.options.reverse?"right":"left":D="center"),i==="top"?d==="near"||x!==0?F=-E*I+I/2:d==="center"?F=-R.highest.height/2-A*I+I:F=-R.highest.height+I/2:d==="near"||x!==0?F=I/2:d==="center"?F=R.highest.height/2-A*I:F=R.highest.height-E*I,h&&(F*=-1),x!==0&&!V.showLabelBackdrop&&(N+=I/2*Math.sin(x))):(w=S,F=(1-E)*I/2);let U;if(V.showLabelBackdrop){const X=yt(V.backdropPadding),ge=R.heights[m],ee=R.widths[m];let $=F-X.top,re=0-X.left;switch(te){case"middle":$-=ge/2;break;case"bottom":$-=ge;break}switch(C){case"center":re-=ee/2;break;case"right":re-=ee;break;case"inner":m===g-1?re-=ee:m>0&&(re-=ee/2);break}U={left:re,top:$,width:ee+X.width,height:ge+X.height,color:V.backdropColor}}b.push({label:k,font:_,textOffset:F,options:{rotation:x,color:B,strokeColor:T,strokeWidth:z,textAlign:D,textBaseline:te,translation:[N,w],backdrop:U}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-cn(this.labelRotation))return e==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),l=e+a,c=o.widest.width;let d,u;return s==="left"?i?(u=this.right+a,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?i?(u=this.left+a,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:i,width:a,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,i,a,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(a=0,o=i.length;a<o;++a){const c=i[a];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=En(e,this.left,o)-o/2,u=En(e,this.right,l)+l/2,h=f=c):(h=En(e,this.top,o)-o/2,f=En(e,this.bottom,l)+l/2,d=u=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Cl(n,i);const a=this.getLabelItems(e);for(const o of a){const l=o.options,c=o.font,d=o.label,u=o.textOffset;ai(n,d,0,u,c,l)}i&&kl(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const a=nt(n.font),o=yt(n.padding),l=n.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||je(s)?(c+=o.bottom,Be(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=f2(this,c,s,l);ai(e,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:f,textAlign:h2(l,s,i),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=ye(e.grid&&e.grid.z,-1),i=ye(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==rr.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,o;for(a=0,o=s.length;a<o;++a){const l=s[a];l[n]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return nt(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class to{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;g2(s)&&(n=this.register(s));const i=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,m2(e,o,n),this.override&&qe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,i=this.scope;n in s&&delete s[n],i&&n in qe[i]&&(delete qe[i][n],this.override&&delete ri[n])}}function m2(t,e,s){const n=la(Object.create(null),[s?qe.get(s):{},qe.get(e),t.defaults]);qe.set(e,n),t.defaultRoutes&&p2(e,t.defaultRoutes),t.descriptors&&qe.describe(e,t.descriptors)}function p2(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),i=n.pop(),a=[t].concat(n).join("."),o=e[s].split("."),l=o.pop(),c=o.join(".");qe.route(a,i,c,l)})}function g2(t){return"id"in t&&"defaults"in t}class x2{constructor(){this.controllers=new to(Qn,"datasets",!0),this.elements=new to(ks,"elements"),this.plugins=new to(Object,"plugins"),this.scales=new to(rr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):Re(i,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,s,n){const i=Ou(e);Oe(n["before"+i],[],n),s[e](n),Oe(n["after"+i],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const i=s.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var bs=new x2;class y2{constructor(){this._init=[]}notify(e,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(a,e,s,n);return s==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,n,i){i=i||{};for(const a of e){const o=a.plugin,l=o[n],c=[s,i,a.options];if(Oe(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){_e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,i=ye(n.options&&n.options.plugins,{}),a=v2(n);return i===!1&&!s?[]:w2(e,a,i,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,i=(a,o)=>a.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(s,n),e,"stop"),this._notify(i(n,s),e,"start")}}function v2(t){const e={},s=[],n=Object.keys(bs.plugins.items);for(let a=0;a<n.length;a++)s.push(bs.getPlugin(n[a]));const i=t.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function b2(t,e){return!e&&t===!1?null:t===!0?{}:t}function w2(t,{plugins:e,localIds:s},n,i){const a=[],o=t.getContext();for(const l of e){const c=l.id,d=b2(n[c],i);d!==null&&a.push({plugin:l,options:j2(t.config,{plugin:l,local:s[c]},d,o)})}return a}function j2(t,{plugin:e,local:s},n,i){const a=t.pluginScopeKeys(e),o=t.getOptionScopes(n,a);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cd(t,e){const s=qe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function N2(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function S2(t,e){return t===e?"_index_":"_value_"}function am(t){if(t==="x"||t==="y"||t==="r")return t}function C2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function kd(t,...e){if(am(t))return t;for(const s of e){const n=s.axis||C2(s.position)||t.length>1&&am(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function om(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function k2(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return om(t,"x",s[0])||om(t,"y",s[0])}return{}}function _2(t,e){const s=ri[t.type]||{scales:{}},n=e.scales||{},i=Cd(t.type,e),a=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!je(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=kd(o,l,k2(o,t),qe.scales[l.type]),d=S2(c,i),u=s.scales||{};a[o]=Vr(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||Cd(l,e),u=(ri[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=N2(h,c),p=o[f+"AxisID"]||f;a[p]=a[p]||Object.create(null),Vr(a[p],[{axis:f},n[p],u[h]])})}),Object.keys(a).forEach(o=>{const l=a[o];Vr(l,[qe.scales[l.type],qe.scale])}),a}function Qx(t){const e=t.options||(t.options={});e.plugins=ye(e.plugins,{}),e.scales=_2(t,e)}function Kx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function M2(t){return t=t||{},t.data=Kx(t.data),Qx(t),t}const lm=new Map,Xx=new Set;function so(t,e){let s=lm.get(t);return s||(s=e(),lm.set(t,s),Xx.add(s)),s}const vr=(t,e,s)=>{const n=ii(e,s);n!==void 0&&t.add(n)};class R2{constructor(e){this._config=M2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Kx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Qx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return so(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return so(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return so(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return so(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let i=n.get(e);return(!i||s)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,s,n){const{options:i,type:a}=this,o=this._cachedScopes(e,n),l=o.get(s);if(l)return l;const c=new Set;s.forEach(u=>{e&&(c.add(e),u.forEach(h=>vr(c,e,h))),u.forEach(h=>vr(c,i,h)),u.forEach(h=>vr(c,ri[a]||{},h)),u.forEach(h=>vr(c,qe,h)),u.forEach(h=>vr(c,Nd,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Xx.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:e,type:s}=this;return[e,ri[s]||{},qe.datasets[s]||{},{type:s},qe,Nd]}resolveNamedOptions(e,s,n,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:l}=cm(this._resolverCache,e,i);let c=o;if(I2(o,s)){a.$shared=!1,n=Cn(n)?n():n;const d=this.createResolver(e,n,l);c=Zi(o,n,d)}for(const d of s)a[d]=c[d];return a}createResolver(e,s,n=[""],i){const{resolver:a}=cm(this._resolverCache,e,n);return je(s)?Zi(a,s,void 0,i):a}}function cm(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=s.join();let a=n.get(i);return a||(a={resolver:Bu(e,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,a)),a}const T2=t=>je(t)&&Object.getOwnPropertyNames(t).some(e=>Cn(t[e]));function I2(t,e){const{isScriptable:s,isIndexable:n}=Ix(t);for(const i of e){const a=s(i),o=n(i),l=(o||a)&&t[i];if(a&&(Cn(l)||T2(l))||o&&Be(l))return!0}return!1}var E2="4.4.8";const P2=["top","bottom","left","right","chartArea"];function dm(t,e){return t==="top"||t==="bottom"||P2.indexOf(t)===-1&&e==="x"}function um(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function hm(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Oe(s&&s.onComplete,[t],e)}function A2(t){const e=t.chart,s=e.options.animation;Oe(s&&s.onProgress,[t],e)}function Gx(t){return $u()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Co={},fm=t=>{const e=Gx(t);return Object.values(Co).filter(s=>s.canvas===e).pop()};function O2(t,e,s){const n=Object.keys(t);for(const i of n){const a=+i;if(a>=e){const o=t[i];delete t[i],(s>0||a>e)&&(t[a+s]=o)}}}function L2(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}function no(t,e,s){return t.options.clip?t[s]:e[s]}function V2(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:no(s,e,"left"),right:no(s,e,"right"),top:no(n,e,"top"),bottom:no(n,e,"bottom")}:e}var Gs;let di=(Gs=class{static register(...e){bs.add(...e),mm()}static unregister(...e){bs.remove(...e),mm()}constructor(e,s){const n=this.config=new R2(s),i=Gx(e),a=fm(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||e2(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Aw(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new y2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Zw(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Co[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ps.listen(this,"complete",hm),Ps.listen(this,"progress",A2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:i,_aspectRatio:a}=this;return _e(e)?s&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Lf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Pf(this.canvas,this.ctx),this}stop(){return Ps.stop(this),this}resize(e,s){Ps.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,s,a),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Lf(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Oe(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Re(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let a=[];s&&(a=a.concat(Object.keys(s).map(o=>{const l=s[o],c=kd(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Re(a,o=>{const l=o.options,c=l.id,d=kd(c,l),u=ye(l.type,o.dtype);(l.position===void 0||dm(l.position,d)!==dm(o.dposition))&&(l.position=o.dposition),i[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const f=bs.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),Re(i,(o,l)=>{o||delete n[l]}),Re(n,o=>{Kt.configure(this,o,o.options),Kt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(um("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,i)=>{s.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const a=s[n];let o=this.getDatasetMeta(n);const l=a.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=a.indexAxis||Cd(l,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=bs.getController(l),{datasetElementType:d,dataElementType:u}=qe.datasets[l];Object.assign(c,{dataElementType:bs.getElement(u),datasetElementType:d&&bs.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Re(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Re(a,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(um("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Re(this.scales,e=>{Kt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Sf(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of s){const o=n==="_removeElements"?-a:a;O2(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=a=>new Set(e.filter(o=>o[0]===a).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let a=1;a<s;a++)if(!Sf(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Kt.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Re(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Cn(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ps.has(this)?this.attached&&!Ps.running(this)&&Ps.start(this):(this.draw(),hm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let i,a;for(i=0,a=s.length;i<a;++i){const o=s[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n=e._clip,i=!n.disabled,a=V2(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Cl(s,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),e.controller.draw(),i&&kl(s),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Bs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,i){const a=Pj.modes[s];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let i=n.filter(a=>a&&a._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Tn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const i=n?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,i);ca(s)?(a.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(a,{visible:n}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Ps.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Pf(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Co[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(a,o)=>{s.addEventListener(this,a,o),e[a]=o},i=(a,o,l)=>{a.offsetX=o,a.offsetY=l,this._eventHandler(a)};Re(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),e[c]=d},i=(c,d)=>{e[c]&&(s.removeEventListener(this,c,d),delete e[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){Re(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},Re(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const i=n?"set":"remove";let a,o,l,c;for(s==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:a,index:o})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[o],index:o}});!Xo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const i=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=a(s,e),l=n?e:a(e,s);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:i=[],options:a}=this,o=s,l=this._getActiveElements(e,i,n,o),c=Fw(e),d=L2(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Oe(a.onHover,[e,l,this],this),c&&Oe(a.onClick,[e,l,this],this));const u=!Xo(l,i);return(u||s)&&(this._active=l,this._updateHoverStyles(l,i,s)),this._lastEvent=d,u}_getActiveElements(e,s,n,i){if(e.type==="mouseout")return[];if(!n)return s;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},J(Gs,"defaults",qe),J(Gs,"instances",Co),J(Gs,"overrides",ri),J(Gs,"registry",bs),J(Gs,"version",E2),J(Gs,"getChart",fm),Gs);function mm(){return Re(di.instances,t=>t._plugins.invalidate())}function Zx(t,e,s=e){t.lineCap=ye(s.borderCapStyle,e.borderCapStyle),t.setLineDash(ye(s.borderDash,e.borderDash)),t.lineDashOffset=ye(s.borderDashOffset,e.borderDashOffset),t.lineJoin=ye(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ye(s.borderWidth,e.borderWidth),t.strokeStyle=ye(s.borderColor,e.borderColor)}function z2(t,e,s){t.lineTo(s.x,s.y)}function D2(t){return t.stepped?m1:t.tension||t.cubicInterpolationMode==="monotone"?p1:z2}function e0(t,e,s={}){const n=t.length,{start:i=0,end:a=n-1}=s,{start:o,end:l}=e,c=Math.max(i,o),d=Math.min(a,l),u=i<o&&a<o||i>l&&a>l;return{count:n,start:c,loop:e.loop,ilen:d<c&&!u?n+d-c:d-c}}function F2(t,e,s,n){const{points:i,options:a}=e,{count:o,start:l,loop:c,ilen:d}=e0(i,s,n),u=D2(a);let{move:h=!0,reverse:f}=n||{},p,y,x;for(p=0;p<=d;++p)y=i[(l+(f?d-p:p))%o],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):u(t,x,y,f,a.stepped),x=y);return c&&(y=i[(l+(f?d:0))%o],u(t,x,y,f,a.stepped)),!!c}function B2(t,e,s,n){const i=e.points,{count:a,start:o,ilen:l}=e0(i,s,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,f,p,y,x,b,m;const g=k=>(o+(d?l-k:k))%a,v=()=>{x!==b&&(t.lineTo(u,b),t.lineTo(u,x),t.lineTo(u,m))};for(c&&(p=i[g(0)],t.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=i[g(f)],p.skip)continue;const k=p.x,N=p.y,w=k|0;w===y?(N<x?x=N:N>b&&(b=N),u=(h*u+k)/++h):(v(),t.lineTo(k,N),y=w,h=0,x=b=N),m=N}v()}function _d(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?B2:F2}function H2(t){return t.stepped?J1:t.tension||t.cubicInterpolationMode==="monotone"?Q1:Vn}function W2(t,e,s,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,s,n)&&i.closePath()),Zx(t,e.options),t.stroke(i)}function $2(t,e,s,n){const{segments:i,options:a}=e,o=_d(e);for(const l of i)Zx(t,a,l.style),t.beginPath(),o(t,e,l,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const U2=typeof Path2D=="function";function Y2(t,e,s,n){U2&&!e.options.segment?W2(t,e,s,n):$2(t,e,s,n)}class as extends ks{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;F1(this._points,n,e,i,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tj(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,i=e[s],a=this.points,o=Fx(this,{property:s,start:i,end:i});if(!o.length)return;const l=[],c=H2(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],p=a[h],y=a[f];if(p===y){l.push(p);continue}const x=Math.abs((i-p[s])/(y[s]-p[s])),b=c(p,y,x,n.stepped);b[s]=e[s],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,s,n){return _d(this)(e,this,s,n)}path(e,s,n){const i=this.segments,a=_d(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const l of i)o&=a(e,this,l,{start:s,end:s+n-1});return!!o}draw(e,s,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Y2(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}J(as,"id","line"),J(as,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),J(as,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),J(as,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function pm(t,e,s,n){const i=t.options,{[s]:a}=t.getProps([s],n);return Math.abs(e-a)<i.radius+i.hitRadius}class Kn extends ks{constructor(s){super();J(this,"parsed");J(this,"skip");J(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(n-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,n){return pm(this,s,"x",n)}inYRange(s,n){return pm(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!Bs(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Sd(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}J(Kn,"id","point"),J(Kn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),J(Kn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function t0(t,e){const{x:s,y:n,base:i,width:a,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(s,i),c=Math.max(s,i),d=n-h,u=n+h):(h=a/2,l=s-h,c=s+h,d=Math.min(n,i),u=Math.max(n,i)),{left:l,top:d,right:c,bottom:u}}function un(t,e,s,n){return t?0:Dt(e,s,n)}function q2(t,e,s){const n=t.options.borderWidth,i=t.borderSkipped,a=Tx(n);return{t:un(i.top,a.top,0,s),r:un(i.right,a.right,0,e),b:un(i.bottom,a.bottom,0,s),l:un(i.left,a.left,0,e)}}function J2(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,a=qn(i),o=Math.min(e,s),l=t.borderSkipped,c=n||je(i);return{topLeft:un(!c||l.top||l.left,a.topLeft,0,o),topRight:un(!c||l.top||l.right,a.topRight,0,o),bottomLeft:un(!c||l.bottom||l.left,a.bottomLeft,0,o),bottomRight:un(!c||l.bottom||l.right,a.bottomRight,0,o)}}function Q2(t){const e=t0(t),s=e.right-e.left,n=e.bottom-e.top,i=q2(t,s/2,n/2),a=J2(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function bc(t,e,s,n){const i=e===null,a=s===null,l=t&&!(i&&a)&&t0(t,n);return l&&(i||dn(e,l.left,l.right))&&(a||dn(s,l.top,l.bottom))}function K2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function X2(t,e){t.rect(e.x,e.y,e.w,e.h)}function wc(t,e,s={}){const n=t.x!==s.x?-e:0,i=t.y!==s.y?-e:0,a=(t.x+t.w!==s.x+s.w?e:0)-n,o=(t.y+t.h!==s.y+s.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+a,h:t.h+o,radius:t.radius}}class Bi extends ks{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:o}=Q2(this),l=K2(o.radius)?ua:X2;e.save(),(o.w!==a.w||o.h!==a.h)&&(e.beginPath(),l(e,wc(o,s,a)),e.clip(),l(e,wc(a,-s,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,wc(a,s)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,s,n){return bc(this,e,s,n)}inXRange(e,s){return bc(this,e,null,s)}inYRange(e,s){return bc(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(s+i)/2:s,y:a?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}J(Bi,"id","bar"),J(Bi,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),J(Bi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function G2(t,e,s){const n=t.segments,i=t.points,a=e.points,o=[];for(const l of n){let{start:c,end:d}=l;d=qu(c,d,i);const u=Md(s,i[c],i[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:i[c],end:i[d]});continue}const h=Fx(e,u);for(const f of h){const p=Md(s,a[f.start],a[f.end],f.loop),y=Dx(l,i,p);for(const x of y)o.push({source:x,target:f,start:{[s]:gm(u,p,"start",Math.max)},end:{[s]:gm(u,p,"end",Math.min)}})}}return o}function Md(t,e,s,n){if(n)return;let i=e[t],a=s[t];return t==="angle"&&(i=Lt(i),a=Lt(a)),{property:t,start:i,end:a}}function Z2(t,e){const{x:s=null,y:n=null}=t||{},i=e.points,a=[];return e.segments.forEach(({start:o,end:l})=>{l=qu(o,l,i);const c=i[o],d=i[l];n!==null?(a.push({x:c.x,y:n}),a.push({x:d.x,y:n})):s!==null&&(a.push({x:s,y:c.y}),a.push({x:s,y:d.y}))}),a}function qu(t,e,s){for(;e>t;e--){const n=s[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function gm(t,e,s,n){return t&&e?n(t[s],e[s]):t?t[s]:e?e[s]:0}function s0(t,e){let s=[],n=!1;return Be(t)?(n=!0,s=t):s=Z2(t,e),s.length?new as({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function xm(t){return t&&t.fill!==!1}function eN(t,e,s){let i=t[e].fill;const a=[e];let o;if(!s)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!at(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;a.push(i),i=o.fill}return!1}function tN(t,e,s){const n=rN(t);if(je(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return at(i)&&Math.floor(i)===i?sN(n[0],e,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function sN(t,e,s,n){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=n?!1:s}function nN(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:je(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function iN(t,e,s){let n;return t==="start"?n=s:t==="end"?n=e.options.reverse?e.min:e.max:je(t)?n=t.value:n=e.getBaseValue(),n}function rN(t){const e=t.options,s=e.fill;let n=ye(s&&s.target,s);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function aN(t){const{scale:e,index:s,line:n}=t,i=[],a=n.segments,o=n.points,l=oN(e,s);l.push(s0({x:null,y:e.bottom},n));for(let c=0;c<a.length;c++){const d=a[c];for(let u=d.start;u<=d.end;u++)lN(i,o[u],l)}return new as({points:i,options:{}})}function oN(t,e){const s=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const a=n[i];if(a.index===e)break;a.hidden||s.unshift(a.dataset)}return s}function lN(t,e,s){const n=[];for(let i=0;i<s.length;i++){const a=s[i],{first:o,last:l,point:c}=cN(a,e,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function cN(t,e,s){const n=t.interpolate(e,s);if(!n)return{};const i=n[s],a=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<a.length;d++){const u=a[d],h=o[u.start][s],f=o[u.end][s];if(dn(i,h,f)){l=i===h,c=i===f;break}}return{first:l,last:c,point:n}}class n0{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,n){const{x:i,y:a,radius:o}=this;return s=s||{start:0,end:Bt},e.arc(i,a,o,s.end,s.start,!0),!n.bounds}interpolate(e){const{x:s,y:n,radius:i}=this,a=e.angle;return{x:s+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}}function dN(t){const{chart:e,fill:s,line:n}=t;if(at(s))return uN(e,s);if(s==="stack")return aN(t);if(s==="shape")return!0;const i=hN(t);return i instanceof n0?i:s0(i,n)}function uN(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function hN(t){return(t.scale||{}).getPointPositionForValue?mN(t):fN(t)}function fN(t){const{scale:e={},fill:s}=t,n=nN(s,e);if(at(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function mN(t){const{scale:e,fill:s}=t,n=e.options,i=e.getLabels().length,a=n.reverse?e.max:e.min,o=iN(s,e,a),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,a);return new n0({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)l.push(e.getPointPositionForValue(c,o));return l}function jc(t,e,s){const n=dN(e),{line:i,scale:a,axis:o}=e,l=i.options,c=l.fill,d=l.backgroundColor,{above:u=d,below:h=d}=c||{};n&&i.points.length&&(Cl(t,s),pN(t,{line:i,target:n,above:u,below:h,area:s,scale:a,axis:o}),kl(t))}function pN(t,e){const{line:s,target:n,above:i,below:a,area:o,scale:l}=e,c=s._loop?"angle":e.axis;t.save(),c==="x"&&a!==i&&(ym(t,n,o.top),vm(t,{line:s,target:n,color:i,scale:l,property:c}),t.restore(),t.save(),ym(t,n,o.bottom)),vm(t,{line:s,target:n,color:a,scale:l,property:c}),t.restore()}function ym(t,e,s){const{segments:n,points:i}=e;let a=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,u=i[c],h=i[qu(c,d,i)];a?(t.moveTo(u.x,u.y),a=!1):(t.lineTo(u.x,s),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(h.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function vm(t,e){const{line:s,target:n,property:i,color:a,scale:o}=e,l=G2(s,n,i);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:f=a}={}}=c,p=n!==!0;t.save(),t.fillStyle=f,gN(t,o,p&&Md(i,u,h)),t.beginPath();const y=!!s.pathSegment(t,c);let x;if(p){y?t.closePath():bm(t,n,h,i);const b=!!n.pathSegment(t,d,{move:y,reverse:!0});x=y&&b,x||bm(t,n,u,i)}t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}function gN(t,e,s){const{top:n,bottom:i}=e.chart.chartArea,{property:a,start:o,end:l}=s||{};a==="x"&&(t.beginPath(),t.rect(o,n,l-o,i-n),t.clip())}function bm(t,e,s,n){const i=e.interpolate(s,n);i&&t.lineTo(i.x,i.y)}var i0={id:"filler",afterDatasetsUpdate(t,e,s){const n=(t.data.datasets||[]).length,i=[];let a,o,l,c;for(o=0;o<n;++o)a=t.getDatasetMeta(o),l=a.dataset,c=null,l&&l.options&&l instanceof as&&(c={visible:t.isDatasetVisible(o),index:o,fill:tN(l,o,n),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:l}),a.$filler=c,i.push(c);for(o=0;o<n;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=eN(i,o,s.propagate))},beforeDraw(t,e,s){const n=s.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(a,l.axis),n&&l.fill&&jc(t.ctx,l,a))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const a=n[i].$filler;xm(a)&&jc(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,s){const n=e.meta.$filler;!xm(n)||s.drawTime!=="beforeDatasetDraw"||jc(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wm=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},xN=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class jm extends ks{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Oe(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=nt(n.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=wm(n,a);let d,u;s.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,a,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,i,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,i){const{ctx:a,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+l;let h=e;a.textAlign="left",a.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((y,x)=>{const b=n+s/2+a.measureText(y.text).width;(x===0||d[d.length-1]+b+2*l>o)&&(h+=u,d[d.length-(x>0?0:1)]=0,p+=u,f++),c[x]={left:0,top:p,row:f,width:b,height:i},d[d.length-1]+=b+l}),h}_fitCols(e,s,n,i){const{ctx:a,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,f=0,p=0,y=0,x=0;return this.legendItems.forEach((b,m)=>{const{itemWidth:g,itemHeight:v}=yN(n,s,a,b,i);m>0&&p+v+2*l>u&&(h+=f+l,d.push({width:f,height:p}),y+=f+l,x++,f=p=0),c[m]={left:y,top:p,col:x,width:g,height:v},f=Math.max(f,g),p+=v+l}),h+=f,d.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:a}}=this,o=Fi(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=pt(n,this.left+i,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,c=pt(n,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+e+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let l=0,c=pt(n,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,c=pt(n,this.top+e+i,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Cl(e,this),this._draw(),kl(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:i}=this,{align:a,labels:o}=e,l=qe.color,c=Fi(e.rtl,this.left,this.width),d=nt(o.font),{padding:u}=o,h=d.size,f=h/2;let p;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:y,boxHeight:x,itemHeight:b}=wm(o,h),m=function(w,C,S){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;i.save();const _=ye(S.lineWidth,1);if(i.fillStyle=ye(S.fillStyle,l),i.lineCap=ye(S.lineCap,"butt"),i.lineDashOffset=ye(S.lineDashOffset,0),i.lineJoin=ye(S.lineJoin,"miter"),i.lineWidth=_,i.strokeStyle=ye(S.strokeStyle,l),i.setLineDash(ye(S.lineDash,[])),o.usePointStyle){const I={radius:x*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:_},E=c.xPlus(w,y/2),F=C+f;Mx(i,I,E,F,o.pointStyleWidth&&y)}else{const I=C+Math.max((h-x)/2,0),E=c.leftForLtr(w,y),F=qn(S.borderRadius);i.beginPath(),Object.values(F).some(te=>te!==0)?ua(i,{x:E,y:I,w:y,h:x,radius:F}):i.rect(E,I,y,x),i.fill(),_!==0&&i.stroke()}i.restore()},g=function(w,C,S){ai(i,S.text,w,C+b/2,d,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},v=this.isHorizontal(),k=this._computeTitleHeight();v?p={x:pt(a,this.left+u,this.right-n[0]),y:this.top+u+k,line:0}:p={x:this.left+u,y:pt(a,this.top+k+u,this.bottom-s[0].height),line:0},Lx(this.ctx,e.textDirection);const N=b+u;this.legendItems.forEach((w,C)=>{i.strokeStyle=w.fontColor,i.fillStyle=w.fontColor;const S=i.measureText(w.text).width,_=c.textAlign(w.textAlign||(w.textAlign=o.textAlign)),I=y+f+S;let E=p.x,F=p.y;c.setWidth(this.width),v?C>0&&E+I+u>this.right&&(F=p.y+=N,p.line++,E=p.x=pt(a,this.left+u,this.right-n[p.line])):C>0&&F+N>this.bottom&&(E=p.x=E+s[p.line].width+u,p.line++,F=p.y=pt(a,this.top+k+u,this.bottom-s[p.line].height));const te=c.x(E);if(m(te,F,w),E=e1(_,E+y+f,v?E+I:this.right,e.rtl),g(c.x(E),F,w),v)p.x+=I+u;else if(typeof w.text!="string"){const R=d.lineHeight;p.y+=r0(w,R)+u}else p.y+=N}),Vx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=nt(s.font),i=yt(s.padding);if(!s.display)return;const a=Fi(e.rtl,this.left,this.width),o=this.ctx,l=s.position,c=n.size/2,d=i.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=pt(e.align,h,this.right-f);else{const y=this.columnSizes.reduce((x,b)=>Math.max(x,b.height),0);u=d+pt(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const p=pt(l,h,h+f);o.textAlign=a.textAlign(zu(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,ai(o,s.text,p,u,n)}_computeTitleHeight(){const e=this.options.title,s=nt(e.font),n=yt(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,i,a;if(dn(e,this.left,this.right)&&dn(s,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],dn(e,i.left,i.left+i.width)&&dn(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!wN(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=xN(i,n);i&&!a&&Oe(s.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&Oe(s.onHover,[e,n,this],this)}else n&&Oe(s.onClick,[e,n,this],this)}}function yN(t,e,s,n,i){const a=vN(n,t,e,s),o=bN(i,n,e.lineHeight);return{itemWidth:a,itemHeight:o}}function vN(t,e,s,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),e+s.size/2+n.measureText(i).width}function bN(t,e,s){let n=t;return typeof e.text!="string"&&(n=r0(e,s)),n}function r0(t,e){const s=t.text?t.text.length:0;return e*s}function wN(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Rl={id:"legend",_element:jm,start(t,e,s){const n=t.legend=new jm({ctx:t.ctx,options:s,chart:t});Kt.configure(t,n,s),Kt.addBox(t,n)},stop(t){Kt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;Kt.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=yt(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class a0 extends ks{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const i=Be(n.text)?n.text.length:1;this._padding=yt(n.padding);const a=i*nt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:i,right:a,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=pt(l,n,a),h=s+e,d=a-n):(o.position==="left"?(u=n+e,h=pt(l,i,s),c=Ge*-.5):(u=a-e,h=pt(l,s,i),c=Ge*.5),d=i-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=nt(s.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(a);ai(e,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:zu(s.align),textBaseline:"middle",translation:[o,l]})}}function jN(t,e){const s=new a0({ctx:t.ctx,options:e,chart:t});Kt.configure(t,s,e),Kt.addBox(t,s),t.titleBlock=s}var Ju={id:"title",_element:a0,start(t,e,s){jN(t,s)},stop(t){const e=t.titleBlock;Kt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;Kt.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const kr={average(t){if(!t.length)return!1;let e,s,n=new Set,i=0,a=0;for(e=0,s=t.length;e<s;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),i+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:i/a}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,o,l;for(a=0,o=t.length;a<o;++a){const c=t[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=jd(e,d);u<i&&(i=u,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function ys(t,e){return e&&(Be(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function As(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function NN(t,e){const{element:s,datasetIndex:n,index:i}=e,a=t.getDatasetMeta(n).controller,{label:o,value:l}=a.getLabelAndValue(i);return{chart:t,label:o,parsed:a.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:l,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Nm(t,e){const s=t.chart.ctx,{body:n,footer:i,title:a}=t,{boxWidth:o,boxHeight:l}=e,c=nt(e.bodyFont),d=nt(e.titleFont),u=nt(e.footerFont),h=a.length,f=i.length,p=n.length,y=yt(e.padding);let x=y.height,b=0,m=n.reduce((k,N)=>k+N.before.length+N.lines.length+N.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const k=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=p*k+(m-p)*c.lineHeight+(m-1)*e.bodySpacing}f&&(x+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let g=0;const v=function(k){b=Math.max(b,s.measureText(k).width+g)};return s.save(),s.font=d.string,Re(t.title,v),s.font=c.string,Re(t.beforeBody.concat(t.afterBody),v),g=e.displayColors?o+2+e.boxPadding:0,Re(n,k=>{Re(k.before,v),Re(k.lines,v),Re(k.after,v)}),g=0,s.font=u.string,Re(t.footer,v),s.restore(),b+=y.width,{width:b,height:x}}function SN(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function CN(t,e,s,n){const{x:i,width:a}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&i+a+o>e.width||t==="right"&&i-a-o<0)return!0}function kN(t,e,s,n){const{x:i,width:a}=s,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return n==="center"?d=i<=(l+c)/2?"left":"right":i<=a/2?d="left":i>=o-a/2&&(d="right"),CN(d,t,e,s)&&(d="center"),d}function Sm(t,e,s){const n=s.yAlign||e.yAlign||SN(t,s);return{xAlign:s.xAlign||e.xAlign||kN(t,e,s,n),yAlign:n}}function _N(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function MN(t,e,s){let{y:n,height:i}=t;return e==="top"?n+=s:e==="bottom"?n-=i+s:n-=i/2,n}function Cm(t,e,s,n){const{caretSize:i,caretPadding:a,cornerRadius:o}=t,{xAlign:l,yAlign:c}=s,d=i+a,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=qn(o);let y=_N(e,l);const x=MN(e,c,d);return c==="center"?l==="left"?y+=d:l==="right"&&(y-=d):l==="left"?y-=Math.max(u,f)+i:l==="right"&&(y+=Math.max(h,p)+i),{x:Dt(y,0,n.width-e.width),y:Dt(x,0,n.height-e.height)}}function io(t,e,s){const n=yt(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function km(t){return ys([],As(t))}function RN(t,e,s){return Tn(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function _m(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const o0={beforeTitle:Is,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:Is,beforeBody:Is,beforeLabel:Is,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return _e(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Is,afterBody:Is,beforeFooter:Is,footer:Is,afterFooter:Is};function kt(t,e,s,n){const i=t[e].call(s,n);return typeof i>"u"?o0[e].call(s,n):i}class Rd extends ks{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,a=new Bx(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=RN(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,i=kt(n,"beforeTitle",this,e),a=kt(n,"title",this,e),o=kt(n,"afterTitle",this,e);let l=[];return l=ys(l,As(i)),l=ys(l,As(a)),l=ys(l,As(o)),l}getBeforeBody(e,s){return km(kt(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,i=[];return Re(e,a=>{const o={before:[],lines:[],after:[]},l=_m(n,a);ys(o.before,As(kt(l,"beforeLabel",this,a))),ys(o.lines,kt(l,"label",this,a)),ys(o.after,As(kt(l,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(e,s){return km(kt(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,i=kt(n,"beforeFooter",this,e),a=kt(n,"footer",this,e),o=kt(n,"afterFooter",this,e);let l=[];return l=ys(l,As(i)),l=ys(l,As(a)),l=ys(l,As(o)),l}_createItems(e){const s=this._active,n=this.chart.data,i=[],a=[],o=[];let l=[],c,d;for(c=0,d=s.length;c<d;++c)l.push(NN(this.chart,s[c]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,n))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,n))),Re(l,u=>{const h=_m(e.callbacks,u);i.push(kt(h,"labelColor",this,u)),a.push(kt(h,"labelPointStyle",this,u)),o.push(kt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(e,s){const n=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const l=kr[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=Nm(this,n),d=Object.assign({},l,c),u=Sm(this.chart,n,d),h=Cm(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,i){const a=this.getCaretPosition(e,n,i);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(e,s,n){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=qn(l),{x:f,y:p}=e,{width:y,height:x}=s;let b,m,g,v,k,N;return a==="center"?(k=p+x/2,i==="left"?(b=f,m=b-o,v=k+o,N=k-o):(b=f+y,m=b+o,v=k-o,N=k+o),g=b):(i==="left"?m=f+Math.max(c,u)+o:i==="right"?m=f+y-Math.max(d,h)-o:m=this.caretX,a==="top"?(v=p,k=v-o,b=m-o,g=m+o):(v=p+x,k=v+o,b=m+o,g=m-o),N=v),{x1:b,x2:m,x3:g,y1:v,y2:k,y3:N}}drawTitle(e,s,n){const i=this.title,a=i.length;let o,l,c;if(a){const d=Fi(n.rtl,this.x,this.width);for(e.x=io(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",o=nt(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,c=0;c<a;++c)s.fillText(i[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===a&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,s,n,i,a){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=a,u=nt(a.bodyFont),h=io(this,"left",a),f=i.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,y=s.y+p;if(a.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=i.leftForLtr(f,d)+d/2,m=y+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Sd(e,x,b,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Sd(e,x,b,m)}else{e.lineWidth=je(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=i.leftForLtr(f,d),b=i.leftForLtr(i.xPlus(f,1),d-2),m=qn(o.borderRadius);Object.values(m).some(g=>g!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,ua(e,{x,y,w:d,h:c,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ua(e,{x:b,y:y+1,w:d-2,h:c-2,radius:m}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(x,y,d,c),e.strokeRect(x,y,d,c),e.fillStyle=o.backgroundColor,e.fillRect(b,y+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=nt(n.bodyFont);let f=h.lineHeight,p=0;const y=Fi(n.rtl,this.x,this.width),x=function(S){s.fillText(S,y.x(e.x+p),e.y+f/2),e.y+=f+a},b=y.textAlign(o);let m,g,v,k,N,w,C;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,e.x=io(this,b,n),s.fillStyle=n.bodyColor,Re(this.beforeBody,x),p=l&&b!=="right"?o==="center"?d/2+u:d+2+u:0,k=0,w=i.length;k<w;++k){for(m=i[k],g=this.labelTextColors[k],s.fillStyle=g,Re(m.before,x),v=m.lines,l&&v.length&&(this._drawColorBox(s,e,k,y,n),f=Math.max(h.lineHeight,c)),N=0,C=v.length;N<C;++N)x(v[N]),f=h.lineHeight;Re(m.after,x)}p=0,f=h.lineHeight,Re(this.afterBody,x),e.y-=a}drawFooter(e,s,n){const i=this.footer,a=i.length;let o,l;if(a){const c=Fi(n.rtl,this.x,this.width);for(e.x=io(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",o=nt(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,l=0;l<a;++l)s.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,i){const{xAlign:a,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=qn(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(l+h,c),o==="top"&&this.drawCaret(e,s,n,i),s.lineTo(l+d-f,c),s.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&a==="right"&&this.drawCaret(e,s,n,i),s.lineTo(l+d,c+u-y),s.quadraticCurveTo(l+d,c+u,l+d-y,c+u),o==="bottom"&&this.drawCaret(e,s,n,i),s.lineTo(l+p,c+u),s.quadraticCurveTo(l,c+u,l,c+u-p),o==="center"&&a==="left"&&this.drawCaret(e,s,n,i),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const o=kr[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Nm(this,e),c=Object.assign({},o,this._size),d=Sm(s,e,c),u=Cm(e,c,d,s);(i._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=yt(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,i,s),Lx(e,s.textDirection),a.y+=o.top,this.drawTitle(a,e,s),this.drawBody(a,e,s),this.drawFooter(a,e,s),Vx(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,i=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),a=!Xo(n,i),o=this._positionChanged(i,s);(a||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(e,a,s,n),l=this._positionChanged(o,e),c=s||!Xo(o,a)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),c}_getActiveElements(e,s,n,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:i,options:a}=this,o=kr[a.position].call(this,e,s);return o!==!1&&(n!==o.x||i!==o.y)}}J(Rd,"positioners",kr);var Tl={id:"tooltip",_element:Rd,positioners:kr,afterInit(t,e,s){s&&(t.tooltip=new Rd({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:o0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const TN=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function IN(t,e,s,n){const i=t.indexOf(e);if(i===-1)return TN(t,e,s,n);const a=t.lastIndexOf(e);return i!==a?s:i}const EN=(t,e)=>t===null?null:Dt(Math.round(t),0,e);function Mm(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class fa extends rr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:a}of s)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(_e(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:IN(n,e,ye(s,e),this._addedLabels),EN(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=e===0&&s===a.length-1?a:a.slice(e,s+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)i.push({value:o});return i}getLabelForValue(e){return Mm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}J(fa,"id","category"),J(fa,"defaults",{ticks:{callback:Mm}});function PN(t,e){const s=[],{bounds:i,step:a,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,p=a||1,y=u-1,{min:x,max:b}=e,m=!_e(o),g=!_e(l),v=!_e(d),k=(b-x)/(h+1);let N=kf((b-x)/y/p)*p,w,C,S,_;if(N<1e-14&&!m&&!g)return[{value:x},{value:b}];_=Math.ceil(b/N)-Math.floor(x/N),_>y&&(N=kf(_*N/y/p)*p),_e(c)||(w=Math.pow(10,c),N=Math.ceil(N*w)/w),i==="ticks"?(C=Math.floor(x/N)*N,S=Math.ceil(b/N)*N):(C=x,S=b),m&&g&&a&&Uw((l-o)/a,N/1e3)?(_=Math.round(Math.min((l-o)/N,u)),N=(l-o)/_,C=o,S=l):v?(C=m?o:C,S=g?l:S,_=d-1,N=(S-C)/_):(_=(S-C)/N,zr(_,Math.round(_),N/1e3)?_=Math.round(_):_=Math.ceil(_));const I=Math.max(_f(N),_f(C));w=Math.pow(10,_e(c)?I:c),C=Math.round(C*w)/w,S=Math.round(S*w)/w;let E=0;for(m&&(f&&C!==o?(s.push({value:o}),C<o&&E++,zr(Math.round((C+E*N)*w)/w,o,Rm(o,k,t))&&E++):C<o&&E++);E<_;++E){const F=Math.round((C+E*N)*w)/w;if(g&&F>l)break;s.push({value:F})}return g&&f&&S!==l?s.length&&zr(s[s.length-1].value,l,Rm(l,k,t))?s[s.length-1].value=l:s.push({value:l}):(!g||S===l)&&s.push({value:S}),s}function Rm(t,e,{horizontal:s,minRotation:n}){const i=cn(n),a=(s?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/a,o)}class Td extends rr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return _e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const o=c=>i=s?i:c,l=c=>a=n?a:c;if(e){const c=Ss(i),d=Ss(a);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);l(a+c),e||o(i-c)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,o=PN(i,a);return e.bounds==="ticks"&&Yw(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-s)/Math.max(e.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return _x(e,this.chart.options.locale,this.options.ticks.format)}}class ma extends Td{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=at(e)?e:0,this.max=at(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=cn(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}J(ma,"id","linear"),J(ma,"defaults",{ticks:{callback:Fu.formatters.numeric}});function Id(t){const e=t.ticks;if(e.display&&t.display){const s=yt(e.backdropPadding);return ye(e.font&&e.font.size,qe.font.size)+s.height}return 0}function AN(t,e,s){return s=Be(s)?s:[s],{w:f1(t,e.string,s),h:s.length*e.lineHeight}}function Tm(t,e,s,n,i){return t===n||t===i?{start:e-s/2,end:e+s/2}:t<n||t>i?{start:e-s,end:e}:{start:e,end:e+s}}function ON(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),n=[],i=[],a=t._pointLabels.length,o=t.options.pointLabels,l=o.centerPointLabels?Ge/a:0;for(let c=0;c<a;c++){const d=o.setContext(t.getPointLabelContext(c));i[c]=d.padding;const u=t.getPointPosition(c,t.drawingArea+i[c],l),h=nt(d.font),f=AN(t.ctx,h,t._pointLabels[c]);n[c]=f;const p=Lt(t.getIndexAngle(c)+l),y=Math.round(Lu(p)),x=Tm(y,u.x,f.w,0,180),b=Tm(y,u.y,f.h,90,270);LN(s,e,p,x,b)}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=DN(t,n,i)}function LN(t,e,s,n,i){const a=Math.abs(Math.sin(s)),o=Math.abs(Math.cos(s));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/a,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/a,t.r=Math.max(t.r,e.r+l)),i.start<e.t?(c=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function VN(t,e,s){const n=t.drawingArea,{extra:i,additionalAngle:a,padding:o,size:l}=s,c=t.getPointPosition(e,n+i+o,a),d=Math.round(Lu(Lt(c.angle+zt))),u=HN(c.y,l.h,d),h=FN(d),f=BN(c.x,l.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+l.w,bottom:u+l.h}}function zN(t,e){if(!e)return!0;const{left:s,top:n,right:i,bottom:a}=t;return!(Bs({x:s,y:n},e)||Bs({x:s,y:a},e)||Bs({x:i,y:n},e)||Bs({x:i,y:a},e))}function DN(t,e,s){const n=[],i=t._pointLabels.length,a=t.options,{centerPointLabels:o,display:l}=a.pointLabels,c={extra:Id(a)/2,additionalAngle:o?Ge/i:0};let d;for(let u=0;u<i;u++){c.padding=s[u],c.size=e[u];const h=VN(t,u,c);n.push(h),l==="auto"&&(h.visible=zN(h,d),h.visible&&(d=h))}return n}function FN(t){return t===0||t===180?"center":t<180?"left":"right"}function BN(t,e,s){return s==="right"?t-=e:s==="center"&&(t-=e/2),t}function HN(t,e,s){return s===90||s===270?t-=e/2:(s>270||s<90)&&(t-=e),t}function WN(t,e,s){const{left:n,top:i,right:a,bottom:o}=s,{backdropColor:l}=e;if(!_e(l)){const c=qn(e.borderRadius),d=yt(e.backdropPadding);t.fillStyle=l;const u=n-d.left,h=i-d.top,f=a-n+d.width,p=o-i+d.height;Object.values(c).some(y=>y!==0)?(t.beginPath(),ua(t,{x:u,y:h,w:f,h:p,radius:c}),t.fill()):t.fillRect(u,h,f,p)}}function $N(t,e){const{ctx:s,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const a=t._pointLabelItems[i];if(!a.visible)continue;const o=n.setContext(t.getPointLabelContext(i));WN(s,o,a);const l=nt(o.font),{x:c,y:d,textAlign:u}=a;ai(s,t._pointLabels[i],c,d+l.lineHeight/2,l,{color:o.color,textAlign:u,textBaseline:"middle"})}}function l0(t,e,s,n){const{ctx:i}=t;if(s)i.arc(t.xCenter,t.yCenter,e,0,Bt);else{let a=t.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let o=1;o<n;o++)a=t.getPointPosition(o,e),i.lineTo(a.x,a.y)}}function UN(t,e,s,n,i){const a=t.ctx,o=e.circular,{color:l,lineWidth:c}=e;!o&&!n||!l||!c||s<0||(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),l0(t,s,o,n),a.closePath(),a.stroke(),a.restore())}function YN(t,e,s){return Tn(t,{label:s,index:e,type:"pointLabel"})}class Ti extends Td{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=yt(Id(this.options)/2),s=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=at(e)&&!isNaN(e)?e:0,this.max=at(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Id(this.options))}generateTickLabels(e){Td.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,n)=>{const i=Oe(this.options.pointLabels.callback,[s,n],this);return i||i===0?i:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?ON(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,n,i){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,n,i))}getIndexAngle(e){const s=Bt/(this._pointLabels.length||1),n=this.options.startAngle||0;return Lt(e*s+cn(n))}getDistanceFromCenterForValue(e){if(_e(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(_e(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const n=s[e];return YN(this.getContext(),e,n)}}getPointPosition(e,s,n=0){const i=this.getIndexAngle(e)-zt+n;return{x:Math.cos(i)*s+this.xCenter,y:Math.sin(i)*s+this.yCenter,angle:i}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:n,right:i,bottom:a}=this._pointLabelItems[e];return{left:s,top:n,right:i,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),l0(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:n,grid:i,border:a}=s,o=this._pointLabels.length;let l,c,d;if(s.pointLabels.display&&$N(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),p=i.setContext(f),y=a.setContext(f);UN(this,p,c,o,y)}}),n.display){for(e.save(),l=o-1;l>=0;l--){const u=n.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),d=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let a,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!s.reverse)return;const d=n.setContext(this.getContext(c)),u=nt(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=u.string,o=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const h=yt(d.backdropPadding);e.fillRect(-o/2-h.left,-a-u.size/2-h.top,o+h.width,u.size+h.height)}ai(e,l.label,0,-a,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}J(Ti,"id","radialLinear"),J(Ti,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Fu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),J(Ti,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),J(Ti,"descriptors",{angleLines:{_fallback:"grid"}});const Il={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mt=Object.keys(Il);function Im(t,e){return t-e}function Em(t,e){if(_e(e))return null;const s=t._adapter,{parser:n,round:i,isoWeekday:a}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),at(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(da(a)||a===!0)?s.startOf(o,"isoWeek",a):s.startOf(o,i)),+o)}function Pm(t,e,s,n){const i=Mt.length;for(let a=Mt.indexOf(t);a<i-1;++a){const o=Il[Mt[a]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(l*o.size))<=n)return Mt[a]}return Mt[i-1]}function qN(t,e,s,n,i){for(let a=Mt.length-1;a>=Mt.indexOf(s);a--){const o=Mt[a];if(Il[o].common&&t._adapter.diff(i,n,o)>=e-1)return o}return Mt[s?Mt.indexOf(s):0]}function JN(t){for(let e=Mt.indexOf(t)+1,s=Mt.length;e<s;++e)if(Il[Mt[e]].common)return Mt[e]}function Am(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:i}=Vu(s,e),a=s[n]>=e?s[n]:s[i];t[a]=!0}}function QN(t,e,s,n){const i=t._adapter,a=+i.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=a;l<=o;l=+i.add(l,1,n))c=s[l],c>=0&&(e[c].major=!0);return e}function Om(t,e,s){const n=[],i={},a=e.length;let o,l;for(o=0;o<a;++o)l=e[o],i[l]=o,n.push({value:l,major:!1});return a===0||!s?n:QN(t,n,i,s)}class nl extends rr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),i=this._adapter=new Mj._date(e.adapters.date);i.init(s),Vr(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Em(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=at(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),a=at(a)&&!isNaN(a)?a:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,l=Xw(i,a,o);return this._unit=s.unit||(n.autoSkip?Pm(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):qN(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:JN(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),Om(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?s=1-i:s=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=Dt(s,0,o),n=Dt(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,i=this.options,a=i.time,o=a.unit||Pm(a.minUnit,s,n,this._getLabelCapacity(s)),l=ye(i.ticks.stepSize,1),c=o==="week"?a.isoWeekday:!1,d=da(c)||c===!0,u={};let h=s,f,p;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(n,s,o)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+e.add(f,l,o),p++)Am(u,f,y);return(f===n||i.bounds==="ticks"||p===1)&&Am(u,f,y),Object.keys(u).sort(Im).map(x=>+x)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const i=this.options.time.displayFormats,a=this._unit,o=s||i[a];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,i){const a=this.options,o=a.ticks.callback;if(o)return Oe(o,[e,s,n],this);const l=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=n[s],p=d&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:u))}generateTickLabels(e){let s,n,i;for(s=0,n=e.length;s<n;++s)i=e[s],i.label=this._tickFormatFunction(i.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,i=cn(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*a+l*o,h:n*o+l*a}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,a=this._tickFormatFunction(e,0,Om(this,[e],this._majorUnit),i),o=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)e=e.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)e.push(Em(this,i[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Sx(e.sort(Im))}}J(nl,"id","time"),J(nl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ro(t,e,s){let n=0,i=t.length-1,a,o,l,c;s?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=Hn(t,"pos",e)),{pos:a,time:l}=t[n],{pos:o,time:c}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=Hn(t,"time",e)),{time:a,pos:l}=t[n],{time:o,pos:c}=t[i]);const d=o-a;return d?l+(c-l)*(e-a)/d:l}class Lm extends nl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=ro(s,this.min),this._tableRange=ro(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,i=[],a=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=s&&d<=n&&i.push(d);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)u=i[o+1],c=i[o-1],d=i[o],Math.round((u+c)/2)!==d&&a.push({time:d,pos:o/(l-1)});return a}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ro(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return ro(this._table,n*this._tableRange+this._minPos,!0)}}J(Lm,"id","timeseries"),J(Lm,"defaults",nl.defaults);const KN=({metrics:t,animatingMetrics:e})=>{const s=(a,o=!1)=>a<30?"text-red-600 font-bold":a<50?"text-orange-500 font-bold":a<70?"text-yellow-500":"text-green-500",n=a=>e.includes(a)?a==="livesSaved"?"animate-pulse text-green-600":a==="humanCasualties"?"animate-pulse text-red-600":"animate-pulse text-red-500":"",i=(a,o)=>{switch(a){case"livesSaved":return`${o} people saved from immediate danger`;case"humanCasualties":return`${o} lives lost in the crisis`;case"firefightingResource":return`${o}% of firefighting resources remaining`;case"infrastructureCondition":return`${o}% of infrastructure intact`;case"biodiversityCondition":return`${o}% of local ecosystem preserved`;case"propertiesCondition":return`${o}% of properties protected`;case"nuclearPowerStation":return`${o}% of nuclear facility integrity maintained`;default:return""}};return r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3 mb-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-700 flex items-center",children:[r.jsx(ni,{className:"mr-1 text-orange-500",size:18}),"Cumulative Simulation Metrics (Scores)"]}),(t.nuclearPowerStation<50||t.firefightingResource<30)&&r.jsxs("div",{className:"px-2 py-1 bg-red-50 border border-red-200 rounded-md flex items-center",children:[r.jsx(ct,{className:"text-red-500 mr-1",size:16}),r.jsx("p",{className:"text-red-700 text-sm font-medium",children:t.nuclearPowerStation<50?"Nuclear risk!":"Critical resource shortage!"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2",children:[r.jsxs("div",{className:`bg-gray-50 p-2 rounded ${n("livesSaved")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("livesSaved",t.livesSaved),children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(Xi,{className:"mr-1 text-blue-500",size:14}),r.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Lives Saved"})]}),r.jsx("p",{className:"text-sm font-bold text-green-600",children:t.livesSaved}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("livesSaved",t.livesSaved)})]}),r.jsxs("div",{className:`bg-gray-50 p-2 rounded ${n("humanCasualties")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("humanCasualties",t.humanCasualties),children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(Nl,{className:"mr-1 text-red-500",size:14}),r.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Casualties"}),t.humanCasualties>0&&r.jsx(ct,{className:"ml-1 text-red-500",size:12})]}),r.jsx("p",{className:"text-sm font-bold text-red-600",children:t.humanCasualties}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("humanCasualties",t.humanCasualties)})]}),r.jsxs("div",{className:`bg-gray-50 p-2 rounded ${n("firefightingResource")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("firefightingResource",t.firefightingResource),children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(si,{className:"mr-1 text-blue-500",size:14}),r.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Resources"}),t.firefightingResource<50&&r.jsx(ct,{className:"ml-1 text-orange-500",size:12})]}),r.jsxs("p",{className:`text-sm font-bold ${s(t.firefightingResource)}`,children:[t.firefightingResource,"%"]}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("firefightingResource",t.firefightingResource)})]}),r.jsxs("div",{className:`bg-gray-50 p-2 rounded ${n("infrastructureCondition")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("infrastructureCondition",t.infrastructureCondition),children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(Sn,{className:"mr-1 text-gray-500",size:14}),r.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Infrastructure"}),t.infrastructureCondition<50&&r.jsx(ct,{className:"ml-1 text-orange-500",size:12})]}),r.jsxs("p",{className:`text-sm font-bold ${s(t.infrastructureCondition)}`,children:[t.infrastructureCondition,"%"]}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("infrastructureCondition",t.infrastructureCondition)})]}),r.jsxs("div",{className:`bg-gray-50 p-2 rounded ${n("biodiversityCondition")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("biodiversityCondition",t.biodiversityCondition),children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(ja,{className:"mr-1 text-green-500",size:14}),r.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Biodiversity"}),t.biodiversityCondition<50&&r.jsx(ct,{className:"ml-1 text-orange-500",size:12})]}),r.jsxs("p",{className:`text-sm font-bold ${s(t.biodiversityCondition)}`,children:[t.biodiversityCondition,"%"]}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("biodiversityCondition",t.biodiversityCondition)})]}),r.jsxs("div",{className:`bg-gray-50 p-2 rounded ${n("propertiesCondition")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("propertiesCondition",t.propertiesCondition),children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(Sn,{className:"mr-1 text-blue-500",size:14}),r.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Properties"}),t.propertiesCondition<50&&r.jsx(ct,{className:"ml-1 text-orange-500",size:12})]}),r.jsxs("p",{className:`text-sm font-bold ${s(t.propertiesCondition)}`,children:[t.propertiesCondition,"%"]}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("propertiesCondition",t.propertiesCondition)})]}),r.jsxs("div",{className:`bg-gray-50 p-2 rounded ${n("nuclearPowerStation")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("nuclearPowerStation",t.nuclearPowerStation),children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(jl,{className:"mr-1 text-purple-500",size:14}),r.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Nuclear"}),t.nuclearPowerStation<50&&r.jsx(ct,{className:"ml-1 text-red-500",size:12})]}),r.jsxs("p",{className:`text-sm font-bold ${s(t.nuclearPowerStation,!0)}`,children:[t.nuclearPowerStation,"%"]}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("nuclearPowerStation",t.nuclearPowerStation)})]})]})]})},XN=({option:t,onSelect:e,onReview:s,currentMetrics:n,scenarioIndex:i,hasExploredAlternatives:a=!0,onInfeasibleCheck:o,isInfeasibleChecked:l=!1})=>{const[c,d]=nn.useState(!1),[u,h]=nn.useState(!1),[f,p]=nn.useState(l),y=()=>{s(t)},x=w=>{const C=w.target.checked;p(C),o&&o(t,C)};nn.useEffect(()=>{p(l)},[l]);const b=(w,C=!1,S=!1)=>C?`+${w}`:S?`+${w}`:`${w}%`,m=()=>Object.values(t.expertOpinions).map(S=>S.recommendation).filter(S=>S==="Accept").length,g=()=>{if(i!==2||!n)return{isFeasible:!0,insufficientResources:[]};const w=[];return n.firefightingResource+t.impact.firefightingResource<0&&w.push({metric:"Resources",needed:Math.abs(t.impact.firefightingResource),available:n.firefightingResource}),n.infrastructureCondition+t.impact.infrastructureCondition<0&&w.push({metric:"Infrastructure",needed:Math.abs(t.impact.infrastructureCondition),available:n.infrastructureCondition}),n.biodiversityCondition+t.impact.biodiversityCondition<0&&w.push({metric:"Biodiversity",needed:Math.abs(t.impact.biodiversityCondition),available:n.biodiversityCondition}),n.propertiesCondition+t.impact.propertiesCondition<0&&w.push({metric:"Properties",needed:Math.abs(t.impact.propertiesCondition),available:n.propertiesCondition}),{isFeasible:w.length===0,insufficientResources:w}},{isFeasible:v,insufficientResources:k}=g();return{safety:{name:"Safety",icon:r.jsx(Ki,{size:12,className:"mr-1"})},efficiency:{name:"Efficiency",icon:r.jsx(si,{size:12,className:"mr-1"})},sustainability:{name:"Sustainability",icon:r.jsx(Mu,{size:12,className:"mr-1"})},fairness:{name:"Fairness",icon:r.jsx(Rn,{size:12,className:"mr-1"})},nonmaleficence:{name:"Nonmaleficence",icon:r.jsx(_u,{size:12,className:"mr-1"})}}[t.label],r.jsxs("div",{className:"relative",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[r.jsxs("div",{className:`bg-white border ${v?"border-gray-300":"border-red-300 bg-red-50/50 opacity-75"} text-left p-3 rounded-lg transition-all duration-200 flex flex-col w-full`,children:[!v&&r.jsx("div",{className:"absolute top-2 left-2 z-10 flex items-center gap-1",children:r.jsx(ct,{size:16,className:"text-red-600"})}),!v&&i===2&&o&&r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsxs("label",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-3 py-2 rounded-lg shadow-lg cursor-pointer hover:from-blue-600 hover:to-cyan-600 transition-all duration-200 border-2 border-white",children:[r.jsx("input",{type:"checkbox",checked:f,onChange:x,className:"w-5 h-5 rounded border-2 border-white cursor-pointer accent-yellow-400"}),r.jsx("span",{className:"text-sm font-semibold whitespace-nowrap",children:"Would choose if feasible"})]})}),r.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:`text-lg font-bold ${v?"bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent":"text-red-800"} mb-1 ${v?"":"ml-6"} tracking-tight`,children:t.title}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:t.description})]}),r.jsx("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:r.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",children:[r.jsx(Di,{size:12,className:"text-green-600"}),r.jsxs("span",{className:"text-xs text-gray-700 whitespace-nowrap font-medium",children:[m(),"/5 recommend"]})]})})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-2 mb-2",children:[r.jsx("h5",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1.5",children:"Key Considerations"}),t.riskInfo.map((w,C)=>r.jsxs("div",{className:"flex items-start mb-1 last:mb-0",children:[r.jsx("span",{className:"text-red-500 mr-2 mt-0.5 font-bold",children:""}),r.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:w})]},C))]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-2 mb-2",children:[r.jsx("h5",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1.5",children:"Metrics Impact"}),r.jsxs("div",{className:"grid grid-cols-2 gap-1.5 text-xs",children:[r.jsxs("div",{className:"flex items-center text-green-600 font-medium",children:[r.jsx(Xi,{size:14,className:"mr-1.5"}),r.jsxs("span",{className:"text-xs",children:["Lives Saved: ",b(t.impact.livesSaved,!0)]})]}),r.jsxs("div",{className:"flex items-center text-red-600 font-medium",children:[r.jsx(Nl,{size:14,className:"mr-1.5"}),r.jsxs("span",{className:"text-xs",children:["Casualties: ",b(t.impact.humanCasualties,!1,!0)]})]}),r.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:[r.jsx(si,{size:14,className:"mr-1.5"}),r.jsxs("span",{className:"text-xs",children:["Resources: ",b(t.impact.firefightingResource)]})]}),r.jsxs("div",{className:"flex items-center text-gray-600 font-medium",children:[r.jsx(Sn,{size:14,className:"mr-1.5"}),r.jsxs("span",{className:"text-xs",children:["Infrastructure: ",b(t.impact.infrastructureCondition)]})]}),r.jsxs("div",{className:"flex items-center text-green-600 font-medium",children:[r.jsx(ja,{size:14,className:"mr-1.5"}),r.jsxs("span",{className:"text-xs",children:["Biodiversity: ",b(t.impact.biodiversityCondition)]})]}),r.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:[r.jsx(Sn,{size:14,className:"mr-1.5"}),r.jsxs("span",{className:"text-xs",children:["Properties: ",b(t.impact.propertiesCondition)]})]}),r.jsxs("div",{className:"flex items-center text-purple-600 font-medium",children:[r.jsx(jl,{size:14,className:"mr-1.5"}),r.jsxs("span",{className:"text-xs",children:["Nuclear: ",b(t.impact.nuclearPowerStation)]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:y,className:"flex-1 py-2 px-4 rounded-md font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-md hover:shadow-lg flex items-center justify-center gap-1",children:[r.jsx(Ws,{size:16}),"Review"]}),r.jsxs("div",{className:"relative flex-1",onMouseEnter:()=>!a&&h(!0),onMouseLeave:()=>h(!1),children:[r.jsx("button",{onClick:()=>!v||!a?null:e(t),disabled:!v||!a,className:`w-full py-2 px-4 rounded-md font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 ${v?a?"bg-teal-600 text-white hover:bg-teal-700 focus:ring-teal-500 shadow-md hover:shadow-lg":"bg-gray-300 text-gray-600 cursor-not-allowed border border-gray-400":"bg-red-100 text-red-700 cursor-not-allowed border border-red-300"}`,children:v?"Select":"Not Feasible"}),!a&&u&&r.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-30 w-72 pointer-events-none",children:r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-2 border-amber-400 text-gray-800 px-4 py-3 rounded-lg shadow-2xl",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ct,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-sm text-amber-900 mb-1",children:"Explore Alternatives First"}),r.jsxs("p",{className:"text-xs leading-relaxed text-gray-700",children:["Please explore alternative options before making your selection. Find the ",r.jsx("span",{className:"font-semibold text-amber-800",children:'"Explore Alternatives"'})," button at the bottom of this page."]})]})]}),r.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-3 h-3 bg-gradient-to-br from-amber-50 to-orange-50 border-r-2 border-b-2 border-amber-400"})]})})]})]})]}),!v&&c&&k.length>0&&r.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 z-20 bg-red-600 text-white text-xs px-3 py-2 rounded-md shadow-lg transition-opacity duration-200",children:[r.jsx("div",{className:"font-semibold mb-1",children:"Not Feasible:"}),k.map((w,C)=>r.jsxs("div",{children:["Not enough ",w.metric," (needs ",w.needed,"%, you have ",w.available,"%)"]},C))]})]})},GN=({isOpen:t,onClose:e,option:s,onKeepChoice:n,onReviewAlternatives:i,isAligned:a,hasExploredAlternatives:o})=>(nn.useEffect(()=>{t&&o&&setTimeout(()=>{n()},100)},[t,o,n]),t?r.jsx("div",{className:"fixed inset-0",style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px",overflow:"hidden",opacity:0,pointerEvents:"none",zIndex:-1},children:r.jsxs("div",{className:"bg-white text-[6px] rounded-sm shadow-sm max-w-[60px] w-full p-[1px]",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-[1px]",children:[r.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:s.title}),r.jsx("button",{onClick:e,className:"text-gray-400 p-[1px]",children:r.jsx(us,{size:8})})]}),r.jsx("div",{className:"p-[1px]",children:r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{onClick:n,disabled:!o,className:`px-[2px] py-[1px] rounded-sm text-[5px] transition-all duration-200 font-medium ${o?"bg-gradient-to-r from-blue-400 to-indigo-400 text-white":"bg-gray-200 text-gray-400 cursor-not-allowed opacity-60"}`,children:"Keep"})})})]})}):null),ZN=({isOpen:t,onClose:e,option:s,onConfirmDecision:n,canConfirm:i,onReviewAlternatives:a})=>{const[o,l]=j.useState(!1),[c,d]=j.useState(!0),[u,h]=j.useState(!1),f=j.useRef(null);if(j.useEffect(()=>{if(t&&f.current){const w=f.current,C=w.scrollHeight>w.clientHeight;h(C);const S=()=>{w.scrollHeight-w.scrollTop-w.clientHeight<50&&h(!1)};return w.addEventListener("scroll",S),()=>w.removeEventListener("scroll",S)}},[t]),!t)return null;const p=w=>{const C=localStorage.getItem("hasReorderedValues")==="true",S=localStorage.getItem("cvrYesClicked")==="true",_=localStorage.getItem("cvrNoClicked")==="true";C||(S||_)?(l(!0),window.pendingAction="close",window.cvrYesClicked=S):e()},y=()=>{localStorage.removeItem("MoralValuesReorderList"),localStorage.removeItem("moralValuesRanking"),localStorage.setItem("hasReorderedValues","false"),localStorage.setItem("cvrYesClicked","false"),localStorage.setItem("cvrNoClicked","false"),l(!1),window.pendingAction==="close"?e():(e(),a()),delete window.pendingAction,delete window.cvrYesClicked},x=()=>{l(!1),delete window.pendingAction,delete window.cvrYesClicked},b=(w,C=!1,S=!1)=>C?`+${w}`:S?`+${w}`:`${w}%`,m=()=>{const w=Object.values(s.expertOpinions),C=w.filter(_=>_.recommendation==="Accept").length,S=w.filter(_=>_.recommendation==="Reject").length;return{accepts:C,rejects:S,total:w.length}},{accepts:g,rejects:v,total:k}=m(),N=window.cvrYesClicked===!0;return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Decision Summary"}),r.jsx("button",{onClick:()=>p(),className:"text-gray-500 hover:text-gray-700",children:r.jsx(us,{size:24})})]}),r.jsxs("div",{ref:f,className:"p-6 flex-1 overflow-auto relative",children:[r.jsx("div",{className:"mb-6 bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-400 rounded-xl shadow-md p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx(Vi,{className:"text-yellow-600",size:24})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-bold text-yellow-900 text-base mb-2",children:"Why You're Seeing This Page"}),r.jsxs("p",{className:"text-yellow-800 text-sm leading-relaxed mb-3",children:["This is your ",r.jsx("strong",{children:"final review"})," before committing to this decision. You're seeing a summary of what you've chosen and how it will affect your mission."]}),r.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-3 rounded-r-lg",children:[r.jsx("p",{className:"text-yellow-900 text-sm font-semibold mb-1",children:'Important: What Happens When You Click "Confirm Decision"'}),r.jsxs("ul",{className:"text-yellow-800 text-sm space-y-1 ml-4 list-disc",children:[r.jsxs("li",{children:["This option's impacts will be ",r.jsx("strong",{children:"permanently applied"})," to your cumulative simulation scores"]}),r.jsxs("li",{children:["All metrics (lives saved, resources, infrastructure, etc.) will be ",r.jsx("strong",{children:"updated immediately"})]}),r.jsxs("li",{children:["These changes will ",r.jsx("strong",{children:"carry forward"})," to the next scenario, affecting your future options"]}),r.jsxs("li",{children:["You ",r.jsx("strong",{children:"cannot undo"})," this decision once confirmed"]})]})]}),r.jsx("p",{className:"text-yellow-800 text-xs mt-2 italic",children:"Take your time to review the expert consensus and impact summary below before confirming."})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:s.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:s.description})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"Expert Consensus"}),r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Di,{className:"text-green-500",size:20}),r.jsxs("span",{className:"font-medium text-green-700",children:[g," Recommend"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tu,{className:"text-red-500",size:20}),r.jsxs("span",{className:"font-medium text-red-700",children:[v," Do Not Recommend"]})]}),r.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:[g,"/",k," experts support this decision"]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors mb-3 group",children:[r.jsx("h5",{className:"font-medium text-gray-700",children:"Impact Summary"}),r.jsx("div",{className:"text-gray-600",children:c?r.jsx(hx,{size:20}):r.jsx(Yn,{size:20})})]}),c&&r.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded border-l-4 border-green-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xi,{size:16,className:"text-green-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Lives Saved"})]}),r.jsx("span",{className:"font-bold text-green-600",children:b(s.impact.livesSaved,!0)})]}),s.impact.humanCasualties>0&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded border-l-4 border-red-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nl,{size:16,className:"text-red-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Casualties"})]}),r.jsx("span",{className:"font-bold text-red-600",children:b(s.impact.humanCasualties,!1,!0)})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(si,{size:14,className:"text-blue-600"}),r.jsx("span",{className:"text-xs font-medium",children:"Resources"})]}),r.jsx("span",{className:"text-sm font-bold text-blue-600",children:b(s.impact.firefightingResource)})]}),r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Sn,{size:14,className:"text-gray-600"}),r.jsx("span",{className:"text-xs font-medium",children:"Infrastructure"})]}),r.jsx("span",{className:"text-sm font-bold text-gray-600",children:b(s.impact.infrastructureCondition)})]}),r.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ja,{size:14,className:"text-green-600"}),r.jsx("span",{className:"text-xs font-medium",children:"Biodiversity"})]}),r.jsx("span",{className:"text-sm font-bold text-green-600",children:b(s.impact.biodiversityCondition)})]}),r.jsxs("div",{className:"flex items-center justify-between p-2 bg-purple-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(jl,{size:14,className:"text-purple-600"}),r.jsx("span",{className:"text-xs font-medium",children:"Nuclear"})]}),r.jsx("span",{className:"text-sm font-bold text-purple-600",children:b(s.impact.nuclearPowerStation)})]})]})]})]}),!i&&r.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-200 rounded-lg relative",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-400 to-red-400 rounded-full flex items-center justify-center animate-pulse",children:r.jsx("span",{className:"text-white text-sm font-bold",children:"!"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-orange-800 mb-1",children:"Action Required"}),r.jsx("p",{className:"text-xs text-orange-700",children:"Please review alternatives before confirming your decision."})]})]})}),u&&r.jsx("div",{className:"sticky bottom-0 left-0 right-0 flex justify-center pb-4",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-xs px-4 py-2 rounded-full shadow-lg animate-bounce",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yn,{size:16}),r.jsx("span",{children:"Scroll down to see more"}),r.jsx(Yn,{size:16})]})})})]}),r.jsx("div",{className:"border-t p-6 bg-gray-50",children:r.jsxs("div",{className:"flex flex-col gap-3 max-w-md mx-auto",children:[r.jsxs("button",{onClick:()=>p(),className:"w-full flex items-center justify-center gap-3 px-8 py-4 rounded-xl transition-all duration-300 bg-gradient-to-r from-gray-600 to-gray-700 text-white hover:from-gray-700 hover:to-gray-800 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold text-base group",children:[r.jsx(px,{size:20,className:"group-hover:rotate-180 transition-transform duration-500"}),"Change My Mind"]}),r.jsxs("button",{onClick:n,disabled:!i,className:`w-full flex items-center justify-center gap-3 px-8 py-4 rounded-xl transition-all duration-300 font-semibold text-base shadow-lg ${i?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 hover:shadow-xl transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:i?"":"Review alternatives to enable confirmation",children:[r.jsx(Jb,{size:20}),"Confirm Decision"]}),!i&&r.jsx("p",{className:"text-xs text-center text-orange-600 italic",children:"You must view all alternatives before confirming"})]})})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center",children:r.jsx(ct,{className:"text-orange-500",size:32})})}),N?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center mb-3",children:"Your Value Reflection Will Be Cleared"}),r.jsx("p",{className:"text-gray-600 text-center mb-6",children:"You confirmed your decision in the value reflection scenario. If you go back now, your response to that reflection question will be cleared, and the value prioritization you established will be reset."}),r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Tip:"})," Consider confirming your current decision to preserve your value reflection response, or continue if you'd like to reconsider your choice from the beginning."]})})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center mb-3",children:"Your Preference Changes Will Be Lost"}),r.jsx("p",{className:"text-gray-600 text-center mb-6",children:"You recently reordered your values to help guide this decision. If you go back now, these personalized rankings will be cleared and you'll need to set them up again if you want to use them."}),r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Tip:"})," Consider confirming your current decision to preserve your preference settings, or continue if you'd like to explore other options from scratch."]})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:x,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Stay Here"}),r.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Continue Anyway"})]})]})})})]})},c0="label";function Vm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function eS(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function d0(t,e){t.labels=e}function u0(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c0;const n=[];t.datasets=e.map(i=>{const a=t.datasets.find(o=>o[s]===i[s]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function tS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c0;const s={labels:[],datasets:[]};return d0(s,t.labels),u0(s,t.datasets,e),s}function sS(t,e){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=t,p=j.useRef(null),y=j.useRef(null),x=()=>{p.current&&(y.current=new di(p.current,{type:o,data:tS(l,a),options:c&&{...c},plugins:d}),Vm(e,y.current))},b=()=>{Vm(e,null),y.current&&(y.current.destroy(),y.current=null)};return j.useEffect(()=>{!i&&y.current&&c&&eS(y.current,c)},[i,c]),j.useEffect(()=>{!i&&y.current&&d0(y.current.config.data,l.labels)},[i,l.labels]),j.useEffect(()=>{!i&&y.current&&l.datasets&&u0(y.current.config.data,l.datasets,a)},[i,l.datasets]),j.useEffect(()=>{y.current&&(i?(b(),setTimeout(x)):y.current.update(h))},[i,c,l.labels,l.datasets,h]),j.useEffect(()=>{y.current&&(b(),setTimeout(x))},[o]),j.useEffect(()=>(x(),()=>b()),[]),nn.createElement("canvas",{ref:p,role:"img",height:s,width:n,...f},u)}const nS=j.forwardRef(sS);function Qu(t,e){return di.register(e),j.forwardRef((s,n)=>nn.createElement(nS,{...s,ref:n,type:t}))}const h0=Qu("line",jo),Ku=Qu("bar",wo),iS=Qu("radar",No);di.register(fa,ma,Bi,Ju,Tl,Rl,Ti,Kn,as,i0);const Nc={"Fire Containment":"fireContainment","Population Safety":"populationSafety","Ethical Fairness":"ethicalFairness","Firefighter Risk":"firefighterRisk","Resource Use":"resourceUse","Infrastructure Damage":"infrastructureDamage","Biodiversity Impact":"biodiversityImpact"},rS=({showRadarChart:t,onClose:e,currentScenario:s,toggledOptions:n,toggleOption:i,prepareRadarChartData:a,radarOptions:o})=>{var I,E,F,te;const[l,c]=j.useState("Fire Containment"),[d,u]=j.useState("radar"),[h,f]=j.useState(()=>localStorage.getItem("hasClickedBar")==="true"),[p,y]=j.useState(()=>localStorage.getItem("hasClickedDifferences")==="true");if(!t)return null;const x=[...s.options];Object.values(n).filter(Boolean).length;const b={fireContainment:100,populationSafety:100,ethicalFairness:100,firefighterRisk:0,resourceUse:0,infrastructureDamage:0,biodiversityImpact:0},m=["Fire Containment","Population Safety","Ethical Fairness","Firefighter Risk","Resource Use","Infrastructure Damage","Biodiversity Impact"],g=R=>["Fire Containment","Population Safety","Ethical Fairness"].includes(R),v={standard:["rgba(239, 68, 68, 0.7)","rgba(59, 130, 246, 0.7)","rgba(16, 185, 129, 0.7)","rgba(245, 158, 11, 0.7)","rgba(139, 92, 246, 0.7)"],border:["rgb(239, 68, 68)","rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(139, 92, 246)"]},k=()=>{const R=x.filter(V=>n[V.id]).map((V,A)=>({label:V.title,data:m.map(B=>{var T;return((T=V.radarData)==null?void 0:T[Nc[B]])||0}),backgroundColor:v.standard[A%v.standard.length],borderColor:v.border[A%v.border.length],borderWidth:2}));return{labels:m,datasets:R}},N=()=>{const R=x.filter(A=>n[A.id]),V=Nc[l];return{labels:R.map(A=>A.title),datasets:[{label:l,data:R.map(A=>{var B;return((B=A.radarData)==null?void 0:B[V])||0}),backgroundColor:R.map((A,B)=>v.standard[B%v.standard.length]),borderColor:R.map((A,B)=>v.border[B%v.border.length]),borderWidth:2},{label:"Ideal",data:Array(R.length).fill(b[V]),type:"line",borderColor:"rgba(138, 43, 226, 1)",borderWidth:2,borderDash:[5,5],fill:!1}]}},w=()=>{var B,T;const R=x.filter(z=>n[z.id]),V=Nc[l],A=[];for(let z=0;z<R.length;z++)for(let D=z+1;D<R.length;D++){const U=((B=R[z].radarData)==null?void 0:B[V])||0,X=((T=R[D].radarData)==null?void 0:T[V])||0,ge=Math.abs(U-X),ee=g(l)?U>X?R[z].title:R[D].title:U<X?R[z].title:R[D].title;A.push({option1:R[z].title,option2:R[D].title,difference:ge,better:ee})}return A.sort((z,D)=>D.difference-z.difference)},C=R=>{u(R),R==="bar"&&!h&&(f(!0),localStorage.setItem("hasClickedBar","true")),R==="differences"&&!p&&(y(!0),localStorage.setItem("hasClickedDifferences","true"))},S=R=>{c(R)},_=R=>{i(R)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(Qi,{className:"mr-2 text-blue-600",size:20}),"Decision Trade-Off Comparison"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>C("radar"),className:`px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${d==="radar"?"bg-blue-500 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx(tw,{size:16,className:"inline mr-1"}),"Radar"]}),r.jsxs("button",{onClick:()=>C("bar"),className:`px-3 py-1.5 rounded-md text-sm transition-all duration-200 relative ${d==="bar"?"bg-green-500 text-white shadow-lg scale-105":h?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 animate-pulse"}`,children:[r.jsx(qb,{size:16,className:"inline mr-1"}),"Bar",!h&&d!=="bar"&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full animate-ping"}),r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full"})]})]}),r.jsxs("button",{onClick:()=>C("differences"),className:`px-3 py-1.5 rounded-md text-sm transition-all duration-200 relative ${d==="differences"?"bg-purple-500 text-white shadow-lg scale-105":p?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 animate-pulse"}`,children:[r.jsx(fx,{size:16,className:"inline mr-1"}),"Differences",!p&&d!=="differences"&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full animate-ping"}),r.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full"})]})]}),r.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:r.jsx(us,{size:20})})]})]}),r.jsxs("div",{className:"p-4 flex-1 overflow-auto",children:[d!=="radar"&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Metrics"}),r.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border border-emerald-200 rounded-lg p-3 shadow-sm",children:[r.jsxs("h5",{className:"text-xs font-bold text-emerald-800 mb-2 flex items-center",children:[r.jsx("span",{className:"bg-emerald-200 rounded-full w-2 h-2 mr-2"}),"Positive Impact (Higher is Better)"]}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:["Fire Containment","Population Safety","Ethical Fairness"].map(R=>r.jsx("button",{onClick:()=>S(R),className:`px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${l===R?"bg-emerald-600 text-white shadow-lg scale-105":"bg-white text-emerald-700 hover:bg-emerald-100 border border-emerald-300"}`,children:R},R))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 border border-rose-200 rounded-lg p-3 shadow-sm",children:[r.jsxs("h5",{className:"text-xs font-bold text-rose-800 mb-2 flex items-center",children:[r.jsx("span",{className:"bg-rose-200 rounded-full w-2 h-2 mr-2"}),"Negative Impact (Lower is Better)"]}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:["Firefighter Risk","Resource Use","Infrastructure Damage","Biodiversity Impact"].map(R=>r.jsx("button",{onClick:()=>S(R),className:`px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${l===R?"bg-rose-600 text-white shadow-lg scale-105":"bg-white text-rose-700 hover:bg-rose-100 border border-rose-300"}`,children:R},R))})]})]})})]}),d==="radar"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Scenario Selected Options"}),r.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(R=>r.jsxs("button",{onClick:()=>_(R.id),className:`w-full p-2 rounded-lg flex items-center justify-between transition-all duration-200 ${n[R.id]?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${n[R.id]?"bg-gray-500":"bg-gray-300"}`}),r.jsx("span",{className:"text-sm font-medium",children:R.title})]}),n[R.id]?r.jsx(Ws,{size:16,className:"text-current"}):r.jsx(lc,{size:16,className:"text-current"})]},R.id))})})]}),r.jsx("div",{className:"h-[450px]",children:r.jsx(iS,{data:k(),options:{...o,scales:{r:{...(I=o==null?void 0:o.scales)==null?void 0:I.r,pointLabels:{...(F=(E=o==null?void 0:o.scales)==null?void 0:E.r)==null?void 0:F.pointLabels,color:function(R){const V=R.label;return g(V)?"#059669":"#dc2626"},font:{size:12,weight:"bold"}}}},plugins:{...o==null?void 0:o.plugins,legend:{...(te=o==null?void 0:o.plugins)==null?void 0:te.legend}}},plugins:[{id:"radarBackground",beforeDraw:R=>{const V=R.ctx,A=R.chartArea,B=R.scales.r;if(!B||!A)return;V.save();const T=B.xCenter,z=B.yCenter,D=B.drawingArea;m.forEach((U,X)=>{const ge=Math.PI*2*X/m.length-Math.PI/2,ee=Math.PI*2*(X+1)/m.length-Math.PI/2;V.beginPath(),V.moveTo(T,z),V.arc(T,z,D,ge,ee),V.closePath(),g(U)?V.fillStyle="rgba(16, 185, 129, 0.08)":V.fillStyle="rgba(239, 68, 68, 0.08)",V.fill()}),V.restore()}}]})}),r.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Metrics Legend"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[r.jsx("h5",{className:"text-sm font-medium text-green-800 mb-2",children:"Positive Impact Metrics (Higher is Better)"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ni,{size:16,className:"text-red-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Fire Containment"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ki,{size:16,className:"text-blue-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Population Safety"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Rn,{size:16,className:"text-purple-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Ethical Fairness"})]})]})]}),r.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[r.jsx("h5",{className:"text-sm font-medium text-red-800 mb-2",children:"Negative Impact Metrics (Lower is Better)"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ct,{size:16,className:"text-orange-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Firefighter Risk"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(si,{size:16,className:"text-blue-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Resource Use"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Sn,{size:16,className:"text-gray-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Infrastructure Damage"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ja,{size:16,className:"text-green-500 mr-2"}),r.jsx("span",{className:"text-sm",children:"Biodiversity Impact"})]})]})]})]})]})]}),d==="bar"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Scenario Selected Options"}),r.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(R=>r.jsxs("button",{onClick:()=>_(R.id),className:`w-full p-2 rounded-lg flex items-center justify-between transition-all duration-200 ${n[R.id]?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${n[R.id]?"bg-gray-500":"bg-gray-300"}`}),r.jsx("span",{className:"text-sm font-medium",children:R.title})]}),n[R.id]?r.jsx(Ws,{size:16,className:"text-current"}):r.jsx(lc,{size:16,className:"text-current"})]},R.id))})})]}),r.jsx("div",{className:"h-[450px]",children:r.jsx(Ku,{data:N(),options:{responsive:!0,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:l}}},plugins:{legend:{position:"bottom",labels:{filter:function(R){return R.text==="Ideal"}}},tooltip:{callbacks:{label:R=>{const V=R.raw;return`${R.dataset.label}: ${V} (${g(l)?"Higher is better":"Lower is better"})`}}}}}})})]}),d==="differences"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Scenario Selected Options"}),r.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(R=>r.jsxs("button",{onClick:()=>_(R.id),className:`w-full p-2 rounded-lg flex items-center justify-between transition-all duration-200 ${n[R.id]?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${n[R.id]?"bg-gray-500":"bg-gray-300"}`}),r.jsx("span",{className:"text-sm font-medium",children:R.title})]}),n[R.id]?r.jsx(Ws,{size:16,className:"text-current"}):r.jsx(lc,{size:16,className:"text-current"})]},R.id))})})]}),r.jsx("div",{className:"space-y-3",children:w().map((R,V)=>r.jsxs("div",{className:"bg-white border-2 border-gray-200 hover:border-blue-300 p-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold text-gray-800",children:R.option1}),r.jsx("span",{className:"text-gray-400 font-medium",children:"vs"}),r.jsx("span",{className:"font-semibold text-gray-800",children:R.option2})]}),r.jsxs("span",{className:"font-bold text-purple-600 bg-purple-50 px-3 py-1 rounded-lg",children:[" ",R.difference.toFixed(1)]})]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.jsx("span",{className:"font-semibold text-blue-700 bg-blue-50 px-2 py-1 rounded",children:R.better})," ",r.jsx("span",{className:"text-gray-500",children:"performs better in this metric"})]})]},V))})]})]})]})})},aS=({isOpen:t,onClose:e,alternativeOptions:s,onAddAlternative:n})=>{const[i,a]=j.useState(null);if(!t)return null;const o=h=>{switch(h){case"safety":return r.jsx(Ki,{className:"text-red-500",size:16});case"efficiency":return r.jsx(Ko,{className:"text-yellow-500",size:16});case"sustainability":return r.jsx(Mu,{className:"text-green-500",size:16});case"fairness":return r.jsx(Rn,{className:"text-blue-500",size:16});case"nonmaleficence":return r.jsx(_u,{className:"text-purple-500",size:16});default:return null}},l=h=>h==="Accept"?r.jsx(Di,{className:"text-green-600",size:18}):h==="Reject"?r.jsx(Tu,{className:"text-red-600",size:18}):r.jsx(Ko,{className:"text-gray-600",size:18}),c=h=>h.charAt(0).toUpperCase()+h.slice(1)+" Expert",d=h=>Object.values(h.expertOpinions).filter(f=>f.recommendation==="Accept").length,u=()=>{a(null),e()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl max-w-7xl w-full h-[90vh] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[r.jsx(bn,{className:"mr-2.5 text-purple-600",size:24}),"Explore Alternative Decisions"]}),r.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-white rounded-lg",children:r.jsx(us,{size:24})})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:i?r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"px-6 pt-4 pb-3 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:[r.jsxs("button",{onClick:()=>a(null),className:"text-sm text-purple-600 hover:text-purple-800 flex items-center font-medium mb-3 hover:underline",children:[r.jsx(us,{size:16,className:"mr-1"}),"Back to alternatives"]}),r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-bold text-blue-900 mb-1.5",children:"Decision Overview"}),r.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:i.description})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg border-2 border-blue-200 shadow-sm",children:[r.jsx(Di,{className:"text-green-600",size:18}),r.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[d(i),"/5"]}),r.jsx("span",{className:"text-xs text-gray-600",children:"recommend"})]})]}),r.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:i.riskInfo.map((h,f)=>r.jsxs("div",{className:"flex items-start bg-white rounded-lg px-2 py-1.5",children:[r.jsx("span",{className:"text-blue-500 mr-1.5 mt-0.5 font-bold",children:""}),r.jsx("p",{className:"text-xs text-blue-800",children:h})]},f))})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[r.jsx("h4",{className:"text-base font-bold text-gray-800 mb-3 flex items-center",children:r.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm mr-2",children:"Expert Evaluations"})}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:Object.entries(i.expertOpinions).map(([h,f])=>r.jsxs("div",{className:`rounded-xl p-4 border-2 transition-all duration-200 ${f.recommendation==="Accept"?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg":f.recommendation==="Reject"?"bg-gradient-to-br from-red-50 to-pink-50 border-red-200 hover:shadow-lg":"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-200 hover:shadow-lg"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[o(h),r.jsx("h5",{className:"text-sm font-bold text-gray-800",children:c(h)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[l(f.recommendation),r.jsx("span",{className:`text-sm font-bold px-3 py-1 rounded-full ${f.recommendation==="Accept"?"bg-green-600 text-white":f.recommendation==="Reject"?"bg-red-600 text-white":"bg-gray-600 text-white"}`,children:f.recommendation})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"bg-white bg-opacity-70 p-2.5 rounded-lg",children:r.jsxs("p",{className:"text-xs text-gray-800 leading-relaxed",children:[r.jsx("span",{className:"font-bold text-gray-900",children:"Analysis:"})," ",f.summary]})}),r.jsx("div",{className:"bg-blue-100 bg-opacity-50 p-2.5 rounded-lg",children:r.jsxs("p",{className:"text-xs text-blue-900 leading-relaxed",children:[r.jsx("span",{className:"font-bold",children:"Comparison:"})," ",f.comparison]})})]})]},h))})]}),r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:r.jsxs("button",{onClick:()=>{n(i),u()},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-2 transition-all duration-200 shadow-lg hover:shadow-xl text-base",children:[r.jsx(bn,{size:20}),"Add Alternative to Decision List"]})})]}):r.jsx(r.Fragment,{children:s.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-full p-8 mb-6 shadow-lg",children:r.jsx(Fs,{className:"text-green-600",size:56})}),r.jsx("h4",{className:"text-2xl font-bold text-gray-800 mb-3 text-center",children:"All Alternatives Explored!"}),r.jsx("p",{className:"text-base text-gray-600 text-center max-w-md mb-8 leading-relaxed",children:"You've successfully reviewed and added all available alternative decisions for this scenario. All options are now visible on the simulation page, ready for your evaluation."}),r.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-5 mb-8 max-w-md",children:r.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[r.jsx("span",{className:"font-semibold",children:"Next Steps:"})," Return to the simulation page to compare all options, review their metrics, and make your final decision."]})}),r.jsxs("button",{onClick:u,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-3.5 px-8 rounded-xl flex items-center gap-2 transition-all duration-200 shadow-lg hover:shadow-xl",children:[r.jsx(aa,{size:20}),"Return to Simulation"]})]}):r.jsxs("div",{className:"p-8 h-full flex flex-col",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 p-5 rounded-2xl mb-6 shadow-sm",children:[r.jsxs("h4",{className:"text-base font-bold text-purple-900 mb-2 flex items-center",children:[r.jsx(bn,{className:"mr-2 text-purple-600",size:20}),"About Alternative Decisions"]}),r.jsx("p",{className:"text-sm text-purple-700 leading-relaxed",children:"Our experts have analyzed alternative strategies that might offer different trade-offs. These options provide unique approaches to handling the crisis, potentially balancing various factors in innovative ways."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5 flex-1 overflow-y-auto pr-2",children:s.map(h=>r.jsxs("div",{className:"flex flex-col bg-white rounded-2xl border-2 border-gray-200 hover:border-purple-400 hover:shadow-2xl transition-all duration-300 h-fit",children:[r.jsxs("div",{className:"p-5 flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("h5",{className:"font-bold text-gray-900 text-base leading-tight flex-1 mr-2",children:h.title}),r.jsxs("div",{className:"flex items-center gap-1.5 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800 px-3 py-1.5 rounded-full font-bold whitespace-nowrap shadow-sm",children:[r.jsx(Di,{size:14}),r.jsxs("span",{className:"text-xs",children:[d(h),"/5"]})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed line-clamp-2",children:h.description}),r.jsxs("div",{className:"space-y-2 mb-4",children:[h.riskInfo.slice(0,2).map((f,p)=>r.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-2",children:[r.jsx("span",{className:"text-purple-500 mr-2 mt-0.5 font-bold text-sm",children:""}),r.jsx("p",{className:"text-xs text-gray-700 leading-relaxed line-clamp-2",children:f})]},p)),h.riskInfo.length>2&&r.jsxs("p",{className:"text-xs text-purple-600 font-semibold pl-2",children:["+",h.riskInfo.length-2," more details..."]})]})]}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-purple-50 border-t-2 border-gray-100 rounded-b-2xl",children:r.jsxs("button",{onClick:()=>a(h),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[r.jsx(Cs,{size:18}),"Select & View Details"]})})]},h.id))})]})})})]})})},oS=({isOpen:t,onClose:e,question:s,onAnswer:n})=>t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ct,{className:"text-yellow-500\\",size:24}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Value Reflection Required"})]}),r.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:r.jsx(us,{size:20})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:s.descriptionTile}),r.jsx("p",{className:"text-gray-600 mb-4",children:s.description}),r.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:r.jsx("p",{className:"text-yellow-800 font-medium",children:s.question})})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>n(!0),className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Yes, I would"}),r.jsx("button",{onClick:()=>n(!1),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors duration-200",children:"No, I would not"})]})]})]})}):null,lS=({onBack:t,selectedOption:e,mainScenario:s,onConfirm:n,scenarioId:i=1,isLastScenario:a=!1})=>{const[o,l]=j.useState(!0),{comparisonTableColumnContent:c}=e;return r.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen p-6 flex-1 flex flex-col",children:r.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[r.jsxs("button",{onClick:t,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2 transition-colors",children:[r.jsx(aa,{size:20}),"Back to Simulation"]}),r.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 border border-gray-200 rounded-xl p-4 mb-4",children:[r.jsxs("button",{onClick:()=>l(!o),className:"w-full flex items-center justify-between text-left hover:opacity-80 transition-opacity",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-md",children:r.jsx(bn,{className:"text-white",size:20})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Why You're Seeing This Page"})]}),r.jsx(Yn,{size:20,className:`text-gray-600 transition-transform duration-300 ${o?"":"rotate-180"}`})]}),r.jsx("div",{className:`overflow-hidden transition-all duration-300 ${o?"max-h-0":"max-h-96"}`,children:r.jsxs("div",{className:"pt-4 space-y-3",children:[r.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:"This section is here to simply help you reflect  not to tell you what you should have chosen."}),r.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:"The purpose of the value-reflection scenario is to show how the same core values feel when they appear in a different storyline."}),r.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:"Sometimes people respond differently without realizing it. This page helps you think about which part of your decision-making matters most to you right now."})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-5 text-center",children:"We Noticed a Difference in Your Recent Choices"}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 border-l-4 border-blue-500 p-4 rounded-r-xl mb-6 shadow-sm",children:[r.jsx("p",{className:"text-gray-800 leading-relaxed mb-3 text-sm",children:"Earlier in the simulation, you selected an option that reflected a certain value."}),r.jsx("p",{className:"text-gray-800 leading-relaxed mb-3 text-sm",children:"A moment later, when you were shown a very similar scenario designed to reflect your chosen value-based option, you reacted differently and rejected the same value-based option you had previously accepted in a different scenario."}),r.jsx("p",{className:"text-gray-700 leading-relaxed italic text-sm",children:"This happens to many people  especially when the same moral values appear in new or stressful contexts."})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-teal-500 flex items-center justify-center shadow-md",children:r.jsx(Ws,{className:"text-white",size:20})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Here's What You Chose Before"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white border-2 border-blue-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx(Rn,{className:"text-blue-600",size:20})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Your Simulation Scenario Choice"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Scenario Title"}),r.jsx("p",{className:"text-sm text-gray-800 font-medium",children:c.firstColumnTitle})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Affected Population"}),r.jsxs("p",{className:"text-sm text-gray-800",children:[c.firstColumnAffected.toLocaleString()," residents"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Decision Trade-off"}),r.jsx("p",{className:"text-sm text-gray-800",children:c.firstColumnRisk})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Applied Moral Value"}),r.jsx("p",{className:"text-sm text-gray-800 font-medium",children:c.firstValue})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Your Response"}),r.jsx("p",{className:`text-sm font-semibold ${c.firstColumnuserChoice==="Accepted"?"text-green-600":"text-red-600"}`,children:c.firstColumnuserChoice==="Accepted"?" Accepted":" Rejected"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-white border-2 border-teal-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center",children:r.jsx(Ws,{className:"text-teal-600",size:20})}),r.jsx("h3",{className:"text-lg font-semibold text-teal-900",children:"Your Value-Reflection Scenario Choice"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Scenario Title"}),r.jsx("p",{className:"text-sm text-gray-800 font-medium",children:c.secondColumnTitle})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Affected Population"}),r.jsxs("p",{className:"text-sm text-gray-800",children:[c.secondColumnaffected.toLocaleString()," residents"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Decision Trade-off"}),r.jsx("p",{className:"text-sm text-gray-800",children:c.secondColumnRisk})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Applied Moral Value"}),r.jsx("p",{className:"text-sm text-gray-800 font-medium",children:c.secondValue})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Your Response"}),r.jsx("p",{className:`text-sm font-semibold ${c.secondColumnuserChoice==="Accepted"?"text-green-600":"text-red-600"}`,children:c.secondColumnuserChoice==="Accepted"?" Accepted":" Rejected"})]})]})]})]}),r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-center",children:r.jsx("p",{className:"text-amber-900 font-medium text-sm",children:"Both scenarios affected the same number of residents and carried nearly the same consequences, yet your reactions were different."})})]}),r.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-3 py-4 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[r.jsx(aa,{size:24}),"Return to Simulation Main Page"]})]})]})})},ao=({id:t,title:e,children:s,variant:n="info",defaultExpanded:i=!1})=>{const a=`help-message-${t}-hidden`,[o,l]=j.useState(i),[c,d]=j.useState(!1);j.useEffect(()=>{const h=localStorage.getItem(a)==="true";d(h)},[a]);const u=()=>{localStorage.setItem(a,"true"),d(!0)};return c?null:r.jsx("div",{className:"relative mb-4",children:r.jsxs("div",{className:"border-2 bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-400 rounded-xl shadow-md overflow-hidden transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between p-4",children:[r.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-3 flex-1 text-left group",children:[r.jsx("div",{className:"text-yellow-600 transition-colors",children:r.jsx(Vi,{size:20})}),r.jsx("h4",{className:"font-semibold text-yellow-900 text-sm group-hover:opacity-75 transition-opacity",children:e}),r.jsx("div",{className:"ml-auto text-yellow-600",children:o?r.jsx(hx,{size:20}):r.jsx(Yn,{size:20})})]}),r.jsx("button",{onClick:u,className:"ml-2 text-yellow-600 hover:opacity-75 transition-opacity",title:"Hide this message permanently",children:r.jsx(us,{size:18})})]}),o&&r.jsx("div",{className:"px-4 pb-4 text-yellow-900 text-sm leading-relaxed space-y-2 animate-in fade-in duration-200",children:s})]})})},cS=({isOpen:t,onClose:e,option:s})=>{const[n,i]=j.useState(!0),[a,o]=j.useState(!1),l=j.useRef(null),c=Object.keys(s.expertOpinions).length;j.useEffect(()=>{if(!t){i(!0),o(!1);return}const p=setTimeout(()=>{const y=l.current;if(y){const x=y.scrollHeight>y.clientHeight;i(x)}},800);return()=>clearTimeout(p)},[t]);const d=p=>{const y=p.currentTarget;y.scrollTop/(y.scrollHeight-y.clientHeight)*100>10&&(i(!1),o(!0))},u=()=>{l.current&&l.current.scrollTo({top:l.current.scrollHeight*.3,behavior:"smooth"})};if(!t)return null;const h={safety:{name:"Safety",icon:Ki,iconColor:"text-blue-600",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-300",accentColor:"bg-blue-500"},efficiency:{name:"Efficiency",icon:si,iconColor:"text-cyan-600",bgGradient:"from-cyan-50 to-cyan-100",borderColor:"border-cyan-300",accentColor:"bg-cyan-500"},sustainability:{name:"Sustainability",icon:Mu,iconColor:"text-green-600",bgGradient:"from-green-50 to-green-100",borderColor:"border-green-300",accentColor:"bg-green-500"},fairness:{name:"Fairness",icon:Rn,iconColor:"text-purple-600",bgGradient:"from-purple-50 to-purple-100",borderColor:"border-purple-300",accentColor:"bg-purple-500"},nonmaleficence:{name:"Nonmaleficence",icon:_u,iconColor:"text-red-600",bgGradient:"from-red-50 to-red-100",borderColor:"border-red-300",accentColor:"bg-red-500"}},f=p=>{switch(p){case"Accept":return"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-md";case"Reject":return"bg-gradient-to-r from-red-500 to-rose-600 text-white shadow-md";case"Neutral":return"bg-gradient-to-r from-yellow-400 to-amber-500 text-white shadow-md";default:return"bg-gray-200 text-gray-700"}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 overflow-y-auto backdrop-blur-sm",children:r.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl max-w-5xl w-full my-8 border border-gray-200",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-teal-600 to-cyan-600 rounded-t-2xl p-6 flex items-center justify-between z-10 shadow-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:s.title}),r.jsx("p",{className:"text-teal-50 text-sm leading-relaxed",children:s.description})]}),r.jsx("button",{onClick:e,className:"text-white hover:text-teal-100 transition-colors p-2 rounded-full hover:bg-white hover:bg-opacity-20 ml-4",children:r.jsx(us,{size:28})})]}),r.jsxs("div",{ref:l,onScroll:d,className:"p-6 max-h-[calc(90vh-10rem)] overflow-y-auto relative",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-teal-500 to-cyan-500 rounded-full"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Expert Analysis"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:Object.entries(s.expertOpinions).map(([p,y])=>{const x=h[p],b=x.icon;return r.jsxs("div",{className:`bg-gradient-to-br ${x.bgGradient} border-2 ${x.borderColor} rounded-xl p-5 shadow-md hover:shadow-xl transition-shadow duration-300`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`${x.accentColor} p-3 rounded-lg shadow-md`,children:r.jsx(b,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[x.name," Expert"]}),r.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Professional Assessment"})]})]}),r.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-bold ${f(y.recommendation)}`,children:y.recommendation})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-blue-500 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(bn,{size:16,className:"text-blue-600"}),r.jsx("h4",{className:"text-sm font-bold text-blue-900 uppercase tracking-wide",children:"Analysis"})]}),r.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:y.summary})]}),r.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-purple-500 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(fx,{size:16,className:"text-purple-600"}),r.jsx("h4",{className:"text-sm font-bold text-purple-900 uppercase tracking-wide",children:"Comparison"})]}),r.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:y.comparison})]}),r.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-emerald-500 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ru,{size:16,className:"text-emerald-600"}),r.jsx("h4",{className:"text-sm font-bold text-emerald-900 uppercase tracking-wide",children:"Confidence Level"})]}),r.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:y.confidence})]})]})]},p)})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-xl p-5 shadow-md",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-indigo-500 rounded-full"}),r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Simulation Metrics Impact Summary"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-green-500 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xi,{size:16,className:"text-green-600"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Lives Saved"})]}),r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["+",s.impact.livesSaved]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-red-500 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Nl,{size:16,className:"text-red-600"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Casualties"})]}),r.jsxs("span",{className:"text-lg font-bold text-red-600",children:["+",s.impact.humanCasualties]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-cyan-500 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(si,{size:16,className:"text-cyan-600"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Resources"})]}),r.jsxs("span",{className:"text-lg font-bold text-cyan-600",children:[s.impact.firefightingResource,"%"]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-gray-500 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sn,{size:16,className:"text-gray-600"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Infrastructure"})]}),r.jsxs("span",{className:"text-lg font-bold text-gray-600",children:[s.impact.infrastructureCondition,"%"]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-emerald-500 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ja,{size:16,className:"text-emerald-600"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Biodiversity"})]}),r.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:[s.impact.biodiversityCondition,"%"]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-blue-500 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sn,{size:16,className:"text-blue-600"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Properties"})]}),r.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[s.impact.propertiesCondition,"%"]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-purple-500 shadow-sm col-span-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jl,{size:16,className:"text-purple-600"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Nuclear Station"})]}),r.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[s.impact.nuclearPowerStation,"%"]})]})})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 border-2 border-orange-300 rounded-xl p-5 shadow-md",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-500 to-red-500 rounded-full"}),r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Key Considerations"})]}),r.jsx("div",{className:"space-y-2",children:s.riskInfo.map((p,y)=>r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-orange-500 shadow-sm",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-gray-800 leading-relaxed font-medium",children:p})]})},y))})]})]}),n&&!a&&r.jsxs("div",{className:"sticky bottom-0 left-0 right-0 pointer-events-none",children:[r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-white via-white/80 to-transparent"}),r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 pointer-events-auto",children:r.jsxs("button",{onClick:u,className:"group flex flex-col items-center gap-2 bg-gradient-to-r from-teal-500 to-cyan-500 text-white px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:from-teal-600 hover:to-cyan-600 animate-bounce",style:{animationDuration:"2s"},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-bold whitespace-nowrap",children:"More Expert Recommendations Below"}),r.jsx(Yn,{size:20,className:"group-hover:translate-y-0.5 transition-transform"})]}),r.jsx("div",{className:"flex gap-1",children:Array.from({length:c}).map((p,y)=>r.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full opacity-70"},y))})]})})]})]}),r.jsx("div",{className:"sticky bottom-0 bg-gradient-to-r from-gray-50 to-white rounded-b-2xl border-t-2 border-gray-200 p-6 shadow-lg",children:r.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700 px-6 py-4 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[r.jsx(us,{size:24}),"Close Review"]})})]})})},oo=[{id:1,title:"Wildfire Approaching a Town",description:"A wildfire is rapidly approaching a town with 2,000 residents. Critical decisions must be made about resource allocation and evacuation priorities.",options:[{id:"safety-first",title:"Prioritize Safety Protocol",label:"safety",description:"Deploy all available firefighters immediately to form defensive lines and evacuate population centers. This action will successfully evacuate all residents but exposes firefighters to intense danger, leading to casualties and resource depletion.",impact:{livesSaved:2e3,humanCasualties:12,firefightingResource:-38,infrastructureCondition:-15,biodiversityCondition:-12,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["2,000 residents safely evacuated through rapid deployment","12 firefighter casualties due to high exposure in intense zones","Firefighter morale potentially impacted by losses","Heavy short-term resource depletion may affect next emergency","Major fire spread contained near residential areas"],expertOpinions:{safety:{summary:"Ensures maximum civilian survival through aggressive intervention. However, the elevated firefighter risk could undermine future morale and readiness.",recommendation:"Accept",comparison:"Highest civilian survival (100%) among all options. Firefighter loss (12 personnel) introduces medium concern.",confidence:"High confidence based on historical evacuation efficiency in full-resource deployments."},efficiency:{summary:"Resource use is excessive relative to marginal gains over more targeted strategies.",recommendation:"Reject",comparison:"Uses 166% more resources than the efficiency-focused approach for a 42% increase in lives saved.",confidence:"Moderate confidence given modeled depletion thresholds and resource burn rates."},sustainability:{summary:"Environmental degradation is high due to aggressive fire suppression techniques.",recommendation:"Reject",comparison:"Causes 2.3x more environmental impact than the sustainability-focused approach.",confidence:"High confidence from ecological field data on containment burns."},fairness:{summary:"Effectively saves everyone, but accessible zones are disproportionately prioritized in execution.",recommendation:"Accept",comparison:"Outperforms all except fairness-focused plan in geographic equity.",confidence:"Moderate confidence based on standard evacuation route analysis."},nonmaleficence:{summary:"No civilian deaths, but responder harm remains ethically significant.",recommendation:"Accept",comparison:"Second-lowest total harm; only the nonmaleficence-focused strategy performs better.",confidence:"High confidence from harm-reduction comparative modeling."}},radarData:{fireContainment:90,firefighterRisk:60,resourceUse:84,infrastructureDamage:40,biodiversityImpact:35,ethicalFairness:75,populationSafety:100},cvrQuestion:{descriptionTile:" Forced Medical Sacrifice",description:"A chemical plant explosion has filled a city hospital with toxic fumes. To save 2,000 trapped patients, you can order a small team of 12 medical staff to enter the most contaminated zone to open sealed exits. Those 12 will certainly die, but everyone else will be evacuated safely.",question:"Would you order 12 medical staff to certain death so that 2,000 patients can be rescued?",value:"Safety"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Deploy all available firefighters immediately to form defensive lines and evacuate population centers",firstValue:"Safety",firstColumnAffected:2e3,firstColumnRisk:"12 firefighter casualties",firstColumnuserChoice:"Accepted",secondColumnTitle:"Forced Medical Sacrifice",secondColumnSelectedPreference:"Order 12 medical staff into a lethal zone to unlock exits and save 2,000 patients",secondValue:"Safety",secondColumnaffected:2e3,secondColumnRisk:"12 medical staff deaths",secondColumnuserChoice:"Rejected"}},{id:"efficiency-focused",title:"Resource Optimization Strategy",label:"efficiency",description:"Deploy firefighter teams only to the most critical zones, minimizing resource use while attempting to save as many lives as possible. However, limited coverage results in preventable resident deaths and minor firefighter casualties.",impact:{livesSaved:1400,humanCasualties:600,firefightingResource:-22,infrastructureCondition:-14,biodiversityCondition:-16,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["1,400 residents evacuated from high-priority zones","600 casualties from areas not prioritized","Firefighters remained mostly in low-risk sectors","Minimal firefighter exposure and casualties (0)","Resources preserved for future emergencies"],expertOpinions:{safety:{summary:"Substantial lives are saved but at the cost of abandoning lower-priority areas.",recommendation:"Reject",comparison:"600 deaths preventable under safety or nonmaleficence strategies.",confidence:"Moderate confidence based on demographic prioritization models."},efficiency:{summary:"Exceptional performance in lives saved per resource expended.",recommendation:"Accept",comparison:"Best efficiency ratio with 60 lives saved per 1% resource used.",confidence:"High confidence from optimization-based simulations."},sustainability:{summary:"Resources preserved, but ecological damage left unchecked.",recommendation:"Accept",comparison:"Ecological triage limits short-term loss but sacrifices containment.",confidence:"Low confidence due to variable fire behavior in uncontrolled spread."},fairness:{summary:"Benefits skewed toward urban centers, ignoring rural zones.",recommendation:"Reject",comparison:"Most inequitable strategy from a geographic fairness perspective.",confidence:"Moderate confidence from spatial resource allocation studies."},nonmaleficence:{summary:"Large-scale civilian loss undermines core harm-minimization ethics.",recommendation:"Reject",comparison:"600 deaths exceed acceptable ethical thresholds by 400%.",confidence:"High confidence from casualty probability projections."}},radarData:{fireContainment:60,firefighterRisk:20,resourceUse:50,infrastructureDamage:38,biodiversityImpact:45,ethicalFairness:45,populationSafety:70},cvrQuestion:{descriptionTile:" Lifeboat Bulkhead Order",description:"A cruise ship with 2,000 people is taking on water. To keep the ship afloat long enough to save 1,400 people using only 25% of rescue resources, you must order the sealing of six lower-deck bulkheads, deliberately trapping 600 passengers below.",question:"Would you seal the bulkheadscondemning 600 peopleso that 1,400 can be saved with minimal resources?",value:"Efficiency"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Deploy firefighter teams only to the most critical zones",firstValue:"Efficiency",firstColumnAffected:2e3,firstColumnRisk:"600 civilian deaths",firstColumnuserChoice:"Accepted",secondColumnTitle:"Lifeboat Bulkhead Order",secondColumnSelectedPreference:"Seal lower-deck bulkheads to preserve buoyancy and save 1,400 with limited resources",secondValue:"Efficiency",secondColumnaffected:2e3,secondColumnRisk:"600 passenger deaths",secondColumnuserChoice:"Rejected"}},{id:"sustainability-focused",title:"Eco-Conscious Containment",label:"sustainability",description:"Limit intervention to protect natural ecosystems and endangered species. Firefighters engage only in environmentally sensitive zones. Most civilians are left vulnerable, and several firefighters perish in inaccessible terrain.",impact:{livesSaved:900,humanCasualties:1100,firefightingResource:-26,infrastructureCondition:-12,biodiversityCondition:-8,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["900 residents rescued through low-impact paths","1,080 civilian casualties due to delayed evacuation","20 firefighter deaths during defensive ecological operations","Key wildlife corridors preserved and fire-resistant","Natural firebreaks used instead of industrial tools"],expertOpinions:{safety:{summary:"Unacceptably high casualty rate despite eco-priorities.",recommendation:"Reject",comparison:"Over 1,000 deaths make this the least protective of human life.",confidence:"High confidence from historical fire shelter failures."},efficiency:{summary:"Resources used for habitat protection, not for life-saving.",recommendation:"Reject",comparison:"33% fewer lives saved than efficiency plan with 60% more resource usage.",confidence:"Moderate confidence based on deployment logs."},sustainability:{summary:"Top-tier biodiversity preservation through minimal intrusion.",recommendation:"Accept",comparison:"85% lower impact on ecosystems than any other strategy.",confidence:"High confidence from ecological satellite assessments."},fairness:{summary:"Equitable if extended to non-human lives, ethically controversial otherwise.",recommendation:"Accept",comparison:"Reframes fairness beyond humanity but lacks population equity.",confidence:"Low confidence due to disputed ethical scope."},nonmaleficence:{summary:"Sacrifices too many for future benefitsethically disproportionate.",recommendation:"Reject",comparison:"Highest total harm in the name of ecological restraint.",confidence:"High confidence based on life-cycle harm index."}},radarData:{fireContainment:40,firefighterRisk:50,resourceUse:56,infrastructureDamage:32,biodiversityImpact:24,ethicalFairness:55,populationSafety:45},cvrQuestion:{descriptionTile:" Operate the Floodgates",description:"A collapsing dam threatens a rare wetland. To save the ecosystem, you can detonate a levee that will divert the torrent into low-lying neighborhoods. This will preserve the habitat but will kill 1,100 people, including 20 responders positioned to execute the operation, while 900 are rescued via low-impact routes.",question:"Would you deliberately breach the leveeknowing 1,100 people including 20 responders will dieto preserve the ecosystem?",value:"Sustainability"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Limit intervention to protect natural ecosystems and endangered species",firstValue:"Sustainability",firstColumnAffected:2e3,firstColumnRisk:"1,100 civilian deaths + 20 firefighters",firstColumnuserChoice:"Accepted",secondColumnTitle:"Operate the Floodgates",secondColumnSelectedPreference:"Breach a levee to save the wetland, sacrificing 1,100 people (incl. 20 responders)",secondValue:"Sustainability",secondColumnaffected:2e3,secondColumnRisk:"1,100 civilian deaths + 20 responder deaths",secondColumnuserChoice:"Rejected"}},{id:"fairness-focused",title:"Equitable Response Protocol",label:"fairness",description:"Distribute protection equally across all neighborhoods regardless of socioeconomic or geographic differences. This equitable approach stretches resources thin, leading to moderate civilian and firefighter losses.",impact:{livesSaved:1600,humanCasualties:400,firefightingResource:-32,infrastructureCondition:-14,biodiversityCondition:-14,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["1,600 residents saved through balanced evacuation zones","370 residents and 30 firefighters lost due to delayed response in all areas","No neighborhood prioritized over others","Fire spread difficult to contain due to thin coverage","Moral clarity but logistical challenge"],expertOpinions:{safety:{summary:"Saves a large number while ensuring equal effort across areas.",recommendation:"Accept",comparison:"Reasonable harm (400) with high geographic parity.",confidence:"Moderate confidence from area-distribution simulations."},efficiency:{summary:"Low strategic ROI from wide-spread deployment.",recommendation:"Reject",comparison:"Uses double the resources of efficient strategy with 14% more lives saved.",confidence:"High confidence based on resource-per-zone stats."},sustainability:{summary:"Moderate ecosystem protection at cost of uniformity.",recommendation:"Reject",comparison:"Less targeted response leads to higher net environmental loss.",confidence:"Moderate confidence due to fragmented zone support."},fairness:{summary:"Most ethically aligned with equal protection principles.",recommendation:"Accept",comparison:"Only option achieving full demographic impartiality.",confidence:"High confidence from population-based equity modeling."},nonmaleficence:{summary:"Moderate harm, ethically balanced, but preventable losses remain.",recommendation:"Accept",comparison:"Middle-of-the-road in harm scores, favors equity over efficiency.",confidence:"Moderate confidence based on weighted harm index."}},radarData:{fireContainment:65,firefighterRisk:55,resourceUse:68,infrastructureDamage:36,biodiversityImpact:40,ethicalFairness:90,populationSafety:80},cvrQuestion:{descriptionTile:" Hold the Beams",description:"After a major earthquake, rescue teams face collapsing corridors across rich and poor districts alike. To ensure equal access, you order teams to advance in lockstep across all districts. In several buildings, 30 rescuers must physically brace failing beams so that 1,600 people can passthose 30 will certainly die, and 400 residents still perish due to system-wide delays.",question:"Would you enforce perfectly equal deployment even if it requires 30 rescuers to accept certain death and results in 400 resident deaths due to slower aid?",value:"Fairness"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Distribute protection equally across all neighborhoods",firstValue:"Fairness",firstColumnAffected:2e3,firstColumnRisk:"400 deaths including 30 firefighters",firstColumnuserChoice:"Accepted",secondColumnTitle:"Hold the Beams",secondColumnSelectedPreference:"Maintain equal deployment; 30 rescuers brace failing structures to let 1,600 pass",secondValue:"Fairness",secondColumnaffected:2e3,secondColumnRisk:"400 civilian deaths + 30 rescuer deaths",secondColumnuserChoice:"Rejected"}},{id:"nonmaleficence-focused",title:"Harm Minimization Approach",label:"nonmaleficence",description:"Use every available strategy to minimize total harmboth human and ecologicalby shielding vulnerable communities, preempting infrastructure collapse, and preserving firefighter life. All civilians are rescued, but some firefighter lives are lost in the process.",impact:{livesSaved:2e3,humanCasualties:8,firefightingResource:-30,infrastructureCondition:-16,biodiversityCondition:-12,propertiesCondition:-16,nuclearPowerStation:0},riskInfo:["All 2,000 residents rescued using layered evacuation strategies","8 firefighter deaths during containment in hazardous areas","Focus on protecting both people and natural resources","Infrastructure takes significant damage as a trade-off","Lowest possible total harm achieved across all groups"],expertOpinions:{safety:{summary:"Superior civilian protection, slight responder risk.",recommendation:"Accept",comparison:"Most balanced plan with 99.6% human survival.",confidence:"High confidence from full-protection model consensus."},efficiency:{summary:"High cost but justified by extraordinary outcomes.",recommendation:"Reject",comparison:"Uses 80% more resources than the efficient option for 43% more lives saved.",confidence:"Moderate confidence based on proportional expenditure models."},sustainability:{summary:"Moderate impact, carefully managed.",recommendation:"Reject",comparison:"Ecological footprint 2x higher than sustainability option.",confidence:"High confidence from scenario-based restoration data."},fairness:{summary:"Vulnerable groups prioritized ethically, but geographic balance is imperfect.",recommendation:"Accept",comparison:"Not equal, but ethically coherent with moral urgency framework.",confidence:"Moderate confidence based on tiered-vulnerability approach."},nonmaleficence:{summary:"Lowest overall harmboth to humans and environment.",recommendation:"Accept",comparison:"Most ethically consistent outcome across all domains.",confidence:"High confidence based on integrated harm-weighted scoring."}},radarData:{fireContainment:80,firefighterRisk:40,resourceUse:64,infrastructureDamage:42,biodiversityImpact:35,ethicalFairness:80,populationSafety:100},cvrQuestion:{descriptionTile:" Manual Valve Shutdown",description:"A bioterror gas release spreads through a university complex. To guarantee the rescue of all 2,000 civilians, you must order an 8person hazmat team to enter a saturated zone and manually shut the final valves. The team will certainly die; everyone else survives, and infrastructure suffers heavy damage.",question:"Would you order 8 hazmat responders to certain death to ensure zero civilian fatalities (2,000 saved) despite severe infrastructure loss?",value:"Nonmaleficence"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Use every available strategy to minimize total harm",firstValue:"Nonmaleficence",firstColumnAffected:2e3,firstColumnRisk:"8 firefighter deaths",firstColumnuserChoice:"Accepted",secondColumnTitle:"Manual Valve Shutdown",secondColumnSelectedPreference:"Order 8 hazmat responders into a lethal zone to save 2,000 civilians",secondValue:"Nonmaleficence",secondColumnaffected:2e3,secondColumnRisk:"8 responder deaths + severe infrastructure damage",secondColumnuserChoice:"Rejected"}}]},{id:2,title:"Nuclear Facility Under Threat",description:"A wildfire is spreading rapidly toward a nuclear power plant located near a residential area. If the facility is breached, the resulting radioactive fallout could endanger hundreds of thousands. You must prioritize decisions that balance local evacuation, plant protection, and firefighter safety.",options:[{id:"nuclear-safety-priority",title:"Shield the Reactor at All Costs",label:"safety",description:"Deploy all firefighting forces to fortify the nuclear facility perimeter. This prevents catastrophic radiation release but leaves most of the population unprotected, leading to severe civilian casualties.",impact:{livesSaved:400,humanCasualties:1600,firefightingResource:-42,infrastructureCondition:-16,biodiversityCondition:-16,propertiesCondition:-14,nuclearPowerStation:-5},riskInfo:["Reactor secured and meltdown prevented","1,600 residents perish due to lack of evacuation resources","Firefighters suffer minimal casualties","Long-term regional fallout avoided","Severe public backlash and ethical scrutiny"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Shield the Reactor at All Costs",firstValue:"Safety",firstColumnAffected:2e3,firstColumnRisk:"1600 residents dead, minor firefighter casualties",firstColumnuserChoice:"Accepted",secondColumnTitle:"Seal the Community Gates",secondColumnSelectedPreference:"Close flood/contamination gates to protect reactor, trapping residents inside",secondValue:"Safety",secondColumnaffected:2e3,secondColumnRisk:"1600 residents lost, reactor secured",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Eliminates the highest-risk global hazard, but sacrifices local population safety.",recommendation:"Accept",comparison:"Best long-term safety outcome, worst immediate human cost.",confidence:"High confidence based on reactor shielding precedent ( 85%100%)"},efficiency:{summary:"Heavy resource usage on a single target with poor civilian ROI.",recommendation:"Reject",comparison:"Most resource-intensive with lowest lives saved per unit.",confidence:"Moderate confidence from facility defense efficiency models ( 65%80%)"},sustainability:{summary:"Protects reactor but ignores biodiversity corridors and burns vast land.",recommendation:"Reject",comparison:"Third worst outcome in biodiversity loss.",confidence:"High confidence from environmental spread simulations ( 85%100%)"},fairness:{summary:"Neglects vulnerable residential areas in favor of infrastructure.",recommendation:"Reject",comparison:"Fails basic equity standards.",confidence:"High confidence from response ethics research ( 85%100%)"},nonmaleficence:{summary:"Avoids global harm but causes extreme localized suffering.",recommendation:"Reject",comparison:"Most ethically controversial trade-off.",confidence:"Moderate confidence from trade-off harm matrix ( 65%80%)"}},radarData:{fireContainment:80,firefighterRisk:15,resourceUse:96,infrastructureDamage:42,biodiversityImpact:45,ethicalFairness:25,populationSafety:20},cvrQuestion:{descriptionTile:" Seal the Community Gates",description:"A toxic plume is advancing toward a nuclear facility and nearby town. To prevent a reactor breach, you can shut the community flood/contamination gates, sealing neighborhoods in place. This will save the facility but condemn 1,600 residents while 400 are evacuated.",question:"Would you deliberately seal the neighborhood gatescondemning 1,600 peopleto prevent a catastrophic reactor failure?",value:"Safety"}},{id:"evacuation-priority",title:"Evacuate Every Civilian",label:"fairness",description:"Redirect all resources to evacuate residents as quickly as possible. While this saves the majority of the population, the nuclear plant is left vulnerable, increasing the risk of partial radioactive leakage and infrastructure collapse.",impact:{livesSaved:1800,humanCasualties:200,firefightingResource:-40,infrastructureCondition:-18,biodiversityCondition:-18,propertiesCondition:-16,nuclearPowerStation:-20},riskInfo:["1,800 residents saved via urgent coordinated effort","200 total casualties including vulnerable individuals and 3 firefighters in distant zones","Radiation leaks contained to local zones, potential long-term effects","Minimal firefighter risk, public morale high","Severe damage to the nuclear site may require years of cleanup"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Evacuate Every Civilian",firstValue:"Fairness",firstColumnAffected:2e3,firstColumnRisk:"200 residents and responders lost, nuclear damage ongoing",firstColumnuserChoice:"Accepted",secondColumnTitle:"Controlled Vent for Evacuation",secondColumnSelectedPreference:"Order a controlled vent to the atmosphere to buy evacuation time",secondValue:"Fairness",secondColumnaffected:2e3,secondColumnRisk:"200 deaths from acute exposure (incl. 3 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Protects population but elevates nuclear contamination risk.",recommendation:"Reject",comparison:"Lower immediate death toll, higher infrastructure hazard.",confidence:"High confidence from emergency evac modeling ( 85%100%)"},efficiency:{summary:"Saves maximum lives per resource unit.",recommendation:"Accept",comparison:"Best cost-benefit in life preservation.",confidence:"High confidence from rescue efficiency simulations ( 85%100%)"},sustainability:{summary:"Long-term radiation containment becomes costly.",recommendation:"Reject",comparison:"Worsens environmental recovery timelines.",confidence:"Moderate confidence from environmental toxicity projection ( 65%80%)"},fairness:{summary:"Favors population-wide equity regardless of cost.",recommendation:"Accept",comparison:"Most equitable outcome.",confidence:"High confidence from ethical distribution models ( 85%100%)"},nonmaleficence:{summary:"Minimizes harm to people, defers ecological damage.",recommendation:"Accept",comparison:"Second most morally favorable option.",confidence:"Moderate confidence from risk-aversion studies ( 65%80%)"}},radarData:{fireContainment:60,firefighterRisk:20,resourceUse:90,infrastructureDamage:48,biodiversityImpact:50,ethicalFairness:95,populationSafety:85},cvrQuestion:{descriptionTile:" Controlled Vent for Evacuation",description:"To clear evacuation routes for 1,800 civilians, engineers can perform a controlled venting of radioactive steam. This action will directly cause 200 deaths from acute exposure, including 3 responders, while preventing a wider catastrophe.",question:"Would you order a controlled ventcausing 200 deaths (incl. 3 responders)to evacuate 1,800 civilians in time?",value:"Fairness"}},{id:"divided-response-strategy",title:"Split Response Strategy",label:"efficiency",description:"Divide firefighting units between civilian evacuation and securing the nuclear facility. This approach aims to minimize both civilian and infrastructure loss, but spreading resources may reduce overall effectiveness and increase complexity.",impact:{livesSaved:1500,humanCasualties:500,firefightingResource:-38,infrastructureCondition:-16,biodiversityCondition:-18,propertiesCondition:-16,nuclearPowerStation:-10},riskInfo:["1500 residents successfully evacuated","500 total casualties including 10 firefighters due to spread-thin response","Radiation contained but minor breach occurred","Moderate infrastructure damage near facility","Balanced short-term and long-term impact, but resource planning remains controversial"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Split Response Strategy",firstValue:"Efficiency",firstColumnAffected:2e3,firstColumnRisk:"500 deaths, minor radiation breach, reduced firefighter readiness",firstColumnuserChoice:"Accepted",secondColumnTitle:"Dual Mission with Sacrifice",secondColumnSelectedPreference:"Assign 10 responders to manual core venting while evacuations proceed",secondValue:"Efficiency",secondColumnaffected:2e3,secondColumnRisk:"500 deaths total (incl. 10 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Balanced protection plan, mitigates both civilian and infrastructure risk.",recommendation:"Accept",comparison:"Second-best for reducing total harm.",confidence:"High confidence from hybrid emergency strategies ( 85%100%)"},efficiency:{summary:"High cost-effectiveness in saving lives and infrastructure.",recommendation:"Accept",comparison:"Strongest compromise across multiple domains.",confidence:"High confidence from multi-variable allocation models ( 85%100%)"},sustainability:{summary:"Reduces environmental damage moderately by preventing nuclear spread.",recommendation:"Accept",comparison:"Better than reactor sacrifice, worse than full eco-prioritization.",confidence:"Moderate confidence based on terrain control data ( 65%80%)"},fairness:{summary:"Attempts equal distribution of aid, but sacrifices depth for breadth.",recommendation:"Accept",comparison:"Ethically viable under emergency triage frameworks.",confidence:"Moderate confidence from equity studies ( 65%80%)"},nonmaleficence:{summary:"Minimizes overall harm but includes risk of partial failure in both sectors.",recommendation:"Accept",comparison:"Moral middle ground, with risks acknowledged.",confidence:"Moderate confidence from harm minimization research ( 65%80%)"}},radarData:{fireContainment:70,firefighterRisk:30,resourceUse:84,infrastructureDamage:42,biodiversityImpact:50,ethicalFairness:70,populationSafety:75},cvrQuestion:{descriptionTile:" Dual Mission with Sacrifice",description:"To both evacuate civilians and stabilize the reactor, 10 technicians must enter a breached chamber to manually vent pressure. Those 10 will certainly die; 1,500 civilians are evacuated and the reactor holds with only a minor breach.",question:"Would you order 10 technicians to certain death so you can split teams and still prevent a major reactor failure?",value:"Efficiency"}},{id:"ecosystem-defense-priority",title:"Protect Ecosystems First",label:"sustainability",description:"Redirect major resources toward halting wildfire spread through key biodiversity corridors. This protects sensitive ecosystems and prevents long-term environmental collapse but limits evacuation and increases casualties among both civilians and responders.",impact:{livesSaved:800,humanCasualties:1200,firefightingResource:-40,infrastructureCondition:-16,biodiversityCondition:-8,propertiesCondition:-16,nuclearPowerStation:-20},riskInfo:["800 civilians rescued before route closures","1,200 casualties including 80 firefighters overwhelmed by terrain fires","Critical wildlife corridors preserved","Moderate nuclear facility damage due to diverted response","Significant long-term gains in ecological resilience"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Protect Ecosystems First",firstValue:"Sustainability",firstColumnAffected:2e3,firstColumnRisk:"1,200 deaths including firefighters, minimal biodiversity loss",firstColumnuserChoice:"Accepted",secondColumnTitle:"Last Stand Firebreak",secondColumnSelectedPreference:"Ignite barrier fires and order 80 rangers to hold lines so corridors survive",secondValue:"Sustainability",secondColumnaffected:2e3,secondColumnRisk:"1,200 deaths total (incl. 80 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Neglects large-scale human safety in favor of long-term gains.",recommendation:"Reject",comparison:"Highest loss of life trade-off.",confidence:"High confidence based on emergency triage outcome ( 85%100%)"},efficiency:{summary:"Moderate resource allocation efficiency with heavy trade-offs.",recommendation:"Reject",comparison:"Weakest efficiency-to-impact ratio.",confidence:"Moderate confidence from logistic stress models ( 65%75%)"},sustainability:{summary:"Preserves high-value ecosystems and prevents irreversible damage.",recommendation:"Accept",comparison:"Best option for biodiversity and ecological continuity.",confidence:"High confidence from conservation risk metrics ( 85%95%)"},fairness:{summary:"Prioritizes environment over people, ethically contested.",recommendation:"Reject",comparison:"Uneven distribution of aid favors future generations.",confidence:"Moderate confidence from ethical impact modeling ( 65%75%)"},nonmaleficence:{summary:"High immediate harm for low present benefit, deferred long-term gain.",recommendation:"Reject",comparison:"Violates do-no-harm principle under human loss.",confidence:"High confidence from applied bioethics studies ( 85%95%)"}},radarData:{fireContainment:60,firefighterRisk:70,resourceUse:92,infrastructureDamage:42,biodiversityImpact:22,ethicalFairness:45,populationSafety:35},cvrQuestion:{descriptionTile:" Last Stand Firebreak",description:"To keep ancient biodiversity corridors alive, commanders can ignite barrier fires and order 80 rangers to hold the lines until overrun. Their deaths will buy time to save the ecosystems, but only 800 civilians will be rescued; 1,120 others will perish.",question:"Would you order 80 rangers to certain death and accept 1,120 civilian deaths to prevent ecosystem collapse?",value:"Sustainability"}},{id:"nonmaleficence-response",title:"Minimize Harm, Avoid Irreversible Fallout",label:"nonmaleficence",description:"Choose a restrained approach that avoids high-risk maneuvers and minimizes irreversible harm. Firefighters will only secure defensible zones and allow natural containment. This reduces unnecessary loss of life among responders but increases the risk of radiation release and major regional damage.",impact:{livesSaved:1e3,humanCasualties:1e3,firefightingResource:-34,infrastructureCondition:-18,biodiversityCondition:-18,propertiesCondition:-18,nuclearPowerStation:-30},riskInfo:["1,000 residents evacuated with minimal firefighter exposure","1,000 total deaths including residents left in inaccessible zones","Nuclear breach causes long-term contamination in surrounding region","Infrastructure collapse in unprotected urban areas","Low immediate harm to responders but high deferred civilian impact"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Minimize Harm, Avoid Irreversible Fallout",firstValue:"Nonmaleficence",firstColumnAffected:2e3,firstColumnRisk:"1,000 deaths, reactor partially breached, firefighter safety preserved",firstColumnuserChoice:"Accepted",secondColumnTitle:"Lockdown Doctrine",secondColumnSelectedPreference:"Lock down red zones to avoid responder risk, barring rescue attempts",secondValue:"Nonmaleficence",secondColumnaffected:2e3,secondColumnRisk:"1,000 deaths, responders unharmed",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Fails to secure high-risk zones, putting population at serious risk.",recommendation:"Reject",comparison:"Sacrifices lives for responder safety.",confidence:"High confidence from crisis escalation modeling ( 85%95%)"},efficiency:{summary:"Efficient in preserving firefighter capacity but ineffective overall.",recommendation:"Reject",comparison:"Poor cost-benefit outcome for population protection.",confidence:"Moderate confidence from operational strategy benchmarks ( 65%75%)"},sustainability:{summary:"Long-term fallout undermines environmental recovery.",recommendation:"Reject",comparison:"Poor ecological outcome despite low active harm.",confidence:"High confidence from disaster aftermath projections ( 85%95%)"},fairness:{summary:"Favors responder safety over civilian lives, morally imbalanced.",recommendation:"Reject",comparison:"Unjust distribution of protection.",confidence:"High confidence from harm distribution models ( 85%95%)"},nonmaleficence:{summary:"Reduces direct harm to agents but leads to higher indirect harm.",recommendation:"Accept",comparison:"Best at reducing immediate interventions causing loss of life.",confidence:"Moderate confidence from ethical harm-mitigation models ( 65%75%)"}},radarData:{fireContainment:55,firefighterRisk:10,resourceUse:76,infrastructureDamage:48,biodiversityImpact:50,ethicalFairness:40,populationSafety:50},cvrQuestion:{descriptionTile:" Lockdown Doctrine",description:"To avoid risking responders, command can order hard lockdowns of unstable zones, physically preventing rescue attempts. This action directly condemns 1,000 people who cannot be reached, while responders remain unharmed.",question:"Would you impose a hard lockdown that bars rescue attemptsknowingly condemning 1,000 peopleto avoid responder deaths and escalation?",value:"Nonmaleficence"}}]},{id:3,title:"Wildfire Threatens Biodiversity Reserve",description:"A massive wildfire is advancing toward one of the worlds most diverse ecosystems, home to countless endangered species. Nearby, small villages and critical infrastructure are also in the fires path. Responders must weigh saving human lives, critical services, and biodiversity.",options:[{id:"evacuate-residents-priority",title:"Evacuate All Nearby Villages",label:"safety",description:"Mobilize all available forces to evacuate human populations near the biodiversity reserve. This ensures minimal civilian casualties but risks severe damage to the ecosystem and critical research stations.",impact:{livesSaved:1900,humanCasualties:100,firefightingResource:-30,infrastructureCondition:-20,biodiversityCondition:-50,propertiesCondition:-22,nuclearPowerStation:0},riskInfo:["1900 villagers successfully evacuated before fire reached settlements","100 casualties, including 20 firefighters due to rapid extraction efforts","Biodiversity core zone burned extensively due to redirection of resources","Several rare species possibly extinct or displaced","Critical scientific stations lost to fire damage"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Evacuate All Nearby Villages",firstValue:"Safety",firstColumnAffected:2e3,firstColumnRisk:"100 deaths, firefighters exposed, reserve destroyed",firstColumnuserChoice:"Accepted",secondColumnTitle:"Bridge Bracing Line",secondColumnSelectedPreference:"Order 20 firefighters to hold a collapsing fire-bridge so 1,900 villagers can pass",secondValue:"Safety",secondColumnaffected:2e3,secondColumnRisk:"100 deaths total (incl. 20 firefighters)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Maximizes human life preservation, meeting immediate ethical duty.",recommendation:"Accept",comparison:"Top choice for casualty reduction.",confidence:"High confidence from evacuation timeline simulations ( 85%95%)"},efficiency:{summary:"Resource-draining but outcome-effective in saving lives.",recommendation:"Accept",comparison:"High input, high return for civilian safety.",confidence:"Moderate confidence from wildfire response models ( 70%80%)"},sustainability:{summary:"Severe biodiversity loss from reallocation of fire suppression resources.",recommendation:"Reject",comparison:"Worst case for long-term environmental stewardship.",confidence:"High confidence from ecological resilience projections ( 85%100%)"},fairness:{summary:"Prioritizes human life over irreplaceable ecological value, ethically nuanced.",recommendation:"Neutral",comparison:"Raises intergenerational equity concerns.",confidence:"Moderate confidence from ethical studies ( 65%75%)"},nonmaleficence:{summary:"Avoids harm to humans but enables irreversible harm to non-human life.",recommendation:"Reject",comparison:"Protective in short term, damaging in long-term lens.",confidence:"Moderate confidence from harm projection analytics ( 70%80%)"}},radarData:{fireContainment:50,firefighterRisk:40,resourceUse:60,infrastructureDamage:40,biodiversityImpact:100,ethicalFairness:55,populationSafety:90},cvrQuestion:{descriptionTile:" Bridge Bracing Line",description:"Smoke and fire trap villagers at a narrow canyon bridge. To allow 1,900 people to pass, 20 firefighters must physically brace failing beams in lethal heat until evacuations are complete. Those 20 will certainly die; the reserve will burn.",question:"Would you order 20 firefighters to hold the bridgeaccepting their certain deathsto evacuate 1,900 people?",value:"Safety"}},{id:"logistics-balance-deployment",title:"Balance Fire Suppression with Evacuation",label:"efficiency",description:"Split emergency resources between containment efforts around the reserve and limited village evacuations. This approach minimizes overall destruction but risks moderate casualties and partial loss of biodiversity.",impact:{livesSaved:1400,humanCasualties:600,firefightingResource:-22,infrastructureCondition:-16,biodiversityCondition:-35,propertiesCondition:-18,nuclearPowerStation:0},riskInfo:["1400 residents evacuated with minimal route overlap","600 casualties including 30 firefighters in split zones","Partial preservation of biodiversity buffer zones","Reserve partially burned but critical habitats retained","Resources used strategically across multiple objectives"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Balance Fire Suppression with Evacuation",firstValue:"Efficiency",firstColumnAffected:2e3,firstColumnRisk:"600 deaths, reserve partially protected, infrastructure moderately damaged",firstColumnuserChoice:"Accepted",secondColumnTitle:"Cut Line in the Flames",secondColumnSelectedPreference:"Order 30 dozer crews to cut a fireline in lethal conditions to buy time for split ops",secondValue:"Efficiency",secondColumnaffected:2e3,secondColumnRisk:"600 deaths total (incl. 30 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Partial preservation of life with increased responder danger.",recommendation:"Neutral",comparison:"Better than environmental-first, worse than full evacuation.",confidence:"Moderate confidence from rescue simulations ( 65%75%)"},efficiency:{summary:"Strong resource optimization with multi-target focus.",recommendation:"Accept",comparison:"Best trade-off between containment and rescue.",confidence:"High confidence from logistic response metrics ( 80%90%)"},sustainability:{summary:"Acceptable ecological preservation under limited fire spread.",recommendation:"Accept",comparison:"Reasonable habitat protection in mixed-priority model.",confidence:"Moderate confidence from biodiversity containment projections ( 65%75%)"},fairness:{summary:"Balanced approach sacrifices some lives and habitats for broader impact.",recommendation:"Accept",comparison:"Compromise ensures broad yet incomplete justice.",confidence:"Moderate confidence from distributive impact models ( 65%75%)"},nonmaleficence:{summary:"Minimizes harm across targets but still results in loss.",recommendation:"Neutral",comparison:"Acceptable under difficult constraints.",confidence:"Moderate confidence from conflict mitigation studies ( 70%80%)"}},radarData:{fireContainment:70,firefighterRisk:50,resourceUse:44,infrastructureDamage:32,biodiversityImpact:70,ethicalFairness:65,populationSafety:70},cvrQuestion:{descriptionTile:" Cut Line in the Flames",description:"To run a split operation, 30 dozer crews must cut a critical fireline through a flashover zone. They will not survive, but the line buys time to evacuate 1,400 people and hold parts of the reserve.",question:"Would you order 30 responders to cut a lethal fireline so that 1,400 can be saved and habitats partially preserved?",value:"Efficiency"}},{id:"preserve-ecological-integrity",title:"Prioritize Ecological Defense",label:"sustainability",description:"Deploy firefighting resources to defend biodiversity hotspots and natural heritage areas. This decision limits damage to the ecosystem but delays human evacuation and increases casualties.",impact:{livesSaved:800,humanCasualties:1200,firefightingResource:-24,infrastructureCondition:-12,biodiversityCondition:-15,propertiesCondition:-14,nuclearPowerStation:0},riskInfo:["Biodiversity reserve largely preserved, containing vital species","1200 casualties including 45 firefighters in delayed evacuations","Smaller villages evacuated too late or overrun by fire","Cultural heritage trees and wetlands protected","Reserve could aid post-wildfire ecosystem recovery"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Prioritize Ecological Defense",firstValue:"Sustainability",firstColumnAffected:2e3,firstColumnRisk:"1200 deaths, reserve intact, poor response timing",firstColumnuserChoice:"Accepted",secondColumnTitle:"Backburn the Villages",secondColumnSelectedPreference:"Ignite backburns to save the reserve, overrunning villages",secondValue:"Sustainability",secondColumnaffected:2e3,secondColumnRisk:"1200 casualties (incl. 45 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Human safety heavily compromised by ecological prioritization.",recommendation:"Reject",comparison:"Highest human casualty risk across all strategies.",confidence:"High confidence from casualty escalation forecasts ( 85%95%)"},efficiency:{summary:"Firefighting efforts diverted from population centers.",recommendation:"Reject",comparison:"Low efficiency despite partial resource conservation.",confidence:"Moderate confidence from coordination analytics ( 65%75%)"},sustainability:{summary:"Achieves maximum biodiversity conservation in dire circumstances.",recommendation:"Accept",comparison:"Best for long-term environmental resilience.",confidence:"High confidence from habitat preservation simulations ( 90%100%)"},fairness:{summary:"Neglects human populations in favor of ecosystem protection.",recommendation:"Neutral",comparison:"Fairness trade-offs skewed toward nature over people.",confidence:"Moderate confidence from justice impact modeling ( 60%70%)"},nonmaleficence:{summary:"Reduces long-term environmental harm but increases immediate suffering.",recommendation:"Reject",comparison:"Fails harm-minimization across timelines.",confidence:"Moderate confidence from ethical scenario evaluations ( 65%75%)"}},radarData:{fireContainment:60,firefighterRisk:70,resourceUse:48,infrastructureDamage:24,biodiversityImpact:30,ethicalFairness:40,populationSafety:40},cvrQuestion:{descriptionTile:" Backburn the Villages",description:"Commanders can ignite broad backburns to shield the reserves core. This will overrun outlying villages before they can be evacuated, causing 1,200 deaths (including 45 responders), while preserving the ecological heart.",question:"Would you deliberately ignite backburns that will overrun villagescausing 1,200 deathsto save the biodiversity reserve?",value:"Sustainability"}},{id:"equitable-response-allocation",title:"Ensure Equitable Protection Across Communities",label:"fairness",description:"Distribute firefighting and evacuation efforts evenly between small rural villages and ecological assets, ensuring no community or habitat is deprioritized. This leads to moderate outcomes across all dimensions but avoids ethical favoritism.",impact:{livesSaved:1200,humanCasualties:800,firefightingResource:-26,infrastructureCondition:-18,biodiversityCondition:-28,propertiesCondition:-18,nuclearPowerStation:0},riskInfo:["1200 lives saved through balanced rescue deployments","800 casualties including 35 firefighters due to evenly stretched resources","No group prioritized over another, maintaining public trust","Partial fire containment near reserve and settlement borders","Infrastructure and habitats moderately impacted"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Ensure Equitable Protection Across Communities",firstValue:"Fairness",firstColumnAffected:2e3,firstColumnRisk:"800 deaths, fair distribution of efforts, moderate destruction",firstColumnuserChoice:"Accepted",secondColumnTitle:"Equal Sacrifice Mandate",secondColumnSelectedPreference:"Assign equal high-risk posts across regions; 35 responders hold until overrun",secondValue:"Fairness",secondColumnaffected:2e3,secondColumnRisk:"800 deaths total (incl. 35 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Reduces maximum possible lives saved but increases collective protection.",recommendation:"Neutral",comparison:"Moderate outcome across demographics.",confidence:"Moderate confidence from response spread simulations ( 65%75%)"},efficiency:{summary:"Suboptimal use of resources due to split focus.",recommendation:"Reject",comparison:"Not cost-effective under urgency.",confidence:"Moderate confidence from logistics planning data ( 60%70%)"},sustainability:{summary:"Partial biodiversity loss controlled by moderate attention.",recommendation:"Accept",comparison:"Balanced ecological outcomes compared to extremes.",confidence:"Moderate confidence from containment path forecasts ( 65%75%)"},fairness:{summary:"Ensures ethical parity and avoids value biases.",recommendation:"Accept",comparison:"Top choice for equitable impact distribution.",confidence:"High confidence from ethical distributional models ( 85%95%)"},nonmaleficence:{summary:"Harm shared across domains without extreme sacrifices.",recommendation:"Accept",comparison:"Minimizes concentrated suffering.",confidence:"Moderate confidence from scenario parity evaluations ( 70%80%)"}},radarData:{fireContainment:65,firefighterRisk:55,resourceUse:52,infrastructureDamage:36,biodiversityImpact:56,ethicalFairness:90,populationSafety:60},cvrQuestion:{descriptionTile:" Equal Sacrifice Mandate",description:"To guarantee parity, commanders assign equal numbers of high-risk posts across all regions. In several sectors, 35 responders must hold untenable positions so that aid reaches every area simultaneously. Those 35 will die; 1,200 civilians are saved and 800 perish.",question:"Would you require equal high-risk postingsknowing 35 responders will certainly dieto keep aid perfectly unbiased?",value:"Fairness"}},{id:"do-no-harm-doctrine",title:"Minimize Harm Across All Fronts",label:"nonmaleficence",description:"Adopt a conservative approach that aims to avoid irreversible damage in any single area. Focus efforts on minimizing harm to humans, firefighters, ecosystems, and infrastructure, even if this results in moderate damage across all dimensions.",impact:{livesSaved:1e3,humanCasualties:1e3,firefightingResource:-20,infrastructureCondition:-16,biodiversityCondition:-22,propertiesCondition:-16,nuclearPowerStation:0},riskInfo:["1000 residents saved through balanced retreat and selective evacuations","1000 casualties, including 25 firefighters, from partial exposure to fire zones","Fire slowed near biodiversity border but partial loss of habitats occurred","Moderate infrastructure damage with no collapse of critical systems","Ethical principle of nonmaleficence maintained by avoiding worst-case outcomes"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Minimize Harm Across All Fronts",firstValue:"Nonmaleficence",firstColumnAffected:2e3,firstColumnRisk:"1000 deaths, all areas moderately damaged but no total failure",firstColumnuserChoice:"Accepted",secondColumnTitle:"Guides in the Smoke",secondColumnSelectedPreference:"Order 25 guides to lead routes through lethal smoke to prevent catastrophic loss elsewhere",secondValue:"Nonmaleficence",secondColumnaffected:2e3,secondColumnRisk:"1000 deaths total (incl. 25 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Avoids catastrophic loss of life but does not maximize protection.",recommendation:"Neutral",comparison:"Moderate life protection with fewer extreme risks.",confidence:"Moderate confidence from scenario smoothing models ( 65%75%)"},efficiency:{summary:"Resources used evenly, not highly optimized.",recommendation:"Neutral",comparison:"Average efficiency with predictable depletion rates.",confidence:"Moderate confidence from response modeling ( 60%70%)"},sustainability:{summary:"Reduces ecological harm without full preservation.",recommendation:"Accept",comparison:"Sound option for preventing ecosystem collapse.",confidence:"Moderate confidence from recovery path modeling ( 70%80%)"},fairness:{summary:"No single group bears the full burden of loss.",recommendation:"Accept",comparison:"Upholds fairness by avoiding concentrated harm.",confidence:"High confidence from distributive ethics simulations ( 85%95%)"},nonmaleficence:{summary:"Faithful to principle of reducing harm across populations and domains.",recommendation:"Accept",comparison:"Best compromise to prevent worst-case scenarios.",confidence:"High confidence from harm-minimization frameworks ( 80%90%)"}},radarData:{fireContainment:55,firefighterRisk:45,resourceUse:40,infrastructureDamage:32,biodiversityImpact:44,ethicalFairness:85,populationSafety:50},cvrQuestion:{descriptionTile:" Guides in the Smoke",description:"To avoid catastrophic losses in any single domain, commanders direct 25 veteran guides to lead evacuees through a toxic smoke corridor. The guides will certainly die, but this prevents a worstcase collapse elsewhere, saving 1,000 people while 1,000 still perish.",question:"Would you order 25 guides to certain death to prevent any single area from total collapse, accepting 1,000 total deaths?",value:"Nonmaleficence"}}]}];class lt{static startScenario(e){this.currentScenarioTracking={scenarioId:e,startTime:Date.now(),optionSelections:[],cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,cvrNoAnswers:0,apaReordered:!1,apaReorderCount:0,alternativesExplored:!1,alternativesExploredCount:0,switchCount:0},this.emitEvent({event:"scenario_started",timestamp:new Date().toISOString(),scenarioId:e,timeSinceScenarioOpen:0});const s=we.getSessionId();we.insertScenarioInteraction({session_id:s,scenario_id:e,scenario_title:`Scenario ${e}`,event_type:"scenario_started",time_since_scenario_start:0})}static recordOptionSelection(e,s,n){if(!this.currentScenarioTracking)return;const i=Date.now(),a=i-this.currentScenarioTracking.startTime,o=we.getSessionId();if(this.currentScenarioTracking.optionSelections.length>0){const l=this.currentScenarioTracking.optionSelections[this.currentScenarioTracking.optionSelections.length-1];l.optionId!==e&&(this.currentScenarioTracking.switchCount++,l.aligned!==n&&(this.emitEvent({event:"alignment_state_changed",timestamp:new Date().toISOString(),scenarioId:this.currentScenarioTracking.scenarioId,optionId:e,optionLabel:s,alignedBefore:l.aligned,alignedAfter:n,timeSinceScenarioOpen:a}),we.insertScenarioInteraction({session_id:o,scenario_id:this.currentScenarioTracking.scenarioId,scenario_title:`Scenario ${this.currentScenarioTracking.scenarioId}`,event_type:"alignment_state_changed",option_id:e,option_label:s,is_aligned:n,time_since_scenario_start:Math.round(a/1e3),switch_count:this.currentScenarioTracking.switchCount,event_data:{alignedBefore:l.aligned,alignedAfter:n}})))}this.currentScenarioTracking.optionSelections.push({optionId:e,optionLabel:s,timestamp:i,aligned:n}),this.emitEvent({event:"option_selected",timestamp:new Date().toISOString(),scenarioId:this.currentScenarioTracking.scenarioId,optionId:e,optionLabel:s,alignedAfter:n,timeSinceScenarioOpen:a}),we.insertScenarioInteraction({session_id:o,scenario_id:this.currentScenarioTracking.scenarioId,scenario_title:`Scenario ${this.currentScenarioTracking.scenarioId}`,event_type:"option_selected",option_id:e,option_label:s,is_aligned:n,time_since_scenario_start:Math.round(a/1e3),switch_count:this.currentScenarioTracking.switchCount})}static confirmOption(e,s,n,i,a,o){if(!this.currentScenarioTracking)return;const l=Date.now(),c=l-this.currentScenarioTracking.startTime;this.currentScenarioTracking.finalChoice={optionId:e,optionLabel:s,aligned:n},this.currentScenarioTracking.endTime=l,this.emitEvent({event:"option_confirmed",timestamp:new Date().toISOString(),scenarioId:this.currentScenarioTracking.scenarioId,optionId:e,optionLabel:s,alignedAfter:n,timeSinceScenarioOpen:c,objectivesSnapshot:i,flagsAtConfirmation:a,finalTopTwoValuesBeforeUpdate:o})}static recordCVRVisit(e,s){this.currentScenarioTracking&&(this.currentScenarioTracking.cvrVisited=!0,this.currentScenarioTracking.cvrVisitCount++);const n=this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0;this.emitEvent({event:"cvr_opened",timestamp:new Date().toISOString(),scenarioId:e,optionId:s,timeSinceScenarioOpen:n});const i=we.getSessionId();we.insertScenarioInteraction({session_id:i,scenario_id:e,scenario_title:`Scenario ${e}`,event_type:"cvr_opened",option_id:s,time_since_scenario_start:Math.round(n/1e3)})}static recordCVRAnswer(e,s,n,i,a){this.currentScenarioTracking&&(s?this.currentScenarioTracking.cvrYesAnswers++:this.currentScenarioTracking.cvrNoAnswers++);const o=this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0;this.emitEvent({event:"cvr_answered",timestamp:new Date().toISOString(),scenarioId:e,cvrAnswer:s,timeSinceScenarioOpen:o});const l=we.getSessionId();n&&i&&a&&we.insertCVRResponse({session_id:l,scenario_id:e,option_id:n,option_label:i,cvr_question:a,user_answer:s,response_time_ms:Math.round(o)})}static recordAPAReordering(e,s,n,i){this.currentScenarioTracking&&(this.currentScenarioTracking.apaReordered=!0,this.currentScenarioTracking.apaReorderCount++);const a=this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0;this.emitEvent({event:"apa_reordered",timestamp:new Date().toISOString(),scenarioId:e,valuesBefore:s,valuesAfter:n,preferenceType:i,timeSinceScenarioOpen:a});const o=we.getSessionId();we.insertAPAReordering({session_id:o,scenario_id:e,preference_type:i,values_before:s,values_after:n,time_spent_ms:Math.round(a)}),we.insertValueEvolution({session_id:o,scenario_id:e,value_list_snapshot:n,change_trigger:"apa_reordering",change_type:i})}static recordAlternativesExplored(e){this.currentScenarioTracking&&(this.currentScenarioTracking.alternativesExplored=!0),this.emitEvent({event:"alternatives_explored",timestamp:new Date().toISOString(),scenarioId:e,timeSinceScenarioOpen:this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0})}static recordAlternativeAdded(e,s,n){this.currentScenarioTracking&&(this.currentScenarioTracking.alternativesExploredCount+=1),this.emitEvent({event:"alternative_added",timestamp:new Date().toISOString(),scenarioId:e,optionId:s,optionLabel:n,timeSinceScenarioOpen:this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0})}static getCurrentScenarioTracking(){return this.currentScenarioTracking}static endScenario(){if(!this.currentScenarioTracking)return;const e={...this.currentScenarioTracking},s=JSON.parse(localStorage.getItem("scenarioTrackingHistory")||"[]");return s.push(e),localStorage.setItem("scenarioTrackingHistory",JSON.stringify(s)),this.currentScenarioTracking=null,e}static emitEvent(e){const s=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");s.push(e),localStorage.setItem("sessionEventLogs",JSON.stringify(s))}static getScenarioTrackingHistory(){return JSON.parse(localStorage.getItem("scenarioTrackingHistory")||"[]")}static getAllEvents(){return JSON.parse(localStorage.getItem("sessionEventLogs")||"[]")}}J(lt,"currentScenarioTracking",null);di.register(Ti,Kn,as,i0,Tl,Rl);const dS={livesSaved:0,humanCasualties:0,firefightingResource:100,infrastructureCondition:100,biodiversityCondition:100,propertiesCondition:100,nuclearPowerStation:100},uS=()=>{const t=Pt(),[e,s]=j.useState(dS),[n,i]=j.useState([]),[a,o]=j.useState([]),[l,c]=j.useState([]),[d,u]=j.useState(null),[h,f]=j.useState(0),[p,y]=j.useState(!1),[x,b]=j.useState(!1),[m,g]=j.useState(!1),[v,k]=j.useState(!1),[N,w]=j.useState(!1),[C,S]=j.useState(!1),[_,I]=j.useState(null),[E,F]=j.useState(!1),[te,R]=j.useState(null),[V,A]=j.useState([]),[B,T]=j.useState({}),[z,D]=j.useState(!1),[U,X]=j.useState(null),[ge,ee]=j.useState(!1),[$,re]=j.useState([]),[ce,Ze]=j.useState([]),[M,P]=j.useState(!1),[ae,de]=j.useState(!1),[O,G]=j.useState(!1),[Y,fe]=j.useState([]),[se,Ce]=j.useState(0),[ue,Ne]=j.useState([]),[me,pe]=j.useState([]),[Ue,Me]=j.useState(!1),[Ve,Ut]=j.useState([]),[et,es]=j.useState([]),[ui,_s]=j.useState([]),[Ms,hs]=j.useState({}),K=oo[h];j.useEffect(()=>{window.scrollTo(0,0)},[]),j.useEffect(()=>{P(!1),de(!1);const W=localStorage.getItem("previousScenarioUsedSimulationMetrics")==="true";Me(W),localStorage.setItem("hasReorderedValues","false"),localStorage.setItem("simulationMetricsReorderingFlag","false"),localStorage.setItem("moralValuesReorderingFlag","false"),localStorage.setItem("cvrYesClicked","false"),localStorage.setItem("cvrNoClicked","false"),Ce(0),localStorage.setItem("alternativesExploredCount","0"),hs({}),h===0&&localStorage.setItem("selectedFromTop2Previous","false"),K&&lt.startScenario(K.id)},[h,K]);const oe=()=>{const W=localStorage.getItem("explicitValues");if(!W)return[];try{const ne=JSON.parse(W),le={};return ne.forEach(be=>{le[be.value_selected]=(le[be.value_selected]||0)+1}),Object.entries(le).sort(([,be],[,Ee])=>Ee-be).slice(0,2).map(([be])=>be.toLowerCase())}catch(ne){return console.error("Error parsing explicit values:",ne),[]}};j.useEffect(()=>{const W=localStorage.getItem("rankedViewAccessed")==="true";ee(W);const ne=localStorage.getItem("finalValues");if(ne&&h===0)try{const Pe=JSON.parse(ne).slice(0,2).map(Qe=>Qe.name.toLowerCase());fe(Pe),localStorage.setItem("FinalTopTwoValues",JSON.stringify(Pe))}catch(Ee){console.error("Error initializing FinalTopTwoValues:",Ee)}const le=localStorage.getItem("MoralValuesReorderList");if(localStorage.getItem("previousScenarioUsedSimulationMetrics")==="true"&&h>0){const Ee=localStorage.getItem("FinalTopTwoValues");if(Ee)try{const Pe=JSON.parse(Ee);Ze(Pe),console.log("Using FinalTopTwoValues as matched stable values:",Pe)}catch(Pe){console.error("Error parsing FinalTopTwoValues:",Pe),Ze([])}}else if(le&&h>0)try{const Pe=JSON.parse(le).slice(0,2).map(Qe=>Qe.id.toLowerCase());Ze(Pe)}catch(Ee){if(console.error("Error parsing MoralValuesReorderList:",Ee),ne)try{const Qe=JSON.parse(ne).map(Ct=>Ct.name.toLowerCase());Ze(Qe)}catch(Pe){console.error("Error parsing matched stable values:",Pe),Ze([])}}else if(ne)try{const Pe=JSON.parse(ne).map(Qe=>Qe.name.toLowerCase());Ze(Pe)}catch(Ee){console.error("Error parsing matched stable values:",Ee),Ze([])}localStorage.getItem("preferenceTypeFlag"),JSON.parse(localStorage.getItem("simulationMetricsRanking")||"[]"),JSON.parse(localStorage.getItem("moralValuesRanking")||"[]")},[h]),j.useEffect(()=>{if(K){const ne=localStorage.getItem("MoralValuesReorderList"),le=localStorage.getItem("SimulationMetricsReorderList");let be=[];!ne&&!le?be=[...K.options].sort(()=>Math.random()-.5).slice(0,2):be=Sa(),o(be)}localStorage.removeItem("currentMetrics");const W=localStorage.getItem("finalValues");if(W)try{const le=JSON.parse(W).slice(0,2).map(be=>be.name.toLowerCase());i(le)}catch(ne){console.error("Error parsing matched stable values:",ne)}},[h,K]),j.useEffect(()=>{h>0&&A([])},[h]);const Sa=j.useCallback(()=>{var ms,mi,ar,Ma;if(!K)return[];if(localStorage.getItem("previousScenarioUsedSimulationMetrics")==="true"&&h>0){const Se=localStorage.getItem("FinalTopTwoValues");if(Se)try{const Ie=JSON.parse(Se);console.log("Previous scenario used simulation metrics. Using FinalTopTwoValues for initial options:",Ie);const ie=K.options.filter(q=>Ie.includes(q.label.toLowerCase())).sort((q,he)=>{const Ae=Ie.indexOf(q.label.toLowerCase()),ht=Ie.indexOf(he.label.toLowerCase());return Ae-ht});if(ie.length>=2)return console.log("Found 2+ matching options from FinalTopTwoValues:",ie.map(q=>q.label)),ie.slice(0,2);if(ie.length===1){const q=K.options.filter(he=>!Ie.includes(he.label.toLowerCase()));return console.log("Found 1 matching option from FinalTopTwoValues, adding best remaining:",[ie[0].label,(ms=q[0])==null?void 0:ms.label]),[ie[0],q[0]]}}catch(Ie){console.error("Error parsing FinalTopTwoValues:",Ie)}}const ne=localStorage.getItem("MoralValuesReorderList"),le=localStorage.getItem("SimulationMetricsReorderList");if(ne)try{const Ie=JSON.parse(ne).slice(0,2).map(q=>q.id.toLowerCase());console.log("Using reordered moral values for initial options:",Ie);const ie=K.options.filter(q=>Ie.includes(q.label.toLowerCase())).sort((q,he)=>{const Ae=Ie.indexOf(q.label.toLowerCase()),ht=Ie.indexOf(he.label.toLowerCase());return Ae-ht});if(ie.length>=2)return console.log("Found 2+ matching options:",ie.map(q=>q.label)),ie.slice(0,2);if(ie.length===1){const q=K.options.filter(he=>!Ie.includes(he.label.toLowerCase()));return console.log("Found 1 matching option, adding best remaining:",[ie[0].label,(mi=q[0])==null?void 0:mi.label]),[ie[0],q[0]]}}catch(Se){console.error("Error parsing MoralValuesReorderList:",Se)}if(le)try{const Ie=(ar=JSON.parse(le)[0])==null?void 0:ar.id;if(Ie)return[...K.options].sort((ie,q)=>{const he=ht=>{switch(Ie){case"livesSaved":return ht.impact.livesSaved;case"casualties":return ht.impact.humanCasualties;case"resources":return Math.abs(ht.impact.firefightingResource);case"infrastructure":return Math.abs(ht.impact.infrastructureCondition);case"biodiversity":return Math.abs(ht.impact.biodiversityCondition);case"properties":return Math.abs(ht.impact.propertiesCondition);case"nuclear":return Math.abs(ht.impact.nuclearPowerStation);default:return 0}};return Ie==="livesSaved"?he(q)-he(ie):he(ie)-he(q)}).slice(0,2)}catch(Se){console.error("Error parsing SimulationMetricsReorderList:",Se)}const be=localStorage.getItem("preferenceTypeFlag"),Ee=JSON.parse(localStorage.getItem("simulationMetricsRanking")||"[]"),Pe=JSON.parse(localStorage.getItem("moralValuesRanking")||"[]");if(ge)if(be==="true"){const Se=(Ma=Ee[0])==null?void 0:Ma.id;if(Se)return[...K.options].sort((xe,ie)=>{const q=Ae=>{switch(Se){case"livesSaved":return Ae.impact.livesSaved;case"casualties":return Ae.impact.humanCasualties;case"resources":return Math.abs(Ae.impact.firefightingResource);case"infrastructure":return Math.abs(Ae.impact.infrastructureCondition);case"biodiversity":return Math.abs(Ae.impact.biodiversityCondition);case"properties":return Math.abs(Ae.impact.propertiesCondition);case"nuclear":return Math.abs(Ae.impact.nuclearPowerStation);default:return 0}};return Se==="livesSaved"?q(ie)-q(xe):q(xe)-q(ie)}).slice(0,2)}else{const Se=Pe.slice(0,2).map(ie=>ie.id.toLowerCase()),Ie=K.options.filter(ie=>Se.includes(ie.label.toLowerCase())),xe=Ie.sort((ie,q)=>{const he=Se.indexOf(ie.label.toLowerCase()),Ae=Se.indexOf(q.label.toLowerCase());return he-Ae});if(Ie.length>=2)return xe.slice(0,2);if(Ie.length===1){const ie=K.options.filter(q=>!Se.includes(q.label.toLowerCase()));return[xe[0],ie[0]]}}if(n.length>0){const Se=K.options.filter(Ie=>n.includes(Ie.label.toLowerCase()));if(Se.length>=2)return Se.slice(0,2)}const Qe=oe();if(Qe.length>0){const Se=K.options.filter(Ie=>Qe.includes(Ie.label.toLowerCase()));if(Se.length>=2)return Se.slice(0,2)}return[...K.options].sort(()=>Math.random()-.5).slice(0,2)},[K,h,n,ge]),At=j.useCallback(()=>a,[a]),Xu=j.useCallback(()=>{if(!K)return[];const W=At().map(le=>le.id),ne=V.map(le=>le.id);return K.options.filter(le=>!W.includes(le.id)&&!ne.includes(le.id)).map(le=>({...le,isAlternative:!0}))},[K,At,V]);j.useEffect(()=>{const W=At(),ne={};[...W,...V].forEach(le=>{ne[le.id]=!0}),T(ne)},[h,At,V]);const Z=W=>{R(W),F(!0)},vt=W=>{const ne=W.label.toLowerCase(),le=ce.includes(ne);lt.recordOptionSelection(W.id,W.label,le),de(!1),I(W),w(!0)},Qs=()=>{if(!_)return;w(!1);const W=_.label.toLowerCase(),ne=ce.includes(W);if(ne){const le=localStorage.getItem("finalValues"),be=localStorage.getItem("MoralValuesReorderList");let Ee=[];if(be)try{Ee=JSON.parse(be)}catch(Ct){console.error("Error parsing existing MoralValuesReorderList:",Ct)}if(le&&Ee.length===0)try{Ee=JSON.parse(le).map(ms=>({id:ms.name.toLowerCase(),label:ms.name}))}catch(Ct){console.error("Error parsing matched stable values:",Ct)}const Pe=Ee.filter(Ct=>Ct.id!==W),Qe=[{id:W,label:_.label},...Pe];localStorage.setItem("MoralValuesReorderList",JSON.stringify(Qe)),Ze(Ct=>[W,...Ct.filter(mi=>mi!==W)]),console.log("Updated MoralValuesReorderList for aligned choice:",Qe)}!ne&&_.cvrQuestion?(u(_),g(!0),lt.recordCVRVisit(K.id,_.id)):(u(_),S(!0)),I(null)},Rs=()=>{w(!1),S(!1),P(!0),b(!0),I(null)},fs=W=>{if(g(!1),W){localStorage.setItem("cvrYesClicked","true"),localStorage.setItem("cvrNoClicked","false");const ne=localStorage.getItem("cvrYesClickedCount"),le=ne?parseInt(ne)+1:1;localStorage.setItem("cvrYesClickedCount",le.toString())}else{localStorage.setItem("cvrYesClicked","false"),localStorage.setItem("cvrNoClicked","true");const ne=localStorage.getItem("cvrNoClickedCount"),le=ne?parseInt(ne)+1:1;localStorage.setItem("cvrNoClickedCount",le.toString())}d&&lt.recordCVRAnswer(K.id,W,d.id,d.label,d.cvrQuestion),W?S(!0):k(!0)},hi=W=>{A(le=>[...le,{...W,isAlternative:!0}]),b(!1);const ne=se+1;Ce(ne),localStorage.setItem("alternativesExploredCount",ne.toString()),lt.recordAlternativeAdded(K.id,W.id,W.label),G(!0),setTimeout(()=>{G(!1)},5e3)},fi=()=>{P(!0),K&&lt.recordAlternativesExplored(K.id),b(!0)},Ca=()=>{if(!M||!d)return;S(!1);const W={livesSaved:e.livesSaved+d.impact.livesSaved,humanCasualties:e.humanCasualties+d.impact.humanCasualties,firefightingResource:Math.max(0,e.firefightingResource+d.impact.firefightingResource),infrastructureCondition:Math.max(0,e.infrastructureCondition+d.impact.infrastructureCondition),biodiversityCondition:Math.max(0,e.biodiversityCondition+d.impact.biodiversityCondition),propertiesCondition:Math.max(0,e.propertiesCondition+d.impact.propertiesCondition),nuclearPowerStation:Math.max(0,e.nuclearPowerStation+d.impact.nuclearPowerStation)},ne=d.label.toLowerCase(),le=ce.includes(ne),be={hasReorderedValues:localStorage.getItem("hasReorderedValues")==="true",cvrYesClicked:localStorage.getItem("cvrYesClicked")==="true",cvrNoClicked:localStorage.getItem("cvrNoClicked")==="true",simulationMetricsReorderingFlag:localStorage.getItem("simulationMetricsReorderingFlag")==="true",moralValuesReorderingFlag:localStorage.getItem("moralValuesReorderingFlag")==="true"},Ee=[...Y];if(console.log(`[Scenario ${K.id}] Flags at confirmation:`,be),console.log(`[Scenario ${K.id}] FinalTopTwoValues before update:`,Ee),be.cvrYesClicked&&!le){const xe=d.label.toLowerCase(),ie=localStorage.getItem("finalValues"),q=localStorage.getItem("MoralValuesReorderList");let he=[];if(q)try{he=JSON.parse(q)}catch(Ks){console.error("Error parsing existing MoralValuesReorderList:",Ks)}if(ie&&he.length===0)try{he=JSON.parse(ie).map(Al=>({id:Al.name.toLowerCase(),label:Al.name}))}catch(Ks){console.error("Error parsing matched stable values:",Ks)}const Ae=he.filter(Ks=>Ks.id!==xe),ht=[{id:xe,label:d.label},...Ae];localStorage.setItem("MoralValuesReorderList",JSON.stringify(ht)),Ze(Ks=>[xe,...Ks.filter(g0=>g0!==xe)]),console.log("Updated MoralValuesReorderList at confirmation:",ht)}lt.confirmOption(d.id,d.label,le,W,be,Ee);const Pe=d.label.toLowerCase(),Qe=[...ue,Pe];Ne(Qe),localStorage.setItem("ScenariosFinalDecisionLabels",JSON.stringify(Qe));const Ct=Y.includes(Pe)?"Aligned":"Misaligned",ms=[...me,Ct];if(pe(ms),localStorage.setItem("CheckingAlignmentList",JSON.stringify(ms)),console.log(`Scenario ${K.id} - Final Decision: ${Pe}, Alignment: ${Ct}`),console.log("Current FinalTopTwoValues (before update):",Y),console.log("Updated ScenariosFinalDecisionLabels:",Qe),console.log("Updated CheckingAlignmentList:",ms),be.moralValuesReorderingFlag){const xe=localStorage.getItem("MoralValuesReorderList");if(xe)try{const q=JSON.parse(xe).map(he=>he.id||he.label||he);K.id===1?(Ut(q),localStorage.setItem("Scenario1_MoralValueReordered",JSON.stringify(q)),console.log("Captured Scenario1_MoralValueReordered:",q)):K.id===2?(es(q),localStorage.setItem("Scenario2_MoralValueReordered",JSON.stringify(q)),console.log("Captured Scenario2_MoralValueReordered:",q)):K.id===3&&(_s(q),localStorage.setItem("Scenario3_MoralValueReordered",JSON.stringify(q)),console.log("Captured Scenario3_MoralValueReordered:",q))}catch(ie){console.error("Error capturing MoralValuesReorderList for scenario:",ie)}}else K.id===1?(Ut([]),localStorage.setItem("Scenario1_MoralValueReordered",JSON.stringify([])),console.log("Scenario1_MoralValueReordered set to empty (flag is false)")):K.id===2?(es([]),localStorage.setItem("Scenario2_MoralValueReordered",JSON.stringify([])),console.log("Scenario2_MoralValueReordered set to empty (flag is false)")):K.id===3&&(_s([]),localStorage.setItem("Scenario3_MoralValueReordered",JSON.stringify([])),console.log("Scenario3_MoralValueReordered set to empty (flag is false)"));if(be.simulationMetricsReorderingFlag)console.log("Skipping FinalTopTwoValues update because simulationMetricsReorderingFlag is true"),console.log("FinalTopTwoValues remains:",Y),localStorage.setItem("previousScenarioUsedSimulationMetrics","true");else if(be.moralValuesReorderingFlag){const xe=localStorage.getItem("MoralValuesReorderList");if(xe)try{const q=JSON.parse(xe).slice(0,2).map(he=>he.id||he.label||he);fe(q),localStorage.setItem("FinalTopTwoValues",JSON.stringify(q)),console.log("Updated FinalTopTwoValues with top 2 from MoralValuesReorderList:",q)}catch(ie){console.error("Error parsing MoralValuesReorderList:",ie)}else console.log("MoralValuesReorderList not found in localStorage")}else{const xe=[Pe,...Y.filter(ie=>ie!==Pe)].slice(0,2);fe(xe),localStorage.setItem("FinalTopTwoValues",JSON.stringify(xe)),console.log("Updated FinalTopTwoValues with final decision:",xe),localStorage.setItem("previousScenarioUsedSimulationMetrics","false")}localStorage.setItem("selectedFromTop2Previous",ae.toString());const mi={scenarioId:K.id,decision:d,topTwoValuesAtDecision:Y},ar=[...$,mi];re(ar),localStorage.setItem("simulationScenarioOutcomes",JSON.stringify(ar));const Ma=Object.keys(e).filter(xe=>e[xe]!==W[xe]);c(Ma),s(W),setTimeout(()=>{c([])},1e3),u(null);const Se=lt.endScenario(),Ie=we.getSessionId();if(Se){let xe=[];const ie=K.id===3?Object.entries(Ms).filter(([q,he])=>he).map(([q,he])=>{const Ae=[...At(),...V].find(ht=>ht.id===q);return Ae?{id:Ae.id,label:Ae.label,title:Ae.title}:null}).filter(q=>q!==null):[];K.id===3&&(xe=[...At(),...V].filter(he=>{const Ae=[];return e.firefightingResource+he.impact.firefightingResource<0&&Ae.push("Resources"),e.infrastructureCondition+he.impact.infrastructureCondition<0&&Ae.push("Infrastructure"),e.biodiversityCondition+he.impact.biodiversityCondition<0&&Ae.push("Biodiversity"),e.propertiesCondition+he.impact.propertiesCondition<0&&Ae.push("Properties"),Ae.length>0}).map(he=>({id:he.id,label:he.label,title:he.title,checked:Ms[he.id]||!1})),localStorage.setItem("Scenario3_InfeasibleOptions",JSON.stringify(xe))),we.insertFinalDecision({session_id:Ie,scenario_id:K.id,scenario_title:K.title,option_id:d.id,option_label:d.label,option_title:d.title,is_aligned:le,from_top_two_ranked:ae,total_switches:Se.switchCount,total_time_seconds:Math.round((Se.endTime-Se.startTime)/1e3),cvr_visited:Se.cvrVisited,cvr_visit_count:Se.cvrVisitCount,cvr_yes_answers:Se.cvrYesAnswers,apa_reordered:Se.apaReordered,apa_reorder_count:Se.apaReorderCount,alternatives_explored:Se.alternativesExplored,final_metrics:W,infeasible_options_checked:K.id===3?xe:ie})}if(h<oo.length-1){D(!0);let xe="";W.nuclearPowerStation<50?xe=" CRITICAL: Nuclear facility integrity compromised. Situation escalating - immediate action required!":W.firefightingResource<30?xe=" WARNING: Resources critically low. New threats emerging - strategic decisions vital!":xe="Scenario complete. Preparing for escalating situation...",X(xe),setTimeout(()=>{D(!1),X(null),f(ie=>ie+1)},3e3),P(!1)}else{localStorage.setItem("finalSimulationMetrics",JSON.stringify(W));const xe={event:"scenario_completed",scenarioId:K.id,optionId:d.id,timestamp:new Date().toISOString(),finalMetrics:W},ie=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");ie.push(xe),localStorage.setItem("sessionEventLogs",JSON.stringify(ie)),t("/thank-you")}},Ts=(W,ne)=>{k(!1),u(null),u(W),de(ne),S(!0)},El=(W,ne)=>{hs(le=>({...le,[W.id]:ne}))},Pl=j.useCallback(W=>{T(ne=>({...ne,[W]:!ne[W]}))},[]),ka=j.useCallback(()=>{const W=["Fire Containment","Firefighter Risk","Resource Use","Infrastructure Damage","Biodiversity Impact","Ethical Fairness"],le=[...At(),...V].filter(be=>B[be.id]).map((be,Ee)=>{const Pe=["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"],Qe=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"];return{label:be.title,data:be.radarData?[be.radarData.fireContainment,be.radarData.firefighterRisk,be.radarData.resourceUse,be.radarData.infrastructureDamage,be.radarData.biodiversityImpact,be.radarData.ethicalFairness]:[],backgroundColor:Pe[Ee%Pe.length],borderColor:Qe[Ee%Qe.length],borderWidth:2}});return{labels:W,datasets:le}},[At,V,B]),ts={scales:{r:{min:0,max:100,ticks:{stepSize:20,showLabelBackdrop:!1,font:{size:10}},pointLabels:{font:{size:12}},grid:{color:"rgba(0, 0, 0, 0.1)"},angleLines:{color:"rgba(0, 0, 0, 0.1)"}}},plugins:{tooltip:{callbacks:{label:function(W){return`${W.dataset.label}: ${W.raw}`}}},legend:{position:"bottom",labels:{font:{size:12},padding:20}}},maintainAspectRatio:!1};if(!K)return null;const _a=Xu();return v?r.jsx(lS,{onBack:()=>{k(!1),u(null)},selectedOption:d,mainScenario:K,onConfirm:Ts,scenarioId:K.id,isLastScenario:h===oo.length-1}):r.jsxs("div",{className:"h-screen bg-gray-50 p-4 flex flex-col",children:[r.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Wildfire Crisis Simulation"}),r.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["Scenario ",K.id," of ",oo.length]})]}),r.jsxs(ao,{id:"cumulative-metrics",title:"Understanding Your Cumulative Metrics",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"These metrics track your performance across all scenarios."})," Each decision you make will affect these cumulative scores, and they carry forward to subsequent scenarios."]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Lives Saved:"})," Total lives protected by your decisions (higher is better)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Resources & Infrastructure:"})," Remaining capacity and condition (maintain above 30%)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Environmental Impact:"})," Biodiversity and nuclear safety (protect whenever possible)"]})]}),r.jsx("p",{className:"mt-2 font-medium",children:"Your goal is to balance these competing priorities while making ethical decisions under pressure."})]}),r.jsx(KN,{metrics:e,animatingMetrics:l}),r.jsxs(ao,{id:"scenario-context",title:"Understanding the Current Scenario",children:[r.jsxs("p",{children:["Each scenario presents a ",r.jsx("strong",{children:"unique wildfire crisis"})," requiring immediate action. Read the scenario description carefully to understand:"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"The immediate threat and what's at stake"}),r.jsx("li",{children:"The context and constraints you're facing"}),r.jsx("li",{children:"Why this decision matters for the overall crisis"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-teal-50 via-teal-100 to-cyan-50 border-2 border-teal-300 rounded-lg shadow-lg p-3 mb-3",children:[r.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider mb-1 text-teal-700",children:"Current Scenario"}),r.jsx("h3",{className:"text-lg font-bold mb-1 text-teal-900",style:{fontFamily:"Georgia, serif"},children:K.title}),r.jsx("p",{className:"text-sm text-teal-800 leading-relaxed",style:{fontFamily:"Georgia, serif"},children:K.description})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 flex-1 flex flex-col overflow-hidden",children:d?null:r.jsxs(r.Fragment,{children:[r.jsxs(ao,{id:"decision-options",title:"How to Evaluate Your Options",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Each option card shows the immediate impact"})," of that decision on your cumulative metrics. Consider:"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Trade-offs:"})," Most decisions involve sacrificing some values for others"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Expert opinions:"})," Click any option to see what experts recommend"]})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:'Click "View Trade-Off Comparison"'})," below to visualize how options differ across all metrics."]})]}),r.jsx("div",{className:"flex justify-between items-center mb-2",children:r.jsx("h3",{className:"text-base font-medium text-gray-800",children:"Select Your Decision"})}),r.jsxs("div",{className:"relative",children:[O&&r.jsx("div",{className:"mb-3 bg-gradient-to-r from-cyan-50 to-teal-50 border-2 border-cyan-300 rounded-lg p-3 shadow-lg animate-pulse",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"bg-cyan-400 text-white rounded-full p-1.5",children:r.jsx(bn,{size:16})}),r.jsx("p",{className:"text-cyan-900 font-medium text-sm",children:" New alternative added! Scroll down to see it below."})]}),r.jsx("button",{onClick:()=>G(!1),className:"text-cyan-600 hover:text-cyan-800 transition-colors",children:r.jsx(us,{size:18})})]})}),r.jsx("div",{className:"flex flex-col gap-3 flex-1 overflow-y-auto",children:[...At(),...V].map(W=>r.jsx(XN,{option:W,onSelect:vt,onReview:Z,currentMetrics:e,scenarioIndex:h,hasExploredAlternatives:M,onInfeasibleCheck:El,isInfeasibleChecked:Ms[W.id]||!1},W.id))}),r.jsxs("div",{className:"sticky bottom-0 bg-gradient-to-t from-white via-white to-transparent pt-4 mt-4 -mx-4 px-4 pb-2",children:[h===0&&r.jsxs(ao,{id:"explore-alternatives",title:"Important: Explore All Alternatives Before Deciding",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"You must explore alternatives before confirming any decision."})," This ensures you've considered all available options."]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Explore Alternatives:"})," View additional options beyond the initial two"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Add Alternative to Decision List:"})," Bring alternative options into your main view"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Compare visually:"})," Use the Trade-Off Comparison tool to see Radar Charts, Bar Charts, and Differences"]})]}),r.jsx("p",{className:"mt-2 font-medium",children:"After exploring, you can proceed with any option that best aligns with your values."})]}),r.jsxs("div",{className:"flex flex-col gap-2 relative",children:[r.jsxs("button",{onClick:fi,className:`w-full flex items-center justify-center text-center text-base font-semibold px-6 py-3.5 rounded-lg transition-all duration-300 relative ${_a.length===0?"bg-gray-100 text-gray-400 cursor-not-allowed":M?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl":"bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700 animate-pulse shadow-xl shadow-purple-400/50"}`,disabled:_a.length===0,children:[M?r.jsx(Ws,{size:20,className:"mr-2"}):r.jsx(bn,{size:20,className:"mr-2"}),M?`Alternatives Reviewed ${V.length>0?`(${V.length} added)`:""}`:"Explore Alternatives",!M&&_a.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-400 rounded-full animate-ping"}),r.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-400 rounded-full"})]})]}),r.jsxs("button",{onClick:()=>y(!0),className:"w-full flex items-center justify-center text-center text-base font-semibold bg-gradient-to-r from-blue-500 to-cyan-600 text-white hover:from-blue-600 hover:to-cyan-700 px-6 py-3.5 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl",children:[r.jsx(Qi,{size:20,className:"mr-2"}),"View Trade-Off Comparison"]})]})]})]})]})})]}),r.jsx(GN,{isOpen:N,onClose:()=>{w(!1),I(null)},option:_,onKeepChoice:Qs,onReviewAlternatives:Rs,isAligned:_?ce.includes(_.label.toLowerCase()):!1,hasExploredAlternatives:M}),r.jsx(ZN,{isOpen:C,onClose:()=>{S(!1),u(null)},option:d,onConfirmDecision:Ca,canConfirm:M,onReviewAlternatives:fi}),r.jsx(rS,{showRadarChart:p,onClose:()=>y(!1),currentScenario:{options:[...At(),...V],alternativeOptions:[]},toggledOptions:B,toggleOption:Pl,prepareRadarChartData:ka,radarOptions:ts}),r.jsx(aS,{isOpen:x,onClose:()=>b(!1),alternativeOptions:_a,onAddAlternative:hi}),(d==null?void 0:d.cvrQuestion)&&r.jsx(oS,{isOpen:m,onClose:()=>{g(!1),u(null)},question:d.cvrQuestion,onAnswer:fs}),te&&r.jsx(cS,{isOpen:E,onClose:()=>{F(!1),R(null)},option:te}),z&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"text-center max-w-lg mx-auto p-6",children:[r.jsx(ni,{className:"mx-auto text-orange-500 mb-4 animate-pulse",size:48}),r.jsx("h2",{className:"text-white text-2xl font-bold mb-4",children:U||"Scenario Complete"}),e.nuclearPowerStation<50&&r.jsxs("div",{className:"bg-red-900 bg-opacity-50 p-4 rounded-lg mb-4 flex items-center gap-2",children:[r.jsx(ct,{className:"text-red-500",size:24}),r.jsx("p",{className:"text-red-200",children:"Nuclear containment breach detected. Emergency protocols activated."})]}),r.jsx("p",{className:"text-gray-300 animate-pulse",children:"Analyzing situation developments..."})]})})]})},hS=()=>{const t=Pt(),[e,s]=j.useState(!1),[n,i]=j.useState(!0);j.useEffect(()=>{s(!0);const o=sessionStorage.getItem("metricsCalculated");if(sessionStorage.getItem("returningFromSilent")==="true"){console.log("[ThankYouPage] Returned from silent calculation, ready for user interaction"),sessionStorage.removeItem("returningFromSilent"),i(!1);return}o!=="true"?(console.log("[ThankYouPage] Triggering silent navigation to calculate metrics"),sessionStorage.setItem("returningFromSilent","true"),t("/view-results?silent=true",{replace:!0})):(console.log("[ThankYouPage] Metrics already calculated, skipping silent navigation"),i(!1))},[t]);const a=()=>{t("/feedback")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-teal-50 to-green-50 flex items-center justify-center p-4",children:r.jsx("div",{className:`max-w-3xl w-full transition-all duration-1000 transform ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-gradient-to-br from-green-400 to-blue-500 rounded-full p-4 shadow-lg",children:r.jsx(Fs,{className:"h-16 w-16 text-white",strokeWidth:2.5})})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-900 mb-4",children:"Simulation Complete!"}),r.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[r.jsx(vd,{className:"h-8 w-8 text-yellow-500"}),r.jsx("p",{className:"text-xl text-center text-gray-700 font-medium",children:"Thank You for Your Participation"}),r.jsx(vd,{className:"h-8 w-8 text-yellow-500"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg p-6 mb-8 border-2 border-blue-200",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx(mx,{className:"h-6 w-6 text-red-500 mt-1 flex-shrink-0"}),r.jsxs("p",{className:"text-gray-800 leading-relaxed",children:[r.jsx("strong",{children:"We deeply appreciate your time, effort, and thoughtful consideration"})," throughout this simulation. Your decisions and engagement provide invaluable insights into value-driven decision-making under pressure."]})]}),r.jsx("p",{className:"text-gray-700 leading-relaxed ml-9",children:"You navigated complex scenarios, balanced competing priorities, and demonstrated the challenges of ethical decision-making in crisis situations. Your contribution helps advance our understanding of how people align their values with their choices."})]}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[r.jsx("div",{className:"bg-green-100 rounded-full p-2",children:r.jsx(Fs,{className:"h-5 w-5 text-green-600"})}),r.jsx("span",{className:"text-lg",children:"All scenarios completed successfully"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[r.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:r.jsx(Fs,{className:"h-5 w-5 text-blue-600"})}),r.jsx("span",{className:"text-lg",children:"Your decisions have been recorded"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[r.jsx("div",{className:"bg-purple-100 rounded-full p-2",children:r.jsx(Fs,{className:"h-5 w-5 text-purple-600"})}),r.jsx("span",{className:"text-lg",children:"Final analysis is ready for your review"})]})]}),r.jsxs("div",{className:"border-t-2 border-gray-200 pt-6",children:[r.jsx("p",{className:"text-center text-gray-600 mb-6 text-lg",children:"Please proceed to provide your feedback about the simulation experience"}),r.jsxs("button",{onClick:a,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 text-white font-semibold text-lg py-4 px-6 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:["Continue to Feedback",r.jsx(Cs,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})]})})})},f0=({matches:t})=>{const e=i=>i.matchesImplicit?"Stable":i.matchesSimulation?"Context-Dependent":"Inconsistent",s=i=>i.matchesImplicit?"text-green-600":i.matchesSimulation?"text-orange-600":"text-red-600",n=i=>i.matchesImplicit?r.jsx(cs,{size:16,className:"text-green-600"}):i.matchesSimulation?r.jsx(ct,{size:16,className:"text-orange-600"}):r.jsx(Gi,{size:16,className:"text-red-600"});return r.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scenario"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Selected Value"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stability"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(i=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Scenario ",i.scenarioId]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.selectedValue}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:i.matchesExplicit?"text-green-600":"text-gray-400",children:[i.matchesExplicit?"":""," Explicit Values"]}),r.jsxs("div",{className:i.matchesImplicit?"text-green-600":"text-gray-400",children:[i.matchesImplicit?"":""," Implicit Values"]}),r.jsxs("div",{className:i.matchesSimulation?"text-orange-600":"text-gray-400",children:[i.matchesSimulation?"":""," Simulation Values"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsxs("div",{className:"flex items-center gap-1",children:[n(i),r.jsx("span",{className:s(i),children:e(i)})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${i.stabilityScore>=75?"bg-green-600":i.stabilityScore>=50?"bg-orange-600":"bg-red-600"}`,style:{width:`${i.stabilityScore}%`}})}),r.jsxs("span",{className:"text-gray-600",children:[i.stabilityScore,"%"]})]})})]},i.scenarioId))})]})})};di.register(fa,ma,Bi,Kn,as,Ju,Tl,Rl);const m0=["Safety","Efficiency","Sustainability","Fairness","Nonmaleficence"],zm=()=>{const t={};return m0.forEach(e=>{t[e.toLowerCase()]=[]}),t},fS=()=>{const t=Pt(),[e,s]=j.useState({cvrInitialReconsideration:null,cvrFinalReconsideration:null,cvrPurposeClarity:4,cvrConfidenceChange:4,cvrHelpfulness:4,cvrClarity:4,cvrComfortLevel:4,cvrPerceivedValue:4,cvrOverallImpact:4,cvrComments:"",apaPurposeClarity:4,apaEaseOfUse:4,apaControlUnderstanding:4,apaDecisionReflection:null,apaScenarioAlignment:null,apaComparisonUsefulness:4,apaPerspectiveValue:4,apaConfidenceAfterReordering:4,apaPerceivedValue:4,apaTradeoffChallenge:4,apaReflectionDepth:4,apaComments:"",usedTradeoffComparison:null,vizClarity:4,vizHelpfulness:null,vizUsefulness:4,vizTradeoffEvaluation:4,vizTradeoffJustification:4,vizExpertUsefulness:4,vizExpertConfidenceImpact:null,vizComments:"",overallScenarioAlignment:null,overallDecisionSatisfaction:4,overallProcessSatisfaction:4,overallConfidenceConsistency:4,overallLearningInsight:4,overallComments:""}),[n,i]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[h,f]=j.useState(!1),[p,y]=j.useState(!1),[x,b]=j.useState(null),[m,g]=j.useState(!1),[v,k]=j.useState({}),[N,w]=j.useState({}),[C,S]=j.useState([]),[_,I]=j.useState(null),[E,F]=j.useState(0),[te,R]=j.useState(!1),[V,A]=j.useState(zm()),[B,T]=j.useState([]),[z,D]=j.useState([]);j.useEffect(()=>{U()},[]);const U=()=>{try{const M=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),P=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null"),ae=JSON.parse(localStorage.getItem("finalValues")||"[]"),de=localStorage.getItem("MoralValuesReorderList"),O=lt.getScenarioTrackingHistory(),G=lt.getAllEvents();if(!M.length||!P){console.error("Missing required data for metrics calculation");return}const Y=ae.map(Z=>(Z.name||Z).toString().toLowerCase());let fe=[];if(de)try{fe=JSON.parse(de).map(vt=>(vt.id||vt.name||vt).toString().toLowerCase())}catch{fe=Y}else fe=Y;const se=G.filter(Z=>Z.event==="cvr_opened"),Ce=se.length,ue=G.filter(Z=>Z.event==="cvr_answered"),Ne=ue.filter(Z=>Z.cvrAnswer===!0).length,me=ue.filter(Z=>Z.cvrAnswer===!1).length,pe=G.filter(Z=>Z.event==="apa_reordered"),Ue=pe.length,Me=[],Ve=new Map;O.forEach(Z=>{if(Z.endTime&&Z.startTime){const vt=(Z.endTime-Z.startTime)/1e3;Me.push(vt),Ve.set(Z.scenarioId,{timeSeconds:Math.round(vt),switches:Z.switchCount||0,cvrVisited:Z.cvrVisited||!1,cvrVisitCount:Z.cvrVisitCount||0,cvrYesAnswers:Z.cvrYesAnswers||0,apaReordered:Z.apaReordered||!1,apaReorderCount:Z.apaReorderCount||0})}}),Me.length===0&&M.forEach(()=>{Me.push(75)});const Ut=Me.length>0?Me.reduce((Z,vt)=>Z+vt,0)/Me.length:0,et=[],es=[];M.forEach((Z,vt)=>{const Qs=(Z.decision.label||"").toLowerCase(),Rs=Z.scenarioId,fs=se.filter(ts=>ts.scenarioId===Z.scenarioId),hi=ue.filter(ts=>ts.scenarioId===Z.scenarioId&&ts.cvrAnswer===!0);let fi=!1;Rs===1?fi=Y.includes(Qs):(Rs===2||Rs===3)&&(fi=fe.includes(Qs));const Ca=fi&&hi.length===0;et.push(Ca);const Ts=Ve.get(Z.scenarioId)||{timeSeconds:Math.round(Me[vt]||0),switches:0,cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,apaReordered:!1,apaReorderCount:0},El=G.filter(ts=>ts.event==="option_selected"&&ts.scenarioId===Z.scenarioId),Pl=Math.max(0,El.length-1),ka=pe.filter(ts=>ts.scenarioId===Z.scenarioId);es.push({scenarioId:Z.scenarioId,finalChoice:Z.decision.title||Z.decision.label||"Unknown",aligned:Ca,switches:Ts.switches||Pl,timeSeconds:Ts.timeSeconds,cvrVisited:Ts.cvrVisited||fs.length>0,cvrVisitCount:Ts.cvrVisitCount||fs.length,cvrYesAnswers:Ts.cvrYesAnswers||hi.length,apaReordered:Ts.apaReordered||ka.length>0,apaReorderCount:Ts.apaReorderCount||ka.length})});const ui=es.reduce((Z,vt)=>Z+vt.switches,0),_s=et.filter(Boolean).length,Ms=et.length>0?_s/et.length:0,hs=X(P),K=ge(P);let oe=0,Sa=0;es.forEach(Z=>{const Qs=G.filter(fs=>fs.scenarioId===Z.scenarioId).find(fs=>fs.event==="option_confirmed"),Rs=Qs==null?void 0:Qs.flagsAtConfirmation;if(Rs){const fs=Rs.simulationMetricsReorderingFlag??!1,hi=Rs.moralValuesReorderingFlag??!1;(fs||hi)&&Sa++}Z.aligned||oe++});const At=[];pe.forEach(Z=>{Z.valuesAfter&&Z.scenarioId!==void 0&&At.push({scenarioId:Z.scenarioId,values:Z.valuesAfter,preferenceType:Z.preferenceType||"unknown"})}),b({cvrArrivals:Ce,cvrYesCount:Ne,cvrNoCount:me,apaReorderings:Ue,misalignAfterCvrApaCount:oe,realignAfterCvrApaCount:Sa,switchCountTotal:ui,avgDecisionTime:Ut,decisionTimes:Me,valueConsistencyIndex:Ms,performanceComposite:hs,balanceIndex:K,finalAlignmentByScenario:et,valueOrderTrajectories:At,scenarioDetails:es})}catch(M){console.error("Error calculating metrics:",M)}},X=M=>{const P={livesSaved:Math.min(M.livesSaved/2e4,1),casualties:1-Math.min(M.humanCasualties/1e3,1),firefightingResource:M.firefightingResource/100,infrastructureCondition:M.infrastructureCondition/100,biodiversityCondition:M.biodiversityCondition/100,propertiesCondition:M.propertiesCondition/100,nuclearPowerStation:M.nuclearPowerStation/100},ae=Object.values(P),de=ae.reduce((O,G)=>O+G,0)/ae.length;return Math.round(de*100)/100},ge=M=>{const P=[Math.min(M.livesSaved/2e4,1),1-Math.min(M.humanCasualties/1e3,1),M.firefightingResource/100,M.infrastructureCondition/100,M.biodiversityCondition/100,M.propertiesCondition/100,M.nuclearPowerStation/100],ae=P.reduce((O,G)=>O+G,0)/P.length,de=P.reduce((O,G)=>O+Math.pow(G-ae,2),0)/P.length;return Math.round((1-de)*100)/100},ee=(M,P)=>{s(ae=>({...ae,[M]:P}))},$=()=>{try{const M=JSON.parse(localStorage.getItem("explicitValues")||"[]"),P=JSON.parse(localStorage.getItem("deepValues")||"[]"),ae=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),de=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null");if(!M.length||!P.length||!ae.length||!de){R(!0);return}const O=JSON.parse(localStorage.getItem("ExplicitValueFrequencies")||"[]"),G=JSON.parse(localStorage.getItem("ImplicitValueFrequencies")||"[]");T(O),D(G);const Y={};M.forEach(ue=>{const Ne=ue.value_selected.toLowerCase();Y[Ne]=(Y[Ne]||0)+1}),k(Y);const fe={};P.forEach(ue=>{var me;const Ne=(me=ue.name)==null?void 0:me.toLowerCase();Ne&&(fe[Ne]=(fe[Ne]||0)+1)}),w(fe);const se=zm();Object.keys(se).forEach(ue=>{se[ue]=[0,0,0]}),ae.forEach((ue,Ne)=>{const me=ue.decision.label.toLowerCase(),pe=ue.topTwoValuesAtDecision||[];Ne<3&&(se[me]&&(se[me][Ne]=100),pe.forEach(Ue=>{const Me=Ue.toLowerCase();Me!==me&&se[Me]&&(se[Me][Ne]=50)}))}),A(se);const Ce=ae.map(ue=>{const Ne=ue.decision.label.toLowerCase(),me=Y[Ne]>0,pe=fe[Ne]>0,Ve=(me?40:0)+(pe?60:0);return{scenarioId:ue.scenarioId,selectedValue:ue.decision.label,matchesExplicit:me,matchesImplicit:pe,matchesSimulation:!0,stabilityScore:Ve}});S(Ce),F(Ce.reduce((ue,Ne)=>ue+Ne.stabilityScore,0)/Ce.length),I(de),R(!1)}catch(M){console.error("Error loading analysis data:",M),R(!0)}},re=()=>{const M=m0;return{labels:M,datasets:[{label:"Explicit Choices",data:M.map(P=>v[P.toLowerCase()]||0),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Implicit Choices",data:M.map(P=>N[P.toLowerCase()]||0),backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Simulation Decisions",data:M.map(P=>C.filter(ae=>ae.selectedValue.toLowerCase()===P.toLowerCase()).length),backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},ce=()=>{const M=Object.keys(V);return{labels:["Explicit Choices","Implicit Choices","Scenario 1","Scenario 2","Scenario 3"],datasets:M.map((P,ae)=>{const de=[{line:"rgb(239, 68, 68)",fill:"rgba(239, 68, 68, 0.1)"},{line:"rgb(59, 130, 246)",fill:"rgba(59, 130, 246, 0.1)"},{line:"rgb(16, 185, 129)",fill:"rgba(16, 185, 129, 0.1)"},{line:"rgb(245, 158, 11)",fill:"rgba(245, 158, 11, 0.1)"},{line:"rgb(139, 92, 246)",fill:"rgba(139, 92, 246, 0.1)"}],O=B.find(se=>se.value.toLowerCase()===P.toLowerCase()),G=O?O.percentage:0,Y=z.find(se=>se.value.toLowerCase()===P.toLowerCase()),fe=Y?Y.percentage:0;return{label:P.charAt(0).toUpperCase()+P.slice(1),data:[G,fe,...V[P]],borderColor:de[ae%de.length].line,backgroundColor:de[ae%de.length].fill,tension:.1,fill:!0}})}},Ze=async()=>{var Y,fe;if(!x)return;const M={...x,...e};localStorage.setItem("sessionResults",JSON.stringify(M));const P={event:"feedback_submitted",timestamp:new Date().toISOString(),data:M},ae=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");ae.push(P),localStorage.setItem("sessionEventLogs",JSON.stringify(ae));const de=we.getSessionId(),O=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),G=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]");try{await we.insertSessionFeedback({session_id:de,cvr:{initialReconsideration:e.cvrInitialReconsideration,finalReconsideration:e.cvrFinalReconsideration,purposeClarity:e.cvrPurposeClarity,confidenceChange:e.cvrConfidenceChange,helpfulness:e.cvrHelpfulness,clarity:e.cvrClarity,comfortLevel:e.cvrComfortLevel,perceivedValue:e.cvrPerceivedValue,overallImpact:e.cvrOverallImpact,comments:e.cvrComments},visualization:{usedTradeoffComparison:e.usedTradeoffComparison,clarity:e.vizClarity,usefulness:e.vizUsefulness,tradeoffEvaluation:e.vizTradeoffEvaluation,tradeoffJustification:e.vizTradeoffJustification,expertUsefulness:e.vizExpertUsefulness,helpfulness:e.vizHelpfulness,expertConfidenceImpact:e.vizExpertConfidenceImpact,comments:e.vizComments},overall:{scenarioAlignment:e.overallScenarioAlignment,decisionSatisfaction:e.overallDecisionSatisfaction,processSatisfaction:e.overallProcessSatisfaction,confidenceConsistency:e.overallConfidenceConsistency,learningInsight:e.overallLearningInsight,comments:e.overallComments},metricsSnapshot:{valueConsistencyIndex:x.valueConsistencyIndex,performanceComposite:x.performanceComposite,balanceIndex:x.balanceIndex,cvrArrivals:x.cvrArrivals,cvrYesCount:x.cvrYesCount,cvrNoCount:x.cvrNoCount,totalSwitches:x.switchCountTotal,avgDecisionTime:x.avgDecisionTime,scenariosFinalDecisionLabels:O,checkingAlignmentList:G}}),f(!0),y(!0);try{await((Y=we.updateUserSession)==null?void 0:Y.call(we,de,{is_completed:!0,completed_at:new Date().toISOString()}))}catch(se){console.debug("updateUserSession failed (non-blocking):",se)}try{await((fe=we.syncFallbackData)==null?void 0:fe.call(we))}catch(se){console.debug("syncFallbackData failed (non-blocking):",se)}}catch(se){console.error("Submit feedback failed:",se),alert("Sorrysaving feedback failed. Please try again.")}};return x?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(zi,{className:"h-8 w-8 text-yellow-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Feedback"})]})})}),r.jsxs("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg p-6 mb-8 border-2 border-blue-200",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Ri,{className:"h-6 w-6 text-blue-600"}),"We Value Your Experience"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your feedback is crucial to understanding how this simulation helped you reflect on value-driven decision-making. Please take a moment to share your thoughts about the process and your experience."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-blue-100 to-cyan-50 rounded-lg shadow-lg border-2 border-blue-300 p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-blue-900 flex items-center",children:[r.jsx(Ws,{className:"h-6 w-6 mr-2 text-blue-700"}),"Value Reflection Mechanism (CVR)"]}),r.jsxs("div",{className:"flex items-center gap-2 bg-blue-200 px-3 py-1.5 rounded-full shadow-sm",children:[r.jsx("span",{className:"text-xs font-bold text-blue-900",children:"Total CVR Interactions:"}),r.jsx("span",{className:"text-sm font-bold text-blue-900",children:x.cvrArrivals})]})]}),r.jsx("p",{className:"text-sm text-blue-800 font-medium mb-6 leading-relaxed bg-white/60 p-3 rounded-lg",children:"The CVR (Cognitive Value Recontextualization) mechanism presented you with alternative scenarios to help understand your chosen options from different contexts and perspectives. Please share your experience with this feature."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Reconsideration"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Initial Choice Reconsideration: Did any of the CVR questions lead you to reconsider your initial choice when you first faced each scenario?"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>s(M=>({...M,cvrInitialReconsideration:!0})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.cvrInitialReconsideration===!0?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),r.jsx("button",{onClick:()=>s(M=>({...M,cvrInitialReconsideration:!1})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.cvrInitialReconsideration===!1?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Final Decision Reconsideration: After reflecting on the CVR scenarios, did you reconsider your final decision before confirming it?"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>s(M=>({...M,cvrFinalReconsideration:!0})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.cvrFinalReconsideration===!0?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),r.jsx("button",{onClick:()=>s(M=>({...M,cvrFinalReconsideration:!1})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.cvrFinalReconsideration===!1?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-blue-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Purpose Clarity: How clear was the purpose of the CVR section in helping you reconsider your decisions and reinterpret your values when faced with new or changing moral contexts?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.cvrPurposeClarity,onChange:M=>ee("cvrPurposeClarity",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-indigo-600",children:e.cvrPurposeClarity})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Very Unclear"}),r.jsx("span",{children:"Very Clear"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Confidence Change: After engaging with the CVR questions, how did your confidence in your decision change?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.cvrConfidenceChange,onChange:M=>ee("cvrConfidenceChange",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-blue-600",children:e.cvrConfidenceChange})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Much Less Confident"}),r.jsx("span",{children:"No Change"}),r.jsx("span",{children:"Much More Confident"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Helpfulness: How helpful were the CVR questions in helping you rethink or refine your decisions?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.cvrHelpfulness,onChange:M=>ee("cvrHelpfulness",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-cyan-600",children:e.cvrHelpfulness})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not Helpful At All"}),r.jsx("span",{children:"Extremely Helpful"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Clarity: How clear and understandable were the CVR questions and their presented perspectives?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.cvrClarity,onChange:M=>ee("cvrClarity",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-teal-600",children:e.cvrClarity})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Very Unclear"}),r.jsx("span",{children:"Very Clear"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Comfort Level: How comfortable did you feel with the way CVR questions challenged or prompted you to reconsider your decisions?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.cvrComfortLevel,onChange:M=>ee("cvrComfortLevel",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-green-600",children:e.cvrComfortLevel})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not At All Comfortable"}),r.jsx("span",{children:"Very Comfortable"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Perceived Value: How valuable was CVR in helping you evaluate your options in these complex decision scenarios?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.cvrPerceivedValue,onChange:M=>ee("cvrPerceivedValue",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-emerald-600",children:e.cvrPerceivedValue})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not Valuable"}),r.jsx("span",{children:"Extremely Valuable"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Overall Impact: To what extent did CVR change the way you think about balancing values in ethical or operational decisions?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.cvrOverallImpact,onChange:M=>ee("cvrOverallImpact",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-purple-600",children:e.cvrOverallImpact})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"No Impact"}),r.jsx("span",{children:"Major Impact On My Thinking"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[r.jsx(Ri,{className:"h-4 w-4 mr-2 text-gray-500"}),"Tell us about your CVR experience (optional)",r.jsxs("button",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>i(!n),className:"ml-2 text-blue-500 hover:text-blue-700 relative",children:[r.jsx(Vi,{className:"h-4 w-4"}),n&&r.jsx("div",{className:"absolute left-0 top-6 z-10 w-80 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{children:"What aspects of CVR (if any) made you reconsider your choice?"}),r.jsx("p",{children:"Which question or perspective most influenced your thinkingand how?"}),r.jsx("p",{children:"Did CVR make you more or less confident in your decision? Why?"}),r.jsx("p",{children:"Where did you find the most value in the CVR prompts?"}),r.jsx("p",{children:"How tedious (if at all) did the CVR questions feel, and what would improve them?"})]})})]})]}),r.jsx("textarea",{value:e.cvrComments,onChange:M=>s(P=>({...P,cvrComments:M.target.value})),rows:4,disabled:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"What about CVR led you to reconsider your choice? What, if anything, changed your decision? Where did you find value in CVR? How tedious did CVR feel, and why?"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 via-amber-100 to-yellow-50 rounded-lg shadow-lg border-2 border-orange-300 p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-orange-900 flex items-center",children:[r.jsx(ux,{className:"h-6 w-6 mr-2 text-orange-700"}),"Decision Support Tools"]}),r.jsxs("div",{className:"flex items-center gap-2 bg-orange-200 px-3 py-1.5 rounded-full shadow-sm",children:[r.jsx(bn,{className:"h-5 w-5 text-orange-900"}),r.jsx("span",{className:"text-xs font-bold text-orange-900",children:"Visualization & Analysis"})]})]}),r.jsx("p",{className:"text-sm text-orange-800 font-medium mb-6 leading-relaxed bg-white/60 p-3 rounded-lg",children:"Throughout the simulation, you had access to expert recommendations, trade-off visualizations (radar and bar charts), and comparison tools to help you understand the implications of different choices."}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Did you use the trade-off comparison view (i.e. Radar and Bar Chart)?"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>s(M=>({...M,usedTradeoffComparison:!0})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.usedTradeoffComparison===!0?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),r.jsx("button",{onClick:()=>s(M=>({...M,usedTradeoffComparison:!1})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.usedTradeoffComparison===!1?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),e.usedTradeoffComparison===!0&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Visualization (Radar & Bar Charts)"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visualization Clarity: How clear were the radar and bar chart visualizations?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.vizClarity,onChange:M=>ee("vizClarity",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-orange-600",children:e.vizClarity})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Very unclear"}),r.jsx("span",{children:"Very clear"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visualization Helpfulness: Did these visualizations help you make your decision?"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>s(M=>({...M,vizHelpfulness:!0})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.vizHelpfulness===!0?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),r.jsx("button",{onClick:()=>s(M=>({...M,vizHelpfulness:!1})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.vizHelpfulness===!1?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visualization Usefulness in Decision-Making: How useful were the radar and bar chart visualizations in your decision-making process?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.vizUsefulness,onChange:M=>ee("vizUsefulness",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-amber-600",children:e.vizUsefulness})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not useful"}),r.jsx("span",{children:"Very useful"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Trade-Off and Comparison Views"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trade-Off Evaluation: How valuable were the trade-off comparisons and difference views in helping you evaluate your options?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.vizTradeoffEvaluation,onChange:M=>ee("vizTradeoffEvaluation",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-yellow-600",children:e.vizTradeoffEvaluation})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not valuable"}),r.jsx("span",{children:"Very valuable"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trade-Off Justification: How helpful were these trade-off views in helping you reach or justify a decision?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.vizTradeoffJustification,onChange:M=>ee("vizTradeoffJustification",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-lime-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-lime-600",children:e.vizTradeoffJustification})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not helpful"}),r.jsx("span",{children:"Very helpful"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Expert Analyses and Recommendations"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Expert Guidance Usefulness: How useful were the expert analyses and recommendations in making your decisions?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.vizExpertUsefulness,onChange:M=>ee("vizExpertUsefulness",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-orange-600",children:e.vizExpertUsefulness})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not useful"}),r.jsx("span",{children:"Very useful"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Expert Confidence Impact: Did the expert analyses increase your confidence in your chosen options?"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>s(M=>({...M,vizExpertConfidenceImpact:!0})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.vizExpertConfidenceImpact===!0?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),r.jsx("button",{onClick:()=>s(M=>({...M,vizExpertConfidenceImpact:!1})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.vizExpertConfidenceImpact===!1?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[r.jsx(Ri,{className:"h-4 w-4 mr-2 text-gray-500"}),"Optional Open-Ended Reflection",r.jsxs("button",{onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),className:"ml-2 text-orange-500 hover:text-orange-700 relative",children:[r.jsx(Vi,{className:"h-4 w-4"}),l&&r.jsx("div",{className:"absolute left-0 top-6 z-10 w-80 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{children:"Which visualization or analysis tool helped you most?"}),r.jsx("p",{children:"Did expert insights change your mind or reinforce your choice?"}),r.jsx("p",{children:"How did trade-off comparisons influence your decision process?"}),r.jsx("p",{children:"What could make these tools more intuitive or effective?"})]})})]})]}),r.jsx("textarea",{value:e.vizComments,onChange:M=>s(P=>({...P,vizComments:M.target.value})),rows:4,disabled:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Which tool helped you most in making your decision? Did expert insights change or reinforce your choice? What could improve the visualizations or comparison tools?"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 via-pink-100 to-rose-50 rounded-lg shadow-lg border-2 border-purple-300 p-6 mb-8",children:[r.jsxs("h3",{className:"text-xl font-bold text-purple-900 mb-6 flex items-center",children:[r.jsx(zi,{className:"h-6 w-6 mr-2 text-purple-700"}),"Overall Experience Feedback"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Scenario Alignment Over Time: As you progressed through the scenarios, did you notice that the initial solutions increasingly matched your values or priorities?"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>s(M=>({...M,overallScenarioAlignment:!0})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.overallScenarioAlignment===!0?"bg-purple-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-purple-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),r.jsx("button",{onClick:()=>s(M=>({...M,overallScenarioAlignment:!1})),disabled:h,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${e.overallScenarioAlignment===!1?"bg-purple-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-purple-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Decision Satisfaction: How satisfied are you with the decisions you made across all scenarios?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.overallDecisionSatisfaction,onChange:M=>ee("overallDecisionSatisfaction",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-purple-600",children:e.overallDecisionSatisfaction})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Very dissatisfied"}),r.jsx("span",{children:"Very satisfied"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Process Satisfaction: How satisfied are you with the overall decision-making process in the simulation?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.overallProcessSatisfaction,onChange:M=>ee("overallProcessSatisfaction",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-pink-600",children:e.overallProcessSatisfaction})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Very poor"}),r.jsx("span",{children:"Excellent"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Confidence Consistency: How confident were you that your final decisions remained consistent with your personal or moral values throughout the simulation?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.overallConfidenceConsistency,onChange:M=>ee("overallConfidenceConsistency",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-rose-600",children:e.overallConfidenceConsistency})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not confident"}),r.jsx("span",{children:"Very confident"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Learning and Insight: How much did this simulation help you learn about how your values influence complex decision-making?"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:e.overallLearningInsight,onChange:M=>ee("overallLearningInsight",parseInt(M.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:h}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-purple-600",children:e.overallLearningInsight})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not at all"}),r.jsx("span",{children:"A great deal"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[r.jsx(Ri,{className:"h-4 w-4 mr-2 text-gray-500"}),"Optional Open-Ended Reflection",r.jsxs("button",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>u(!d),className:"ml-2 text-purple-500 hover:text-purple-700 relative",children:[r.jsx(Vi,{className:"h-4 w-4"}),d&&r.jsx("div",{className:"absolute left-0 top-6 z-10 w-80 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{children:"Did your sense of alignment between values and outcomes improve over time?"}),r.jsx("p",{children:"Did the simulation change how you think about trade-offs?"}),r.jsx("p",{children:"What was most satisfying or frustrating about your overall experience?"}),r.jsx("p",{children:"What insights did you gain from interacting with multiple expert systems?"})]})})]})]}),r.jsx("textarea",{value:e.overallComments,onChange:M=>s(P=>({...P,overallComments:M.target.value})),rows:4,disabled:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"What did you learn about your values or decision process? Where did you feel most aligned or misaligned with the system? What part of the experience stood out most for you?"})]})]}),h?r.jsx("div",{className:"mt-6 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(cs,{className:"h-6 w-6 text-green-500 mr-3"}),r.jsx("span",{className:"text-green-800 font-semibold text-lg",children:"Feedback submitted successfully!"})]})}):r.jsxs("button",{onClick:Ze,className:"mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:[r.jsx(zi,{size:20,className:"mr-2"}),"Submit Feedback"]})]}),h&&r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6 border-2 border-purple-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Thank you for your feedback!"}),r.jsx("p",{className:"text-gray-700",children:"You can now explore your detailed results and analysis. Use the buttons below to access different views of your simulation performance."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:"Explore Your Results"}),r.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[r.jsxs("button",{onClick:()=>{$(),g(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-5 px-8 rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:[r.jsx(Zb,{className:"h-6 w-6"}),r.jsx("span",{className:"text-lg",children:"View Final Analysis Report"}),r.jsx(Cs,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),h&&r.jsxs("button",{onClick:()=>t("/study-complete"),className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white font-semibold py-5 px-8 rounded-lg hover:from-green-700 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:[r.jsx(cs,{className:"h-6 w-6"}),r.jsx("span",{className:"text-lg",children:"Finish"}),r.jsx(Cs,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),!1]})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-7xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Qi,{className:"h-8 w-8 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Final Analysis Report"})]}),r.jsx("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:r.jsx(us,{className:"h-6 w-6"})})]}),te?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(ct,{className:"mx-auto text-red-500 mb-4",size:48}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Data Not Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please complete the simulation before accessing the final analysis."})]}):r.jsxs("div",{className:"p-8 space-y-8",children:[r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Rn,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Value Distribution Analysis"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your values were expressed across different assessment types"})]})]}),r.jsx("div",{className:"h-[400px]",children:r.jsx(Ku,{data:re(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency",font:{size:13,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{padding:20,font:{size:13},usePointStyle:!0}},title:{display:!1}}}})})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Lr,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Value Stability Analysis"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How consistently your stated values aligned with your decisions"})]})]}),r.jsx("div",{className:"text-center mb-8",children:r.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200",children:[r.jsxs("div",{className:`text-5xl font-bold mb-2 ${E>=75?"text-green-600":E>=50?"text-orange-600":"text-red-600"}`,children:[E.toFixed(1),"%"]}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Overall Value Stability Score"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"(Weighted: 40% Explicit, 60% Implicit Values)"})]})}),r.jsx(f0,{matches:C})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Ru,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Decision Alignment Overview"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Whether your final decisions matched your stated values"})]})]}),(()=>{const M=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),P=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]"),ae=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]"),de=P.filter(Y=>Y==="Aligned").length,O=P.length,G=O>0?de/O*100:0;return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-green-50 rounded-xl border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Overall Alignment Rate"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[de," / ",O]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"scenarios aligned with your values"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:`text-4xl font-bold ${G>=66?"text-green-600":G>=33?"text-orange-600":"text-red-600"}`,children:[G.toFixed(0),"%"]})})]})}),r.jsx("div",{className:"space-y-4",children:C.map((Y,fe)=>{var Ut;const se=M[fe]||Y.selectedValue,Ce=P[fe]||"Unknown",ue=Ce==="Aligned",me=ae.filter(et=>et.scenarioId===Y.scenarioId||et.data&&et.data.scenarioId===Y.scenarioId).find(et=>et.event==="option_confirmed"||et.data&&et.data.event==="option_confirmed"),pe=((Ut=me==null?void 0:me.data)==null?void 0:Ut.flagsAtConfirmation)||(me==null?void 0:me.flagsAtConfirmation),Ue=(pe==null?void 0:pe.cvrYesClicked)??!1,Me=(pe==null?void 0:pe.cvrNoClicked)??!1,Ve=(pe==null?void 0:pe.hasReorderedValues)??!1;return r.jsxs("div",{className:`p-5 rounded-xl border-2 transition-all ${ue?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("span",{className:"text-base font-bold text-gray-900",children:["Scenario ",Y.scenarioId]}),r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full font-bold text-xs ${ue?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"}`,children:[ue?r.jsx(cs,{className:"h-3.5 w-3.5"}):r.jsx(Gi,{className:"h-3.5 w-3.5"}),Ce]})]}),r.jsxs("div",{className:"bg-white rounded-lg px-4 py-2.5 border border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:"Final Decision"}),r.jsx("p",{className:"text-base font-bold text-gray-900",children:se.charAt(0).toUpperCase()+se.slice(1)})]})]})}),(Ue||Me||Ve)&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Interaction Flags"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ue&&r.jsx("span",{className:"px-2.5 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full border border-orange-300",children:"CVR: Would Change Decision"}),Me&&r.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full border border-blue-300",children:"CVR: Confirmed Decision"}),Ve&&r.jsx("span",{className:"px-2.5 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full border border-purple-300",children:"Reordered Preferences"})]})]})]},Y.scenarioId)})})]})})()]}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Sl,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Value Consistency Trend"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your value consistency evolved throughout the simulation"})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"h-[450px]",children:r.jsx(h0,{data:ce(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Consistency Score (%)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{font:{size:12},callback:function(M){return M+"%"}}},x:{grid:{display:!1},ticks:{font:{size:12,weight:"bold"}}}},elements:{line:{borderWidth:3},point:{radius:6,hoverRadius:8,borderWidth:2,backgroundColor:"#ffffff"}},plugins:{legend:{position:"top",align:"center",labels:{padding:20,usePointStyle:!0,font:{size:13,weight:"bold"},boxWidth:12,boxHeight:12}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#4b5563",borderColor:"#d1d5db",borderWidth:2,padding:16,bodyFont:{size:13},titleFont:{size:15,weight:"bold"},displayColors:!0,boxWidth:12,boxHeight:12,boxPadding:6,callbacks:{label:function(M){return M.dataset.label+": "+M.parsed.y.toFixed(0)+"%"}}}},interaction:{mode:"index",intersect:!1}}})})})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(ni,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Final Simulation Metrics"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"The cumulative outcomes of your decisions"})]})]}),_&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Lives Saved"}),r.jsx("p",{className:"text-2xl font-bold text-green-700",children:_.livesSaved})]}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-red-600 mb-1",children:"Casualties"}),r.jsx("p",{className:"text-2xl font-bold text-red-700",children:_.humanCasualties})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Resources Remaining"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${_.firefightingResource}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[_.firefightingResource,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Infrastructure Condition"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-yellow-600 h-2.5 rounded-full",style:{width:`${_.infrastructureCondition}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[_.infrastructureCondition,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Biodiversity Condition"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${_.biodiversityCondition}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[_.biodiversityCondition,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Properties Condition"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${_.propertiesCondition}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[_.propertiesCondition,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nuclear Power Station"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:`h-2.5 rounded-full ${_.nuclearPowerStation<30?"bg-red-600":_.nuclearPowerStation<70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${_.nuclearPowerStation}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[_.nuclearPowerStation,"%"]})]})]})]})]})]})]})})]}),r.jsx("style",{children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider:disabled::-webkit-slider-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }

        .slider:disabled::-moz-range-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }
      `})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading feedback form..."})]})})};di.register(fa,ma,Bi,Kn,as,Ju,Tl,Rl);const p0=["Safety","Efficiency","Sustainability","Fairness","Nonmaleficence"],mS=()=>{const t={};return p0.forEach(e=>{t[e.toLowerCase()]=[]}),t},pS=()=>{const t=Pt(),[e,s]=j.useState({}),[n,i]=j.useState({}),[a,o]=j.useState([]),[l,c]=j.useState(null),[d,u]=j.useState(0),[h,f]=j.useState(!1),[p,y]=j.useState(mS()),[x,b]=j.useState([]),[m,g]=j.useState([]);j.useEffect(()=>{try{const N=JSON.parse(localStorage.getItem("explicitValues")||"[]"),w=JSON.parse(localStorage.getItem("deepValues")||"[]"),C=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),S=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null");if(!N.length||!w.length||!C.length||!S){f(!0);return}const _=JSON.parse(localStorage.getItem("ExplicitValueFrequencies")||"[]"),I=JSON.parse(localStorage.getItem("ImplicitValueFrequencies")||"[]");b(_),g(I);const E={};N.forEach(A=>{const B=A.value_selected.toLowerCase();E[B]=(E[B]||0)+1}),s(E);const F={};w.forEach(A=>{const B=A.name.toLowerCase();F[B]=(F[B]||0)+1}),i(F);const te=new Set(C.map(A=>A.decision.label.toLowerCase())),R={};te.forEach(A=>{R[A]=[]}),C.forEach(A=>{const B=A.decision.label.toLowerCase();te.forEach(T=>{const z=T===B,D=E[T]>0,U=F[T]>0;let X=0;z&&(X=(D?40:0)+(U?60:0)),R[T].push(X)})}),y(R);const V=C.map(A=>{const B=A.decision.label.toLowerCase(),T=E[B]>0,z=F[B]>0,D=(T?40:0)+(z?60:0);return{scenarioId:A.scenarioId,selectedValue:A.decision.label,matchesExplicit:T,matchesImplicit:z,matchesSimulation:!0,stabilityScore:D}});o(V),u(V.reduce((A,B)=>A+B.stabilityScore,0)/V.length),c(S)}catch(N){console.error("Error loading analysis data:",N),f(!0)}},[]);const v=()=>{const N=p0;return{labels:N,datasets:[{label:"Explicit Choices",data:N.map(w=>e[w.toLowerCase()]||0),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Implicit Choices",data:N.map(w=>n[w.toLowerCase()]||0),backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Simulation Decisions",data:N.map(w=>a.filter(C=>C.selectedValue.toLowerCase()===w.toLowerCase()).length),backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},k=()=>{const N=[{line:"rgb(239, 68, 68)",fill:"rgba(239, 68, 68, 0.1)"},{line:"rgb(59, 130, 246)",fill:"rgba(59, 130, 246, 0.1)"},{line:"rgb(16, 185, 129)",fill:"rgba(16, 185, 129, 0.1)"},{line:"rgb(245, 158, 11)",fill:"rgba(245, 158, 11, 0.1)"},{line:"rgb(139, 92, 246)",fill:"rgba(139, 92, 246, 0.1)"}],w=Object.keys(p);return{labels:["Explicit Choices","Implicit Choices","Scenario 1","Scenario 2","Scenario 3"],datasets:w.map((C,S)=>{const _=x.find(te=>te.value.toLowerCase()===C.toLowerCase()),I=_?_.percentage:0,E=m.find(te=>te.value.toLowerCase()===C.toLowerCase()),F=E?E.percentage:0;return{label:C.charAt(0).toUpperCase()+C.slice(1),data:[I,F,...p[C]],borderColor:N[S%N.length].line,backgroundColor:N[S%N.length].fill,tension:.1,fill:!0}})}};return h?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[r.jsx(ct,{className:"mx-auto text-red-500 mb-4\\",size:48}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:"Data Not Found"}),r.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Please complete the simulation before accessing the final analysis."}),r.jsx("button",{onClick:()=>t("/demographics"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Start New Simulation"})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Qi,{className:"h-8 w-8 text-blue-600"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Final Analysis Report"})]}),r.jsxs("button",{onClick:()=>t("/feedback"),className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-bold text-lg py-4 px-6 rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:[r.jsx(Cs,{size:20,className:"rotate-180 group-hover:-translate-x-1 transition-transform"}),r.jsx("span",{children:"Back to Feedback"})]})]})}),r.jsxs("main",{className:"max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8 space-y-8",children:[r.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Rn,{className:"h-7 w-7 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Value Distribution Analysis"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your values were expressed across different assessment types"})]})]}),r.jsx("div",{className:"h-[400px]",children:r.jsx(Ku,{data:v(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency",font:{size:13,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{padding:20,font:{size:13},usePointStyle:!0}},title:{display:!1}}}})})]}),r.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Lr,{className:"h-7 w-7 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Value Stability Analysis"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How consistently your stated values aligned with your decisions"})]})]}),r.jsx("div",{className:"text-center mb-8",children:r.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200",children:[r.jsxs("div",{className:`text-6xl font-bold mb-2 ${d>=75?"text-green-600":d>=50?"text-orange-600":"text-red-600"}`,children:[d.toFixed(1),"%"]}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Overall Value Stability Score"}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"(Weighted: 40% Explicit, 60% Implicit Values)"})]})}),r.jsx(f0,{matches:a})]}),r.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Ru,{className:"h-7 w-7 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Decision Alignment Overview"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Whether your final decisions matched your stated values"})]})]}),(()=>{const N=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),w=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]"),C=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]"),S=w.filter(E=>E==="Aligned").length,_=w.length,I=_>0?S/_*100:0;return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-green-50 rounded-xl border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Overall Alignment Rate"}),r.jsxs("p",{className:"text-4xl font-bold text-gray-900",children:[S," / ",_]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"scenarios aligned with your values"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:`text-5xl font-bold ${I>=66?"text-green-600":I>=33?"text-orange-600":"text-red-600"}`,children:[I.toFixed(0),"%"]})})]})}),r.jsx("div",{className:"space-y-4",children:a.map((E,F)=>{var X;const te=N[F]||E.selectedValue,R=w[F]||"Unknown",V=R==="Aligned",B=C.filter(ge=>ge.scenarioId===E.scenarioId||ge.data&&ge.data.scenarioId===E.scenarioId).find(ge=>ge.event==="option_confirmed"||ge.data&&ge.data.event==="option_confirmed"),T=((X=B==null?void 0:B.data)==null?void 0:X.flagsAtConfirmation)||(B==null?void 0:B.flagsAtConfirmation),z=(T==null?void 0:T.cvrYesClicked)??!1,D=(T==null?void 0:T.cvrNoClicked)??!1,U=(T==null?void 0:T.hasReorderedValues)??!1;return r.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all ${V?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["Scenario ",E.scenarioId]}),r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full font-bold text-sm ${V?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"}`,children:[V?r.jsx(cs,{className:"h-4 w-4"}):r.jsx(Gi,{className:"h-4 w-4"}),R]})]}),r.jsxs("div",{className:"bg-white rounded-lg px-4 py-3 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Final Decision"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:te.charAt(0).toUpperCase()+te.slice(1)})]})]})}),(z||D||U)&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Interaction Flags"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[z&&r.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full border border-orange-300",children:"CVR: Would Change Decision"}),D&&r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full border border-blue-300",children:"CVR: Confirmed Decision"}),U&&r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full border border-purple-300",children:"Reordered Preferences"})]})]})]},E.scenarioId)})})]})})()]}),r.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Sl,{className:"h-7 w-7 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Value Consistency Trend"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your value consistency evolved throughout the simulation"})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"h-[450px]",children:r.jsx(h0,{data:k(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Consistency Score (%)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{font:{size:12},callback:function(N){return N+"%"}}},x:{grid:{display:!1},ticks:{font:{size:12,weight:"bold"}}}},elements:{line:{borderWidth:3},point:{radius:6,hoverRadius:8,borderWidth:2,backgroundColor:"#ffffff"}},plugins:{legend:{position:"top",align:"center",labels:{padding:20,usePointStyle:!0,font:{size:13,weight:"bold"},boxWidth:12,boxHeight:12}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#4b5563",borderColor:"#d1d5db",borderWidth:2,padding:16,bodyFont:{size:13},titleFont:{size:15,weight:"bold"},displayColors:!0,boxWidth:12,boxHeight:12,boxPadding:6,callbacks:{label:function(N){return N.dataset.label+": "+N.parsed.y.toFixed(0)+"%"}}}},interaction:{mode:"index",intersect:!1}}})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border-2 border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(cs,{className:"h-5 w-5 text-green-600"}),r.jsx("h3",{className:"text-sm font-bold text-green-800",children:"High Consistency"})]}),r.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Values consistently align with both explicit and implicit preferences (75-100%)"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 p-4 rounded-xl border-2 border-orange-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ct,{className:"h-5 w-5 text-orange-600"}),r.jsx("h3",{className:"text-sm font-bold text-orange-800",children:"Medium Consistency"})]}),r.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Values show moderate alignment with stated preferences (50-74%)"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 p-4 rounded-xl border-2 border-red-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Gi,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"text-sm font-bold text-red-800",children:"Low Consistency"})]}),r.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Values demonstrate significant deviation from preferences (0-49%)"})]})]})]}),r.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(ni,{className:"h-7 w-7 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Final Simulation Metrics"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"The cumulative outcomes of your decisions"})]})]}),l&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Lives Saved"}),r.jsx("p",{className:"text-2xl font-bold text-green-700",children:l.livesSaved})]}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-red-600 mb-1",children:"Casualties"}),r.jsx("p",{className:"text-2xl font-bold text-red-700",children:l.humanCasualties})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Resources Remaining"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${l.firefightingResource}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.firefightingResource,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Infrastructure Condition"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-yellow-600 h-2.5 rounded-full",style:{width:`${l.infrastructureCondition}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.infrastructureCondition,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Biodiversity Condition"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${l.biodiversityCondition}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.biodiversityCondition,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Properties Condition"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${l.propertiesCondition}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.propertiesCondition,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nuclear Power Station"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:`h-2.5 rounded-full ${l.nuclearPowerStation<30?"bg-red-600":l.nuclearPowerStation<70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${l.nuclearPowerStation}%`}})}),r.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.nuclearPowerStation,"%"]})]})]})]})]})]})]})};function Es(t){try{const e=localStorage.getItem(t);if(!e)return[];const s=JSON.parse(e);return Array.isArray(s)?s:[]}catch{return[]}}function gS(t,e){try{const s=localStorage.getItem(t);return s?JSON.parse(s):e}catch{return e}}const xS=()=>{const t=Pt(),[e]=Wb(),[s,n]=j.useState(null),i=e.get("silent")==="true";j.useEffect(()=>{const c=sessionStorage.getItem("metricsCalculated");if(i&&c==="true"){console.log("[Silent Mode] Metrics already calculated, navigating back to thank-you page"),t("/thank-you",{replace:!0});return}a()},[i,t]);const a=async()=>{var c;try{const d=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),u=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null"),h=JSON.parse(localStorage.getItem("finalValues")||"[]"),f=localStorage.getItem("MoralValuesReorderList"),p=lt.getScenarioTrackingHistory(),y=lt.getAllEvents();if(!d.length||!u){console.error("Missing required data for metrics calculation");return}const x=h.map(O=>(O.name||O).toString().toLowerCase());let b=[];if(f)try{b=JSON.parse(f).map(G=>(G.id||G.name||G).toString().toLowerCase())}catch{b=x}else b=x;const m=y.filter(O=>O.event==="cvr_opened"),g=m.length,v=y.filter(O=>O.event==="cvr_answered"),k=v.filter(O=>O.cvrAnswer===!0).length,N=v.filter(O=>O.cvrAnswer===!1).length,w=y.filter(O=>O.event==="apa_reordered"),C=w.length,S=[],_=new Map;p.forEach(O=>{if(O.endTime&&O.startTime){const G=(O.endTime-O.startTime)/1e3;S.push(G),_.set(O.scenarioId,{timeSeconds:Math.round(G),switches:O.switchCount||0,cvrVisited:O.cvrVisited||!1,cvrVisitCount:O.cvrVisitCount||0,cvrYesAnswers:O.cvrYesAnswers||0,apaReordered:O.apaReordered||!1,apaReorderCount:O.apaReorderCount||0})}}),S.length===0&&d.forEach(()=>{S.push(75)});const I=S.length>0?S.reduce((O,G)=>O+G,0)/S.length:0,E=[],F=[];d.forEach((O,G)=>{const Y=(O.decision.label||"").toLowerCase(),fe=O.scenarioId,se=m.filter(Ve=>Ve.scenarioId===O.scenarioId),Ce=v.filter(Ve=>Ve.scenarioId===O.scenarioId&&Ve.cvrAnswer===!0);let ue=!1;fe===1?ue=x.includes(Y):(fe===2||fe===3)&&(ue=b.includes(Y));const Ne=ue&&Ce.length===0;E.push(Ne);const me=_.get(O.scenarioId)||{timeSeconds:Math.round(S[G]||0),switches:0,cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,apaReordered:!1,apaReorderCount:0},pe=y.filter(Ve=>Ve.event==="option_selected"&&Ve.scenarioId===O.scenarioId),Ue=Math.max(0,pe.length-1),Me=w.filter(Ve=>Ve.scenarioId===O.scenarioId);F.push({scenarioId:O.scenarioId,finalChoice:O.decision.title||O.decision.label||"Unknown",aligned:Ne,switches:me.switches||Ue,timeSeconds:me.timeSeconds,cvrVisited:me.cvrVisited||se.length>0,cvrVisitCount:me.cvrVisitCount||se.length,cvrYesAnswers:me.cvrYesAnswers||Ce.length,apaReordered:me.apaReordered||Me.length>0,apaReorderCount:me.apaReorderCount||Me.length})});const te=F.reduce((O,G)=>O+G.switches,0),R=E.filter(Boolean).length,V=E.length>0?R/E.length:0,A=o(u),B=l(u);let T=0,z=0;F.forEach(O=>{const Y=y.filter(se=>se.scenarioId===O.scenarioId).find(se=>se.event==="option_confirmed"),fe=Y==null?void 0:Y.flagsAtConfirmation;if(fe){const se=fe.simulationMetricsReorderingFlag??!1,Ce=fe.moralValuesReorderingFlag??!1;(se||Ce)&&z++}O.aligned||T++});const D=[];w.forEach(O=>{O.valuesAfter&&O.scenarioId!==void 0&&D.push({scenarioId:O.scenarioId,values:O.valuesAfter,preferenceType:O.preferenceType||"unknown"})});const U={cvrArrivals:g,cvrYesCount:k,cvrNoCount:N,apaReorderings:C,misalignAfterCvrApaCount:T,realignAfterCvrApaCount:z,switchCountTotal:te,avgDecisionTime:I,decisionTimes:S,valueConsistencyIndex:V,performanceComposite:A,balanceIndex:B,finalAlignmentByScenario:E,valueOrderTrajectories:D,scenarioDetails:F};n(U);const X=we.getSessionId(),ge=Es("ScenariosFinalDecisionLabels"),ee=Es("CheckingAlignmentList"),re=Es("finalValues").map(O=>((O==null?void 0:O.name)??O??"").toString()),ce=Es("Scenario1_MoralValueReordered"),Ze=Es("Scenario2_MoralValueReordered"),M=Es("Scenario3_MoralValueReordered"),P=Es("Scenario3_InfeasibleOptions"),de=((s==null?void 0:s.scenarioDetails)??(U==null?void 0:U.scenarioDetails)??[]).map((O,G)=>{const Y=O.scenarioId,fe=(ge[G]??"N/A").toString(),se=(ee[G]??"Unknown").toString();let Ce=[],ue="";Y===1?(Ce=ce,ue="Scenario1_MoralValueReordered"):Y===2?(Ce=Ze,ue="Scenario2_MoralValueReordered"):Y===3&&(Ce=M,ue="Scenario3_MoralValueReordered");const Ne=y.filter(oe=>(oe==null?void 0:oe.scenarioId)===Y),me=Ne.find(oe=>(oe==null?void 0:oe.event)==="option_confirmed"),pe=(me==null?void 0:me.flagsAtConfirmation)||{},Ue=((me==null?void 0:me.finalTopTwoValuesBeforeUpdate)??re??[]).map(oe=>typeof oe=="string"?oe:(oe==null?void 0:oe.name)??"").filter(Boolean),Me=!!pe.hasReorderedValues,Ve=!!pe.cvrYesClicked,Ut=!!pe.cvrNoClicked,et=!!pe.simulationMetricsReorderingFlag,es=!!pe.moralValuesReorderingFlag,ui=Ne.filter(oe=>(oe==null?void 0:oe.event)==="cvr_answered"&&(oe==null?void 0:oe.cvrAnswer)===!0).length,_s=Ne.filter(oe=>(oe==null?void 0:oe.event)==="cvr_answered"&&(oe==null?void 0:oe.cvrAnswer)===!1).length,Ms=Ne.filter(oe=>(oe==null?void 0:oe.event)==="apa_reordered").length,hs=Ne.filter(oe=>(oe==null?void 0:oe.event)==="alternative_added").length,K=Math.max(0,Ne.filter(oe=>(oe==null?void 0:oe.event)==="option_selected").length-1);return{scenarioId:Y,valueListsUsed:{scenarioMoralValueReorderedName:ue,scenarioMoralValueReordered:Ce,finalTopTwoValues:Ue,infeasibleOptions:Y===3?P:[]},finalDecisionLabel:fe,alignmentStatus:se,flagsAtConfirmation:{apaReordered:Me,cvrYes:Ve,cvrNo:Ut,simMetricsReordered:et,moralValuesReordered:es},interactionCounters:{apaReorders:Ms,cvrYesCount:ui,cvrNoCount:_s,alternativesAdded:hs,switches:K}}});try{const O=we.getSessionId(),G=Es("ScenariosFinalDecisionLabels"),Y=gS("userValues",{explicit:[],implicit:[]}),se=Es("finalValues").map(Ue=>((Ue==null?void 0:Ue.name)??Ue??"").toString().toLowerCase()),Ce=(((c=s==null?void 0:s.scenarioDetails)==null?void 0:c.length)??G.length)||0,ue=Array.from({length:Ce}).map((Ue,Me)=>{const Ve=(G[Me]??"").toString().toLowerCase(),Ut=Y.explicit.map(hs=>hs.toLowerCase()).includes(Ve),et=Y.implicit.map(hs=>hs.toLowerCase()).includes(Ve),es=se.includes(Ve),ui=(Ut?.4:0)+(et?.6:0),_s=Math.round(ui*100),Ms=_s>=60?"Stable":"Unstable";return{scenarioId:Me+1,scenarioLabel:`Scenario ${Me+1}`,selectedValue:Ve,matches:{explicitValuesMatch:Ut,implicitValuesMatch:et,simulationValuesMatch:es},stabilityStatus:Ms,scorePercent:_s}}),Ne=ue.filter(Ue=>Ue.stabilityStatus==="Stable").length,me=ue.reduce((Ue,Me)=>Ue+((Me.matches.explicitValuesMatch?.4:0)+(Me.matches.implicitValuesMatch?.6:0)),0)/(ue.length||1),pe=Number((me*100).toFixed(1));await we.insertValueStability({session_id:O,overallStabilityScorePercent:pe,weights:{explicitWeight:.4,implicitWeight:.6},scenarios:ue,summary:{totalStableCount:Ne,totalScenarios:ue.length}})}catch(O){console.error("insertValueStability failed:",O)}await we.insertSessionMetrics({session_id:X,...U,debug_tracking:{rows:de}}),sessionStorage.setItem("metricsCalculated","true"),console.log("[ViewResultsPage] Metrics calculated and saved to database successfully"),i&&(console.log("[Silent Mode] Metrics saved, navigating back to thank-you page"),setTimeout(()=>{t("/thank-you",{replace:!0})},100))}catch(d){console.error("Error calculating metrics:",d),sessionStorage.setItem("metricsCalculated","true"),i&&(console.error("[Silent Mode] Error occurred, but navigating back to thank-you page anyway"),setTimeout(()=>{t("/thank-you",{replace:!0})},100))}},o=c=>{const d={livesSaved:Math.min(c.livesSaved/2e4,1),casualties:1-Math.min(c.humanCasualties/1e3,1),firefightingResource:c.firefightingResource/100,infrastructureCondition:c.infrastructureCondition/100,biodiversityCondition:c.biodiversityCondition/100,propertiesCondition:c.propertiesCondition/100,nuclearPowerStation:c.nuclearPowerStation/100},u=Object.values(d),h=u.reduce((f,p)=>f+p,0)/u.length;return Math.round(h*100)/100},l=c=>{const d=[Math.min(c.livesSaved/2e4,1),1-Math.min(c.humanCasualties/1e3,1),c.firefightingResource/100,c.infrastructureCondition/100,c.biodiversityCondition/100,c.propertiesCondition/100,c.nuclearPowerStation/100],u=d.reduce((f,p)=>f+p,0)/d.length,h=d.reduce((f,p)=>f+Math.pow(p-u,2),0)/d.length;return Math.round((1-h)*100)/100};return null},yS=()=>{const t=Pt(),[e,s]=j.useState(null),[n,i]=j.useState({decisionSatisfaction:4,processSatisfaction:4,perceivedTransparency:4,notesFreeText:""}),[a,o]=j.useState(!1),[l,c]=j.useState(!1);j.useEffect(()=>{d()},[]);const d=()=>{try{const m=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),g=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null"),v=JSON.parse(localStorage.getItem("finalValues")||"[]"),k=localStorage.getItem("MoralValuesReorderList"),N=lt.getScenarioTrackingHistory(),w=lt.getAllEvents();if(!m.length||!g){console.error("Missing required data for metrics calculation");return}const C=v.map(P=>(P.name||P).toString().toLowerCase());let S=[];if(k)try{S=JSON.parse(k).map(ae=>(ae.id||ae.name||ae).toString().toLowerCase())}catch{S=C}else S=C;const _=w.filter(P=>P.event==="cvr_opened"),I=_.length,E=w.filter(P=>P.event==="cvr_answered"),F=E.filter(P=>P.cvrAnswer===!0).length,te=E.filter(P=>P.cvrAnswer===!1).length,R=w.filter(P=>P.event==="apa_reordered"),V=R.length,A=[],B=new Map;if(N.forEach(P=>{if(P.endTime&&P.startTime){const ae=(P.endTime-P.startTime)/1e3;A.push(ae),B.set(P.scenarioId,{timeSeconds:Math.round(ae),switches:P.switchCount||0,cvrVisited:P.cvrVisited||!1,cvrVisitCount:P.cvrVisitCount||0,cvrYesAnswers:P.cvrYesAnswers||0,apaReordered:P.apaReordered||!1,apaReorderCount:P.apaReorderCount||0})}}),A.length===0){const P=new Map,ae=new Map;w.forEach(de=>{if(de.scenarioId!==void 0){const O=new Date(de.timestamp).getTime();de.event==="scenario_started"?P.set(de.scenarioId,O):(de.event==="option_confirmed"||de.event==="scenario_completed")&&ae.set(de.scenarioId,O)}}),m.forEach(de=>{const O=P.get(de.scenarioId),G=ae.get(de.scenarioId);if(O&&G){const Y=(G-O)/1e3;A.push(Y)}else A.push(75)})}const T=A.length>0?A.reduce((P,ae)=>P+ae,0)/A.length:0,z=[],D=[];m.forEach((P,ae)=>{const de=(P.decision.label||"").toLowerCase(),O=P.scenarioId,G=_.filter(pe=>pe.scenarioId===P.scenarioId),Y=E.filter(pe=>pe.scenarioId===P.scenarioId&&pe.cvrAnswer===!0);let fe=!1;O===1?fe=C.includes(de):(O===2||O===3)&&(fe=S.includes(de));const se=fe&&Y.length===0;z.push(se);const Ce=B.get(P.scenarioId)||{timeSeconds:Math.round(A[ae]||0),switches:0,cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,apaReordered:!1,apaReorderCount:0},ue=w.filter(pe=>pe.event==="option_selected"&&pe.scenarioId===P.scenarioId),Ne=Math.max(0,ue.length-1),me=R.filter(pe=>pe.scenarioId===P.scenarioId);D.push({scenarioId:P.scenarioId,finalChoice:P.decision.title||P.decision.label||"Unknown",aligned:se,switches:Ce.switches||Ne,timeSeconds:Ce.timeSeconds,cvrVisited:Ce.cvrVisited||G.length>0,cvrVisitCount:Ce.cvrVisitCount||G.length,cvrYesAnswers:Ce.cvrYesAnswers||Y.length,apaReordered:Ce.apaReordered||me.length>0,apaReorderCount:Ce.apaReorderCount||me.length})});const U=D.reduce((P,ae)=>P+ae.switches,0),X=z.filter(Boolean).length,ge=z.length>0?X/z.length:0,ee=u(g),$=h(g);let re=0,ce=0;D.forEach((P,ae)=>{const O=m[ae].scenarioId,Y=w.filter(se=>se.scenarioId===P.scenarioId).find(se=>se.event==="option_confirmed"),fe=Y==null?void 0:Y.flagsAtConfirmation;if(fe){const se=fe.simulationMetricsReorderingFlag??!1,Ce=fe.moralValuesReorderingFlag??!1;(se||Ce)&&ce++}P.aligned||re++});const Ze=[];R.forEach(P=>{P.valuesAfter&&P.scenarioId!==void 0&&Ze.push({scenarioId:P.scenarioId,values:P.valuesAfter,preferenceType:P.preferenceType||"unknown"})}),s({cvrArrivals:I,cvrYesCount:F,cvrNoCount:te,apaReorderings:V,misalignAfterCvrApaCount:re,realignAfterCvrApaCount:ce,switchCountTotal:U,avgDecisionTime:T,decisionTimes:A,valueConsistencyIndex:ge,performanceComposite:ee,balanceIndex:$,finalAlignmentByScenario:z,valueOrderTrajectories:Ze,scenarioDetails:D})}catch(m){console.error("Error calculating metrics:",m)}},u=m=>{const g={livesSaved:Math.min(m.livesSaved/2e4,1),casualties:1-Math.min(m.humanCasualties/1e3,1),firefightingResource:m.firefightingResource/100,infrastructureCondition:m.infrastructureCondition/100,biodiversityCondition:m.biodiversityCondition/100,propertiesCondition:m.propertiesCondition/100,nuclearPowerStation:m.nuclearPowerStation/100},v=Object.values(g),k=v.reduce((N,w)=>N+w,0)/v.length;return Math.round(k*100)/100},h=m=>{const g=[Math.min(m.livesSaved/2e4,1),1-Math.min(m.humanCasualties/1e3,1),m.firefightingResource/100,m.infrastructureCondition/100,m.biodiversityCondition/100,m.propertiesCondition/100,m.nuclearPowerStation/100],v=g.reduce((N,w)=>N+w,0)/g.length,k=g.reduce((N,w)=>N+Math.pow(w-v,2),0)/g.length;return Math.round((1-k)*100)/100},f=(m,g)=>{i(v=>({...v,[m]:g}))},p=async()=>{if(!e)return;const m={...e,...n};localStorage.setItem("sessionResults",JSON.stringify(m));const g={event:"feedback_submitted",timestamp:new Date().toISOString(),data:m},v=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");v.push(g),localStorage.setItem("sessionEventLogs",JSON.stringify(v));const k=we.getSessionId(),N=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),w=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]");await we.insertSessionFeedback({session_id:k,decision_satisfaction:n.decisionSatisfaction,process_satisfaction:n.processSatisfaction,perceived_transparency:n.perceivedTransparency,notes_free_text:n.notesFreeText,value_consistency_index:e.valueConsistencyIndex,performance_composite:e.performanceComposite,balance_index:e.balanceIndex,cvr_arrivals:e.cvrArrivals,cvr_yes_count:e.cvrYesCount,cvr_no_count:e.cvrNoCount,apa_reorderings:e.apaReorderings,total_switches:e.switchCountTotal,avg_decision_time:e.avgDecisionTime,scenarios_final_decision_labels:N,checking_alignment_list:w}),await we.updateUserSession(k,{is_completed:!0,completed_at:new Date().toISOString()}),await we.syncFallbackData(),o(!0),c(!0)},y=m=>{if(!e)return;const g={...e,...n,exportedAt:new Date().toISOString(),userDemographics:JSON.parse(localStorage.getItem("userDemographics")||"{}"),allEvents:lt.getAllEvents()};if(m==="json"){const v=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),k=URL.createObjectURL(v),N=document.createElement("a");N.href=k,N.download=`simulation-results-${Date.now()}.json`,N.click(),URL.revokeObjectURL(k)}else{const v=x(g),k=new Blob([v],{type:"text/csv"}),N=URL.createObjectURL(k),w=document.createElement("a");w.href=N,w.download=`simulation-results-${Date.now()}.csv`,w.click(),URL.revokeObjectURL(N)}},x=m=>{const g={};Object.keys(m).forEach(N=>{const w=m[N];Array.isArray(w)?typeof w[0]=="object"?g[N]=JSON.stringify(w):g[N]=w.join(";"):typeof w=="object"&&w!==null?g[N]=JSON.stringify(w):g[N]=w});const v=Object.keys(g),k=v.map(N=>{const w=g[N];return typeof w=="string"&&w.includes(",")?`"${w}"`:w});return[v.join(","),k.join(",")].join(`
`)},b=()=>{const m=localStorage.getItem("userDemographics");localStorage.clear(),m&&localStorage.setItem("userDemographics",m),t("/demographics")};return e?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ux,{className:"h-8 w-8 text-green-600"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Results & Feedback"})]}),r.jsxs("div",{className:"flex gap-3",children:[l&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>y("json"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[r.jsx(xf,{size:16,className:"mr-2"}),"JSON"]}),r.jsxs("button",{onClick:()=>y("csv"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[r.jsx(xf,{size:16,className:"mr-2"}),"CSV"]})]}),r.jsxs("button",{onClick:b,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200",children:[r.jsx(px,{size:16,className:"mr-2"}),"Restart"]})]})]})})}),r.jsxs("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ws,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CVR Arrivals"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.cvrArrivals})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(gx,{className:"h-8 w-8 text-purple-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"APA Reorderings"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.apaReorderings})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Sl,{className:"h-8 w-8 text-orange-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Switches"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.switchCountTotal})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Kb,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Decision Time"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(e.avgDecisionTime),"s"]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(Ri,{className:"h-5 w-5 mr-2 text-blue-600"}),"CVR Answers"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Di,{className:"h-5 w-5 text-green-500 mr-3"}),"return [headers.join(','), values.join(',')].join('\\n');"]}),r.jsx("span",{className:"text-xl font-bold text-green-600",children:e.cvrYesCount})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Tu,{className:"h-5 w-5 text-red-500 mr-3"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:'"No, I would not" Answers'})]}),r.jsx("span",{className:"text-xl font-bold text-red-600",children:e.cvrNoCount})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(gf,{className:"h-5 w-5 mr-2 text-red-600"}),"Post-CVR/APA Alignment Changes"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Gi,{className:"h-5 w-5 text-red-500 mr-3"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Misalignment Switches"})]}),r.jsx("span",{className:"text-xl font-bold text-red-600",children:e.misalignAfterCvrApaCount})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(cs,{className:"h-5 w-5 text-green-500 mr-3"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Realignment Switches"})]}),r.jsx("span",{className:"text-xl font-bold text-green-600",children:e.realignAfterCvrApaCount})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Performance Indices"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Value Consistency Index"}),r.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[(e.valueConsistencyIndex*100).toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Performance Composite"}),r.jsx("span",{className:"text-xl font-bold text-green-600",children:e.performanceComposite.toFixed(2)})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Balance Index"}),r.jsx("span",{className:"text-xl font-bold text-purple-600",children:e.balanceIndex.toFixed(2)})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Scenario Details"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scenario"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Final Choice"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Switches"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Time (s)"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"CVR Visits"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:'CVR "Yes"'}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"APA Count"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.scenarioDetails.map((m,g)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:["Scenario ",m.scenarioId]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:m.finalChoice}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-medium text-gray-900",children:m.switches}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center text-gray-700",children:m.timeSeconds}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-blue-700",children:m.cvrVisitCount}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-green-700",children:m.cvrYesAnswers}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-purple-700",children:m.apaReorderCount})]},g))})]})})]}),r.jsxs("div",{className:"bg-yellow-50 rounded-lg shadow-lg p-6 mb-8 border-2 border-yellow-400",children:[r.jsxs("h3",{className:"text-lg font-semibold text-yellow-900 mb-4 flex items-center",children:[r.jsx(gf,{className:"h-5 w-5 mr-2"})," Debug Tracking - Comprehensive Scenario Behavior"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-yellow-300 bg-white rounded-lg",children:[r.jsx("thead",{className:"bg-yellow-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Scenario"}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Value Lists Used"}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Final Decision Label"}),r.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Alignment Status"}),r.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Flags at Confirmation"}),r.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-yellow-900 uppercase",children:"Interaction Counters"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-yellow-200",children:(()=>{const m=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),g=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]");(()=>{try{const w=localStorage.getItem("finalValues");if(w)return JSON.parse(w).map(S=>(S.name||S).toString())}catch{}return[]})(),(()=>{try{const w=localStorage.getItem("MoralValuesReorderList");if(w)return JSON.parse(w).map(S=>(S.id||S.name||S).toString())}catch{}return[]})();const v=(()=>{try{const w=localStorage.getItem("Scenario1_MoralValueReordered");if(w)return JSON.parse(w)}catch{}return[]})(),k=(()=>{try{const w=localStorage.getItem("Scenario2_MoralValueReordered");if(w)return JSON.parse(w)}catch{}return[]})(),N=(()=>{try{const w=localStorage.getItem("Scenario3_MoralValueReordered");if(w)return JSON.parse(w)}catch{}return[]})();return e.scenarioDetails.map((w,C)=>{const S=w.scenarioId,_=m[C]||"N/A",I=g[C]||"Unknown";let E=[],F="";S===1?(E=v,F="Scenario1_MoralValueReordered"):S===2?(E=k,F="Scenario2_MoralValueReordered"):S===3&&(E=N,F="Scenario3_MoralValueReordered");const R=lt.getAllEvents().filter(ce=>ce.scenarioId===S),V=R.find(ce=>ce.event==="option_confirmed"),A=V==null?void 0:V.flagsAtConfirmation;console.log(`[Debug] Scenario ${S} - Confirmation event:`,V),console.log(`[Debug] Scenario ${S} - Flags at confirmation:`,A);const B=(A==null?void 0:A.hasReorderedValues)??!1,T=(A==null?void 0:A.cvrYesClicked)??!1,z=(A==null?void 0:A.cvrNoClicked)??!1,D=(A==null?void 0:A.simulationMetricsReorderingFlag)??!1,U=(A==null?void 0:A.moralValuesReorderingFlag)??!1,X=R.filter(ce=>ce.event==="cvr_answered"&&ce.cvrAnswer===!0).length,ge=R.filter(ce=>ce.event==="cvr_answered"&&ce.cvrAnswer===!1).length,ee=R.filter(ce=>ce.event==="apa_reordered").length,$=R.filter(ce=>ce.event==="alternative_added").length,re=Math.max(0,R.filter(ce=>ce.event==="option_selected").length-1);return console.log(`[Debug] Scenario ${S} - Counters - CVR Yes: ${X}, CVR No: ${ge}, APA: ${ee}, Alternatives: ${$}, Switches: ${re}`),V||console.warn(`[Warning] No confirmation event found for Scenario ${S}`),V&&!A&&console.warn(`[Warning] No flags captured at confirmation for Scenario ${S}`),r.jsxs("tr",{className:"hover:bg-yellow-50",children:[r.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-bold text-gray-900 border-r border-yellow-200",children:["Scenario ",S]}),r.jsx("td",{className:"px-3 py-4 text-xs border-r border-yellow-200",children:r.jsxs("div",{className:"space-y-2",children:[E&&r.jsxs("div",{className:"bg-purple-50 p-2 rounded border-2 border-purple-400",children:[r.jsxs("p",{className:"font-bold text-purple-900 mb-1",children:[F,":"]}),r.jsx("p",{className:"text-purple-700 font-mono break-words",children:E.length>0?`[${E.map(ce=>ce.charAt(0).toUpperCase()+ce.slice(1)).join(", ")}]`:"[ Empty ]"})]}),r.jsxs("div",{className:"bg-green-50 p-2 rounded border-2 border-green-400",children:[r.jsx("p",{className:"font-bold text-green-900 mb-1",children:"FinalTopTwoValues:"}),r.jsx("p",{className:"text-green-700 font-mono break-words",children:V!=null&&V.finalTopTwoValuesBeforeUpdate&&V.finalTopTwoValuesBeforeUpdate.length>0?`[${V.finalTopTwoValuesBeforeUpdate.map(ce=>ce.charAt(0).toUpperCase()+ce.slice(1)).join(", ")}]`:"[ Empty ]"})]})]})}),r.jsx("td",{className:"px-3 py-4 text-sm border-r border-yellow-200",children:r.jsx("div",{className:"bg-cyan-50 px-3 py-2 rounded border border-cyan-300 inline-block",children:r.jsx("span",{className:"font-bold text-cyan-900",children:_.charAt(0).toUpperCase()+_.slice(1)})})}),r.jsx("td",{className:"px-3 py-4 text-center border-r border-yellow-200",children:r.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full font-bold text-sm ${I==="Aligned"?"bg-green-100 text-green-800 border-2 border-green-400":"bg-red-100 text-red-800 border-2 border-red-400"}`,children:[I==="Aligned"?r.jsx(cs,{className:"h-4 w-4 mr-1"}):r.jsx(Gi,{className:"h-4 w-4 mr-1"}),I]})}),r.jsx("td",{className:"px-3 py-4 border-r border-yellow-200",children:A?r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${B?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:[r.jsx("span",{className:"font-semibold",children:"APA Reordered:"}),r.jsx("span",{className:"ml-2 font-bold",children:B?" Yes":" No"})]}),r.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${T?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[r.jsx("span",{className:"font-semibold",children:'CVR "Yes":'}),r.jsx("span",{className:"ml-2 font-bold",children:T?" Yes":" No"})]}),r.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${z?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:[r.jsx("span",{className:"font-semibold",children:'CVR "No":'}),r.jsx("span",{className:"ml-2 font-bold",children:z?" Yes":" No"})]}),r.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${D?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-600"}`,children:[r.jsx("span",{className:"font-semibold",children:"Sim. Metrics Reord.:"}),r.jsx("span",{className:"ml-2 font-bold",children:D?" Yes":" No"})]}),r.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${U?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600"}`,children:[r.jsx("span",{className:"font-semibold",children:"Moral Values Reord.:"}),r.jsx("span",{className:"ml-2 font-bold",children:U?" Yes":" No"})]})]}):r.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-400 rounded p-2 text-xs text-yellow-900 font-bold",children:" No flag data captured at confirmation"})}),r.jsx("td",{className:"px-3 py-4",children:r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-purple-50 rounded",children:[r.jsx("span",{className:"font-semibold text-purple-900",children:"APA Reorders:"}),r.jsx("span",{className:"ml-2 font-bold text-purple-700",children:ee})]}),r.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-green-50 rounded",children:[r.jsx("span",{className:"font-semibold text-green-900",children:'CVR "Yes":'}),r.jsx("span",{className:"ml-2 font-bold text-green-700",children:X})]}),r.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-red-50 rounded",children:[r.jsx("span",{className:"font-semibold text-red-900",children:'CVR "No":'}),r.jsx("span",{className:"ml-2 font-bold text-red-700",children:ge})]}),r.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-blue-50 rounded",children:[r.jsx("span",{className:"font-semibold text-blue-900",children:"Alternatives:"}),r.jsx("span",{className:"ml-2 font-bold text-blue-700",children:$})]}),r.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-orange-50 rounded",children:[r.jsx("span",{className:"font-semibold text-orange-900",children:"Switches:"}),r.jsx("span",{className:"ml-2 font-bold text-orange-700",children:re})]})]})})]},C)})})()})]})}),r.jsx("div",{className:"mt-4 pt-4 border-t-2 border-yellow-400",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-300",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Session Totals"}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Total CVR Arrivals:"}),r.jsx("span",{className:"font-bold text-blue-700",children:e.cvrArrivals})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Total APA Reorderings:"}),r.jsx("span",{className:"font-bold text-purple-700",children:e.apaReorderings})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Total Switches:"}),r.jsx("span",{className:"font-bold text-orange-700",children:e.switchCountTotal})]})]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-300",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"CVR Response Summary"}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:'"Yes, I would" answers:'}),r.jsx("span",{className:"font-bold text-green-700",children:e.cvrYesCount})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:'"No, I would not" answers:'}),r.jsx("span",{className:"font-bold text-red-700",children:e.cvrNoCount})]})]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-300",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Alignment Summary"}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Aligned Decisions:"}),r.jsxs("span",{className:"font-bold text-green-700",children:[e.finalAlignmentByScenario.filter(Boolean).length," / ",e.finalAlignmentByScenario.length]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-700",children:"Value Consistency:"}),r.jsxs("span",{className:"font-bold text-blue-700",children:[(e.valueConsistencyIndex*100).toFixed(1),"%"]})]})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center",children:[r.jsx(zi,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Your Feedback"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Decision Satisfaction"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:n.decisionSatisfaction,onChange:m=>f("decisionSatisfaction",parseInt(m.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:a}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-blue-600",children:n.decisionSatisfaction})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Very Dissatisfied"}),r.jsx("span",{children:"Very Satisfied"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Process Satisfaction"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:n.processSatisfaction,onChange:m=>f("processSatisfaction",parseInt(m.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:a}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-green-600",children:n.processSatisfaction})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Very Poor"}),r.jsx("span",{children:"Excellent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Perceived Transparency"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),r.jsx("input",{type:"range",min:"1",max:"7",value:n.perceivedTransparency,onChange:m=>f("perceivedTransparency",parseInt(m.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:a}),r.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-base font-bold text-purple-600",children:n.perceivedTransparency})})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[r.jsx("span",{children:"Not Transparent"}),r.jsx("span",{children:"Very Transparent"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[r.jsx(Ri,{className:"h-4 w-4 mr-2 text-gray-500"}),"Additional Comments (Optional)"]}),r.jsx("textarea",{value:n.notesFreeText,onChange:m=>i(g=>({...g,notesFreeText:m.target.value})),rows:4,disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Share any additional thoughts about your experience..."})]})]}),a?r.jsx("div",{className:"mt-6 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(cs,{className:"h-6 w-6 text-green-500 mr-3"}),r.jsx("span",{className:"text-green-800 font-semibold text-lg",children:"Feedback submitted successfully!"})]})}):r.jsxs("button",{onClick:p,className:"mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:[r.jsx(zi,{size:20,className:"mr-2"}),"Submit Feedback"]})]})]}),r.jsx("style",{children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider:disabled::-webkit-slider-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }

        .slider:disabled::-moz-range-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }
      `})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Calculating session metrics..."})]})})},vS=()=>{const[t,e]=j.useState(!1),[s,n]=j.useState(!1);return j.useEffect(()=>{window.scrollTo(0,0),(async()=>{e(!0),setTimeout(()=>n(!0),300);const a={event:"study_completed",timestamp:new Date().toISOString(),data:{completionStatus:"full"}},o=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");o.push(a),localStorage.setItem("sessionEventLogs",JSON.stringify(o));const l=localStorage.getItem("sessionId");l&&(await we.updateSessionStatus(l,{status:"completed",completed_at:new Date().toISOString(),study_fully_completed:!0}),await we.syncFallbackData())})()},[]),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-teal-50 flex items-center justify-center p-4 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-10 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse delay-1000"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse delay-500"})]}),r.jsx("div",{className:`max-w-4xl w-full transition-all duration-1000 transform relative z-10 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 md:p-12 border border-gray-100",children:[r.jsx("div",{className:"flex justify-center mb-8",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 to-teal-500 rounded-full blur-xl opacity-50 animate-pulse"}),r.jsx("div",{className:"relative bg-gradient-to-br from-green-400 via-teal-500 to-blue-500 rounded-full p-5 shadow-2xl",children:r.jsx(Fs,{className:"h-20 w-20 text-white",strokeWidth:2.5})})]})}),r.jsxs("div",{className:`transition-all duration-700 delay-300 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-900 mb-3",children:"Study Complete"}),r.jsxs("div",{className:"flex justify-center items-center gap-3 mb-8",children:[r.jsx(yf,{className:"h-6 w-6 text-yellow-500"}),r.jsx("p",{className:"text-xl text-center text-gray-700 font-medium",children:"Your Journey Has Concluded"}),r.jsx(yf,{className:"h-6 w-6 text-yellow-500"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 via-teal-50 to-green-50 rounded-2xl p-8 mb-8 border-2 border-teal-200 shadow-inner",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-red-400 to-pink-500 rounded-full p-3 shadow-lg flex-shrink-0",children:r.jsx(mx,{className:"h-7 w-7 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Thank You for Your Invaluable Contribution"}),r.jsx("p",{className:"text-gray-800 leading-relaxed text-lg",children:"Your thoughtful participation has provided crucial insights into how individuals navigate complex ethical decisions under pressure. Your engagement throughout this study demonstrates the depth and nuance of human decision-making in challenging circumstances."})]})]}),r.jsx("div",{className:"space-y-4 ml-0 md:ml-16",children:r.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:"Through your careful consideration of each scenario, you have helped advance our understanding of value alignment, moral reasoning, and the intricate relationship between personal beliefs and real-world choices."})})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-blue-100 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-blue-100 rounded-full p-4",children:r.jsx(zi,{className:"h-8 w-8 text-blue-600"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Meaningful Impact"}),r.jsx("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:"Your decisions contribute to research that may shape future tools for ethical decision-making"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-teal-100 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-teal-100 rounded-full p-4",children:r.jsx(vd,{className:"h-8 w-8 text-teal-600"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Exemplary Dedication"}),r.jsx("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:"Your commitment to completing this comprehensive study reflects exceptional dedication"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-green-100 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-green-100 rounded-full p-4",children:r.jsx(Sl,{className:"h-8 w-8 text-green-600"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Advancing Knowledge"}),r.jsx("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:"Your responses help build a deeper understanding of human values and decision processes"})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-100 rounded-2xl p-8 border-2 border-gray-200",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"We Wish You All the Best"}),r.jsx("p",{className:"text-gray-700 text-lg leading-relaxed max-w-2xl mx-auto",children:"As you continue on your journey, may you carry forward the thoughtfulness and wisdom you demonstrated throughout this study. Your ability to navigate complex decisions with care and consideration is a valuable strength."}),r.jsx("div",{className:"pt-4",children:r.jsx("p",{className:"text-gray-600 font-medium",children:"Thank you once again for your time, effort, and invaluable insights."})})]})}),r.jsx("div",{className:"mt-8 pt-6 border-t-2 border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 text-gray-500",children:[r.jsx(Fs,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-sm",children:"Study Completed Successfully"}),r.jsx(Fs,{className:"h-5 w-5 text-green-600"})]})})]})]})})]})};function bS(){return r.jsx(Hb,{basename:"/VRDS_CVR",children:r.jsxs(zb,{children:[r.jsx(bt,{path:"/",element:r.jsx(Lb,{to:"/demographics",replace:!0})}),r.jsx(bt,{path:"/demographics",element:r.jsx(aw,{})}),r.jsx(bt,{path:"/explicitvaluepage",element:r.jsx(ow,{})}),r.jsx(bt,{path:"/preferences",element:r.jsx(lw,{})}),r.jsx(bt,{path:"/completion",element:r.jsx(cw,{})}),r.jsx(bt,{path:"/values",element:r.jsx(dw,{})}),r.jsx(bt,{path:"/tutorial",element:r.jsx(uw,{})}),r.jsx(bt,{path:"/simulation",element:r.jsx(uS,{})}),r.jsx(bt,{path:"/thank-you",element:r.jsx(hS,{})}),r.jsx(bt,{path:"/feedback",element:r.jsx(fS,{})}),r.jsx(bt,{path:"/final-analysis",element:r.jsx(pS,{})}),r.jsx(bt,{path:"/view-results",element:r.jsx(xS,{})}),r.jsx(bt,{path:"/results-feedback",element:r.jsx(yS,{})}),r.jsx(bt,{path:"/study-complete",element:r.jsx(vS,{})})]})})}Xg(document.getElementById("root")).render(r.jsx(bS,{}));
