var f1=Object.defineProperty;var h1=(e,t,n)=>t in e?f1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t,n)=>h1(e,typeof t!="symbol"?t+"":t,n);function m1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p0={exports:{}},_c={},g0={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fo=Symbol.for("react.element"),p1=Symbol.for("react.portal"),g1=Symbol.for("react.fragment"),x1=Symbol.for("react.strict_mode"),v1=Symbol.for("react.profiler"),y1=Symbol.for("react.provider"),b1=Symbol.for("react.context"),w1=Symbol.for("react.forward_ref"),S1=Symbol.for("react.suspense"),N1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),zm=Symbol.iterator;function C1(e){return e===null||typeof e!="object"?null:(e=zm&&e[zm]||e["@@iterator"],typeof e=="function"?e:null)}var x0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v0=Object.assign,y0={};function Ts(e,t,n){this.props=e,this.context=t,this.refs=y0,this.updater=n||x0}Ts.prototype.isReactComponent={};Ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b0(){}b0.prototype=Ts.prototype;function Hf(e,t,n){this.props=e,this.context=t,this.refs=y0,this.updater=n||x0}var Uf=Hf.prototype=new b0;Uf.constructor=Hf;v0(Uf,Ts.prototype);Uf.isPureReactComponent=!0;var Vm=Array.isArray,w0=Object.prototype.hasOwnProperty,Yf={current:null},S0={key:!0,ref:!0,__self:!0,__source:!0};function N0(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)w0.call(t,r)&&!S0.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:fo,type:e,key:s,ref:o,props:i,_owner:Yf.current}}function k1(e,t){return{$$typeof:fo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gf(e){return typeof e=="object"&&e!==null&&e.$$typeof===fo}function I1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bm=/\/+/g;function jd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I1(""+e.key):t.toString(36)}function jl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fo:case p1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+jd(o,0):r,Vm(i)?(n="",e!=null&&(n=e.replace(Bm,"$&/")+"/"),jl(i,t,n,"",function(d){return d})):i!=null&&(Gf(i)&&(i=k1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Vm(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+jd(s,l);o+=jl(s,t,n,c,i)}else if(c=C1(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+jd(s,l++),o+=jl(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zo(e,t,n){if(e==null)return e;var r=[],i=0;return jl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function P1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Cl={transition:null},_1={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:Yf};function j0(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:zo,forEach:function(e,t,n){zo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zo(e,function(){t++}),t},toArray:function(e){return zo(e,function(t){return t})||[]},only:function(e){if(!Gf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Ts;we.Fragment=g1;we.Profiler=v1;we.PureComponent=Hf;we.StrictMode=x1;we.Suspense=S1;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_1;we.act=j0;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Yf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w0.call(t,c)&&!S0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:fo,type:e.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(e){return e={$$typeof:b1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:y1,_context:e},e.Consumer=e};we.createElement=N0;we.createFactory=function(e){var t=N0.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:w1,render:e}};we.isValidElement=Gf;we.lazy=function(e){return{$$typeof:j1,_payload:{_status:-1,_result:e},_init:P1}};we.memo=function(e,t){return{$$typeof:N1,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Cl.transition;Cl.transition={};try{e()}finally{Cl.transition=t}};we.unstable_act=j0;we.useCallback=function(e,t){return Ot.current.useCallback(e,t)};we.useContext=function(e){return Ot.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};we.useEffect=function(e,t){return Ot.current.useEffect(e,t)};we.useId=function(){return Ot.current.useId()};we.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Ot.current.useMemo(e,t)};we.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};we.useRef=function(e){return Ot.current.useRef(e)};we.useState=function(e){return Ot.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return Ot.current.useTransition()};we.version="18.3.1";g0.exports=we;var N=g0.exports;const Ie=Wf(N),E1=m1({__proto__:null,default:Ie},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1=N,R1=Symbol.for("react.element"),M1=Symbol.for("react.fragment"),T1=Object.prototype.hasOwnProperty,A1=D1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O1={key:!0,ref:!0,__self:!0,__source:!0};function C0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)T1.call(t,r)&&!O1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:R1,type:e,key:s,ref:o,props:i,_owner:A1.current}}_c.Fragment=M1;_c.jsx=C0;_c.jsxs=C0;p0.exports=_c;var a=p0.exports,k0={exports:{}},an={},I0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,T){var A=P.length;P.push(T);e:for(;0<A;){var W=A-1>>>1,U=P[W];if(0<i(U,T))P[W]=T,P[A]=U,A=W;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var T=P[0],A=P.pop();if(A!==T){P[0]=A;e:for(var W=0,U=P.length,fe=U>>>1;W<fe;){var le=2*(W+1)-1,Y=P[le],re=le+1,ie=P[re];if(0>i(Y,A))re<U&&0>i(ie,Y)?(P[W]=ie,P[re]=A,W=re):(P[W]=Y,P[le]=A,W=le);else if(re<U&&0>i(ie,A))P[W]=ie,P[re]=A,W=re;else break e}}return T}function i(P,T){var A=P.sortIndex-T.sortIndex;return A!==0?A:P.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,m=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var T=n(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=P)r(d),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(d)}}function j(P){if(x=!1,b(P),!g)if(n(c)!==null)g=!0,R(w);else{var T=n(d);T!==null&&O(j,T.startTime-P)}}function w(P,T){g=!1,x&&(x=!1,p(k),k=-1),m=!0;var A=h;try{for(b(T),f=n(c);f!==null&&(!(f.expirationTime>T)||P&&!_());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var U=W(f.expirationTime<=T);T=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(c)&&r(c),b(T)}else r(c);f=n(c)}if(f!==null)var fe=!0;else{var le=n(d);le!==null&&O(j,le.startTime-T),fe=!1}return fe}finally{f=null,h=A,m=!1}}var S=!1,C=null,k=-1,I=5,E=-1;function _(){return!(e.unstable_now()-E<I)}function F(){if(C!==null){var P=e.unstable_now();E=P;var T=!0;try{T=C(!0,P)}finally{T?H():(S=!1,C=null)}}else S=!1}var H;if(typeof v=="function")H=function(){v(F)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=F,H=function(){M.postMessage(null)}}else H=function(){y(F,0)};function R(P){C=P,S||(S=!0,H())}function O(P,T){k=y(function(){P(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,R(w))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var A=h;h=T;try{return P()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,T){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var A=h;h=P;try{return T()}finally{h=A}},e.unstable_scheduleCallback=function(P,T,A){var W=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?W+A:W):A=W,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=A+U,P={id:u++,callback:T,priorityLevel:P,startTime:A,expirationTime:U,sortIndex:-1},A>W?(P.sortIndex=A,t(d,P),n(c)===null&&P===n(d)&&(x?(p(k),k=-1):x=!0,O(j,A-W))):(P.sortIndex=U,t(c,P),g||m||(g=!0,R(w))),P},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(P){var T=h;return function(){var A=h;h=T;try{return P.apply(this,arguments)}finally{h=A}}}})(P0);I0.exports=P0;var L1=I0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1=N,sn=L1;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _0=new Set,Da={};function Li(e,t){ys(e,t),ys(e+"Capture",t)}function ys(e,t){for(Da[e]=t,e=0;e<t.length;e++)_0.add(t[e])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=Object.prototype.hasOwnProperty,z1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$m={},Wm={};function V1(e){return ku.call(Wm,e)?!0:ku.call($m,e)?!1:z1.test(e)?Wm[e]=!0:($m[e]=!0,!1)}function B1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $1(e,t,n,r){if(t===null||typeof t>"u"||B1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qf=/[\-:]([a-z])/g;function Jf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qf,Jf);St[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qf,Jf);St[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qf,Jf);St[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kf(e,t,n,r){var i=St.hasOwnProperty(t)?St[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($1(t,n,i,r)&&(n=null),r||i===null?V1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vr=F1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vo=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Iu=Symbol.for("react.profiler"),E0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),Xf=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),_u=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),R0=Symbol.for("react.offscreen"),Hm=Symbol.iterator;function Ys(e){return e===null||typeof e!="object"?null:(e=Hm&&e[Hm]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Cd;function la(e){if(Cd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cd=t&&t[1]||""}return`
`+Cd+e}var kd=!1;function Id(e,t){if(!e||kd)return"";kd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{kd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?la(e):""}function W1(e){switch(e.tag){case 5:return la(e.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return e=Id(e.type,!1),e;case 11:return e=Id(e.type.render,!1),e;case 1:return e=Id(e.type,!0),e;default:return""}}function Eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qi:return"Fragment";case Gi:return"Portal";case Iu:return"Profiler";case Qf:return"StrictMode";case Pu:return"Suspense";case _u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D0:return(e.displayName||"Context")+".Consumer";case E0:return(e._context.displayName||"Context")+".Provider";case Xf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zf:return t=e.displayName||null,t!==null?t:Eu(e.type)||"Memo";case Nr:t=e._payload,e=e._init;try{return Eu(e(t))}catch{}}return null}function H1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(t);case 8:return t===Qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function M0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U1(e){var t=M0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bo(e){e._valueTracker||(e._valueTracker=U1(e))}function T0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=M0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Du(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Um(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A0(e,t){t=t.checked,t!=null&&Kf(e,"checked",t,!1)}function Ru(e,t){A0(e,t);var n=Gr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mu(e,t.type,Gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ym(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mu(e,t,n){(t!=="number"||$l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ca=Array.isArray;function os(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Tu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(ca(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gr(n)}}function O0(e,t){var n=Gr(t.value),r=Gr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $o,F0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y1=["Webkit","ms","Moz","O"];Object.keys(pa).forEach(function(e){Y1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pa[t]=pa[e]})});function z0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pa.hasOwnProperty(e)&&pa[e]?(""+t).trim():t+"px"}function V0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var G1=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ou(e,t){if(t){if(G1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Lu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=null;function eh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zu=null,ls=null,cs=null;function Jm(e){if(e=po(e)){if(typeof zu!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Tc(t),zu(e.stateNode,e.type,t))}}function B0(e){ls?cs?cs.push(e):cs=[e]:ls=e}function $0(){if(ls){var e=ls,t=cs;if(cs=ls=null,Jm(e),t)for(e=0;e<t.length;e++)Jm(t[e])}}function W0(e,t){return e(t)}function H0(){}var Pd=!1;function U0(e,t,n){if(Pd)return e(t,n);Pd=!0;try{return W0(e,t,n)}finally{Pd=!1,(ls!==null||cs!==null)&&(H0(),$0())}}function Ma(e,t){var n=e.stateNode;if(n===null)return null;var r=Tc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Vu=!1;if(hr)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{Vu=!1}function q1(e,t,n,r,i,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var ga=!1,Wl=null,Hl=!1,Bu=null,J1={onError:function(e){ga=!0,Wl=e}};function K1(e,t,n,r,i,s,o,l,c){ga=!1,Wl=null,q1.apply(J1,arguments)}function Q1(e,t,n,r,i,s,o,l,c){if(K1.apply(this,arguments),ga){if(ga){var d=Wl;ga=!1,Wl=null}else throw Error(B(198));Hl||(Hl=!0,Bu=d)}}function Fi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Y0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Km(e){if(Fi(e)!==e)throw Error(B(188))}function X1(e){var t=e.alternate;if(!t){if(t=Fi(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Km(i),e;if(s===r)return Km(i),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function G0(e){return e=X1(e),e!==null?q0(e):null}function q0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=q0(e);if(t!==null)return t;e=e.sibling}return null}var J0=sn.unstable_scheduleCallback,Qm=sn.unstable_cancelCallback,Z1=sn.unstable_shouldYield,eS=sn.unstable_requestPaint,nt=sn.unstable_now,tS=sn.unstable_getCurrentPriorityLevel,th=sn.unstable_ImmediatePriority,K0=sn.unstable_UserBlockingPriority,Ul=sn.unstable_NormalPriority,nS=sn.unstable_LowPriority,Q0=sn.unstable_IdlePriority,Ec=null,Gn=null;function rS(e){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Ec,e,void 0,(e.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:aS,iS=Math.log,sS=Math.LN2;function aS(e){return e>>>=0,e===0?32:31-(iS(e)/sS|0)|0}var Wo=64,Ho=4194304;function da(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=da(l):(s&=o,s!==0&&(r=da(s)))}else o=n&~i,o!==0?r=da(o):s!==0&&(r=da(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-En(t),i=1<<n,r|=e[n],t&=~i;return r}function oS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-En(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=oS(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function $u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X0(){var e=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),e}function _d(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ho(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-En(t),e[t]=n}function cS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-En(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function nh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-En(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Te=0;function Z0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ev,rh,tv,nv,rv,Wu=!1,Uo=[],Tr=null,Ar=null,Or=null,Ta=new Map,Aa=new Map,Cr=[],dS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(t.pointerId)}}function qs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=po(t),t!==null&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uS(e,t,n,r,i){switch(t){case"focusin":return Tr=qs(Tr,e,t,n,r,i),!0;case"dragenter":return Ar=qs(Ar,e,t,n,r,i),!0;case"mouseover":return Or=qs(Or,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ta.set(s,qs(Ta.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Aa.set(s,qs(Aa.get(s)||null,e,t,n,r,i)),!0}return!1}function iv(e){var t=mi(e.target);if(t!==null){var n=Fi(t);if(n!==null){if(t=n.tag,t===13){if(t=Y0(n),t!==null){e.blockedOn=t,rv(e.priority,function(){tv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fu=r,n.target.dispatchEvent(r),Fu=null}else return t=po(n),t!==null&&rh(t),e.blockedOn=n,!1;t.shift()}return!0}function Zm(e,t,n){kl(e)&&n.delete(t)}function fS(){Wu=!1,Tr!==null&&kl(Tr)&&(Tr=null),Ar!==null&&kl(Ar)&&(Ar=null),Or!==null&&kl(Or)&&(Or=null),Ta.forEach(Zm),Aa.forEach(Zm)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,Wu||(Wu=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,fS)))}function Oa(e){function t(i){return Js(i,e)}if(0<Uo.length){Js(Uo[0],e);for(var n=1;n<Uo.length;n++){var r=Uo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tr!==null&&Js(Tr,e),Ar!==null&&Js(Ar,e),Or!==null&&Js(Or,e),Ta.forEach(t),Aa.forEach(t),n=0;n<Cr.length;n++)r=Cr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)iv(n),n.blockedOn===null&&Cr.shift()}var ds=vr.ReactCurrentBatchConfig,Gl=!0;function hS(e,t,n,r){var i=Te,s=ds.transition;ds.transition=null;try{Te=1,ih(e,t,n,r)}finally{Te=i,ds.transition=s}}function mS(e,t,n,r){var i=Te,s=ds.transition;ds.transition=null;try{Te=4,ih(e,t,n,r)}finally{Te=i,ds.transition=s}}function ih(e,t,n,r){if(Gl){var i=Hu(e,t,n,r);if(i===null)zd(e,t,r,ql,n),Xm(e,r);else if(uS(i,e,t,n,r))r.stopPropagation();else if(Xm(e,r),t&4&&-1<dS.indexOf(e)){for(;i!==null;){var s=po(i);if(s!==null&&ev(s),s=Hu(e,t,n,r),s===null&&zd(e,t,r,ql,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zd(e,t,r,null,n)}}var ql=null;function Hu(e,t,n,r){if(ql=null,e=eh(r),e=mi(e),e!==null)if(t=Fi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Y0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ql=e,null}function sv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tS()){case th:return 1;case K0:return 4;case Ul:case nS:return 16;case Q0:return 536870912;default:return 16}default:return 16}}var Ir=null,sh=null,Il=null;function av(){if(Il)return Il;var e,t=sh,n=t.length,r,i="value"in Ir?Ir.value:Ir.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Il=i.slice(e,1<r?1-r:void 0)}function Pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function ep(){return!1}function on(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yo:ep,this.isPropagationStopped=ep,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ah=on(As),mo=Xe({},As,{view:0,detail:0}),pS=on(mo),Ed,Dd,Ks,Dc=Xe({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ks&&(Ks&&e.type==="mousemove"?(Ed=e.screenX-Ks.screenX,Dd=e.screenY-Ks.screenY):Dd=Ed=0,Ks=e),Ed)},movementY:function(e){return"movementY"in e?e.movementY:Dd}}),tp=on(Dc),gS=Xe({},Dc,{dataTransfer:0}),xS=on(gS),vS=Xe({},mo,{relatedTarget:0}),Rd=on(vS),yS=Xe({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),bS=on(yS),wS=Xe({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SS=on(wS),NS=Xe({},As,{data:0}),np=on(NS),jS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kS[e])?!!t[e]:!1}function oh(){return IS}var PS=Xe({},mo,{key:function(e){if(e.key){var t=jS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oh,charCode:function(e){return e.type==="keypress"?Pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_S=on(PS),ES=Xe({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rp=on(ES),DS=Xe({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oh}),RS=on(DS),MS=Xe({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),TS=on(MS),AS=Xe({},Dc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=on(AS),LS=[9,13,27,32],lh=hr&&"CompositionEvent"in window,xa=null;hr&&"documentMode"in document&&(xa=document.documentMode);var FS=hr&&"TextEvent"in window&&!xa,ov=hr&&(!lh||xa&&8<xa&&11>=xa),ip=" ",sp=!1;function lv(e,t){switch(e){case"keyup":return LS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function zS(e,t){switch(e){case"compositionend":return cv(t);case"keypress":return t.which!==32?null:(sp=!0,ip);case"textInput":return e=t.data,e===ip&&sp?null:e;default:return null}}function VS(e,t){if(Ji)return e==="compositionend"||!lh&&lv(e,t)?(e=av(),Il=sh=Ir=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ov&&t.locale!=="ko"?null:t.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BS[e.type]:t==="textarea"}function dv(e,t,n,r){B0(r),t=Jl(t,"onChange"),0<t.length&&(n=new ah("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var va=null,La=null;function $S(e){wv(e,0)}function Rc(e){var t=Xi(e);if(T0(t))return e}function WS(e,t){if(e==="change")return t}var uv=!1;if(hr){var Md;if(hr){var Td="oninput"in document;if(!Td){var op=document.createElement("div");op.setAttribute("oninput","return;"),Td=typeof op.oninput=="function"}Md=Td}else Md=!1;uv=Md&&(!document.documentMode||9<document.documentMode)}function lp(){va&&(va.detachEvent("onpropertychange",fv),La=va=null)}function fv(e){if(e.propertyName==="value"&&Rc(La)){var t=[];dv(t,La,e,eh(e)),U0($S,t)}}function HS(e,t,n){e==="focusin"?(lp(),va=t,La=n,va.attachEvent("onpropertychange",fv)):e==="focusout"&&lp()}function US(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rc(La)}function YS(e,t){if(e==="click")return Rc(t)}function GS(e,t){if(e==="input"||e==="change")return Rc(t)}function qS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:qS;function Fa(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ku.call(t,i)||!Mn(e[i],t[i]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,t){var n=cp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cp(n)}}function hv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mv(){for(var e=window,t=$l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$l(e.document)}return t}function ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JS(e){var t=mv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hv(n.ownerDocument.documentElement,n)){if(r!==null&&ch(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dp(n,s);var o=dp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KS=hr&&"documentMode"in document&&11>=document.documentMode,Ki=null,Uu=null,ya=null,Yu=!1;function up(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yu||Ki==null||Ki!==$l(r)||(r=Ki,"selectionStart"in r&&ch(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&Fa(ya,r)||(ya=r,r=Jl(Uu,"onSelect"),0<r.length&&(t=new ah("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ki)))}function Go(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qi={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},Ad={},pv={};hr&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Mc(e){if(Ad[e])return Ad[e];if(!Qi[e])return e;var t=Qi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pv)return Ad[e]=t[n];return e}var gv=Mc("animationend"),xv=Mc("animationiteration"),vv=Mc("animationstart"),yv=Mc("transitionend"),bv=new Map,fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(e,t){bv.set(e,t),Li(t,[e])}for(var Od=0;Od<fp.length;Od++){var Ld=fp[Od],QS=Ld.toLowerCase(),XS=Ld[0].toUpperCase()+Ld.slice(1);Xr(QS,"on"+XS)}Xr(gv,"onAnimationEnd");Xr(xv,"onAnimationIteration");Xr(vv,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(yv,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function hp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Q1(r,t,void 0,e),e.currentTarget=null}function wv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;hp(i,l,d),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;hp(i,l,d),s=c}}}if(Hl)throw e=Bu,Hl=!1,Bu=null,e}function He(e,t){var n=t[Qu];n===void 0&&(n=t[Qu]=new Set);var r=e+"__bubble";n.has(r)||(Sv(t,e,2,!1),n.add(r))}function Fd(e,t,n){var r=0;t&&(r|=4),Sv(n,e,r,t)}var qo="_reactListening"+Math.random().toString(36).slice(2);function za(e){if(!e[qo]){e[qo]=!0,_0.forEach(function(n){n!=="selectionchange"&&(ZS.has(n)||Fd(n,!1,e),Fd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qo]||(t[qo]=!0,Fd("selectionchange",!1,t))}}function Sv(e,t,n,r){switch(sv(t)){case 1:var i=hS;break;case 4:i=mS;break;default:i=ih}n=i.bind(null,t,n,e),i=void 0,!Vu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zd(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=mi(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}U0(function(){var d=s,u=eh(n),f=[];e:{var h=bv.get(e);if(h!==void 0){var m=ah,g=e;switch(e){case"keypress":if(Pl(n)===0)break e;case"keydown":case"keyup":m=_S;break;case"focusin":g="focus",m=Rd;break;case"focusout":g="blur",m=Rd;break;case"beforeblur":case"afterblur":m=Rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=RS;break;case gv:case xv:case vv:m=bS;break;case yv:m=TS;break;case"scroll":m=pS;break;case"wheel":m=OS;break;case"copy":case"cut":case"paste":m=SS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rp}var x=(t&4)!==0,y=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var v=d,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,p!==null&&(j=Ma(v,p),j!=null&&x.push(Va(v,j,b)))),y)break;v=v.return}0<x.length&&(h=new m(h,g,null,n,u),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Fu&&(g=n.relatedTarget||n.fromElement)&&(mi(g)||g[mr]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=d,g=g?mi(g):null,g!==null&&(y=Fi(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(x=tp,j="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=rp,j="onPointerLeave",p="onPointerEnter",v="pointer"),y=m==null?h:Xi(m),b=g==null?h:Xi(g),h=new x(j,v+"leave",m,n,u),h.target=y,h.relatedTarget=b,j=null,mi(u)===d&&(x=new x(p,v+"enter",g,n,u),x.target=b,x.relatedTarget=y,j=x),y=j,m&&g)t:{for(x=m,p=g,v=0,b=x;b;b=Hi(b))v++;for(b=0,j=p;j;j=Hi(j))b++;for(;0<v-b;)x=Hi(x),v--;for(;0<b-v;)p=Hi(p),b--;for(;v--;){if(x===p||p!==null&&x===p.alternate)break t;x=Hi(x),p=Hi(p)}x=null}else x=null;m!==null&&mp(f,h,m,x,!1),g!==null&&y!==null&&mp(f,y,g,x,!0)}}e:{if(h=d?Xi(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=WS;else if(ap(h))if(uv)w=GS;else{w=US;var S=HS}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=YS);if(w&&(w=w(e,d))){dv(f,w,n,u);break e}S&&S(e,h,d),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Mu(h,"number",h.value)}switch(S=d?Xi(d):window,e){case"focusin":(ap(S)||S.contentEditable==="true")&&(Ki=S,Uu=d,ya=null);break;case"focusout":ya=Uu=Ki=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,up(f,n,u);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":up(f,n,u)}var C;if(lh)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ji?lv(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(ov&&n.locale!=="ko"&&(Ji||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ji&&(C=av()):(Ir=u,sh="value"in Ir?Ir.value:Ir.textContent,Ji=!0)),S=Jl(d,k),0<S.length&&(k=new np(k,e,null,n,u),f.push({event:k,listeners:S}),C?k.data=C:(C=cv(n),C!==null&&(k.data=C)))),(C=FS?zS(e,n):VS(e,n))&&(d=Jl(d,"onBeforeInput"),0<d.length&&(u=new np("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=C))}wv(f,t)})}function Va(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ma(e,n),s!=null&&r.unshift(Va(e,s,i)),s=Ma(e,t),s!=null&&r.push(Va(e,s,i))),e=e.return}return r}function Hi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Ma(n,s),c!=null&&o.unshift(Va(n,c,l))):i||(c=Ma(n,s),c!=null&&o.push(Va(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(eN,`
`).replace(tN,"")}function Jo(e,t,n){if(t=pp(t),pp(e)!==t&&n)throw Error(B(425))}function Kl(){}var Gu=null,qu=null;function Ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ku=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(iN)}:Ku;function iN(e){setTimeout(function(){throw e})}function Vd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Oa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oa(t)}function Lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Os,Ba="__reactProps$"+Os,mr="__reactContainer$"+Os,Qu="__reactEvents$"+Os,sN="__reactListeners$"+Os,aN="__reactHandles$"+Os;function mi(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xp(e);e!==null;){if(n=e[Yn])return n;e=xp(e)}return t}e=n,n=e.parentNode}return null}function po(e){return e=e[Yn]||e[mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Tc(e){return e[Ba]||null}var Xu=[],Zi=-1;function Zr(e){return{current:e}}function Ue(e){0>Zi||(e.current=Xu[Zi],Xu[Zi]=null,Zi--)}function Be(e,t){Zi++,Xu[Zi]=e.current,e.current=t}var qr={},_t=Zr(qr),Wt=Zr(!1),ki=qr;function bs(e,t){var n=e.type.contextTypes;if(!n)return qr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(e){return e=e.childContextTypes,e!=null}function Ql(){Ue(Wt),Ue(_t)}function vp(e,t,n){if(_t.current!==qr)throw Error(B(168));Be(_t,t),Be(Wt,n)}function Nv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(B(108,H1(e)||"Unknown",i));return Xe({},n,r)}function Xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qr,ki=_t.current,Be(_t,e),Be(Wt,Wt.current),!0}function yp(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Nv(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,Ue(Wt),Ue(_t),Be(_t,e)):Ue(Wt),Be(Wt,n)}var sr=null,Ac=!1,Bd=!1;function jv(e){sr===null?sr=[e]:sr.push(e)}function oN(e){Ac=!0,jv(e)}function ei(){if(!Bd&&sr!==null){Bd=!0;var e=0,t=Te;try{var n=sr;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sr=null,Ac=!1}catch(i){throw sr!==null&&(sr=sr.slice(e+1)),J0(th,ei),i}finally{Te=t,Bd=!1}}return null}var es=[],ts=0,Zl=null,ec=0,fn=[],hn=0,Ii=null,or=1,lr="";function li(e,t){es[ts++]=ec,es[ts++]=Zl,Zl=e,ec=t}function Cv(e,t,n){fn[hn++]=or,fn[hn++]=lr,fn[hn++]=Ii,Ii=e;var r=or;e=lr;var i=32-En(r)-1;r&=~(1<<i),n+=1;var s=32-En(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,or=1<<32-En(t)+i|n<<i|r,lr=s+e}else or=1<<s|n<<i|r,lr=e}function dh(e){e.return!==null&&(li(e,1),Cv(e,1,0))}function uh(e){for(;e===Zl;)Zl=es[--ts],es[ts]=null,ec=es[--ts],es[ts]=null;for(;e===Ii;)Ii=fn[--hn],fn[hn]=null,lr=fn[--hn],fn[hn]=null,or=fn[--hn],fn[hn]=null}var en=null,Kt=null,Ye=!1,kn=null;function kv(e,t){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,en=e,Kt=Lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,en=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ii!==null?{id:or,overflow:lr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,en=e,Kt=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ef(e){if(Ye){var t=Kt;if(t){var n=t;if(!bp(e,t)){if(Zu(e))throw Error(B(418));t=Lr(n.nextSibling);var r=en;t&&bp(e,t)?kv(r,n):(e.flags=e.flags&-4097|2,Ye=!1,en=e)}}else{if(Zu(e))throw Error(B(418));e.flags=e.flags&-4097|2,Ye=!1,en=e}}}function wp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;en=e}function Ko(e){if(e!==en)return!1;if(!Ye)return wp(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ju(e.type,e.memoizedProps)),t&&(t=Kt)){if(Zu(e))throw Iv(),Error(B(418));for(;t;)kv(e,t),t=Lr(t.nextSibling)}if(wp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=Lr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=en?Lr(e.stateNode.nextSibling):null;return!0}function Iv(){for(var e=Kt;e;)e=Lr(e.nextSibling)}function ws(){Kt=en=null,Ye=!1}function fh(e){kn===null?kn=[e]:kn.push(e)}var lN=vr.ReactCurrentBatchConfig;function Qs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sp(e){var t=e._init;return t(e._payload)}function Pv(e){function t(p,v){if(e){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function n(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=Br(p,v),p.index=0,p.sibling=null,p}function s(p,v,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,v,b,j){return v===null||v.tag!==6?(v=qd(b,p.mode,j),v.return=p,v):(v=i(v,b),v.return=p,v)}function c(p,v,b,j){var w=b.type;return w===qi?u(p,v,b.props.children,j,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Nr&&Sp(w)===v.type)?(j=i(v,b.props),j.ref=Qs(p,v,b),j.return=p,j):(j=Al(b.type,b.key,b.props,null,p.mode,j),j.ref=Qs(p,v,b),j.return=p,j)}function d(p,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Jd(b,p.mode,j),v.return=p,v):(v=i(v,b.children||[]),v.return=p,v)}function u(p,v,b,j,w){return v===null||v.tag!==7?(v=yi(b,p.mode,j,w),v.return=p,v):(v=i(v,b),v.return=p,v)}function f(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qd(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vo:return b=Al(v.type,v.key,v.props,null,p.mode,b),b.ref=Qs(p,null,v),b.return=p,b;case Gi:return v=Jd(v,p.mode,b),v.return=p,v;case Nr:var j=v._init;return f(p,j(v._payload),b)}if(ca(v)||Ys(v))return v=yi(v,p.mode,b,null),v.return=p,v;Qo(p,v)}return null}function h(p,v,b,j){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(p,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vo:return b.key===w?c(p,v,b,j):null;case Gi:return b.key===w?d(p,v,b,j):null;case Nr:return w=b._init,h(p,v,w(b._payload),j)}if(ca(b)||Ys(b))return w!==null?null:u(p,v,b,j,null);Qo(p,b)}return null}function m(p,v,b,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(b)||null,l(v,p,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Vo:return p=p.get(j.key===null?b:j.key)||null,c(v,p,j,w);case Gi:return p=p.get(j.key===null?b:j.key)||null,d(v,p,j,w);case Nr:var S=j._init;return m(p,v,b,S(j._payload),w)}if(ca(j)||Ys(j))return p=p.get(b)||null,u(v,p,j,w,null);Qo(v,j)}return null}function g(p,v,b,j){for(var w=null,S=null,C=v,k=v=0,I=null;C!==null&&k<b.length;k++){C.index>k?(I=C,C=null):I=C.sibling;var E=h(p,C,b[k],j);if(E===null){C===null&&(C=I);break}e&&C&&E.alternate===null&&t(p,C),v=s(E,v,k),S===null?w=E:S.sibling=E,S=E,C=I}if(k===b.length)return n(p,C),Ye&&li(p,k),w;if(C===null){for(;k<b.length;k++)C=f(p,b[k],j),C!==null&&(v=s(C,v,k),S===null?w=C:S.sibling=C,S=C);return Ye&&li(p,k),w}for(C=r(p,C);k<b.length;k++)I=m(C,p,k,b[k],j),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?k:I.key),v=s(I,v,k),S===null?w=I:S.sibling=I,S=I);return e&&C.forEach(function(_){return t(p,_)}),Ye&&li(p,k),w}function x(p,v,b,j){var w=Ys(b);if(typeof w!="function")throw Error(B(150));if(b=w.call(b),b==null)throw Error(B(151));for(var S=w=null,C=v,k=v=0,I=null,E=b.next();C!==null&&!E.done;k++,E=b.next()){C.index>k?(I=C,C=null):I=C.sibling;var _=h(p,C,E.value,j);if(_===null){C===null&&(C=I);break}e&&C&&_.alternate===null&&t(p,C),v=s(_,v,k),S===null?w=_:S.sibling=_,S=_,C=I}if(E.done)return n(p,C),Ye&&li(p,k),w;if(C===null){for(;!E.done;k++,E=b.next())E=f(p,E.value,j),E!==null&&(v=s(E,v,k),S===null?w=E:S.sibling=E,S=E);return Ye&&li(p,k),w}for(C=r(p,C);!E.done;k++,E=b.next())E=m(C,p,k,E.value,j),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?k:E.key),v=s(E,v,k),S===null?w=E:S.sibling=E,S=E);return e&&C.forEach(function(F){return t(p,F)}),Ye&&li(p,k),w}function y(p,v,b,j){if(typeof b=="object"&&b!==null&&b.type===qi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vo:e:{for(var w=b.key,S=v;S!==null;){if(S.key===w){if(w=b.type,w===qi){if(S.tag===7){n(p,S.sibling),v=i(S,b.props.children),v.return=p,p=v;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Nr&&Sp(w)===S.type){n(p,S.sibling),v=i(S,b.props),v.ref=Qs(p,S,b),v.return=p,p=v;break e}n(p,S);break}else t(p,S);S=S.sibling}b.type===qi?(v=yi(b.props.children,p.mode,j,b.key),v.return=p,p=v):(j=Al(b.type,b.key,b.props,null,p.mode,j),j.ref=Qs(p,v,b),j.return=p,p=j)}return o(p);case Gi:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(p,v.sibling),v=i(v,b.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else t(p,v);v=v.sibling}v=Jd(b,p.mode,j),v.return=p,p=v}return o(p);case Nr:return S=b._init,y(p,v,S(b._payload),j)}if(ca(b))return g(p,v,b,j);if(Ys(b))return x(p,v,b,j);Qo(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(p,v.sibling),v=i(v,b),v.return=p,p=v):(n(p,v),v=qd(b,p.mode,j),v.return=p,p=v),o(p)):n(p,v)}return y}var Ss=Pv(!0),_v=Pv(!1),tc=Zr(null),nc=null,ns=null,hh=null;function mh(){hh=ns=nc=null}function ph(e){var t=tc.current;Ue(tc),e._currentValue=t}function tf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function us(e,t){nc=e,hh=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function yn(e){var t=e._currentValue;if(hh!==e)if(e={context:e,memoizedValue:t,next:null},ns===null){if(nc===null)throw Error(B(308));ns=e,nc.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return t}var pi=null;function gh(e){pi===null?pi=[e]:pi.push(e)}function Ev(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gh(t)):(n.next=i.next,i.next=n),t.interleaved=n,pr(e,r)}function pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jr=!1;function xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pr(e,n)}return i=r.interleaved,i===null?(t.next=t,gh(r)):(t.next=i.next,i.next=t),r.interleaved=t,pr(e,n)}function _l(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nh(e,n)}}function Np(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rc(e,t,n,r){var i=e.updateQueue;jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,u=d=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(h=t,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Xe({},f,h);break e;case 2:jr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);_i|=o,e.lanes=o,e.memoizedState=f}}function jp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var go={},qn=Zr(go),$a=Zr(go),Wa=Zr(go);function gi(e){if(e===go)throw Error(B(174));return e}function vh(e,t){switch(Be(Wa,t),Be($a,e),Be(qn,go),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Au(t,e)}Ue(qn),Be(qn,t)}function Ns(){Ue(qn),Ue($a),Ue(Wa)}function Rv(e){gi(Wa.current);var t=gi(qn.current),n=Au(t,e.type);t!==n&&(Be($a,e),Be(qn,n))}function yh(e){$a.current===e&&(Ue(qn),Ue($a))}var Ke=Zr(0);function ic(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $d=[];function bh(){for(var e=0;e<$d.length;e++)$d[e]._workInProgressVersionPrimary=null;$d.length=0}var El=vr.ReactCurrentDispatcher,Wd=vr.ReactCurrentBatchConfig,Pi=0,Qe=null,ot=null,dt=null,sc=!1,ba=!1,Ha=0,cN=0;function Ct(){throw Error(B(321))}function wh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mn(e[n],t[n]))return!1;return!0}function Sh(e,t,n,r,i,s){if(Pi=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,El.current=e===null||e.memoizedState===null?hN:mN,e=n(r,i),ba){s=0;do{if(ba=!1,Ha=0,25<=s)throw Error(B(301));s+=1,dt=ot=null,t.updateQueue=null,El.current=pN,e=n(r,i)}while(ba)}if(El.current=ac,t=ot!==null&&ot.next!==null,Pi=0,dt=ot=Qe=null,sc=!1,t)throw Error(B(300));return e}function Nh(){var e=Ha!==0;return Ha=0,e}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Qe.memoizedState=dt=e:dt=dt.next=e,dt}function bn(){if(ot===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=dt===null?Qe.memoizedState:dt.next;if(t!==null)dt=t,ot=e;else{if(e===null)throw Error(B(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?Qe.memoizedState=dt=e:dt=dt.next=e}return dt}function Ua(e,t){return typeof t=="function"?t(e):t}function Hd(e){var t=bn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((Pi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Qe.lanes|=u,_i|=u}d=d.next}while(d!==null&&d!==s);c===null?o=r:c.next=l,Mn(r,t.memoizedState)||($t=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Qe.lanes|=s,_i|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ud(e){var t=bn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Mn(s,t.memoizedState)||($t=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Mv(){}function Tv(e,t){var n=Qe,r=bn(),i=t(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,$t=!0),r=r.queue,jh(Lv.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Ya(9,Ov.bind(null,n,r,i,t),void 0,null),ft===null)throw Error(B(349));Pi&30||Av(n,t,i)}return i}function Av(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ov(e,t,n,r){t.value=n,t.getSnapshot=r,Fv(t)&&zv(e)}function Lv(e,t,n){return n(function(){Fv(t)&&zv(e)})}function Fv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mn(e,n)}catch{return!0}}function zv(e){var t=pr(e,1);t!==null&&Dn(t,e,1,-1)}function Cp(e){var t=Hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:e},t.queue=e,e=e.dispatch=fN.bind(null,Qe,e),[t.memoizedState,e]}function Ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vv(){return bn().memoizedState}function Dl(e,t,n,r){var i=Hn();Qe.flags|=e,i.memoizedState=Ya(1|t,n,void 0,r===void 0?null:r)}function Oc(e,t,n,r){var i=bn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&wh(r,o.deps)){i.memoizedState=Ya(t,n,s,r);return}}Qe.flags|=e,i.memoizedState=Ya(1|t,n,s,r)}function kp(e,t){return Dl(8390656,8,e,t)}function jh(e,t){return Oc(2048,8,e,t)}function Bv(e,t){return Oc(4,2,e,t)}function $v(e,t){return Oc(4,4,e,t)}function Wv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hv(e,t,n){return n=n!=null?n.concat([e]):null,Oc(4,4,Wv.bind(null,t,e),n)}function Ch(){}function Uv(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yv(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gv(e,t,n){return Pi&21?(Mn(n,t)||(n=X0(),Qe.lanes|=n,_i|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=n)}function dN(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=Wd.transition;Wd.transition={};try{e(!1),t()}finally{Te=n,Wd.transition=r}}function qv(){return bn().memoizedState}function uN(e,t,n){var r=Vr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jv(e))Kv(t,n);else if(n=Ev(e,t,n,r),n!==null){var i=At();Dn(n,e,r,i),Qv(n,t,r)}}function fN(e,t,n){var r=Vr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jv(e))Kv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Mn(l,o)){var c=t.interleaved;c===null?(i.next=i,gh(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Ev(e,t,i,r),n!==null&&(i=At(),Dn(n,e,r,i),Qv(n,t,r))}}function Jv(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function Kv(e,t){ba=sc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nh(e,n)}}var ac={readContext:yn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},hN={readContext:yn,useCallback:function(e,t){return Hn().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:kp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dl(4194308,4,Wv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var n=Hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uN.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=Hn();return e={current:e},t.memoizedState=e},useState:Cp,useDebugValue:Ch,useDeferredValue:function(e){return Hn().memoizedState=e},useTransition:function(){var e=Cp(!1),t=e[0];return e=dN.bind(null,e[1]),Hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,i=Hn();if(Ye){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),ft===null)throw Error(B(349));Pi&30||Av(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,kp(Lv.bind(null,r,s,e),[e]),r.flags|=2048,Ya(9,Ov.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Hn(),t=ft.identifierPrefix;if(Ye){var n=lr,r=or;n=(r&~(1<<32-En(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ha++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mN={readContext:yn,useCallback:Uv,useContext:yn,useEffect:jh,useImperativeHandle:Hv,useInsertionEffect:Bv,useLayoutEffect:$v,useMemo:Yv,useReducer:Hd,useRef:Vv,useState:function(){return Hd(Ua)},useDebugValue:Ch,useDeferredValue:function(e){var t=bn();return Gv(t,ot.memoizedState,e)},useTransition:function(){var e=Hd(Ua)[0],t=bn().memoizedState;return[e,t]},useMutableSource:Mv,useSyncExternalStore:Tv,useId:qv,unstable_isNewReconciler:!1},pN={readContext:yn,useCallback:Uv,useContext:yn,useEffect:jh,useImperativeHandle:Hv,useInsertionEffect:Bv,useLayoutEffect:$v,useMemo:Yv,useReducer:Ud,useRef:Vv,useState:function(){return Ud(Ua)},useDebugValue:Ch,useDeferredValue:function(e){var t=bn();return ot===null?t.memoizedState=e:Gv(t,ot.memoizedState,e)},useTransition:function(){var e=Ud(Ua)[0],t=bn().memoizedState;return[e,t]},useMutableSource:Mv,useSyncExternalStore:Tv,useId:qv,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lc={isMounted:function(e){return(e=e._reactInternals)?Fi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=At(),i=Vr(e),s=ur(r,i);s.payload=t,n!=null&&(s.callback=n),t=Fr(e,s,i),t!==null&&(Dn(t,e,i,r),_l(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=At(),i=Vr(e),s=ur(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Fr(e,s,i),t!==null&&(Dn(t,e,i,r),_l(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=At(),r=Vr(e),i=ur(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fr(e,i,r),t!==null&&(Dn(t,e,r,n),_l(t,e,r))}};function Ip(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Fa(n,r)||!Fa(i,s):!0}function Xv(e,t,n){var r=!1,i=qr,s=t.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=Ht(t)?ki:_t.current,r=t.contextTypes,s=(r=r!=null)?bs(e,i):qr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Pp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lc.enqueueReplaceState(t,t.state,null)}function rf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},xh(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=Ht(t)?ki:_t.current,i.context=bs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(nf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Lc.enqueueReplaceState(i,i.state,null),rc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t){try{var n="",r=t;do n+=W1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Yd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gN=typeof WeakMap=="function"?WeakMap:Map;function Zv(e,t,n){n=ur(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lc||(lc=!0,pf=r),sf(e,t)},n}function ey(e,t,n){n=ur(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sf(e,t),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function _p(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=EN.bind(null,e,t,n),t.then(e,e))}function Ep(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ur(-1,1),t.tag=2,Fr(n,t,1))),n.lanes|=1),e)}var xN=vr.ReactCurrentOwner,$t=!1;function Tt(e,t,n,r){t.child=e===null?_v(t,null,n,r):Ss(t,e.child,n,r)}function Rp(e,t,n,r,i){n=n.render;var s=t.ref;return us(t,i),r=Sh(e,t,n,r,s,i),n=Nh(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gr(e,t,i)):(Ye&&n&&dh(t),t.flags|=1,Tt(e,t,r,i),t.child)}function Mp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Mh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ty(e,t,s,r,i)):(e=Al(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,r)&&e.ref===t.ref)return gr(e,t,i)}return t.flags|=1,e=Br(s,r),e.ref=t.ref,e.return=t,t.child=e}function ty(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Fa(s,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,gr(e,t,i)}return af(e,t,n,r,i)}function ny(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(is,qt),qt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(is,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(is,qt),qt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Be(is,qt),qt|=r;return Tt(e,t,i,n),t.child}function ry(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function af(e,t,n,r,i){var s=Ht(n)?ki:_t.current;return s=bs(t,s),us(t,i),n=Sh(e,t,n,r,s,i),r=Nh(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gr(e,t,i)):(Ye&&r&&dh(t),t.flags|=1,Tt(e,t,n,i),t.child)}function Tp(e,t,n,r,i){if(Ht(n)){var s=!0;Xl(t)}else s=!1;if(us(t,i),t.stateNode===null)Rl(e,t),Xv(t,n,r),rf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=yn(d):(d=Ht(n)?ki:_t.current,d=bs(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Pp(t,o,r,d),jr=!1;var h=t.memoizedState;o.state=h,rc(t,r,o,i),c=t.memoizedState,l!==r||h!==c||Wt.current||jr?(typeof u=="function"&&(nf(t,n,u,r),c=t.memoizedState),(l=jr||Ip(t,n,l,r,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Dv(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:jn(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=yn(c):(c=Ht(n)?ki:_t.current,c=bs(t,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Pp(t,o,r,c),jr=!1,h=t.memoizedState,o.state=h,rc(t,r,o,i);var g=t.memoizedState;l!==f||h!==g||Wt.current||jr?(typeof m=="function"&&(nf(t,n,m,r),g=t.memoizedState),(d=jr||Ip(t,n,d,r,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return of(e,t,n,r,s,i)}function of(e,t,n,r,i,s){ry(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&yp(t,n,!1),gr(e,t,s);r=t.stateNode,xN.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ss(t,e.child,null,s),t.child=Ss(t,null,l,s)):Tt(e,t,l,s),t.memoizedState=r.state,i&&yp(t,n,!0),t.child}function iy(e){var t=e.stateNode;t.pendingContext?vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vp(e,t.context,!1),vh(e,t.containerInfo)}function Ap(e,t,n,r,i){return ws(),fh(i),t.flags|=256,Tt(e,t,n,r),t.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function cf(e){return{baseLanes:e,cachePool:null,transitions:null}}function sy(e,t,n){var r=t.pendingProps,i=Ke.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Be(Ke,i&1),e===null)return ef(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vc(o,r,0,null),e=yi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cf(n),t.memoizedState=lf,e):kh(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return vN(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Br(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Br(l,s):(s=yi(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?cf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=lf,r}return s=e.child,e=s.sibling,r=Br(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kh(e,t){return t=Vc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xo(e,t,n,r){return r!==null&&fh(r),Ss(t,e.child,null,n),e=kh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vN(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Yd(Error(B(422))),Xo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Vc({mode:"visible",children:r.children},i,0,null),s=yi(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ss(t,e.child,null,o),t.child.memoizedState=cf(o),t.memoizedState=lf,s);if(!(t.mode&1))return Xo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(B(419)),r=Yd(s,r,void 0),Xo(e,t,o,r)}if(l=(o&e.childLanes)!==0,$t||l){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pr(e,i),Dn(r,e,i,-1))}return Rh(),r=Yd(Error(B(421))),Xo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=DN.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Kt=Lr(i.nextSibling),en=t,Ye=!0,kn=null,e!==null&&(fn[hn++]=or,fn[hn++]=lr,fn[hn++]=Ii,or=e.id,lr=e.overflow,Ii=t),t=kh(t,r.children),t.flags|=4096,t)}function Op(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tf(e.return,t,n)}function Gd(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ay(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Tt(e,t,r.children,n),r=Ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Op(e,n,t);else if(e.tag===19)Op(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Be(Ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ic(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gd(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ic(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gd(t,!0,n,null,s);break;case"together":Gd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_i|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yN(e,t,n){switch(t.tag){case 3:iy(t),ws();break;case 5:Rv(t);break;case 1:Ht(t.type)&&Xl(t);break;case 4:vh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Be(tc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ke,Ke.current&1),t.flags|=128,null):n&t.child.childLanes?sy(e,t,n):(Be(Ke,Ke.current&1),e=gr(e,t,n),e!==null?e.sibling:null);Be(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ay(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ke,Ke.current),r)break;return null;case 22:case 23:return t.lanes=0,ny(e,t,n)}return gr(e,t,n)}var oy,df,ly,cy;oy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};df=function(){};ly=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gi(qn.current);var s=null;switch(n){case"input":i=Du(e,i),r=Du(e,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=Tu(e,i),r=Tu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kl)}Ou(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Da.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Da.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&He("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};cy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xs(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bN(e,t,n){var r=t.pendingProps;switch(uh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Ht(t.type)&&Ql(),kt(t),null;case 3:return r=t.stateNode,Ns(),Ue(Wt),Ue(_t),bh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ko(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kn!==null&&(vf(kn),kn=null))),df(e,t),kt(t),null;case 5:yh(t);var i=gi(Wa.current);if(n=t.type,e!==null&&t.stateNode!=null)ly(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return kt(t),null}if(e=gi(qn.current),Ko(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yn]=t,r[Ba]=s,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<ua.length;i++)He(ua[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Um(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":Gm(r,s),He("invalid",r)}Ou(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Jo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Jo(r.textContent,l,e),i=["children",""+l]):Da.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Bo(r),Ym(r,s,!0);break;case"textarea":Bo(r),qm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Yn]=t,e[Ba]=r,oy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lu(n,r),n){case"dialog":He("cancel",e),He("close",e),i=r;break;case"iframe":case"object":case"embed":He("load",e),i=r;break;case"video":case"audio":for(i=0;i<ua.length;i++)He(ua[i],e);i=r;break;case"source":He("error",e),i=r;break;case"img":case"image":case"link":He("error",e),He("load",e),i=r;break;case"details":He("toggle",e),i=r;break;case"input":Um(e,r),i=Du(e,r),He("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),He("invalid",e);break;case"textarea":Gm(e,r),i=Tu(e,r),He("invalid",e);break;default:i=r}Ou(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?V0(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&F0(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ra(e,c):typeof c=="number"&&Ra(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Da.hasOwnProperty(s)?c!=null&&s==="onScroll"&&He("scroll",e):c!=null&&Kf(e,s,c,o))}switch(n){case"input":Bo(e),Ym(e,r,!1);break;case"textarea":Bo(e),qm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?os(e,!!r.multiple,s,!1):r.defaultValue!=null&&os(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)cy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=gi(Wa.current),gi(qn.current),Ko(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yn]=t,(s=r.nodeValue!==n)&&(e=en,e!==null))switch(e.tag){case 3:Jo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=t,t.stateNode=r}return kt(t),null;case 13:if(Ue(Ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&Kt!==null&&t.mode&1&&!(t.flags&128))Iv(),ws(),t.flags|=98560,s=!1;else if(s=Ko(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(B(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Yn]=t}else ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),s=!1}else kn!==null&&(vf(kn),kn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?lt===0&&(lt=3):Rh())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return Ns(),df(e,t),e===null&&za(t.stateNode.containerInfo),kt(t),null;case 10:return ph(t.type._context),kt(t),null;case 17:return Ht(t.type)&&Ql(),kt(t),null;case 19:if(Ue(Ke),s=t.memoizedState,s===null)return kt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Xs(s,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ic(e),o!==null){for(t.flags|=128,Xs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Be(Ke,Ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Cs&&(t.flags|=128,r=!0,Xs(s,!1),t.lanes=4194304)}else{if(!r)if(e=ic(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return kt(t),null}else 2*nt()-s.renderingStartTime>Cs&&n!==1073741824&&(t.flags|=128,r=!0,Xs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,n=Ke.current,Be(Ke,r?n&1|2:n&1),t):(kt(t),null);case 22:case 23:return Dh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function wN(e,t){switch(uh(t),t.tag){case 1:return Ht(t.type)&&Ql(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),Ue(Wt),Ue(_t),bh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yh(t),null;case 13:if(Ue(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Ke),null;case 4:return Ns(),null;case 10:return ph(t.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var Zo=!1,Pt=!1,SN=typeof WeakSet=="function"?WeakSet:Set,G=null;function rs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function uf(e,t,n){try{n()}catch(r){et(e,t,r)}}var Lp=!1;function NN(e,t){if(Gu=Gl,e=mv(),ch(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++d===i&&(l=o),h===s&&++u===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qu={focusedElem:e,selectionRange:n},Gl=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:jn(t.type,x),y);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(j){et(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return g=Lp,Lp=!1,g}function wa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&uf(t,n,s)}i=i.next}while(i!==r)}}function Fc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ff(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dy(e){var t=e.alternate;t!==null&&(e.alternate=null,dy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[Ba],delete t[Qu],delete t[sN],delete t[aN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uy(e){return e.tag===5||e.tag===3||e.tag===4}function Fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kl));else if(r!==4&&(e=e.child,e!==null))for(hf(e,t,n),e=e.sibling;e!==null;)hf(e,t,n),e=e.sibling}function mf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mf(e,t,n),e=e.sibling;e!==null;)mf(e,t,n),e=e.sibling}var vt=null,Cn=!1;function wr(e,t,n){for(n=n.child;n!==null;)fy(e,t,n),n=n.sibling}function fy(e,t,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Ec,n)}catch{}switch(n.tag){case 5:Pt||rs(n,t);case 6:var r=vt,i=Cn;vt=null,wr(e,t,n),vt=r,Cn=i,vt!==null&&(Cn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Cn?(e=vt,n=n.stateNode,e.nodeType===8?Vd(e.parentNode,n):e.nodeType===1&&Vd(e,n),Oa(e)):Vd(vt,n.stateNode));break;case 4:r=vt,i=Cn,vt=n.stateNode.containerInfo,Cn=!0,wr(e,t,n),vt=r,Cn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uf(n,t,o),i=i.next}while(i!==r)}wr(e,t,n);break;case 1:if(!Pt&&(rs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){et(n,t,l)}wr(e,t,n);break;case 21:wr(e,t,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,wr(e,t,n),Pt=r):wr(e,t,n);break;default:wr(e,t,n)}}function zp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SN),t.forEach(function(r){var i=RN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,Cn=!1;break e;case 3:vt=l.stateNode.containerInfo,Cn=!0;break e;case 4:vt=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(vt===null)throw Error(B(160));fy(s,o,i),vt=null,Cn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){et(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hy(t,e),t=t.sibling}function hy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),Vn(e),r&4){try{wa(3,e,e.return),Fc(3,e)}catch(x){et(e,e.return,x)}try{wa(5,e,e.return)}catch(x){et(e,e.return,x)}}break;case 1:Nn(t,e),Vn(e),r&512&&n!==null&&rs(n,n.return);break;case 5:if(Nn(t,e),Vn(e),r&512&&n!==null&&rs(n,n.return),e.flags&32){var i=e.stateNode;try{Ra(i,"")}catch(x){et(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&A0(i,s),Lu(l,o);var d=Lu(l,s);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?V0(i,f):u==="dangerouslySetInnerHTML"?F0(i,f):u==="children"?Ra(i,f):Kf(i,u,f,d)}switch(l){case"input":Ru(i,s);break;case"textarea":O0(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?os(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?os(i,!!s.multiple,s.defaultValue,!0):os(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ba]=s}catch(x){et(e,e.return,x)}}break;case 6:if(Nn(t,e),Vn(e),r&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){et(e,e.return,x)}}break;case 3:if(Nn(t,e),Vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oa(t.containerInfo)}catch(x){et(e,e.return,x)}break;case 4:Nn(t,e),Vn(e);break;case 13:Nn(t,e),Vn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_h=nt())),r&4&&zp(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Pt=(d=Pt)||u,Nn(t,e),Pt=d):Nn(t,e),Vn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(f=G=u;G!==null;){switch(h=G,m=h.child,h.tag){case 0:case 11:case 14:case 15:wa(4,h,h.return);break;case 1:rs(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){et(r,n,x)}}break;case 5:rs(h,h.return);break;case 22:if(h.memoizedState!==null){Bp(f);continue}}m!==null?(m.return=h,G=m):Bp(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=z0("display",o))}catch(x){et(e,e.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){et(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(t,e),Vn(e),r&4&&zp(e);break;case 21:break;default:Nn(t,e),Vn(e)}}function Vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uy(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ra(i,""),r.flags&=-33);var s=Fp(e);mf(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Fp(e);hf(e,l,o);break;default:throw Error(B(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jN(e,t,n){G=e,my(e)}function my(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zo;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=Zo;var d=Pt;if(Zo=o,(Pt=c)&&!d)for(G=i;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?$p(i):c!==null?(c.return=o,G=c):$p(i);for(;s!==null;)G=s,my(s),s=s.sibling;G=i,Zo=l,Pt=d}Vp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):Vp(e)}}function Vp(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||Fc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:jn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&jp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Oa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Pt||t.flags&512&&ff(t)}catch(h){et(t,t.return,h)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Bp(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function $p(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fc(4,t)}catch(c){et(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){et(t,i,c)}}var s=t.return;try{ff(t)}catch(c){et(t,s,c)}break;case 5:var o=t.return;try{ff(t)}catch(c){et(t,o,c)}}}catch(c){et(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var CN=Math.ceil,oc=vr.ReactCurrentDispatcher,Ih=vr.ReactCurrentOwner,xn=vr.ReactCurrentBatchConfig,_e=0,ft=null,rt=null,wt=0,qt=0,is=Zr(0),lt=0,Ga=null,_i=0,zc=0,Ph=0,Sa=null,Vt=null,_h=0,Cs=1/0,ir=null,lc=!1,pf=null,zr=null,el=!1,Pr=null,cc=0,Na=0,gf=null,Ml=-1,Tl=0;function At(){return _e&6?nt():Ml!==-1?Ml:Ml=nt()}function Vr(e){return e.mode&1?_e&2&&wt!==0?wt&-wt:lN.transition!==null?(Tl===0&&(Tl=X0()),Tl):(e=Te,e!==0||(e=window.event,e=e===void 0?16:sv(e.type)),e):1}function Dn(e,t,n,r){if(50<Na)throw Na=0,gf=null,Error(B(185));ho(e,n,r),(!(_e&2)||e!==ft)&&(e===ft&&(!(_e&2)&&(zc|=n),lt===4&&kr(e,wt)),Ut(e,r),n===1&&_e===0&&!(t.mode&1)&&(Cs=nt()+500,Ac&&ei()))}function Ut(e,t){var n=e.callbackNode;lS(e,t);var r=Yl(e,e===ft?wt:0);if(r===0)n!==null&&Qm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qm(n),t===1)e.tag===0?oN(Wp.bind(null,e)):jv(Wp.bind(null,e)),rN(function(){!(_e&6)&&ei()}),n=null;else{switch(Z0(r)){case 1:n=th;break;case 4:n=K0;break;case 16:n=Ul;break;case 536870912:n=Q0;break;default:n=Ul}n=Sy(n,py.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function py(e,t){if(Ml=-1,Tl=0,_e&6)throw Error(B(327));var n=e.callbackNode;if(fs()&&e.callbackNode!==n)return null;var r=Yl(e,e===ft?wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=dc(e,r);else{t=r;var i=_e;_e|=2;var s=xy();(ft!==e||wt!==t)&&(ir=null,Cs=nt()+500,vi(e,t));do try{PN();break}catch(l){gy(e,l)}while(!0);mh(),oc.current=s,_e=i,rt!==null?t=0:(ft=null,wt=0,t=lt)}if(t!==0){if(t===2&&(i=$u(e),i!==0&&(r=i,t=xf(e,i))),t===1)throw n=Ga,vi(e,0),kr(e,r),Ut(e,nt()),n;if(t===6)kr(e,r);else{if(i=e.current.alternate,!(r&30)&&!kN(i)&&(t=dc(e,r),t===2&&(s=$u(e),s!==0&&(r=s,t=xf(e,s))),t===1))throw n=Ga,vi(e,0),kr(e,r),Ut(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:ci(e,Vt,ir);break;case 3:if(kr(e,r),(r&130023424)===r&&(t=_h+500-nt(),10<t)){if(Yl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){At(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ku(ci.bind(null,e,Vt,ir),t);break}ci(e,Vt,ir);break;case 4:if(kr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-En(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CN(r/1960))-r,10<r){e.timeoutHandle=Ku(ci.bind(null,e,Vt,ir),r);break}ci(e,Vt,ir);break;case 5:ci(e,Vt,ir);break;default:throw Error(B(329))}}}return Ut(e,nt()),e.callbackNode===n?py.bind(null,e):null}function xf(e,t){var n=Sa;return e.current.memoizedState.isDehydrated&&(vi(e,t).flags|=256),e=dc(e,t),e!==2&&(t=Vt,Vt=n,t!==null&&vf(t)),e}function vf(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function kN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t){for(t&=~Ph,t&=~zc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-En(t),r=1<<n;e[n]=-1,t&=~r}}function Wp(e){if(_e&6)throw Error(B(327));fs();var t=Yl(e,0);if(!(t&1))return Ut(e,nt()),null;var n=dc(e,t);if(e.tag!==0&&n===2){var r=$u(e);r!==0&&(t=r,n=xf(e,r))}if(n===1)throw n=Ga,vi(e,0),kr(e,t),Ut(e,nt()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ci(e,Vt,ir),Ut(e,nt()),null}function Eh(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(Cs=nt()+500,Ac&&ei())}}function Ei(e){Pr!==null&&Pr.tag===0&&!(_e&6)&&fs();var t=_e;_e|=1;var n=xn.transition,r=Te;try{if(xn.transition=null,Te=1,e)return e()}finally{Te=r,xn.transition=n,_e=t,!(_e&6)&&ei()}}function Dh(){qt=is.current,Ue(is)}function vi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nN(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(uh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ql();break;case 3:Ns(),Ue(Wt),Ue(_t),bh();break;case 5:yh(r);break;case 4:Ns();break;case 13:Ue(Ke);break;case 19:Ue(Ke);break;case 10:ph(r.type._context);break;case 22:case 23:Dh()}n=n.return}if(ft=e,rt=e=Br(e.current,null),wt=qt=t,lt=0,Ga=null,Ph=zc=_i=0,Vt=Sa=null,pi!==null){for(t=0;t<pi.length;t++)if(n=pi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}pi=null}return e}function gy(e,t){do{var n=rt;try{if(mh(),El.current=ac,sc){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sc=!1}if(Pi=0,dt=ot=Qe=null,ba=!1,Ha=0,Ih.current=null,n===null||n.return===null){lt=1,Ga=t,rt=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Ep(o);if(m!==null){m.flags&=-257,Dp(m,o,l,s,t),m.mode&1&&_p(s,d,t),t=m,c=d;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){_p(s,d,t),Rh();break e}c=Error(B(426))}}else if(Ye&&l.mode&1){var y=Ep(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Dp(y,o,l,s,t),fh(js(c,l));break e}}s=c=js(c,l),lt!==4&&(lt=2),Sa===null?Sa=[s]:Sa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Zv(s,c,t);Np(s,p);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zr===null||!zr.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=ey(s,l,t);Np(s,j);break e}}s=s.return}while(s!==null)}yy(n)}catch(w){t=w,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function xy(){var e=oc.current;return oc.current=ac,e===null?ac:e}function Rh(){(lt===0||lt===3||lt===2)&&(lt=4),ft===null||!(_i&268435455)&&!(zc&268435455)||kr(ft,wt)}function dc(e,t){var n=_e;_e|=2;var r=xy();(ft!==e||wt!==t)&&(ir=null,vi(e,t));do try{IN();break}catch(i){gy(e,i)}while(!0);if(mh(),_e=n,oc.current=r,rt!==null)throw Error(B(261));return ft=null,wt=0,lt}function IN(){for(;rt!==null;)vy(rt)}function PN(){for(;rt!==null&&!Z1();)vy(rt)}function vy(e){var t=wy(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?yy(e):rt=t,Ih.current=null}function yy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wN(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,rt=null;return}}else if(n=bN(n,t,qt),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);lt===0&&(lt=5)}function ci(e,t,n){var r=Te,i=xn.transition;try{xn.transition=null,Te=1,_N(e,t,n,r)}finally{xn.transition=i,Te=r}return null}function _N(e,t,n,r){do fs();while(Pr!==null);if(_e&6)throw Error(B(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(cS(e,s),e===ft&&(rt=ft=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,Sy(Ul,function(){return fs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=Te;Te=1;var l=_e;_e|=4,Ih.current=null,NN(e,n),hy(n,e),JS(qu),Gl=!!Gu,qu=Gu=null,e.current=n,jN(n),eS(),_e=l,Te=o,xn.transition=s}else e.current=n;if(el&&(el=!1,Pr=e,cc=i),s=e.pendingLanes,s===0&&(zr=null),rS(n.stateNode),Ut(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lc)throw lc=!1,e=pf,pf=null,e;return cc&1&&e.tag!==0&&fs(),s=e.pendingLanes,s&1?e===gf?Na++:(Na=0,gf=e):Na=0,ei(),null}function fs(){if(Pr!==null){var e=Z0(cc),t=xn.transition,n=Te;try{if(xn.transition=null,Te=16>e?16:e,Pr===null)var r=!1;else{if(e=Pr,Pr=null,cc=0,_e&6)throw Error(B(331));var i=_e;for(_e|=4,G=e.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(G=d;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:wa(8,u,s)}var f=u.child;if(f!==null)f.return=u,G=f;else for(;G!==null;){u=G;var h=u.sibling,m=u.return;if(dy(u),u===d){G=null;break}if(h!==null){h.return=m,G=h;break}G=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wa(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,G=p;break e}G=s.return}}var v=e.current;for(G=v;G!==null;){o=G;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,G=b;else e:for(o=v;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fc(9,l)}}catch(w){et(l,l.return,w)}if(l===o){G=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,G=j;break e}G=l.return}}if(_e=i,ei(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Ec,e)}catch{}r=!0}return r}finally{Te=n,xn.transition=t}}return!1}function Hp(e,t,n){t=js(n,t),t=Zv(e,t,1),e=Fr(e,t,1),t=At(),e!==null&&(ho(e,1,t),Ut(e,t))}function et(e,t,n){if(e.tag===3)Hp(e,e,n);else for(;t!==null;){if(t.tag===3){Hp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){e=js(n,e),e=ey(t,e,1),t=Fr(t,e,1),e=At(),t!==null&&(ho(t,1,e),Ut(t,e));break}}t=t.return}}function EN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(wt&n)===n&&(lt===4||lt===3&&(wt&130023424)===wt&&500>nt()-_h?vi(e,0):Ph|=n),Ut(e,t)}function by(e,t){t===0&&(e.mode&1?(t=Ho,Ho<<=1,!(Ho&130023424)&&(Ho=4194304)):t=1);var n=At();e=pr(e,t),e!==null&&(ho(e,t,n),Ut(e,n))}function DN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),by(e,n)}function RN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),by(e,n)}var wy;wy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)$t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $t=!1,yN(e,t,n);$t=!!(e.flags&131072)}else $t=!1,Ye&&t.flags&1048576&&Cv(t,ec,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rl(e,t),e=t.pendingProps;var i=bs(t,_t.current);us(t,n),i=Sh(null,t,r,e,i,n);var s=Nh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(r)?(s=!0,Xl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xh(t),i.updater=Lc,t.stateNode=i,i._reactInternals=t,rf(t,r,e,n),t=of(null,t,r,!0,s,n)):(t.tag=0,Ye&&s&&dh(t),Tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=TN(r),e=jn(r,e),i){case 0:t=af(null,t,r,e,n);break e;case 1:t=Tp(null,t,r,e,n);break e;case 11:t=Rp(null,t,r,e,n);break e;case 14:t=Mp(null,t,r,jn(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jn(r,i),af(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jn(r,i),Tp(e,t,r,i,n);case 3:e:{if(iy(t),e===null)throw Error(B(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Dv(e,t),rc(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=js(Error(B(423)),t),t=Ap(e,t,r,n,i);break e}else if(r!==i){i=js(Error(B(424)),t),t=Ap(e,t,r,n,i);break e}else for(Kt=Lr(t.stateNode.containerInfo.firstChild),en=t,Ye=!0,kn=null,n=_v(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===i){t=gr(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return Rv(t),e===null&&ef(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ju(r,i)?o=null:s!==null&&Ju(r,s)&&(t.flags|=32),ry(e,t),Tt(e,t,o,n),t.child;case 6:return e===null&&ef(t),null;case 13:return sy(e,t,n);case 4:return vh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ss(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jn(r,i),Rp(e,t,r,i,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Be(tc,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!Wt.current){t=gr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ur(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),tf(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,us(t,n),i=yn(i),r=r(i),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,i=jn(r,t.pendingProps),i=jn(r.type,i),Mp(e,t,r,i,n);case 15:return ty(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jn(r,i),Rl(e,t),t.tag=1,Ht(r)?(e=!0,Xl(t)):e=!1,us(t,n),Xv(t,r,i),rf(t,r,i,n),of(null,t,r,!0,e,n);case 19:return ay(e,t,n);case 22:return ny(e,t,n)}throw Error(B(156,t.tag))};function Sy(e,t){return J0(e,t)}function MN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,n,r){return new MN(e,t,n,r)}function Mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TN(e){if(typeof e=="function")return Mh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xf)return 11;if(e===Zf)return 14}return 2}function Br(e,t){var n=e.alternate;return n===null?(n=mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Al(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Mh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qi:return yi(n.children,i,s,t);case Qf:o=8,i|=8;break;case Iu:return e=mn(12,n,t,i|2),e.elementType=Iu,e.lanes=s,e;case Pu:return e=mn(13,n,t,i),e.elementType=Pu,e.lanes=s,e;case _u:return e=mn(19,n,t,i),e.elementType=_u,e.lanes=s,e;case R0:return Vc(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E0:o=10;break e;case D0:o=9;break e;case Xf:o=11;break e;case Zf:o=14;break e;case Nr:o=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=mn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function yi(e,t,n,r){return e=mn(7,e,r,t),e.lanes=n,e}function Vc(e,t,n,r){return e=mn(22,e,r,t),e.elementType=R0,e.lanes=n,e.stateNode={isHidden:!1},e}function qd(e,t,n){return e=mn(6,e,null,t),e.lanes=n,e}function Jd(e,t,n){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function AN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_d(0),this.expirationTimes=_d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_d(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Th(e,t,n,r,i,s,o,l,c){return e=new AN(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(s),e}function ON(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ny(e){if(!e)return qr;e=e._reactInternals;e:{if(Fi(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ht(n))return Nv(e,n,t)}return t}function jy(e,t,n,r,i,s,o,l,c){return e=Th(n,r,!0,e,i,s,o,l,c),e.context=Ny(null),n=e.current,r=At(),i=Vr(n),s=ur(r,i),s.callback=t??null,Fr(n,s,i),e.current.lanes=i,ho(e,i,r),Ut(e,r),e}function Bc(e,t,n,r){var i=t.current,s=At(),o=Vr(i);return n=Ny(n),t.context===null?t.context=n:t.pendingContext=n,t=ur(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fr(i,t,o),e!==null&&(Dn(e,i,o,s),_l(e,i,o)),o}function uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ah(e,t){Up(e,t),(e=e.alternate)&&Up(e,t)}function LN(){return null}var Cy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oh(e){this._internalRoot=e}$c.prototype.render=Oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Bc(e,t,null,null)};$c.prototype.unmount=Oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ei(function(){Bc(null,e,null,null)}),t[mr]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=nv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cr.length&&t!==0&&t<Cr[n].priority;n++);Cr.splice(n,0,e),n===0&&iv(e)}};function Lh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function FN(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=uc(o);s.call(d)}}var o=jy(t,r,e,0,null,!1,!1,"",Yp);return e._reactRootContainer=o,e[mr]=o.current,za(e.nodeType===8?e.parentNode:e),Ei(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=uc(c);l.call(d)}}var c=Th(e,0,!1,null,null,!1,!1,"",Yp);return e._reactRootContainer=c,e[mr]=c.current,za(e.nodeType===8?e.parentNode:e),Ei(function(){Bc(t,c,n,r)}),c}function Hc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=uc(o);l.call(c)}}Bc(t,o,e,i)}else o=FN(n,t,e,i,r);return uc(o)}ev=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=da(t.pendingLanes);n!==0&&(nh(t,n|1),Ut(t,nt()),!(_e&6)&&(Cs=nt()+500,ei()))}break;case 13:Ei(function(){var r=pr(e,1);if(r!==null){var i=At();Dn(r,e,1,i)}}),Ah(e,1)}};rh=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var n=At();Dn(t,e,134217728,n)}Ah(e,134217728)}};tv=function(e){if(e.tag===13){var t=Vr(e),n=pr(e,t);if(n!==null){var r=At();Dn(n,e,t,r)}Ah(e,t)}};nv=function(){return Te};rv=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};zu=function(e,t,n){switch(t){case"input":if(Ru(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Tc(r);if(!i)throw Error(B(90));T0(r),Ru(r,i)}}}break;case"textarea":O0(e,n);break;case"select":t=n.value,t!=null&&os(e,!!n.multiple,t,!1)}};W0=Eh;H0=Ei;var zN={usingClientEntryPoint:!1,Events:[po,Xi,Tc,B0,$0,Eh]},Zs={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VN={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=G0(e),e===null?null:e.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||LN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Ec=tl.inject(VN),Gn=tl}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zN;an.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lh(t))throw Error(B(200));return ON(e,t,null,n)};an.createRoot=function(e,t){if(!Lh(e))throw Error(B(299));var n=!1,r="",i=Cy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Th(e,1,!1,null,null,n,!1,r,i),e[mr]=t.current,za(e.nodeType===8?e.parentNode:e),new Oh(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=G0(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return Ei(e)};an.hydrate=function(e,t,n){if(!Wc(t))throw Error(B(200));return Hc(null,e,t,!0,n)};an.hydrateRoot=function(e,t,n){if(!Lh(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Cy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=jy(t,null,e,1,n??null,i,!1,s,o),e[mr]=t.current,za(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)};an.render=function(e,t,n){if(!Wc(t))throw Error(B(200));return Hc(null,e,t,!1,n)};an.unmountComponentAtNode=function(e){if(!Wc(e))throw Error(B(40));return e._reactRootContainer?(Ei(function(){Hc(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0):!1};an.unstable_batchedUpdates=Eh;an.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wc(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Hc(e,t,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function ky(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ky)}catch(e){console.error(e)}}ky(),k0.exports=an;var Fh=k0.exports;const BN=Wf(Fh);var Iy,Gp=Fh;Iy=Gp.createRoot,Gp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qa.apply(this,arguments)}var _r;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_r||(_r={}));const qp="popstate";function $N(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return yf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_y(i)}return HN(t,n,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Py(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WN(){return Math.random().toString(36).substr(2,8)}function Jp(e,t){return{usr:e.state,key:e.key,idx:t}}function yf(e,t,n,r){return n===void 0&&(n=null),qa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ls(t):t,{state:n,key:t&&t.key||r||WN()})}function _y(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function HN(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=_r.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(qa({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=_r.Pop;let y=u(),p=y==null?null:y-d;d=y,c&&c({action:l,location:x.location,delta:p})}function h(y,p){l=_r.Push;let v=yf(x.location,y,p);d=u()+1;let b=Jp(v,d),j=x.createHref(v);try{o.pushState(b,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(j)}s&&c&&c({action:l,location:x.location,delta:1})}function m(y,p){l=_r.Replace;let v=yf(x.location,y,p);d=u();let b=Jp(v,d),j=x.createHref(v);o.replaceState(b,"",j),s&&c&&c({action:l,location:x.location,delta:0})}function g(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:_y(y);return v=v.replace(/ $/,"%20"),it(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let x={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qp,f),c=y,()=>{i.removeEventListener(qp,f),c=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let p=g(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(y){return o.go(y)}};return x}var Kp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kp||(Kp={}));function UN(e,t,n){return n===void 0&&(n="/"),YN(e,t,n)}function YN(e,t,n,r){let i=typeof t=="string"?Ls(t):t,s=Ry(i.pathname||"/",n);if(s==null)return null;let o=Ey(e);GN(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=s2(s);l=n2(o[c],d)}return l}function Ey(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=bi([r,c.relativePath]),u=n.concat(c);s.children&&s.children.length>0&&(it(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ey(s.children,t,u,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:e2(d,s.index),routesMeta:u})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Dy(s.path))i(s,o,c)}),t}function Dy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Dy(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function GN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:t2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qN=/^:[\w-]+$/,JN=3,KN=2,QN=1,XN=10,ZN=-2,Qp=e=>e==="*";function e2(e,t){let n=e.split("/"),r=n.length;return n.some(Qp)&&(r+=ZN),t&&(r+=KN),n.filter(i=>!Qp(i)).reduce((i,s)=>i+(qN.test(s)?JN:s===""?QN:XN),r)}function t2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function n2(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=r2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:bi([s,f.pathname]),pathnameBase:c2(bi([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=bi([s,f.pathnameBase]))}return o}function r2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=i2(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let x=l[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function i2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Py(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function s2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Py(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ry(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function a2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ls(e):e;return{pathname:n?n.startsWith("/")?n:o2(n,t):t,search:d2(r),hash:u2(i)}}function o2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function My(e,t){let n=l2(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ty(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ls(e):(i=qa({},e),it(!i.pathname||!i.pathname.includes("?"),Kd("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Kd("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Kd("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=a2(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const bi=e=>e.join("/").replace(/\/\/+/g,"/"),c2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ay=["post","put","patch","delete"];new Set(Ay);const h2=["get",...Ay];new Set(h2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ja.apply(this,arguments)}const zh=N.createContext(null),m2=N.createContext(null),xo=N.createContext(null),Uc=N.createContext(null),zi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Oy=N.createContext(null);function vo(){return N.useContext(Uc)!=null}function Yc(){return vo()||it(!1),N.useContext(Uc).location}function Ly(e){N.useContext(xo).static||N.useLayoutEffect(e)}function Yt(){let{isDataRoute:e}=N.useContext(zi);return e?I2():p2()}function p2(){vo()||it(!1);let e=N.useContext(zh),{basename:t,future:n,navigator:r}=N.useContext(xo),{matches:i}=N.useContext(zi),{pathname:s}=Yc(),o=JSON.stringify(My(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return Ly(()=>{l.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=Ty(d,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bi([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,o,s,e])}function g2(e,t){return x2(e,t)}function x2(e,t,n,r){vo()||it(!1);let{navigator:i,static:s}=N.useContext(xo),{matches:o}=N.useContext(zi),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let u=Yc(),f;if(t){var h;let p=typeof t=="string"?Ls(t):t;d==="/"||(h=p.pathname)!=null&&h.startsWith(d)||it(!1),f=p}else f=u;let m=f.pathname||"/",g=m;if(d!=="/"){let p=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=UN(e,{pathname:g}),y=S2(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:bi([d,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:bi([d,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,r);return t&&y?N.createElement(Uc.Provider,{value:{location:Ja({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:_r.Pop}},y):y}function v2(){let e=k2(),t=f2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,null)}const y2=N.createElement(v2,null);class b2 extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(zi.Provider,{value:this.props.routeContext},N.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w2(e){let{routeContext:t,match:n,children:r}=e,i=N.useContext(zh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(zi.Provider,{value:t},r)}function S2(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||it(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let m,g=!1,x=null,y=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||y2,c&&(d<0&&h===0?(P2("route-fallback"),g=!0,y=null):d===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),v=()=>{let b;return m?b=x:g?b=y:f.route.Component?b=N.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,N.createElement(w2,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(b2,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var Fy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Fy||{}),zy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zy||{});function N2(e){let t=N.useContext(zh);return t||it(!1),t}function j2(e){let t=N.useContext(m2);return t||it(!1),t}function C2(e){let t=N.useContext(zi);return t||it(!1),t}function Vy(e){let t=C2(),n=t.matches[t.matches.length-1];return n.route.id||it(!1),n.route.id}function k2(){var e;let t=N.useContext(Oy),n=j2(),r=Vy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function I2(){let{router:e}=N2(Fy.UseNavigateStable),t=Vy(zy.UseNavigateStable),n=N.useRef(!1);return Ly(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ja({fromRouteId:t},s)))},[e,t])}const Xp={};function P2(e,t,n){Xp[e]||(Xp[e]=!0)}function _2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function E2(e){let{to:t,replace:n,state:r,relative:i}=e;vo()||it(!1);let{future:s,static:o}=N.useContext(xo),{matches:l}=N.useContext(zi),{pathname:c}=Yc(),d=Yt(),u=Ty(t,My(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(u);return N.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:i}),[d,f,i,n,r]),null}function Mt(e){it(!1)}function D2(e){let{basename:t="/",children:n=null,location:r,navigationType:i=_r.Pop,navigator:s,static:o=!1,future:l}=e;vo()&&it(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:s,static:o,future:Ja({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Ls(r));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,x=N.useMemo(()=>{let y=Ry(u,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:i}},[c,u,f,h,m,g,i]);return x==null?null:N.createElement(xo.Provider,{value:d},N.createElement(Uc.Provider,{children:n,value:x}))}function R2(e){let{children:t,location:n}=e;return g2(bf(t),n)}new Promise(()=>{});function bf(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let s=[...t,i];if(r.type===N.Fragment){n.push.apply(n,bf(r.props.children,s));return}r.type!==Mt&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function M2(e,t){let n=wf(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const T2="6";try{window.__reactRouterVersion=T2}catch{}const A2="startTransition",Zp=E1[A2];function O2(e){let{basename:t,children:n,future:r,window:i}=e,s=N.useRef();s.current==null&&(s.current=$N({window:i,v5Compat:!0}));let o=s.current,[l,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=N.useCallback(f=>{d&&Zp?Zp(()=>c(f)):c(f)},[c,d]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.useEffect(()=>_2(r),[r]),N.createElement(D2,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var eg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eg||(eg={}));var tg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tg||(tg={}));function L2(e){let t=N.useRef(wf(e)),n=N.useRef(!1),r=Yc(),i=N.useMemo(()=>M2(r.search,n.current?null:t.current),[r.search]),s=Yt(),o=N.useCallback((l,c)=>{const d=wf(typeof l=="function"?l(i):l);n.current=!0,s("?"+d,c)},[s,i]);return[i,o]}/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>N.createElement("svg",{ref:u,...F2,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${z2(e)}`,l].join(" "),...d},[...t.map(([f,h])=>N.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=q("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=q("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=q("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=q("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=q("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=q("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=q("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=q("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=q("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=q("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=q("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=q("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=q("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=q("Radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=q("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=q("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=q("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=q("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=q("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=q("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Bn="/VRDS_BASELINE";let Xd=null;function X2(){var e;return(e=globalThis.crypto)!=null&&e.randomUUID?globalThis.crypto.randomUUID():"sess_"+Date.now()+"_"+Math.random().toString(36).slice(2)}function Z2(){if(Xd)return Xd;let e=localStorage.getItem("session_id");return e||(e=X2(),localStorage.setItem("session_id",e)),Xd=e,e}const Se={getSessionId(){return Z2()},async createUserSession(e){const t=await fetch(`${Bn}/api/user-sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to create user session");return n},async insertValueEvolution(e){const t=await fetch(`${Bn}/api/value-evolution`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to save value evolution");return n},async insertScenarioInteraction(e){const t=await fetch(`${Bn}/api/scenario-interactions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to save scenario interaction");return n},async insertCVRResponse(e){const t=await fetch(`${Bn}/api/cvr-responses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to save CVR response");return n},async insertAPAReordering(e){const t=await fetch(`${Bn}/api/apa-reorderings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to save APA reordering");return n},async insertFinalDecision(e){const t=await fetch(`${Bn}/api/final-decisions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to save final decision");return n},async insertSessionMetrics(e){const t=await fetch(`${Bn}/api/session-metrics`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to upsert session metrics");return n},async insertSessionFeedback(e){const t=await fetch(`${Bn}/api/session-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to upsert session feedback");return n},async updateUserSession(e,t){const n=await fetch(`${Bn}/api/user-sessions/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json().catch(()=>({}));if(!n.ok)throw new Error((r==null?void 0:r.error)||"Failed to update user session");return r},async insertValueStability(e){const t=await fetch(`${Bn}/api/value-stability`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>({}));if(!t.ok)throw new Error((n==null?void 0:n.error)||"Failed to upsert value stability");return n}},ej=()=>{const e=Yt(),[t,n]=N.useState({age:"",gender:"",aiExperience:"",moralReasoningExperience:""}),[r,i]=N.useState(""),[s,o]=N.useState(!1),[l,c]=N.useState(!1),[d,u]=N.useState(!1),[f,h]=N.useState(!1),[m,g]=N.useState(!1);N.useEffect(()=>{localStorage.clear(),setTimeout(()=>o(!0),100)},[]);const x=()=>{if(!f)return;const p=new Date().toISOString();localStorage.setItem("userConsent",JSON.stringify({agreed:!0,timestamp:p})),u(!0),setTimeout(()=>{g(!0)},300)},y=async p=>{if(p.preventDefault(),!t.age||!t.gender||!t.aiExperience||!t.moralReasoningExperience){i("Please fill in all fields");return}const v=parseInt(t.age);if(isNaN(v)||v<18||v>120){i("Please enter a valid age between 18 and 120");return}localStorage.setItem("userDemographics",JSON.stringify(t));const b=Se.getSessionId();localStorage.setItem("currentSessionId",b);const j=JSON.parse(localStorage.getItem("userConsent")||"{}");await Se.createUserSession({session_id:b,experiment_condition:"4",demographics:t,consent_agreed:j.agreed||!1,consent_timestamp:j.timestamp}),e("/explicitvaluepage")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-yellow-50 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-orange-200/30 to-red-200/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-yellow-200/30 to-orange-200/30 rounded-full blur-3xl animate-pulse delay-1000"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-red-100/20 to-orange-100/20 rounded-full blur-3xl animate-pulse delay-500"})]}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx(Di,{className:"absolute top-20 left-20 text-orange-300/40 animate-bounce",size:32,style:{animationDelay:"0s",animationDuration:"3s"}}),a.jsx(Is,{className:"absolute top-32 right-32 text-red-300/40 animate-bounce",size:28,style:{animationDelay:"1s",animationDuration:"4s"}}),a.jsx(Ri,{className:"absolute bottom-32 left-32 text-yellow-300/40 animate-bounce",size:30,style:{animationDelay:"2s",animationDuration:"3.5s"}}),a.jsx(fc,{className:"absolute bottom-20 right-20 text-orange-300/40 animate-bounce",size:26,style:{animationDelay:"0.5s",animationDuration:"4.5s"}})]}),a.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 py-8",children:a.jsx("div",{className:`w-full max-w-4xl transition-all duration-1000 transform ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:d?a.jsx("div",{className:`transition-all duration-500 ${m?"opacity-100 translate-x-0":"opacity-0 translate-x-[100%]"}`,children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[a.jsx("div",{className:"flex justify-center lg:justify-start mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-400 to-red-500 rounded-full blur-lg opacity-30 animate-pulse"}),a.jsx("div",{className:"relative bg-gradient-to-r from-orange-500 to-red-600 p-3 rounded-full shadow-2xl",children:a.jsx($2,{className:"h-10 w-10 text-white"})})]})}),a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-yellow-600 bg-clip-text text-transparent mb-3",children:"Wildfire Crisis Simulation"}),a.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-orange-400 to-red-500 mx-auto lg:mx-0 rounded-full mb-4"}),a.jsx("p",{className:"text-base text-gray-700 leading-relaxed mb-6",children:"Experience ethical decision-making in crisis scenarios. Your choices will help us understand how values influence critical decisions."}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[a.jsx(Di,{className:"h-5 w-5 text-orange-500 mb-1 mx-auto lg:mx-0"}),a.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Crisis Management"})]}),a.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[a.jsx(Is,{className:"h-5 w-5 text-red-500 mb-1 mx-auto lg:mx-0"}),a.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Ethical Decisions"})]}),a.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[a.jsx(Ri,{className:"h-5 w-5 text-yellow-500 mb-1 mx-auto lg:mx-0"}),a.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Impact Analysis"})]}),a.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-lg shadow border border-white/50",children:[a.jsx(fc,{className:"h-5 w-5 text-orange-500 mb-1 mx-auto lg:mx-0"}),a.jsx("h3",{className:"font-semibold text-gray-800 text-xs",children:"Expert Insights"})]})]})]}),a.jsx("div",{className:"w-full lg:w-96 flex-shrink-0",children:a.jsxs("div",{className:"bg-white/80 backdrop-blur-lg py-6 px-6 shadow-2xl rounded-2xl border border-white/50",children:[a.jsxs("form",{className:"space-y-4",onSubmit:y,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"age",className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Age"}),a.jsx("input",{id:"age",name:"age",type:"number",required:!0,min:"18",max:"120",value:t.age,onChange:p=>n(v=>({...v,age:p.target.value})),className:"appearance-none block w-full px-4 py-2.5 border border-gray-200 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 bg-white/90 backdrop-blur-sm",placeholder:"Enter your age"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"gender",className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Gender"}),a.jsxs("select",{id:"gender",name:"gender",required:!0,value:t.gender,onChange:p=>n(v=>({...v,gender:p.target.value})),className:"appearance-none block w-full px-4 py-2.5 border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 bg-white/90 backdrop-blur-sm text-gray-700",children:[a.jsx("option",{value:"",children:"Select your gender"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Dealing with AI Systems"}),a.jsx("div",{className:"flex gap-2",children:["Never","Rarely","Often","Very Often","Most of the Time"].map(p=>a.jsx("button",{type:"button",onClick:()=>n(v=>({...v,aiExperience:p})),className:`flex-1 py-2 px-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${t.aiExperience===p?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg scale-105":"bg-white/90 text-gray-700 border border-gray-200 hover:border-orange-300 hover:shadow-md"}`,children:p},p))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-1.5",children:["Experience with Moral Reasoning",a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),className:"text-orange-500 hover:text-orange-600 transition-colors",children:a.jsx(Ka,{size:16})}),l&&a.jsxs("div",{className:"absolute left-0 top-6 z-50 bg-gray-800 text-white text-xs rounded-lg py-2 px-3 shadow-xl whitespace-nowrap",children:["i.e., Philosophy Class, Moral Machine",a.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-800 transform rotate-45"})]})]})]}),a.jsx("div",{className:"flex gap-2",children:["Poor","Fair","Good","Very Good","Excellent"].map(p=>a.jsx("button",{type:"button",onClick:()=>n(v=>({...v,moralReasoningExperience:p})),className:`flex-1 py-2 px-2 text-xs font-medium rounded-lg transition-all duration-200 ${t.moralReasoningExperience===p?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg scale-105":"bg-white/90 text-gray-700 border border-gray-200 hover:border-orange-300 hover:shadow-md"}`,children:p},p))})]}),r&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-2.5 animate-shake",children:a.jsx("p",{className:"text-red-600 text-sm font-medium",children:r})}),a.jsx("div",{children:a.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center items-center py-2.5 px-4 border border-transparent rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200 transform hover:scale-105 hover:shadow-xl",children:[a.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-orange-400 to-red-500 rounded-xl blur opacity-30 group-hover:opacity-50 transition-opacity duration-200"}),a.jsxs("span",{className:"relative flex items-center",children:["Begin Assessment",a.jsx(Tn,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:"Your responses will be used for research purposes only"})})]})})]})}):a.jsx("div",{className:`transition-all duration-500 ${d?"opacity-0 translate-x-[-100%]":"opacity-100 translate-x-0"}`,children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-lg shadow-2xl rounded-2xl border border-white/50 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 px-8 py-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Informed Consent"}),a.jsx("p",{className:"text-orange-50 text-center mt-2",children:"Please read this consent document carefully before you decide to participate in this study."})]}),a.jsx("div",{className:"px-8 py-6 max-h-[65vh] overflow-y-auto custom-scrollbar",children:a.jsxs("div",{className:"space-y-6 text-gray-700",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Study Title"}),a.jsx("p",{className:"leading-relaxed",children:"Negotiation and Cognitive Value Recontextualization for Consistency Assessment in Human-AI Collaboration: Advancing Joint Decision-Making through Adaptive Preference Alignment"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Purpose of the Study"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"This study builds on the Moral Machine Experiment, which examined how people make ethical trade-offs in complex situations. It explores how humans collaborate with multiple AI expert agentseach representing values such as Safety, Efficiency, Fairness, Sustainability, and Non-maleficenceduring simulated wildfire emergencies."}),a.jsxs("p",{className:"leading-relaxed mb-3",children:["The experiment applies two frameworks: ",a.jsx("strong",{children:"Cognitive Value Recontextualization (CVR)"}),", which examines how people reinterpret their values in new contexts, and ",a.jsx("strong",{children:"Adaptive Preference Alignment (APA)"}),", which studies how human and AI preferences can be aligned for more ethical and transparent decisions."]}),a.jsx("p",{className:"leading-relaxed",children:"The goal is to better understand how AI can support human moral reasoning and decision-making in high-stakes scenarios."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Procedures"}),a.jsx("p",{className:"leading-relaxed mb-3",children:"This experiment will be conducted entirely online through a web-based simulation platform. Participants will begin by completing a brief demographic questionnaire, followed by two value-assessment phases:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-4 mb-3",children:[a.jsxs("li",{className:"leading-relaxed",children:[a.jsx("strong",{children:"Explicit Value Questionnaire"}),"  consisting of simple, everyday scenarios designed to identify stable personal values."]}),a.jsxs("li",{className:"leading-relaxed",children:[a.jsx("strong",{children:"Implicit Value Questionnaire"}),"  involving mid-level contextual scenarios to reveal how values shift across different situations."]})]}),a.jsx("p",{className:"leading-relaxed mb-3",children:"Based on these responses, the system generates each participant's evaluated stable and context-dependent value profile."}),a.jsx("p",{className:"leading-relaxed mb-3",children:"Next, participants will engage with three interactive wildfire scenarios. In each scenario, they will receive guidance from multiple AI expert agents, each representing a distinct ethical or operational perspective (e.g., Safety, Efficiency, Fairness, Sustainability, and Non-maleficence). Participants will then decide how to allocate firefighting resources based on the agents' recommendations and their own judgment."}),a.jsx("p",{className:"leading-relaxed mb-3",children:"After completing the scenarios, participants will be asked to respond to brief follow-up questions that evaluate their reasoning, satisfaction, and overall experience."}),a.jsxs("p",{className:"leading-relaxed",children:["The full session will take approximately ",a.jsx("strong",{children:"2035 minutes"})," and can be completed in one sitting using a computer or tablet."]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Potential Risks of Participating"}),a.jsx("p",{className:"leading-relaxed",children:"There are no known risks beyond what you'd normally experience using a computer. Some people might feel brief mental fatigue or mild stress when facing moral trade-offs (like choosing between difficult rescue options), but you can pause or stop at any time."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Potential Benefits of Participating"}),a.jsx("p",{className:"leading-relaxed",children:"By taking part, you'll help us learn how people and AI can work together to make better decisions during emergency situations like wildfires. Your participation will help researchers design future AI systems that are more ethical, transparent, and human-centered tools that could improve safety and decision support in real-world disaster response. You may also find it interesting to see how your own values and reasoning compare to the AI experts' perspectives."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Compensation"}),a.jsx("p",{className:"leading-relaxed",children:"Those who are taking designated undergraduate-level courses may be eligible to receive extra credit upon the completion of the study."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Confidentiality"}),a.jsx("p",{className:"leading-relaxed",children:"Your responses will remain completely anonymous. No names, emails, or identifiable information will be collected. Data will be stored on secure, password-protected servers accessible only to the research team. Results will be reported in aggregate form only, ensuring that no individual participant can be identified."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Voluntary Participation"}),a.jsx("p",{className:"leading-relaxed",children:"Your participation in this study is completely voluntary. There is no penalty for not participating. You may also refuse to answer questions that are asked in the study."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Right to Withdraw from the Study"}),a.jsx("p",{className:"leading-relaxed",children:"You have the right to withdraw from the study at any time without consequence."})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Whom to Contact if You Have Questions"}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"About the study:"}),a.jsx("p",{children:"Waseem Samkari, Ph.D. Candidate"}),a.jsx("p",{children:"College of Engineering and Science"}),a.jsx("p",{children:"Florida Institute of Technology"}),a.jsxs("p",{children:["Email: ",a.jsx("a",{href:"mailto:wsamkari2022@my.fit.edu",className:"text-orange-600 hover:text-orange-700 underline",children:"wsamkari2022@my.fit.edu"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"About your rights as a research participant:"}),a.jsx("p",{children:"Dr. Jignya Patel, IRB Chairperson"}),a.jsx("p",{children:"150 West University Blvd."}),a.jsx("p",{children:"Melbourne, FL 32901"}),a.jsxs("p",{children:["Email: ",a.jsx("a",{href:"mailto:FIT_IRB@fit.edu",className:"text-orange-600 hover:text-orange-700 underline",children:"FIT_IRB@fit.edu"})]})]})]})]}),a.jsxs("div",{className:"border-t-2 border-orange-200 pt-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Agreement"}),a.jsxs("div",{className:"bg-orange-50 border-2 border-orange-300 rounded-lg p-6",children:[a.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",checked:f,onChange:p=>h(p.target.checked),className:"mt-1 w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500 focus:ring-2 cursor-pointer"}),a.jsx("span",{className:"text-gray-800 leading-relaxed group-hover:text-gray-900 transition-colors",children:"I have read the procedure described above. I voluntarily agree to participate in the procedure and I have received a copy of this description."})]}),a.jsx("button",{onClick:x,disabled:!f,className:`mt-6 w-full py-3 px-6 rounded-xl font-semibold text-white transition-all duration-200 ${f?"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 hover:shadow-lg transform hover:scale-105 cursor-pointer":"bg-gray-300 cursor-not-allowed opacity-60"}`,children:"Confirm and Continue"})]})]})]})})]})})})}),a.jsx("style",{jsx:!0,children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(to bottom, #f97316, #dc2626);
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(to bottom, #ea580c, #b91c1c);
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.5s ease-in-out;
        }
      `})]})},hi=[{id:1,scenario:"Your neighbor's cat frequently visits your garden. You notice it's not well-fed. What do you do?",options:[{value:"Safety",label:"Report to animal welfare immediately",icon:""},{value:"Fairness",label:"Discuss the situation with your neighbor first",icon:""},{value:"Nonmaleficence",label:"Leave food without interfering",icon:""},{value:"Efficiency",label:"Set up deterrents to keep the cat away",icon:""}]},{id:2,scenario:"You have two routes to work: a shorter route through a busy area or a longer, scenic route. Which do you choose?",options:[{value:"Efficiency",label:"Take the shorter route to save time",icon:""},{value:"Sustainability",label:"Choose the scenic route with less traffic",icon:""},{value:"Safety",label:"Pick the route with better road conditions",icon:""}]},{id:3,scenario:"Your apartment building has limited parking spaces. How should they be allocated?",options:[{value:"Fairness",label:"First-come, first-served basis",icon:""},{value:"Efficiency",label:"Closest spaces for most frequent users",icon:""},{value:"Safety",label:"Priority for elderly and disabled residents",icon:""},{value:"Sustainability",label:"Extra spaces for carpooling residents",icon:""}]},{id:4,scenario:"You find a wallet with cash and ID. What's your immediate action?",options:[{value:"Urgency",label:"Contact the owner immediately",icon:""},{value:"Safety",label:"Turn it in to the police",icon:""},{value:"Fairness",label:"Leave it where found but monitor",icon:""},{value:"Efficiency",label:"Drop it in a mailbox",icon:""}]},{id:5,scenario:"Your community garden has limited water during a drought. How do you manage resources?",options:[{value:"Sustainability",label:"Implement water-saving techniques",icon:""},{value:"Fairness",label:"Create a strict watering schedule",icon:""},{value:"Efficiency",label:"Focus on plants with highest yield",icon:""},{value:"Nonmaleficence",label:"Share water equally regardless of need",icon:""}]}],Wh=({currentStep:e,steps:t})=>{const i=t.length,s=1/(i-1)*100,l=5/(i-1)*100-s;return a.jsx("div",{className:"w-full bg-gradient-to-r from-blue-50 to-green-50 py-6 mb-6",children:a.jsx("div",{className:"max-w-5xl mx-auto px-4",children:a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsx("div",{className:"absolute rounded-3xl border-2 border-amber-300 bg-amber-50/30 backdrop-blur-sm shadow-lg",style:{left:`calc(${s}% - 2%)`,width:`calc(${l}% + 4%)`,top:"-20px",bottom:"-10px",zIndex:0},children:a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-amber-100 border-2 border-amber-300 px-4 py-1 rounded-full shadow-md",children:a.jsx("span",{className:"text-xs font-bold text-amber-800 tracking-wide",children:"Implicit Values"})})}),t.map((c,d)=>{const u=d<e,f=d===e,h=d>e,m=c.isLarger,g=m?"w-14 h-14":"w-10 h-10",x=m?"text-sm font-bold":"text-xs";return a.jsxs("div",{className:"relative flex flex-col items-center",style:{flex:1},children:[d>0&&a.jsx("div",{className:`absolute top-5 right-1/2 h-0.5 transition-all duration-500 ${u||d===e&&d>0?"bg-green-500":"bg-gray-300"}`,style:{width:"100%",transform:"translateY(-50%)"}}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsxs("div",{className:`${g} rounded-full border-4 transition-all duration-500 flex items-center justify-center ${u?"bg-green-500 border-green-500 shadow-lg shadow-green-300/50":f?"bg-white border-blue-500 shadow-lg shadow-blue-300/50 animate-pulse":"bg-white border-gray-300 shadow-md"}`,children:[u&&a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),f&&a.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 animate-pulse"}),h&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"})]}),a.jsx("div",{className:`mt-3 ${x} text-center font-medium transition-all duration-500 ${u?"text-green-700":f?"text-blue-700":"text-gray-500"}`,style:{minWidth:"60px",maxWidth:m?"80px":"70px"},children:c.label})]})]},c.id)})]})})})},tj=()=>{const e=Yt(),[t,n]=N.useState({}),[r,i]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState(!0),[d,u]=N.useState(!1),f=(g,x)=>{n(y=>({...y,[g]:x}))};N.useEffect(()=>{const g=()=>{window.scrollY>100&&!d&&(u(!0),c(!1))};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[d]);const h=async()=>{if(Object.keys(t).length!==hi.length){alert("Please answer all questions before continuing.");return}i(!0);const g=Object.entries(t).map(([x,y])=>({question_id:parseInt(x),value_selected:y,timestamp:new Date().toISOString()}));try{localStorage.setItem("explicitValues",JSON.stringify(g)),o(!0),setTimeout(()=>{e("/preferences")},2e3)}catch(x){console.error("Failed to save explicit values:",x),i(!1)}};if(s)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[a.jsx(Rn,{className:"mx-auto text-green-500 mb-4",size:48}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You!"}),a.jsx("p",{className:"text-gray-600",children:"Your responses have been recorded. Proceeding to the next stage..."})]})});const m=[{id:"explicit",label:"Explicit Values"},{id:"hospital",label:"Hospital"},{id:"environment",label:"Environment"},{id:"safety",label:"Safety"},{id:"resources",label:"Resources"},{id:"medical",label:"Medical"},{id:"results",label:"Results"},{id:"simulation",label:"Simulation",isLarger:!0}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(H2,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Explicit Value Identification  Benchmark Questionnaire"})]})})}),a.jsx(Wh,{currentStep:0,steps:m}),a.jsxs("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-md mb-8",children:a.jsx("p",{className:"text-blue-700",children:"Please answer the following simple everyday dilemmas. Select the value that best reflects your personal beliefs. Your selections will serve as a baseline for later comparison."})}),l&&a.jsx("div",{className:"fixed top-1/2 right-8 transform -translate-y-1/2 z-50 animate-bounce",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4 rounded-2xl shadow-2xl max-w-xs",children:[a.jsxs("p",{className:"text-sm font-semibold mb-1 flex items-center",children:[a.jsx($r,{size:20,className:"mr-2 animate-pulse"}),"Scroll Down!"]}),a.jsx("p",{className:"text-xs opacity-90",children:"Answer all five questions below"})]}),a.jsx("div",{className:"absolute -left-3 top-1/2 transform -translate-y-1/2 w-0 h-0 border-t-8 border-b-8 border-r-8 border-transparent border-r-purple-600"})]})}),a.jsx("div",{className:"space-y-8",children:hi.map(g=>a.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g.scenario}),a.jsx("div",{className:"grid gap-3",children:g.options.map(x=>a.jsx("button",{onClick:()=>f(g.id,x.value),className:`w-full text-left p-4 rounded-lg border transition-all duration-200 ${t[g.id]===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-xl mr-3",children:x.icon}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-900",children:x.value}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.label})]})]})},x.value))})]},g.id))}),a.jsx("div",{className:"sticky bottom-8 mt-8",children:a.jsx("div",{className:"bg-white bg-opacity-90 backdrop-blur supports-[backdrop-filter]:bg-opacity-50 border rounded-lg shadow-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[Object.keys(t).length," of ",hi.length," questions answered"]}),a.jsxs("button",{onClick:h,disabled:Object.keys(t).length!==hi.length||r,className:`flex items-center px-6 py-2 rounded-md text-white font-medium transition-colors duration-200 ${Object.keys(t).length===hi.length&&!r?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:["Submit Answers & Continue",a.jsx(Tn,{className:"ml-2 h-5 w-5"})]})]})})})]})]})},jf=[{id:"hospital-triage",title:" Hospital Emergency Triage",scenario:"A hospital has limited resources during a crisis. Should they prioritize treating many patients with moderate injuries or focus on fewer patients with severe conditions?",options:[{text:"Treat many moderate injuries (maximizing efficiency)",value:"efficiency"},{text:"Focus on severe cases (prioritizing individual care)",value:"nonmaleficence"}],followUpQuestions:{efficiency:{question:"In a different scenario, if a company needs to cut costs, would you prefer laying off a few high-salary employees or implementing smaller pay cuts across the entire workforce?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Nonmaleficence",type:"Context-Dependent"}]},nonmaleficence:{question:"If you were developing a new medication, would you also prioritize thoroughly testing for rare but severe side effects, even if it delays helping many patients with moderate conditions?",valueIfYes:{name:"Nonmaleficence",type:"Stable"},valueIfNo:[{name:"Nonmaleficence",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}},{id:"environmental-project",title:" Environmental Project Decision",scenario:"A city must choose between implementing immediate but temporary pollution controls or a longer-term sustainable solution that takes more time to show results.",options:[{text:"Quick temporary solution (immediate impact)",value:"efficiency"},{text:"Long-term sustainable approach (future impact)",value:"sustainability"}],followUpQuestions:{efficiency:{question:"In managing a wildlife conservation project, would you also choose quick-fix solutions over more comprehensive but time-consuming approaches?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Sustainability",type:"Context-Dependent"}]},sustainability:{question:"Would you support higher taxes to fund long-term environmental projects, even if it means slower economic growth in the short term?",valueIfYes:{name:"Sustainability",type:"Stable"},valueIfNo:[{name:"Sustainability",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}},{id:"safety-protocol",title:" Workplace Safety Protocol",scenario:"A manufacturing plant must decide between maintaining current production levels with standard safety measures or reducing output to implement enhanced safety protocols.",options:[{text:"Maintain production with current safety",value:"efficiency"},{text:"Reduce output for enhanced safety",value:"safety"}],followUpQuestions:{efficiency:{question:"In a different context, would you also prioritize meeting project deadlines over implementing additional safety measures in construction work?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Safety",type:"Context-Dependent"}]},safety:{question:"Would you support mandatory safety training in all industries, even if it significantly increases operational costs and reduces productivity?",valueIfYes:{name:"Safety",type:"Stable"},valueIfNo:[{name:"Safety",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}},{id:"resource-distribution",title:" Resource Distribution",scenario:"A community must decide how to distribute limited educational resources: either equally across all schools or based on individual school needs and performance.",options:[{text:"Equal distribution",value:"fairness"},{text:"Need-based distribution",value:"efficiency"}],followUpQuestions:{fairness:{question:"In healthcare resource allocation, would you also support equal distribution of resources regardless of population density or specific community needs?",valueIfYes:{name:"Fairness",type:"Stable"},valueIfNo:[{name:"Fairness",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]},efficiency:{question:"Would you support allocating more resources to high-performing schools to maximize overall educational outcomes?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Fairness",type:"Context-Dependent"}]}}},{id:"medical-research",title:" Medical Research Ethics",scenario:"A research institution must decide between fast-tracking a promising treatment with unknown long-term effects or conducting extended trials to ensure complete safety.",options:[{text:"Fast-track the treatment",value:"efficiency"},{text:"Conduct extended trials",value:"nonmaleficence"}],followUpQuestions:{efficiency:{question:"In a hospital management context, would you also prioritize launching a new digital patient record system quickly to improve operations, even if some data-security measures are not yet fully tested?",valueIfYes:{name:"Efficiency",type:"Stable"},valueIfNo:[{name:"Efficiency",type:"Context-Dependent"},{name:"Nonmaleficence",type:"Context-Dependent"}]},nonmaleficence:{question:"Would you maintain the same cautious approach in testing new technologies that could immediately improve quality of life but might have unknown long-term impacts?",valueIfYes:{name:"Nonmaleficence",type:"Stable"},valueIfNo:[{name:"Nonmaleficence",type:"Context-Dependent"},{name:"Efficiency",type:"Context-Dependent"}]}}}],nj=()=>{var h,m,g;const e=Yt(),[t,n]=N.useState(0),[r,i]=N.useState([]),[s,o]=N.useState(!1);N.useEffect(()=>{localStorage.removeItem("userResponses"),i([]),n(0)},[]),N.useEffect(()=>{s&&e("/completion")},[s,e]);const l=jf[t],c=x=>{const y={scenarioId:l.id,selectedOption:x,followUpAnswer:null,deepValues:[]};i(p=>{const v=[...p];return v[t]=y,localStorage.setItem("userResponses",JSON.stringify(v)),v})},d=x=>{i(y=>{const p=[...y],v=p[t]={...p[t],followUpAnswer:x},b=l.followUpQuestions[v.selectedOption];if(x?v.deepValues=[b.valueIfYes]:v.deepValues=[{name:b.valueIfNo[0].name,type:"Context-Dependent"},{name:b.valueIfNo[1].name,type:"Context-Dependent"}],t===jf.length-1){const j=[...p].flatMap(w=>w.deepValues);localStorage.setItem("deepValues",JSON.stringify(j)),localStorage.setItem("userResponses",JSON.stringify(p)),o(!0)}else localStorage.setItem("userResponses",JSON.stringify(p)),n(j=>j+1);return p})},u=()=>r[t],f=[{id:"explicit",label:"Explicit Values"},{id:"hospital",label:"Hospital"},{id:"environment",label:"Environment"},{id:"safety",label:"Safety"},{id:"resources",label:"Resources"},{id:"medical",label:"Medical"},{id:"results",label:"Results"},{id:"simulation",label:"Simulation",isLarger:!0}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(K2,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Preference Selection & Implicit Value Revealing"})]})})}),a.jsx(Wh,{currentStep:1+t,steps:f}),a.jsx("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"space-y-6",children:l&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:l.title}),a.jsx("p",{className:"text-gray-600 mb-6",children:l.scenario}),(!u()||((h=u())==null?void 0:h.followUpAnswer)===null)&&a.jsx("div",{className:"space-y-4",children:l.options.map(x=>{var y;return a.jsx("button",{onClick:()=>c(x.value),className:`w-full p-4 text-left rounded-lg border transition-all duration-200 ${((y=u())==null?void 0:y.selectedOption)===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:x.text},x.value)})}),((m=u())==null?void 0:m.selectedOption)&&((g=u())==null?void 0:g.followUpAnswer)===null&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"font-semibold mb-4",children:l.followUpQuestions[u().selectedOption].question}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>d(!0),className:"flex-1 py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Yes"}),a.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-2 px-4 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"No"})]})]})]})})})]})},rj=()=>{const e=Yt(),[t,n]=N.useState(!1);return N.useEffect(()=>{n(!0);const r=setTimeout(()=>{e("/values")},3e3);return()=>clearTimeout(r)},[e]),a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:`text-center transform transition-all duration-500 ${t?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-auto",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"rounded-full bg-green-100 p-3",children:a.jsx(Rn,{className:"h-12 w-12 text-green-600"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Preferences Selection Complete!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for completing the preferences selection. You'll be redirected to review your values in a moment."}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-600",children:[a.jsx("span",{children:"Proceeding to Values Review"}),a.jsx(Tn,{className:"h-5 w-5 animate-bounce"})]})]})})})},ij=()=>{const e=Yt(),[t,n]=N.useState([]),[r,i]=N.useState({stable:[],contextDependent:[]}),[s,o]=N.useState([]),[l,c]=N.useState([]),[d,u]=N.useState({stable:0,contextDependent:0}),[f,h]=N.useState(!1),[m,g]=N.useState([]),[x,y]=N.useState(!1),[p,v]=N.useState([]);N.useEffect(()=>{const C=localStorage.getItem("deepValues"),k=localStorage.getItem("explicitValues"),I=localStorage.getItem("userResponses");if(!C||!k||!I){h(!0);return}try{const E=JSON.parse(C),_=JSON.parse(I),F=JSON.parse(k);n(E),o(F);const H={stable:[],contextDependent:[]};_.forEach((Y,re)=>{const ie=Y.scenarioId,qe=jf.find(L=>L.id===ie),z=qe?qe.title:`Scenario ${re+1}`;Y.deepValues.length===1?H.stable.push({scenarioId:z,value:Y.deepValues[0]}):Y.deepValues.length===2&&H.contextDependent.push({scenarioId:z,values:Y.deepValues})}),i(H);const D={};F.forEach(Y=>{D[Y.value_selected]=(D[Y.value_selected]||0)+1});const M=F.length,R=Object.entries(D).map(([Y,re])=>({value:Y,count:re,percentage:re/M*100})).sort((Y,re)=>re.count-Y.count);c(R);const O={};E.forEach(Y=>{O[Y.name]=(O[Y.name]||0)+1});const P=E.length,T=Object.entries(O).map(([Y,re])=>({value:Y,count:re,percentage:re/P*100})).sort((Y,re)=>re.count-Y.count);v(T);const A=Array.from(new Set(E.filter(Y=>Y.type==="Stable").map(Y=>Y.name))),W=E.filter(Y=>Y.type==="Context-Dependent").map(Y=>Y.name),U=A.map(Y=>{const re=R.find(ie=>ie.value===Y);return{name:Y,matchPercentage:re?re.percentage:0}}).filter(Y=>Y.matchPercentage>0).sort((Y,re)=>re.matchPercentage-Y.matchPercentage);g(U);let fe=0,le=0;R.forEach(Y=>{A.includes(Y.value)&&fe++,W.includes(Y.value)&&le++}),u({stable:A.length?fe/A.length*100:0,contextDependent:W.length?le/W.length*100:0})}catch(E){console.error("Error parsing saved values:",E),h(!0)}},[]);const b=async()=>{try{const C=Se.getSessionId(),k={explicit:s.map(_=>_.value_selected),implicit:t.map(_=>_.name)};localStorage.setItem("userValues",JSON.stringify(k)),localStorage.setItem("ExplicitValueFrequencies",JSON.stringify(l)),localStorage.setItem("ImplicitValueFrequencies",JSON.stringify(p));const I=m.slice(0,2);localStorage.setItem("finalValues",JSON.stringify(I));const E=I.map((_,F)=>({session_id:C,value_name:_.name,match_percentage:_.matchPercentage,rank_order:F+1,value_type:"stable"}));await Se.insertValueEvolution({session_id:C,value_list_snapshot:I}),e("/tutorial")}catch(C){console.error("Failed to save values:",C)}},j=C=>{const k=hi.find(I=>I.id===C);return k?k.scenario:"Unknown Question"},w=(C,k)=>{const I=hi.find(_=>_.id===C);if(!I)return k;const E=I.options.find(_=>_.value===k);return E?`${E.icon} ${E.value} - ${E.label}`:k};if(f)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sf,{className:"h-5 w-5 text-red-400"}),a.jsx("p",{className:"ml-3 text-red-700",children:"Please complete both the explicit and implicit value assessments first."})]}),a.jsx("button",{onClick:()=>e("/explicitvaluepage"),className:"mt-2 text-red-600 hover:text-red-800 font-medium",children:"Start from the beginning"})]})});const S=[{id:"explicit",label:"Explicit Values"},{id:"hospital",label:"Hospital"},{id:"environment",label:"Environment"},{id:"safety",label:"Safety"},{id:"resources",label:"Resources"},{id:"medical",label:"Medical"},{id:"results",label:"Results"},{id:"simulation",label:"Simulation",isLarger:!0}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(xr,{className:"h-8 w-8 text-purple-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Value Assessment Results"})]})})}),a.jsx(Wh,{currentStep:6,steps:S}),a.jsxs("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[x?a.jsxs("div",{children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsxs("button",{onClick:()=>y(!1),className:"bg-gray-100 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-300 font-medium flex items-center gap-2 border border-gray-300",children:[a.jsx(wi,{className:"h-4 w-4"}),"Back to Summary"]})}),m.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(hs,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Matched Stable Values"})]}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6 rounded-r-lg",children:a.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"What are Matched Stable Values?"})," These values appeared consistently across your implicit scenarios and align with your explicit value choices. The match percentage indicates how frequently each stable value appeared in your explicit responses, demonstrating the strength of alignment between your conscious choices and underlying decision patterns. Higher percentages suggest these values are deeply integrated into your decision-making framework."]})}),a.jsx("div",{className:"space-y-3",children:m.map((C,k)=>a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-blue-900",children:C.name}),a.jsxs("span",{className:"text-blue-700",children:["Match: ",C.matchPercentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"mt-2 bg-blue-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${C.matchPercentage}%`}})})]},k))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(U2,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Explicit Values"})]}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Understanding Explicit Values:"})," These are the values you consciously selected when presented with straightforward ethical scenarios. Your direct choices provide insight into your stated value preferences and help us understand what you believe guides your decisions. Each scenario below shows the specific value you prioritized."]})}),a.jsx("div",{className:"space-y-4",children:s.map((C,k)=>a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Scenario: ",j(C.question_id)]}),a.jsxs("p",{className:"text-sm font-medium text-blue-800",children:["Your Choice: ",w(C.question_id,C.value_selected)]})]},k))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(hs,{className:"h-6 w-6 text-green-600"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Implicit Values"})]}),a.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Understanding Implicit Values:"})," These values emerged from analyzing your preference patterns in complex scenarios where you ranked multiple options. Unlike explicit choices, these reflect the underlying values that guide your decision-making when faced with nuanced trade-offs. Stable values appeared consistently, while context-dependent values varied based on situational factors."]})}),r.stable.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Stable Values"}),a.jsx("div",{className:"space-y-3",children:r.stable.map((C,k)=>a.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:C.scenarioId}),a.jsx("span",{className:"font-medium text-green-700",children:C.value.name})]})},k))})]}),r.contextDependent.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Context-Dependent Values"}),a.jsx("div",{className:"space-y-3",children:r.contextDependent.map((C,k)=>a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[a.jsx("div",{className:"mb-2 text-sm text-gray-600",children:C.scenarioId}),a.jsx("div",{className:"flex items-center gap-3",children:C.values.map((I,E)=>a.jsx("span",{className:"px-3 py-1 bg-yellow-100 rounded-full text-yellow-800 text-sm",children:I.name},E))})]},k))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ks,{className:"h-6 w-6 text-teal-600"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Value Alignment Analysis"})]}),a.jsx("div",{className:"bg-teal-50 border-l-4 border-teal-400 p-4 mb-6 rounded-r-lg",children:a.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"How Value Alignment Works:"})," This section compares your explicit value choices with your implicit values to measure consistency. The frequency analysis shows which values you chose most often in explicit scenarios, while the alignment metrics reveal how well your stated preferences match your underlying decision patterns. Strong alignment suggests coherent value integration across different decision contexts."]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Most Common Explicit Values"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These bars show how frequently each value appeared in your explicit choices. Higher percentages indicate values you consistently prioritized across different scenarios."}),l.map((C,k)=>a.jsxs("div",{className:"bg-teal-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-teal-900",children:C.value}),a.jsxs("span",{className:"text-teal-700",children:[C.percentage.toFixed(1),"% (",C.count," times)"]})]}),a.jsx("div",{className:"mt-2 bg-teal-200 rounded-full h-2",children:a.jsx("div",{className:"bg-teal-600 h-2 rounded-full",style:{width:`${C.percentage}%`}})})]},k))]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Most Common Implicit Values"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These bars show how frequently each value appeared in your implicit preferences. Higher percentages indicate values that consistently emerged from your decision patterns."}),p.map((C,k)=>a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-green-900",children:C.value}),a.jsxs("span",{className:"text-green-700",children:[C.percentage.toFixed(1),"% (",C.count," times)"]})]}),a.jsx("div",{className:"mt-2 bg-green-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${C.percentage}%`}})})]},k))]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Value Alignment"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These metrics measure how well your explicit choices align with your implicit values. Higher alignment percentages indicate greater consistency between what you consciously choose and what your decision patterns reveal."}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-green-900",children:"Match with Stable Values"}),a.jsxs("span",{className:"text-green-700",children:[d.stable.toFixed(1),"%"]})]}),a.jsx("div",{className:"bg-green-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${d.stable}%`}})})]}),a.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-yellow-900",children:"Match with Context-Dependent Values"}),a.jsxs("span",{className:"text-yellow-700",children:[d.contextDependent.toFixed(1),"%"]})]}),a.jsx("div",{className:"bg-yellow-200 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:`${d.contextDependent}%`}})})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:a.jsx("p",{className:"text-sm text-gray-600",children:d.stable>d.contextDependent?"Your explicit choices align more strongly with your stable deep values, suggesting consistent ethical decision-making patterns.":"Your explicit choices show more alignment with context-dependent values, indicating flexibility in your decision-making approach."})})]})]})]})]}):a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-2xl shadow-lg p-8 mb-8 border border-blue-100",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"bg-white rounded-full p-4 shadow-md",children:a.jsx(hs,{className:"h-12 w-12 text-blue-600"})})}),a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:"Your Value Analysis is Complete"}),a.jsxs("p",{className:"text-center text-gray-700 text-lg mb-8 max-w-2xl mx-auto",children:["Thank you for completing both assessments. Based on your responses to explicit and implicit value questions, we've identified ",m.length===1?"your":"your top"," matched stable ",m.length===1?"value":"values",":"]}),a.jsx("div",{className:"space-y-4 mb-8",children:m.slice(0,2).map((C,k)=>a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500 transform transition-all duration-300 hover:shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:C.name}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 text-sm font-semibold px-4 py-2 rounded-full",children:[C.matchPercentage.toFixed(1),"% Match"]})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"This value consistently appeared across your responses, indicating it's a core part of your decision-making."})]},k))}),m.length===0&&a.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:a.jsx("p",{className:"text-center text-gray-700",children:"We're still analyzing your responses. Your value patterns will be used in the upcoming simulation."})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center border border-gray-200",children:[a.jsxs("div",{className:"max-w-2xl mx-auto mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Want to understand how we identified these values?"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We used a comprehensive analysis comparing your explicit choices with patterns from implicit scenarios. If you're curious about the methodology and detailed breakdown, you can explore the full analysis below."}),a.jsx("p",{className:"text-sm text-gray-500 mt-3 italic",children:"Exploring the detailed analysis is completely optional"})]}),a.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center gap-2 mx-auto",children:[a.jsx(ks,{className:"h-5 w-5"}),"Explore Why"]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("button",{onClick:()=>e("/preferences"),className:"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700 transition-colors duration-300 flex items-center gap-2",children:[a.jsx(wi,{className:"h-5 w-5"}),"Back to Preferences"]}),a.jsxs("button",{onClick:b,className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center gap-2",children:["Start Simulation",a.jsx(Tn,{className:"h-5 w-5"})]})]})]})]})},sj=()=>{const e=Yt(),[t,n]=N.useState(!1),[r,i]=N.useState(!1),s=N.useRef(null),o=()=>{if(s.current){const d="VbISk2VL0G8";s.current.src=`https://www.youtube.com/embed/${d}?autoplay=1&enablejsapi=1&rel=0`,i(!0)}},l=()=>{e("/simulation")},c=()=>{n(!0)};return N.useEffect(()=>{const d=u=>{if(u.origin==="https://www.youtube.com")try{const f=typeof u.data=="string"?JSON.parse(u.data):u.data;f.event==="onStateChange"&&(f.info===1?i(!0):f.info===0&&n(!0))}catch(f){console.log("YouTube message parsing error:",f)}};return window.addEventListener("message",d),()=>{window.removeEventListener("message",d)}},[]),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Q2,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Simulation Tutorial"})]})})}),a.jsxs("main",{className:"max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl shadow-lg p-8 mb-8 border border-blue-100",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"bg-white rounded-full p-4 shadow-md",children:a.jsx(G2,{className:"h-12 w-12 text-blue-600"})})}),a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:"Before You Begin the Simulation"}),a.jsx("p",{className:"text-center text-gray-700 text-lg mb-6 max-w-2xl mx-auto",children:"Please watch this tutorial video to understand how the wildfire crisis simulation works. The video will explain the interface, decision-making process, and what to expect during the simulation."}),a.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:a.jsx("div",{className:"relative",style:{paddingBottom:"56.25%",height:0},children:a.jsx("iframe",{ref:s,className:"absolute top-0 left-0 w-full h-full rounded-lg",src:"https://www.youtube.com/embed/VbISk2VL0G8?enablejsapi=1&rel=0",title:"Simulation Tutorial Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),a.jsx("div",{className:"flex flex-col gap-4 justify-center items-center",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center w-full",children:[a.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-300 font-semibold shadow-md hover:shadow-lg",children:[a.jsx(Gy,{className:"h-5 w-5"}),"Replay Video"]}),!t&&a.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-300 font-semibold shadow-md hover:shadow-lg",children:[a.jsx(cr,{className:"h-5 w-5"}),"I've Watched the Video"]}),a.jsxs("button",{onClick:l,disabled:!t,className:`flex items-center gap-2 px-8 py-3 rounded-lg font-semibold shadow-md transition-all duration-300 ${t?"bg-green-600 text-white hover:bg-green-700 hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["Proceed to Simulation",a.jsx(Tn,{className:"h-5 w-5"})]})]})}),!t&&a.jsx("div",{className:"mt-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Note:"}),` After watching the video, click "I've Watched the Video" to enable the proceed button. You can pause and resume the video at any time using the YouTube controls.`]})}),t&&a.jsx("div",{className:"mt-6 bg-green-50 border-l-4 border-green-400 p-4 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-green-800",children:[a.jsx("strong",{children:"Ready!"})," You can now proceed to the simulation. If you'd like to review anything, feel free to replay the video before continuing."]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-200",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"What You'll Learn in This Tutorial"}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-blue-600 mr-2",children:""}),a.jsx("span",{children:"How to evaluate different decision options in the simulation"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-blue-600 mr-2",children:""}),a.jsx("span",{children:"Understanding the metrics and their impact on your decisions"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-blue-600 mr-2",children:""}),a.jsx("span",{children:"How to explore alternative options and make informed choices"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-blue-600 mr-2",children:""}),a.jsx("span",{children:"What to expect as you progress through the wildfire crisis scenarios"})]})]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wo(e){return e+.5|0}const Er=(e,t,n)=>Math.max(Math.min(e,n),t);function fa(e){return Er(wo(e*2.55),0,255)}function Wr(e){return Er(wo(e*255),0,255)}function ar(e){return Er(wo(e/2.55)/100,0,1)}function ag(e){return Er(wo(e*100),0,100)}const dn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cf=[..."0123456789ABCDEF"],aj=e=>Cf[e&15],oj=e=>Cf[(e&240)>>4]+Cf[e&15],nl=e=>(e&240)>>4===(e&15),lj=e=>nl(e.r)&&nl(e.g)&&nl(e.b)&&nl(e.a);function cj(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&dn[e[1]]*17,g:255&dn[e[2]]*17,b:255&dn[e[3]]*17,a:t===5?dn[e[4]]*17:255}:(t===7||t===9)&&(n={r:dn[e[1]]<<4|dn[e[2]],g:dn[e[3]]<<4|dn[e[4]],b:dn[e[5]]<<4|dn[e[6]],a:t===9?dn[e[7]]<<4|dn[e[8]]:255})),n}const dj=(e,t)=>e<255?t(e):"";function uj(e){var t=lj(e)?aj:oj;return e?"#"+t(e.r)+t(e.g)+t(e.b)+dj(e.a,t):void 0}const fj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qy(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function hj(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function mj(e,t,n){const r=qy(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function pj(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Hh(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),l=(s+o)/2;let c,d,u;return s!==o&&(u=s-o,d=l>.5?u/(2-s-o):u/(s+o),c=pj(n,r,i,u,s),c=c*60+.5),[c|0,d||0,l]}function Uh(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Wr)}function Yh(e,t,n){return Uh(qy,e,t,n)}function gj(e,t,n){return Uh(mj,e,t,n)}function xj(e,t,n){return Uh(hj,e,t,n)}function Jy(e){return(e%360+360)%360}function vj(e){const t=fj.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?fa(+t[5]):Wr(+t[5]));const i=Jy(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=gj(i,s,o):t[1]==="hsv"?r=xj(i,s,o):r=Yh(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function yj(e,t){var n=Hh(e);n[0]=Jy(n[0]+t),n=Yh(n),e.r=n[0],e.g=n[1],e.b=n[2]}function bj(e){if(!e)return;const t=Hh(e),n=t[0],r=ag(t[1]),i=ag(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${ar(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const og={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},lg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wj(){const e={},t=Object.keys(lg),n=Object.keys(og);let r,i,s,o,l;for(r=0;r<t.length;r++){for(o=l=t[r],i=0;i<n.length;i++)s=n[i],l=l.replace(s,og[s]);s=parseInt(lg[o],16),e[l]=[s>>16&255,s>>8&255,s&255]}return e}let rl;function Sj(e){rl||(rl=wj(),rl.transparent=[0,0,0,0]);const t=rl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Nj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jj(e){const t=Nj.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?fa(o):Er(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?fa(r):Er(r,0,255)),i=255&(t[4]?fa(i):Er(i,0,255)),s=255&(t[6]?fa(s):Er(s,0,255)),{r,g:i,b:s,a:n}}}function Cj(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ar(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Zd=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ui=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function kj(e,t,n){const r=Ui(ar(e.r)),i=Ui(ar(e.g)),s=Ui(ar(e.b));return{r:Wr(Zd(r+n*(Ui(ar(t.r))-r))),g:Wr(Zd(i+n*(Ui(ar(t.g))-i))),b:Wr(Zd(s+n*(Ui(ar(t.b))-s))),a:e.a+n*(t.a-e.a)}}function il(e,t,n){if(e){let r=Hh(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Yh(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Ky(e,t){return e&&Object.assign(t||{},e)}function cg(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Wr(e[3]))):(t=Ky(e,{r:0,g:0,b:0,a:1}),t.a=Wr(t.a)),t}function Ij(e){return e.charAt(0)==="r"?jj(e):vj(e)}class Qa{constructor(t){if(t instanceof Qa)return t;const n=typeof t;let r;n==="object"?r=cg(t):n==="string"&&(r=cj(t)||Sj(t)||Ij(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Ky(this._rgb);return t&&(t.a=ar(t.a)),t}set rgb(t){this._rgb=cg(t)}rgbString(){return this._valid?Cj(this._rgb):void 0}hexString(){return this._valid?uj(this._rgb):void 0}hslString(){return this._valid?bj(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,l=2*o-1,c=r.a-i.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=kj(this._rgb,t._rgb,n)),this}clone(){return new Qa(this.rgb)}alpha(t){return this._rgb.a=Wr(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=wo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return il(this._rgb,2,t),this}darken(t){return il(this._rgb,2,-t),this}saturate(t){return il(this._rgb,1,t),this}desaturate(t){return il(this._rgb,1,-t),this}rotate(t){return yj(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function er(){}const Pj=(()=>{let e=0;return()=>e++})();function Ee(e){return e==null}function Ge(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function je(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function mt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function $n(e,t){return mt(e)?e:t}function be(e,t){return typeof e>"u"?t:e}const _j=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ve(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Me(e,t,n,r){let i,s,o;if(Ge(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(je(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function hc(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function mc(e){if(Ge(e))return e.map(mc);if(je(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=mc(e[n[i]]);return t}return e}function Qy(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Ej(e,t,n,r){if(!Qy(e))return;const i=t[e],s=n[e];je(i)&&je(s)?Xa(i,s,r):t[e]=mc(s)}function Xa(e,t,n){const r=Ge(t)?t:[t],i=r.length;if(!je(e))return e;n=n||{};const s=n.merger||Ej;let o;for(let l=0;l<i;++l){if(o=r[l],!je(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)s(c[d],e,o,n)}return e}function Ca(e,t){return Xa(e,t,{merger:Dj})}function Dj(e,t,n){if(!Qy(e))return;const r=t[e],i=n[e];je(r)&&je(i)?Ca(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=mc(i))}const dg={"":e=>e,x:e=>e.x,y:e=>e.y};function Rj(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Mj(e){const t=Rj(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Mi(e,t){return(dg[t]||(dg[t]=Mj(t)))(e)}function Gh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Za=e=>typeof e<"u",Kr=e=>typeof e=="function",ug=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Tj(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const st=Math.PI,tn=2*st,Aj=tn+st,pc=Number.POSITIVE_INFINITY,Oj=st/180,Qt=st/2,ii=st/4,fg=st*2/3,Xy=Math.log10,Jn=Math.sign;function ka(e,t,n){return Math.abs(e-t)<n}function hg(e){const t=Math.round(e);e=ka(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Xy(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Lj(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function Fj(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function eo(e){return!Fj(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function zj(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Vj(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Dr(e){return e*(st/180)}function qh(e){return e*(180/st)}function mg(e){if(!mt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Bj(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*st&&(s+=tn),{angle:s,distance:i}}function kf(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $j(e,t){return(e-t+Aj)%tn-st}function Jt(e){return(e%tn+tn)%tn}function Zy(e,t,n,r){const i=Jt(e),s=Jt(t),o=Jt(n),l=Jt(s-i),c=Jt(o-i),d=Jt(i-s),u=Jt(i-o);return i===s||i===o||r&&s===o||l>c&&d<u}function Xt(e,t,n){return Math.max(t,Math.min(n,e))}function Wj(e){return Xt(e,-32768,32767)}function Rr(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Jh(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const xi=(e,t,n,r)=>Jh(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),Hj=(e,t,n)=>Jh(e,n,r=>e[r][t]>=n);function Uj(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const eb=["push","pop","shift","splice","unshift"];function Yj(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),eb.forEach(n=>{const r="_onData"+Gh(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),o}})})}function pg(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(eb.forEach(s=>{delete e[s]}),delete e._chartjs)}function tb(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const nb=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function rb(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,nb.call(window,()=>{r=!1,e.apply(t,n)}))}}function Gj(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Kh=e=>e==="start"?"left":e==="end"?"right":"center",It=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,qj=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function Jj(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:f,max:h,minDefined:m,maxDefined:g}=o.getUserBounds();if(m){if(i=Math.min(xi(c,u,f).lo,n?r:xi(t,u,o.getPixelForValue(f)).lo),d){const x=c.slice(0,i+1).reverse().findIndex(y=>!Ee(y[l.axis]));i-=Math.max(0,x)}i=Xt(i,0,r-1)}if(g){let x=Math.max(xi(c,o.axis,h,!0).hi+1,n?0:xi(t,u,o.getPixelForValue(h),!0).hi+1);if(d){const y=c.slice(x-1).findIndex(p=>!Ee(p[l.axis]));x+=Math.max(0,y)}s=Xt(x,i,r)-i}else s=r-i}return{start:i,count:s}}function Kj(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const sl=e=>e===0||e===1,gg=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*tn/n)),xg=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*tn/n)+1,Ia={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Qt)+1,easeOutSine:e=>Math.sin(e*Qt),easeInOutSine:e=>-.5*(Math.cos(st*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>sl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>sl(e)?e:gg(e,.075,.3),easeOutElastic:e=>sl(e)?e:xg(e,.075,.3),easeInOutElastic(e){return sl(e)?e:e<.5?.5*gg(e*2,.1125,.45):.5+.5*xg(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ia.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ia.easeInBounce(e*2)*.5:Ia.easeOutBounce(e*2-1)*.5+.5};function Qh(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function vg(e){return Qh(e)?e:new Qa(e)}function eu(e){return Qh(e)?e:new Qa(e).saturate(.5).darken(.1).hexString()}const Qj=["x","y","borderWidth","radius","tension"],Xj=["color","borderColor","backgroundColor"];function Zj(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Xj},numbers:{type:"number",properties:Qj}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function eC(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const yg=new Map;function tC(e,t){t=t||{};const n=e+JSON.stringify(t);let r=yg.get(n);return r||(r=new Intl.NumberFormat(e,t),yg.set(n,r)),r}function ib(e,t,n){return tC(t,n).format(e)}const nC={values(e){return Ge(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=rC(e,n)}const o=Xy(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),ib(e,r,c)}};function rC(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Xh={formatters:nC};function iC(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ti=Object.create(null),If=Object.create(null);function Pa(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function tu(e,t,n){return typeof t=="string"?Xa(Pa(e,t),n):Xa(Pa(e,""),t)}class sC{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>eu(i.backgroundColor),this.hoverBorderColor=(r,i)=>eu(i.borderColor),this.hoverColor=(r,i)=>eu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return tu(this,t,n)}get(t){return Pa(this,t)}describe(t,n){return tu(If,t,n)}override(t,n){return tu(Ti,t,n)}route(t,n,r,i){const s=Pa(this,t),o=Pa(this,r),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],d=o[i];return je(c)?Object.assign({},d,c):be(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(n=>n(this))}}var tt=new sC({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Zj,eC,iC]);function aC(e){return!e||Ee(e.size)||Ee(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function gc(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function oC(e,t,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const l=n.length;let c,d,u,f,h;for(c=0;c<l;c++)if(f=n[c],f!=null&&!Ge(f))o=gc(e,i,s,o,f);else if(Ge(f))for(d=0,u=f.length;d<u;d++)h=f[d],h!=null&&!Ge(h)&&(o=gc(e,i,s,o,h));e.restore();const m=s.length/2;if(m>n.length){for(c=0;c<m;c++)delete i[s[c]];s.splice(0,m)}return o}function si(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function bg(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Pf(e,t,n,r){sb(e,t,n,r,null)}function sb(e,t,n,r,i){let s,o,l,c,d,u,f,h;const m=t.pointStyle,g=t.rotation,x=t.radius;let y=(g||0)*Oj;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(y),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(x)||x<=0)){switch(e.beginPath(),m){default:i?e.ellipse(n,r,i/2,x,0,0,tn):e.arc(n,r,x,0,tn),e.closePath();break;case"triangle":u=i?i/2:x,e.moveTo(n+Math.sin(y)*u,r-Math.cos(y)*x),y+=fg,e.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*x),y+=fg,e.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*x),e.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(y+ii)*c,f=Math.cos(y+ii)*(i?i/2-d:c),l=Math.sin(y+ii)*c,h=Math.sin(y+ii)*(i?i/2-d:c),e.arc(n-f,r-l,d,y-st,y-Qt),e.arc(n+h,r-o,d,y-Qt,y),e.arc(n+f,r+l,d,y,y+Qt),e.arc(n-h,r+o,d,y+Qt,y+st),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*x,u=i?i/2:c,e.rect(n-u,r-c,2*u,2*c);break}y+=ii;case"rectRot":f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),e.moveTo(n-f,r-l),e.lineTo(n+h,r-o),e.lineTo(n+f,r+l),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":y+=ii;case"cross":f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),e.moveTo(n-f,r-l),e.lineTo(n+f,r+l),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),e.moveTo(n-f,r-l),e.lineTo(n+f,r+l),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),y+=ii,f=Math.cos(y)*(i?i/2:x),o=Math.cos(y)*x,l=Math.sin(y)*x,h=Math.sin(y)*(i?i/2:x),e.moveTo(n-f,r-l),e.lineTo(n+f,r+l),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(y)*x,l=Math.sin(y)*x,e.moveTo(n-o,r-l),e.lineTo(n+o,r+l);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(y)*(i?i/2:x),r+Math.sin(y)*x);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function dr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function qc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Jc(e){e.restore()}function lC(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function cC(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function dC(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ee(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function uC(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,l=t+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(l,u),e.stroke()}}function fC(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ai(e,t,n,r,i,s={}){const o=Ge(t)?t:[t],l=s.strokeWidth>0&&s.strokeColor!=="";let c,d;for(e.save(),e.font=i.string,dC(e,s),c=0;c<o.length;++c)d=o[c],s.backdrop&&fC(e,s.backdrop),l&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Ee(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(d,n,r,s.maxWidth)),e.fillText(d,n,r,s.maxWidth),uC(e,n,r,d,s),r+=Number(i.lineHeight);e.restore()}function to(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*st,st,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,st,Qt,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Qt,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Qt,!0),e.lineTo(n+o.topLeft,r)}const hC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pC(e,t){const n=(""+e).match(hC);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const gC=e=>+e||0;function ab(e,t){const n={},r=je(t),i=r?Object.keys(t):t,s=je(e)?r?o=>be(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=gC(s(o));return n}function ob(e){return ab(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Si(e){return ab(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Et(e){const t=ob(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ct(e,t){e=e||{},t=t||tt.font;let n=be(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=be(e.style,t.style);r&&!(""+r).match(mC)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:be(e.family,t.family),lineHeight:pC(be(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:be(e.weight,t.weight),string:""};return i.string=aC(i),i}function al(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function xC(e,t,n){const{min:r,max:i}=e,s=_j(t,(i-r)/2),o=(l,c)=>n&&l===0?0:l+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function ti(e,t){return Object.assign(Object.create(e),t)}function Zh(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=ub("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>Zh([l,...e],t,s,r)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return cb(l,c,()=>CC(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return Sg(l).includes(c)},ownKeys(l){return Sg(l)},set(l,c,d){const u=l._storage||(l._storage=i());return l[c]=u[c]=d,delete l._keys,!0}})}function _s(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:lb(e,r),setContext:s=>_s(e,s,n,r),override:s=>_s(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,l){return cb(s,o,()=>yC(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,l){return e[o]=l,delete s[o],!0}})}function lb(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Kr(n)?n:()=>n,isIndexable:Kr(r)?r:()=>r}}const vC=(e,t)=>e?e+Gh(t):t,em=(e,t)=>je(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function cb(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function yC(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let l=r[t];return Kr(l)&&o.isScriptable(t)&&(l=bC(t,l,e,n)),Ge(l)&&l.length&&(l=wC(t,l,e,o.isIndexable)),em(t,l)&&(l=_s(l,i,s&&s[t],o)),l}function bC(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(s,o||r);return l.delete(e),em(e,c)&&(c=tm(i._scopes,i,e,c)),c}function wC(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(je(t[0])){const c=t,d=i._scopes.filter(u=>u!==c);t=[];for(const u of c){const f=tm(d,i,e,u);t.push(_s(f,s,o&&o[e],l))}}return t}function db(e,t,n){return Kr(e)?e(t,n):e}const SC=(e,t)=>e===!0?t:typeof e=="string"?Mi(t,e):void 0;function NC(e,t,n,r,i){for(const s of t){const o=SC(n,s);if(o){e.add(o);const l=db(o._fallback,n,i);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function tm(e,t,n,r){const i=t._rootScopes,s=db(t._fallback,n,r),o=[...e,...i],l=new Set;l.add(r);let c=wg(l,o,n,s||n,r);return c===null||typeof s<"u"&&s!==n&&(c=wg(l,o,s,c,r),c===null)?!1:Zh(Array.from(l),[""],i,s,()=>jC(t,n,r))}function wg(e,t,n,r,i){for(;n;)n=NC(e,t,n,r,i);return n}function jC(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Ge(i)&&je(n)?n:i||{}}function CC(e,t,n,r){let i;for(const s of t)if(i=ub(vC(s,e),n),typeof i<"u")return em(e,i)?tm(n,r,e,i):i}function ub(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function Sg(e){let t=e._keys;return t||(t=e._keys=kC(e._scopes)),t}function kC(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}function IC(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let l,c,d,u;for(l=0,c=r;l<c;++l)d=l+n,u=t[d],o[l]={r:i.parse(Mi(u,s),d)};return o}const PC=Number.EPSILON||1e-14,Es=(e,t)=>t<e.length&&!e[t].skip&&e[t],fb=e=>e==="x"?"y":"x";function _C(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,l=kf(s,i),c=kf(o,s);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const f=r*d,h=r*u;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function EC(e,t,n){const r=e.length;let i,s,o,l,c,d=Es(e,0);for(let u=0;u<r-1;++u)if(c=d,d=Es(e,u+1),!(!c||!d)){if(ka(t[u],0,PC)){n[u]=n[u+1]=0;continue}i=n[u]/t[u],s=n[u+1]/t[u],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),n[u]=i*o*t[u],n[u+1]=s*o*t[u])}}function DC(e,t,n="x"){const r=fb(n),i=e.length;let s,o,l,c=Es(e,0);for(let d=0;d<i;++d){if(o=l,l=c,c=Es(e,d+1),!l)continue;const u=l[n],f=l[r];o&&(s=(u-o[n])/3,l[`cp1${n}`]=u-s,l[`cp1${r}`]=f-s*t[d]),c&&(s=(c[n]-u)/3,l[`cp2${n}`]=u+s,l[`cp2${r}`]=f+s*t[d])}}function RC(e,t="x"){const n=fb(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,l,c,d=Es(e,0);for(o=0;o<r;++o)if(l=c,c=d,d=Es(e,o+1),!!c){if(d){const u=d[t]-c[t];i[o]=u!==0?(d[n]-c[n])/u:0}s[o]=l?d?Jn(i[o-1])!==Jn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}EC(e,i,s),DC(e,s,t)}function ol(e,t,n){return Math.max(Math.min(e,n),t)}function MC(e,t){let n,r,i,s,o,l=dr(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=l,l=n<r-1&&dr(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=ol(i.cp1x,t.left,t.right),i.cp1y=ol(i.cp1y,t.top,t.bottom)),l&&(i.cp2x=ol(i.cp2x,t.left,t.right),i.cp2y=ol(i.cp2y,t.top,t.bottom)))}function TC(e,t,n,r,i){let s,o,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")RC(e,i);else{let d=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)l=e[s],c=_C(d,l,e[Math.min(s+1,o-(r?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&MC(e,n)}function nm(){return typeof window<"u"&&typeof document<"u"}function rm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function xc(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Kc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function AC(e,t){return Kc(e).getPropertyValue(t)}const OC=["top","right","bottom","left"];function Ni(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=OC[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const LC=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function FC(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,l,c;if(LC(i,s,e.target))l=i,c=s;else{const d=t.getBoundingClientRect();l=r.clientX-d.left,c=r.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function di(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Kc(n),s=i.boxSizing==="border-box",o=Ni(i,"padding"),l=Ni(i,"border","width"),{x:c,y:d,box:u}=FC(e,n),f=o.left+(u&&l.left),h=o.top+(u&&l.top);let{width:m,height:g}=t;return s&&(m-=o.width+l.width,g-=o.height+l.height),{x:Math.round((c-f)/m*n.width/r),y:Math.round((d-h)/g*n.height/r)}}function zC(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&rm(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),l=Kc(s),c=Ni(l,"border","width"),d=Ni(l,"padding");t=o.width-d.width-c.width,n=o.height-d.height-c.height,r=xc(l.maxWidth,s,"clientWidth"),i=xc(l.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||pc,maxHeight:i||pc}}const ll=e=>Math.round(e*10)/10;function VC(e,t,n,r){const i=Kc(e),s=Ni(i,"margin"),o=xc(i.maxWidth,e,"clientWidth")||pc,l=xc(i.maxHeight,e,"clientHeight")||pc,c=zC(e,t,n);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const h=Ni(i,"border","width"),m=Ni(i,"padding");d-=m.width+h.width,u-=m.height+h.height}return d=Math.max(0,d-s.width),u=Math.max(0,r?d/r:u-s.height),d=ll(Math.min(d,o,c.maxWidth)),u=ll(Math.min(u,l,c.maxHeight)),d&&!u&&(u=ll(d/2)),(t!==void 0||n!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,d=ll(Math.floor(u*r))),{width:d,height:u}}function Ng(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const BC=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};nm()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function jg(e,t){const n=AC(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ui(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function $C(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function WC(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=ui(e,i,n),l=ui(i,s,n),c=ui(s,t,n),d=ui(o,l,n),u=ui(l,c,n);return ui(d,u,n)}const HC=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},UC=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function xs(e,t,n){return e?HC(t,n):UC()}function hb(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function mb(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function pb(e){return e==="angle"?{between:Zy,compare:$j,normalize:Jt}:{between:Rr,compare:(t,n)=>t-n,normalize:t=>t}}function Cg({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function YC(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:l}=pb(r),c=t.length;let{start:d,end:u,loop:f}=e,h,m;if(f){for(d+=c,u+=c,h=0,m=c;h<m&&o(l(t[d%c][r]),i,s);++h)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:f,style:e.style}}function gb(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:l,between:c,normalize:d}=pb(r),{start:u,end:f,loop:h,style:m}=YC(e,t,n),g=[];let x=!1,y=null,p,v,b;const j=()=>c(i,b,p)&&l(i,b)!==0,w=()=>l(s,p)===0||c(s,b,p),S=()=>x||j(),C=()=>!x||w();for(let k=u,I=u;k<=f;++k)v=t[k%o],!v.skip&&(p=d(v[r]),p!==b&&(x=c(p,i,s),y===null&&S()&&(y=l(p,i)===0?k:I),y!==null&&C()&&(g.push(Cg({start:y,end:k,loop:h,count:o,style:m})),y=null),I=k,b=p));return y!==null&&g.push(Cg({start:y,end:f,loop:h,count:o,style:m})),g}function xb(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=gb(r[i],e.points,t);s.length&&n.push(...s)}return n}function GC(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function qC(e,t,n,r){const i=e.length,s=[];let o=t,l=e[t],c;for(c=t+1;c<=n;++c){const d=e[c%i];d.skip||d.stop?l.skip||(r=!1,s.push({start:t%i,end:(c-1)%i,loop:r}),t=o=d.stop?c:null):(o=c,l.skip&&(t=c)),l=d}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function JC(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:l}=GC(n,i,s,r);if(r===!0)return kg(e,[{start:o,end:l,loop:s}],n,t);const c=l<o?l+i:l,d=!!e._fullLoop&&o===0&&l===i-1;return kg(e,qC(n,o,c,d),n,t)}function kg(e,t,n,r){return!r||!r.setContext||!n?t:KC(e,t,n,r)}function KC(e,t,n,r){const i=e._chart.getContext(),s=Ig(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=n.length,d=[];let u=s,f=t[0].start,h=f;function m(g,x,y,p){const v=l?-1:1;if(g!==x){for(g+=c;n[g%c].skip;)g-=v;for(;n[x%c].skip;)x+=v;g%c!==x%c&&(d.push({start:g%c,end:x%c,loop:y,style:p}),u=p,f=x%c)}}for(const g of t){f=l?f:g.start;let x=n[f%c],y;for(h=f+1;h<=g.end;h++){const p=n[h%c];y=Ig(r.setContext(ti(i,{type:"segment",p0:x,p1:p,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),QC(y,u)&&m(f,h-1,g.loop,u),x=p,u=y}f<h-1&&m(f,h-1,g.loop,u)}return d}function Ig(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function QC(e,t){if(!t)return!1;const n=[],r=function(i,s){return Qh(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class XC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(l=>l({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=nb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,l=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),l=!0):(s[o]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var nr=new XC;const Pg="transparent",ZC={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=vg(e||Pg),i=r.valid&&vg(t||Pg);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class ek{constructor(t,n,r,i){const s=n[r];i=al([t.to,i,s,t.from]);const o=al([t.from,s,i]);this._active=!0,this._fn=t.fn||ZC[t.type||typeof o],this._easing=Ia[t.easing]||Ia.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=al([t.to,n,i,t.from]),this._from=al([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,l=this._to;let c;if(this._active=s!==l&&(o||n<r),!this._active){this._target[i]=l,this._notify(!0);return}if(n<0){this._target[i]=s;return}c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class vb{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!je(t))return;const n=Object.keys(tt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!je(s))return;const o={};for(const l of n)o[l]=s[l];(Ge(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,o)})})}_animateOptions(t,n){const r=n.options,i=nk(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&tk(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[d];let f=s[d];const h=r.get(d);if(f)if(h&&f.active()){f.update(h,u,l);continue}else f.cancel();if(!h||!h.duration){t[d]=u;continue}s[d]=f=new ek(h,t,d,u),i.push(f)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return nr.add(this._chart,r),!0}}function tk(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function nk(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function _g(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function rk(e,t,n){if(n===!1)return!1;const r=_g(e,n),i=_g(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function ik(e){let t,n,r,i;return je(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function yb(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Eg(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,l,c,d;if(t===null)return;let u=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===n){if(u=!0,r.all)continue;break}d=e.values[c],mt(d)&&(s||t===0||Jn(t)===Jn(d))&&(t+=d)}return!u&&!r.all?0:t}function sk(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[i]:u,[s]:e[u]};return l}function nu(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function ak(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function ok(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function lk(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Dg(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Rg(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=r,c=s.axis,d=o.axis,u=ak(s,o,r),f=t.length;let h;for(let m=0;m<f;++m){const g=t[m],{[c]:x,[d]:y}=g,p=g._stacks||(g._stacks={});h=p[d]=lk(i,u,x),h[l]=y,h._top=Dg(h,o,!0,r.type),h._bottom=Dg(h,o,!1,r.type);const v=h._visualValues||(h._visualValues={});v[l]=y}}function ru(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function ck(e,t){return ti(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function dk(e,t,n){return ti(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ea(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const iu=e=>e==="reset"||e==="none",Mg=(e,t)=>t?e:Object.assign({},e),uk=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:yb(n,!0),values:null};class ji{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=nu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ea(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,h,m,g)=>f==="x"?h:f==="r"?g:m,s=n.xAxisID=be(r.xAxisID,ru(t,"x")),o=n.yAxisID=be(r.yAxisID,ru(t,"y")),l=n.rAxisID=be(r.rAxisID,ru(t,"r")),c=n.indexAxis,d=n.iAxisID=i(c,s,o,l),u=n.vAxisID=i(c,o,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&pg(this._data,this),t._stacked&&ea(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(je(n)){const i=this._cachedMeta;this._data=sk(n,i)}else if(r!==n){if(r){pg(r,this);const i=this._cachedMeta;ea(i),i._parsed=[]}n&&Object.isExtensible(n)&&Yj(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=nu(n.vScale,n),n.stack!==r.stack&&(i=!0,ea(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(Rg(this,n._parsed),n._stacked=nu(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,l=s.axis;let c=t===0&&n===i.length?!0:r._sorted,d=t>0&&r._parsed[t-1],u,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Ge(i[t])?h=this.parseArrayData(r,i,t,n):je(i[t])?h=this.parseObjectData(r,i,t,n):h=this.parsePrimitiveData(r,i,t,n);const m=()=>f[l]===null||d&&f[l]<d[l];for(u=0;u<n;++u)r._parsed[u+t]=f=h[u],c&&(m()&&(c=!1),d=f);r._sorted=c}o&&Rg(this,h)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,l=s.axis,c=o.axis,d=s.getLabels(),u=s===o,f=new Array(i);let h,m,g;for(h=0,m=i;h<m;++h)g=h+r,f[h]={[l]:u||s.parse(d[g],g),[c]:o.parse(n[g],g)};return f}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,l=new Array(i);let c,d,u,f;for(c=0,d=i;c<d;++c)u=c+r,f=n[u],l[c]={x:s.parse(f[0],u),y:o.parse(f[1],u)};return l}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,f,h,m;for(u=0,f=i;u<f;++u)h=u+r,m=n[h],d[u]={x:s.parse(Mi(m,l),h),y:o.parse(Mi(m,c),h)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],l={keys:yb(i,!0),values:n._stacks[t.axis]._visualValues};return Eg(l,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const l=i&&r._stacks[n.axis];i&&l&&(i.values=l,o=Eg(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,l=this._getOtherScale(t),c=uk(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=ok(l);let h,m;function g(){m=i[h];const x=m[l.axis];return!mt(m[t.axis])||u>x||f<x}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(d,t,m,c),s));++h);if(s){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(d,t,m,c);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],mt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=ik(be(this.options.clip,rk(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,s,l,c),u=l;u<l+c;++u){const f=i[u];f.hidden||(f.active&&d?o.push(f):f.draw(t,s))}for(u=0;u<o.length;++u)o[u].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=dk(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=ck(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,l=s[o],c=this.enableOptionSharing&&Za(r);if(l)return Mg(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],h=d.getOptionScopes(this.getDataset(),u),m=Object.keys(tt.elements[t]),g=()=>this.getContext(r,i,n),x=d.resolveNamedOptions(h,m,g,f);return x.$shared&&(x.$shared=c,s[o]=Object.freeze(Mg(x,c))),x}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,l=s[o];if(l)return l;let c;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(h,this.getContext(t,r,n))}const d=new vb(i,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||iu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){iu(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!iu(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let l;const c=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(c(s),l=t;l<o;++l)s[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&ea(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(ji,"defaults",{}),Z(ji,"datasetElementType",null),Z(ji,"dataElementType",null);function fk(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=tb(r.sort((i,s)=>i-s))}return e._cache.$bar}function hk(e){const t=e.iScale,n=fk(t,e.type);let r=t._length,i,s,o,l;const c=()=>{o===32767||o===-32768||(Za(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),c();for(l=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),c();return r}function mk(e,t,n,r){const i=n.barThickness;let s,o;return Ee(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function pk(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,l=e<i.length-1?i[e+1]:null;const c=n.categoryPercentage;o===null&&(o=s-(l===null?t.end-t.start:l-s)),l===null&&(l=s+s-o);const d=s-(s-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/r,ratio:n.barPercentage,start:d}}function gk(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),l=Math.max(i,s);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),t[n.axis]=d,t._custom={barStart:c,barEnd:d,start:i,end:s,min:o,max:l}}function bb(e,t,n,r){return Ge(e)?gk(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Tg(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),l=i===s,c=[];let d,u,f,h;for(d=n,u=n+r;d<u;++d)h=t[d],f={},f[i.axis]=l||i.parse(o[d],d),c.push(bb(h,f,s,d));return c}function su(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function xk(e,t,n){return e!==0?Jn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function vk(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function yk(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=vk(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=d:(n._bottom||0)===r?i=u:(s[Ag(u,o,l,c)]=!0,i=d)),s[Ag(i,o,l,c)]=!0,e.borderSkipped=s}function Ag(e,t,n,r){return r?(e=bk(e,t,n),e=Og(e,n,t)):e=Og(e,t,n),e}function bk(e,t,n){return e===t?n:e===n?t:e}function Og(e,t,n){return e==="start"?t:e==="end"?n:e}function wk(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Ol extends ji{parsePrimitiveData(t,n,r,i){return Tg(t,n,r,i)}parseArrayData(t,n,r,i){return Tg(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,u=o.axis==="x"?l:c,f=[];let h,m,g,x;for(h=r,m=r+i;h<m;++h)x=n[h],g={},g[s.axis]=s.parse(Mi(x,d),h),f.push(bb(Mi(x,u),g,o,h));return f}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,l=su(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,i);for(let m=n;m<n+r;m++){const g=this.getParsed(m),x=s||Ee(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,u),p=(g._stacks||{})[l.axis],v={horizontal:d,base:x.base,enableBorderRadius:!p||su(g._custom)||o===p._top||o===p._bottom,x:d?x.head:y.center,y:d?y.center:x.head,height:d?y.size:Math.abs(x.size),width:d?Math.abs(x.size):y.size};h&&(v.options=f||this.resolveDataElementOptions(m,t[m].active?"active":i));const b=v.options||t[m].options;yk(v,b,p,o),wk(v,b,u.ratio),this.updateElement(t[m],m,v,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],d=u=>{const f=u._parsed.find(m=>m[r.axis]===c),h=f&&f[u.vScale.axis];if(Ee(h)||isNaN(h))return!0};for(const u of i)if(!(n!==void 0&&d(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const l=t.barThickness;return{min:l||hk(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,l=s||0,c=this.getParsed(t),d=c._custom,u=su(d);let f=c[n.axis],h=0,m=r?this.applyStack(n,c,r):f,g,x;m!==f&&(h=m-f,m=f),u&&(f=d.barStart,m=d.barEnd-d.barStart,f!==0&&Jn(f)!==Jn(d.barEnd)&&(h=0),h+=f);const y=!Ee(s)&&!u?s:h;let p=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(h+m):g=p,x=g-p,Math.abs(x)<o){x=xk(x,n,l)*o,f===l&&(p-=x/2);const v=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),j=Math.min(v,b),w=Math.max(v,b);p=Math.max(Math.min(p,w),j),g=p+x,r&&!u&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(p))}if(p===n.getPixelForValue(l)){const v=Jn(x)*n.getLineWidthForValue(l)/2;p+=v,x-=v}return{size:x,base:p,head:g,center:g+x/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=be(i.maxBarThickness,1/0);let l,c;if(n.grouped){const d=s?this._getStackCount(t):n.stackCount,u=i.barThickness==="flex"?pk(t,n,i,d):mk(t,n,i,d),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);l=u.start+u.chunk*f+u.chunk/2,c=Math.min(o,u.chunk*u.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(o,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}Z(Ol,"id","bar"),Z(Ol,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Z(Ol,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ll extends ji{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:l,count:c}=Jj(n,i,o);this._drawStart=l,this._drawCount=c,Kj(n)&&(l=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:d},t),this.updateElements(i,l,c,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,i),h=o.axis,m=l.axis,{spanGaps:g,segment:x}=this.options,y=eo(g)?g:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||i==="none",v=n+r,b=t.length;let j=n>0&&this.getParsed(n-1);for(let w=0;w<b;++w){const S=t[w],C=p?S:{};if(w<n||w>=v){C.skip=!0;continue}const k=this.getParsed(w),I=Ee(k[m]),E=C[h]=o.getPixelForValue(k[h],w),_=C[m]=s||I?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,k,c):k[m],w);C.skip=isNaN(E)||isNaN(_)||I,C.stop=w>0&&Math.abs(k[h]-j[h])>y,x&&(C.parsed=k,C.raw=d.data[w]),f&&(C.options=u||this.resolveDataElementOptions(w,S.active?"active":i)),p||this.updateElement(S,w,C,i),j=k}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Z(Ll,"id","line"),Z(Ll,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(Ll,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Fl extends ji{getLabelAndValue(t){const n=this._cachedMeta.vScale,r=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(t,n,r,i){return IC.bind(this)(t,n,r,i)}update(t){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,l,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let l=n;l<n+r;l++){const c=t[l],d=this.resolveDataElementOptions(l,c.active?"active":i),u=s.getPointPositionForValue(l,this.getParsed(l).r),f=o?s.xCenter:u.x,h=o?s.yCenter:u.y,m={x:f,y:h,angle:u.angle,skip:isNaN(f)||isNaN(h),options:d};this.updateElement(c,l,m,i)}}}Z(Fl,"id","radar"),Z(Fl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Z(Fl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function ai(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class im{constructor(t){Z(this,"options");this.options=t||{}}static override(t){Object.assign(im.prototype,t)}init(){}formats(){return ai()}parse(){return ai()}format(){return ai()}add(){return ai()}diff(){return ai()}startOf(){return ai()}endOf(){return ai()}}var Sk={_date:im};function Nk(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,l=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&s.length){const d=l._reversePixels?Hj:xi;if(r){if(i._sharedOptions){const u=s[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const h=d(s,t,n-f),m=d(s,t,n+f);return{lo:h.lo,hi:m.hi}}}}else{const u=d(s,t,n);if(c){const{vScale:f}=i._cachedMeta,{_parsed:h}=e,m=h.slice(0,u.lo+1).reverse().findIndex(x=>!Ee(x[f.axis]));u.lo-=Math.max(0,m);const g=h.slice(u.hi).findIndex(x=>!Ee(x[f.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function Qc(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let l=0,c=s.length;l<c;++l){const{index:d,data:u}=s[l],{lo:f,hi:h}=Nk(s[l],t,o,i);for(let m=f;m<=h;++m){const g=u[m];g.skip||r(g,d,m)}}}function jk(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function au(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Qc(e,n,t,function(l,c,d){!i&&!dr(l,e.chartArea,0)||l.inRange(t.x,t.y,r)&&s.push({element:l,datasetIndex:c,index:d})},!0),s}function Ck(e,t,n,r){let i=[];function s(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:f}=Bj(o,{x:t.x,y:t.y});Zy(f,d,u)&&i.push({element:o,datasetIndex:l,index:c})}return Qc(e,n,t,s),i}function kk(e,t,n,r,i,s){let o=[];const l=jk(n);let c=Number.POSITIVE_INFINITY;function d(u,f,h){const m=u.inRange(t.x,t.y,i);if(r&&!m)return;const g=u.getCenterPoint(i);if(!(!!s||e.isPointInArea(g))&&!m)return;const y=l(t,g);y<c?(o=[{element:u,datasetIndex:f,index:h}],c=y):y===c&&o.push({element:u,datasetIndex:f,index:h})}return Qc(e,n,t,d),o}function ou(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?Ck(e,t,n,i):kk(e,t,n,r,i,s)}function Lg(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Qc(e,n,t,(c,d,u)=>{c[o]&&c[o](t[n],i)&&(s.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,i))}),r&&!l?[]:s}var Ik={modes:{index(e,t,n,r){const i=di(t,e),s=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?au(e,i,s,r,o):ou(e,i,s,!1,r,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,f=d.data[u];f&&!f.skip&&c.push({element:f,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,n,r){const i=di(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?au(e,i,s,r,o):ou(e,i,s,!1,r,o);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,n,r){const i=di(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return au(e,i,s,r,o)},nearest(e,t,n,r){const i=di(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return ou(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=di(t,e);return Lg(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=di(t,e);return Lg(e,i,"y",n.intersect,r)}}};const wb=["left","top","right","bottom"];function ta(e,t){return e.filter(n=>n.pos===t)}function Fg(e,t){return e.filter(n=>wb.indexOf(n.pos)===-1&&n.box.axis===t)}function na(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Pk(e){const t=[];let n,r,i,s,o,l;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:l=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:l});return t}function _k(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!wb.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function Ek(e,t){const n=_k(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,l;for(s=0,o=e.length;s<o;++s){l=e[s];const{fullSize:c}=l.box,d=n[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*r:c&&t.availableWidth,l.height=i):(l.width=r,l.height=u?u*i:c&&t.availableHeight)}return n}function Dk(e){const t=Pk(e),n=na(t.filter(d=>d.box.fullSize),!0),r=na(ta(t,"left"),!0),i=na(ta(t,"right")),s=na(ta(t,"top"),!0),o=na(ta(t,"bottom")),l=Fg(t,"x"),c=Fg(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:ta(t,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(l)}}function zg(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Sb(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Rk(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!je(i)){n.size&&(e[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,e[i]+=n.size}s.getPadding&&Sb(o,s.getPadding());const l=Math.max(0,t.outerWidth-zg(o,e,"left","right")),c=Math.max(0,t.outerHeight-zg(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function Mk(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Tk(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function ha(e,t,n,r){const i=[];let s,o,l,c,d,u;for(s=0,o=e.length,d=0;s<o;++s){l=e[s],c=l.box,c.update(l.width||t.w,l.height||t.h,Tk(l.horizontal,t));const{same:f,other:h}=Rk(t,n,l,r);d|=f&&i.length,u=u||h,c.fullSize||i.push(l)}return d&&ha(i,t,n,r)||u}function cl(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Vg(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const l of e){const c=l.box,d=r[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const f=t.w*u,h=d.size||c.height;Za(d.start)&&(o=d.start),c.fullSize?cl(c,i.left,o,n.outerWidth-i.right-i.left,h):cl(c,t.left+d.placed,o,f,h),d.start=o,d.placed+=f,o=c.bottom}else{const f=t.h*u,h=d.size||c.width;Za(d.start)&&(s=d.start),c.fullSize?cl(c,s,i.top,h,n.outerHeight-i.bottom-i.top):cl(c,s,t.top+d.placed,h,f),d.start=s,d.placed+=f,s=c.right}}t.x=s,t.y=o}var pn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Et(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),l=Dk(e.boxes),c=l.vertical,d=l.horizontal;Me(e.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,y)=>y.box.options&&y.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);Sb(h,Et(r));const m=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),g=Ek(c.concat(d),f);ha(l.fullSize,m,f,g),ha(c,m,f,g),ha(d,m,f,g)&&ha(c,m,f,g),Mk(m),Vg(l.leftAndTop,m,f,g),m.x+=m.w,m.y+=m.h,Vg(l.rightAndBottom,m,f,g),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Me(l.chartArea,x=>{const y=x.box;Object.assign(y,e.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Nb{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class Ak extends Nb{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const zl="$chartjs",Ok={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bg=e=>e===null||e==="";function Lk(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[zl]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Bg(i)){const s=jg(e,"width");s!==void 0&&(e.width=s)}if(Bg(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=jg(e,"height");s!==void 0&&(e.height=s)}return e}const jb=BC?{passive:!0}:!1;function Fk(e,t,n){e&&e.addEventListener(t,n,jb)}function zk(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,jb)}function Vk(e,t){const n=Ok[e.type]||e.type,{x:r,y:i}=di(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function vc(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Bk(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||vc(l.addedNodes,r),o=o&&!vc(l.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function $k(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||vc(l.removedNodes,r),o=o&&!vc(l.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const no=new Map;let $g=0;function Cb(){const e=window.devicePixelRatio;e!==$g&&($g=e,no.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Wk(e,t){no.size||window.addEventListener("resize",Cb),no.set(e,t)}function Hk(e){no.delete(e),no.size||window.removeEventListener("resize",Cb)}function Uk(e,t,n){const r=e.canvas,i=r&&rm(r);if(!i)return;const s=rb((l,c)=>{const d=i.clientWidth;n(l,c),d<i.clientWidth&&n()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||s(d,u)});return o.observe(i),Wk(e,s),o}function lu(e,t,n){n&&n.disconnect(),t==="resize"&&Hk(e)}function Yk(e,t,n){const r=e.canvas,i=rb(s=>{e.ctx!==null&&n(Vk(s,e))},e);return Fk(r,t,i),i}class Gk extends Nb{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(Lk(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[zl])return!1;const r=n[zl].initial;["height","width"].forEach(s=>{const o=r[s];Ee(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[zl],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:Bk,detach:$k,resize:Uk}[n]||Yk;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:lu,detach:lu,resize:lu}[n]||zk)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return VC(t,n,r,i)}isAttached(t){const n=t&&rm(t);return!!(n&&n.isConnected)}}function qk(e){return!nm()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Ak:Gk}var Nl;let ni=(Nl=class{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return eo(this.x)&&eo(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},Z(Nl,"defaults",{}),Z(Nl,"defaultRoutes"),Nl);function Jk(e,t){const n=e.options.ticks,r=Kk(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Xk(t):[],o=s.length,l=s[0],c=s[o-1],d=[];if(o>i)return Zk(t,d,s,o/i),d;const u=Qk(s,t,i);if(o>0){let f,h;const m=o>1?Math.round((c-l)/(o-1)):null;for(dl(t,d,u,Ee(m)?0:l-m,l),f=0,h=o-1;f<h;f++)dl(t,d,u,s[f],s[f+1]);return dl(t,d,u,c,Ee(m)?t.length:c+m),d}return dl(t,d,u),d}function Kk(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function Qk(e,t,n){const r=e5(e),i=t.length/n;if(!r)return Math.max(i,1);const s=Lj(r);for(let o=0,l=s.length-1;o<l;o++){const c=s[o];if(c>i)return c}return Math.max(i,1)}function Xk(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function Zk(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function dl(e,t,n,r,i){const s=be(r,0),o=Math.min(be(i,e.length),e.length);let l=0,c,d,u;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),u=s;u<0;)l++,u=Math.round(s+l*n);for(d=Math.max(s,0);d<o;d++)d===u&&(t.push(e[d]),l++,u=Math.round(s+l*n))}function e5(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const t5=e=>e==="left"?"right":e==="right"?"left":e,Wg=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Hg=(e,t)=>Math.min(t||e,e);function Ug(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function n5(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(c-s,o-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(i-1))/2,c+=i<t?d:-d,c<s-l||c>o+l)))return c}function r5(e,t){Me(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function ra(e){return e.drawTicks?e.tickLength:0}function Yg(e,t){if(!e.display)return 0;const n=ct(e.font,t),r=Et(e.padding);return(Ge(e.text)?e.text.length:1)*n.lineHeight+r.height}function i5(e,t){return ti(e,{scale:t,type:"scale"})}function s5(e,t,n){return ti(e,{tick:n,index:t,type:"tick"})}function a5(e,t,n){let r=Kh(e);return(n&&t!=="right"||!n&&t==="right")&&(r=t5(r)),r}function o5(e,t,n,r){const{top:i,left:s,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let f=0,h,m,g;const x=o-i,y=l-s;if(e.isHorizontal()){if(m=It(r,s,l),je(n)){const p=Object.keys(n)[0],v=n[p];g=u[p].getPixelForValue(v)+x-t}else n==="center"?g=(d.bottom+d.top)/2+x-t:g=Wg(e,n,t);h=l-s}else{if(je(n)){const p=Object.keys(n)[0],v=n[p];m=u[p].getPixelForValue(v)-y+t}else n==="center"?m=(d.left+d.right)/2-y+t:m=Wg(e,n,t);g=It(r,o,i),f=n==="left"?-Qt:Qt}return{titleX:m,titleY:g,maxWidth:h,rotation:f}}class zs extends ni{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=$n(t,Number.POSITIVE_INFINITY),n=$n(n,Number.NEGATIVE_INFINITY),r=$n(r,Number.POSITIVE_INFINITY),i=$n(i,Number.NEGATIVE_INFINITY),{min:$n(t,r),max:$n(n,i),minDefined:mt(t),maxDefined:mt(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:$n(n,$n(r,n)),max:$n(r,$n(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ve(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xC(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Ug(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Jk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ve(this.options.afterUpdate,[this])}beforeSetDimensions(){Ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ve(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ve(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=Ve(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){Ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=Hg(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,l,c,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,m=Xt(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/r:m/(r-1),f+6>l&&(l=m/(r-(t.offset?.5:1)),c=this.maxHeight-ra(t.grid)-n.padding-Yg(t.title,this.chart.options.font),d=Math.sqrt(f*f+h*h),o=qh(Math.min(Math.asin(Xt((u.highest.height+6)/l,-1,1)),Math.asin(Xt(c/d,-1,1))-Math.asin(Xt(h/d,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ve(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=Yg(i,n.options.font);if(l?(t.width=this.maxWidth,t.height=ra(s)+c):(t.height=this.maxHeight,t.width=ra(s)+c),r.display&&this.ticks.length){const{first:d,last:u,widest:f,highest:h}=this._getLabelSizes(),m=r.padding*2,g=Dr(this.labelRotation),x=Math.cos(g),y=Math.sin(g);if(l){const p=r.mirror?0:y*f.width+x*h.height;t.height=Math.min(this.maxHeight,t.height+p+m)}else{const p=r.mirror?0:x*f.width+y*h.height;t.width=Math.min(this.maxWidth,t.width+p+m)}this._calculatePadding(d,u,y,x)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;c?d?(h=i*t.width,m=r*n.height):(h=r*t.height,m=i*n.width):s==="start"?m=n.width:s==="end"?h=t.width:s!=="inner"&&(h=t.width/2,m=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=t.height/2;s==="start"?(u=0,f=t.height):s==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ve(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Ee(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Ug(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],l=[],c=Math.floor(n/Hg(n,r));let d=0,u=0,f,h,m,g,x,y,p,v,b,j,w;for(f=0;f<n;f+=c){if(g=t[f].label,x=this._resolveTickFontOptions(f),i.font=y=x.string,p=s[y]=s[y]||{data:{},gc:[]},v=x.lineHeight,b=j=0,!Ee(g)&&!Ge(g))b=gc(i,p.data,p.gc,b,g),j=v;else if(Ge(g))for(h=0,m=g.length;h<m;++h)w=g[h],!Ee(w)&&!Ge(w)&&(b=gc(i,p.data,p.gc,b,w),j+=v);o.push(b),l.push(j),d=Math.max(b,d),u=Math.max(j,u)}r5(s,n);const S=o.indexOf(d),C=l.indexOf(u),k=I=>({width:o[I]||0,height:l[I]||0});return{first:k(0),last:k(n-1),widest:k(S),highest:k(C),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Wj(this._alignToPixels?si(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=s5(this.getContext(),t,r))}return this.$context||(this.$context=i5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Dr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,l=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>l*i?l/r:c/i:c*i<l*r?c/r:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:l}=i,c=s.offset,d=this.isHorizontal(),f=this.ticks.length+(c?1:0),h=ra(s),m=[],g=l.setContext(this.getContext()),x=g.display?g.width:0,y=x/2,p=function(R){return si(r,R,x)};let v,b,j,w,S,C,k,I,E,_,F,H;if(o==="top")v=p(this.bottom),C=this.bottom-h,I=v-y,_=p(t.top)+y,H=t.bottom;else if(o==="bottom")v=p(this.top),_=t.top,H=p(t.bottom)-y,C=v+y,I=this.top+h;else if(o==="left")v=p(this.right),S=this.right-h,k=v-y,E=p(t.left)+y,F=t.right;else if(o==="right")v=p(this.left),E=t.left,F=p(t.right)-y,S=v+y,k=this.left+h;else if(n==="x"){if(o==="center")v=p((t.top+t.bottom)/2+.5);else if(je(o)){const R=Object.keys(o)[0],O=o[R];v=p(this.chart.scales[R].getPixelForValue(O))}_=t.top,H=t.bottom,C=v+y,I=C+h}else if(n==="y"){if(o==="center")v=p((t.left+t.right)/2);else if(je(o)){const R=Object.keys(o)[0],O=o[R];v=p(this.chart.scales[R].getPixelForValue(O))}S=v-y,k=S-h,E=t.left,F=t.right}const D=be(i.ticks.maxTicksLimit,f),M=Math.max(1,Math.ceil(f/D));for(b=0;b<f;b+=M){const R=this.getContext(b),O=s.setContext(R),P=l.setContext(R),T=O.lineWidth,A=O.color,W=P.dash||[],U=P.dashOffset,fe=O.tickWidth,le=O.tickColor,Y=O.tickBorderDash||[],re=O.tickBorderDashOffset;j=n5(this,b,c),j!==void 0&&(w=si(r,j,T),d?S=k=E=F=w:C=I=_=H=w,m.push({tx1:S,ty1:C,tx2:k,ty2:I,x1:E,y1:_,x2:F,y2:H,width:T,color:A,borderDash:W,borderDashOffset:U,tickWidth:fe,tickColor:le,tickBorderDash:Y,tickBorderDashOffset:re}))}return this._ticksLength=f,this._borderValue=v,m}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:f}=s,h=ra(r.grid),m=h+u,g=f?-u:m,x=-Dr(this.labelRotation),y=[];let p,v,b,j,w,S,C,k,I,E,_,F,H="middle";if(i==="top")S=this.bottom-g,C=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+g,C=this._getXAxisLabelAlignment();else if(i==="left"){const M=this._getYAxisLabelAlignment(h);C=M.textAlign,w=M.x}else if(i==="right"){const M=this._getYAxisLabelAlignment(h);C=M.textAlign,w=M.x}else if(n==="x"){if(i==="center")S=(t.top+t.bottom)/2+m;else if(je(i)){const M=Object.keys(i)[0],R=i[M];S=this.chart.scales[M].getPixelForValue(R)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(t.left+t.right)/2-m;else if(je(i)){const M=Object.keys(i)[0],R=i[M];w=this.chart.scales[M].getPixelForValue(R)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(c==="start"?H="top":c==="end"&&(H="bottom"));const D=this._getLabelSizes();for(p=0,v=l.length;p<v;++p){b=l[p],j=b.label;const M=s.setContext(this.getContext(p));k=this.getPixelForTick(p)+s.labelOffset,I=this._resolveTickFontOptions(p),E=I.lineHeight,_=Ge(j)?j.length:1;const R=_/2,O=M.color,P=M.textStrokeColor,T=M.textStrokeWidth;let A=C;o?(w=k,C==="inner"&&(p===v-1?A=this.options.reverse?"left":"right":p===0?A=this.options.reverse?"right":"left":A="center"),i==="top"?d==="near"||x!==0?F=-_*E+E/2:d==="center"?F=-D.highest.height/2-R*E+E:F=-D.highest.height+E/2:d==="near"||x!==0?F=E/2:d==="center"?F=D.highest.height/2-R*E:F=D.highest.height-_*E,f&&(F*=-1),x!==0&&!M.showLabelBackdrop&&(w+=E/2*Math.sin(x))):(S=k,F=(1-_)*E/2);let W;if(M.showLabelBackdrop){const U=Et(M.backdropPadding),fe=D.heights[p],le=D.widths[p];let Y=F-U.top,re=0-U.left;switch(H){case"middle":Y-=fe/2;break;case"bottom":Y-=fe;break}switch(C){case"center":re-=le/2;break;case"right":re-=le;break;case"inner":p===v-1?re-=le:p>0&&(re-=le/2);break}W={left:re,top:Y,width:le+U.width,height:fe+U.height,color:M.backdropColor}}y.push({label:j,font:I,textOffset:F,options:{rotation:x,color:O,strokeColor:P,strokeWidth:T,textAlign:A,textBaseline:H,translation:[w,S],backdrop:W}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Dr(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),l=t+s,c=o.widest.width;let d,u;return n==="left"?i?(u=this.right+s,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?d="right":r==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,r==="near"?d="left":r==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const l=(c,d,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const c=i[s];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,f,h;this.isHorizontal()?(d=si(t,this.left,o)-o/2,u=si(t,this.right,l)+l/2,f=h=c):(f=si(t,this.top,o)-o/2,h=si(t,this.bottom,l)+l/2,d=u=c),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,f),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&qc(r,i);const s=this.getLabelItems(t);for(const o of s){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Ai(r,d,0,u,c,l)}i&&Jc(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=ct(r.font),o=Et(r.padding),l=r.align;let c=s.lineHeight/2;n==="bottom"||n==="center"||je(n)?(c+=o.bottom,Ge(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:f,rotation:h}=o5(this,c,n,l);Ai(t,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:h,textAlign:a5(l,n,i),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=be(t.grid&&t.grid.z,-1),i=be(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==zs.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];l[r]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ct(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ul{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;d5(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,l5(t,o,r),this.override&&tt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in tt[i]&&(delete tt[i][r],this.override&&delete Ti[r])}}function l5(e,t,n){const r=Xa(Object.create(null),[n?tt.get(n):{},tt.get(t),e.defaults]);tt.set(t,r),e.defaultRoutes&&c5(t,e.defaultRoutes),e.descriptors&&tt.describe(t,e.descriptors)}function c5(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),l=o.pop(),c=o.join(".");tt.route(s,i,c,l)})}function d5(e){return"id"in e&&"defaults"in e}class u5{constructor(){this.controllers=new ul(ji,"datasets",!0),this.elements=new ul(ni,"elements"),this.plugins=new ul(Object,"plugins"),this.scales=new ul(zs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):Me(i,o=>{const l=r||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,n,r){const i=Gh(t);Ve(r["before"+i],[],r),n[t](r),Ve(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Un=new u5;class f5{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,l=o[r],c=[n,i,s.options];if(Ve(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=be(r.options&&r.options.plugins,{}),s=h5(r);return i===!1&&!n?[]:p5(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function h5(e){const t={},n=[],r=Object.keys(Un.plugins.items);for(let s=0;s<r.length;s++)n.push(Un.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function m5(e,t){return!t&&e===!1?null:e===!0?{}:e}function p5(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const l of t){const c=l.id,d=m5(r[c],i);d!==null&&s.push({plugin:l,options:g5(e.config,{plugin:l,local:n[c]},d,o)})}return s}function g5(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _f(e,t){const n=tt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function x5(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function v5(e,t){return e===t?"_index_":"_value_"}function Gg(e){if(e==="x"||e==="y"||e==="r")return e}function y5(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Ef(e,...t){if(Gg(e))return e;for(const n of t){const r=n.axis||y5(n.position)||e.length>1&&Gg(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function qg(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function b5(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return qg(e,"x",n[0])||qg(e,"y",n[0])}return{}}function w5(e,t){const n=Ti[e.type]||{scales:{}},r=t.scales||{},i=_f(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!je(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Ef(o,l,b5(o,e),tt.scales[l.type]),d=v5(c,i),u=n.scales||{};s[o]=Ca(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||_f(l,t),u=(Ti[l]||{}).scales||{};Object.keys(u).forEach(f=>{const h=x5(f,c),m=o[h+"AxisID"]||h;s[m]=s[m]||Object.create(null),Ca(s[m],[{axis:h},r[m],u[f]])})}),Object.keys(s).forEach(o=>{const l=s[o];Ca(l,[tt.scales[l.type],tt.scale])}),s}function kb(e){const t=e.options||(e.options={});t.plugins=be(t.plugins,{}),t.scales=w5(e,t)}function Ib(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function S5(e){return e=e||{},e.data=Ib(e.data),kb(e),e}const Jg=new Map,Pb=new Set;function fl(e,t){let n=Jg.get(e);return n||(n=t(),Jg.set(e,n),Pb.add(n)),n}const ia=(e,t,n)=>{const r=Mi(t,n);r!==void 0&&e.add(r)};class N5{constructor(t){this._config=S5(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ib(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),kb(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return fl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return fl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return fl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),l=o.get(n);if(l)return l;const c=new Set;n.forEach(u=>{t&&(c.add(t),u.forEach(f=>ia(c,t,f))),u.forEach(f=>ia(c,i,f)),u.forEach(f=>ia(c,Ti[s]||{},f)),u.forEach(f=>ia(c,tt,f)),u.forEach(f=>ia(c,If,f))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Pb.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ti[n]||{},tt.datasets[n]||{},{type:n},tt,If]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=Kg(this._resolverCache,t,i);let c=o;if(C5(o,n)){s.$shared=!1,r=Kr(r)?r():r;const d=this.createResolver(t,r,l);c=_s(o,r,d)}for(const d of n)s[d]=c[d];return s}createResolver(t,n,r=[""],i){const{resolver:s}=Kg(this._resolverCache,t,r);return je(n)?_s(s,n,void 0,i):s}}function Kg(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Zh(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const j5=e=>je(e)&&Object.getOwnPropertyNames(e).some(t=>Kr(e[t]));function C5(e,t){const{isScriptable:n,isIndexable:r}=lb(e);for(const i of t){const s=n(i),o=r(i),l=(o||s)&&e[i];if(s&&(Kr(l)||j5(l))||o&&Ge(l))return!0}return!1}var k5="4.4.8";const I5=["top","bottom","left","right","chartArea"];function Qg(e,t){return e==="top"||e==="bottom"||I5.indexOf(e)===-1&&t==="x"}function Xg(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Zg(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ve(n&&n.onComplete,[e],t)}function P5(e){const t=e.chart,n=t.options.animation;Ve(n&&n.onProgress,[e],t)}function _b(e){return nm()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Vl={},ex=e=>{const t=_b(e);return Object.values(Vl).filter(n=>n.canvas===t).pop()};function _5(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function E5(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}function hl(e,t,n){return e.options.clip?e[n]:t[n]}function D5(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:hl(n,t,"left"),right:hl(n,t,"right"),top:hl(r,t,"top"),bottom:hl(r,t,"bottom")}:t}var Sr;let Vi=(Sr=class{static register(...t){Un.add(...t),tx()}static unregister(...t){Un.remove(...t),tx()}constructor(t,n){const r=this.config=new N5(n),i=_b(t),s=ex(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||qk(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Pj(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new f5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Gj(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Vl[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}nr.listen(this,"complete",Zg),nr.listen(this,"progress",P5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Ee(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Un}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ng(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bg(this.canvas,this.ctx),this}stop(){return nr.stop(this),this}resize(t,n){nr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ng(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Ve(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Me(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const l=n[o],c=Ef(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Me(s,o=>{const l=o.options,c=l.id,d=Ef(c,l),u=be(l.type,o.dtype);(l.position===void 0||Qg(l.position,d)!==Qg(o.dposition))&&(l.position=o.dposition),i[c]=!0;let f=null;if(c in r&&r[c].type===u)f=r[c];else{const h=Un.getScale(u);f=new h({id:c,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,t)}),Me(i,(o,l)=>{o||delete r[l]}),Me(r,o=>{pn.configure(this,o,o.options),pn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Xg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=s.indexAxis||_f(l,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=Un.getController(l),{datasetElementType:d,dataElementType:u}=tt.datasets[l];Object.assign(c,{dataElementType:Un.getElement(u),datasetElementType:d&&Un.getElement(d)}),o.controller=new c(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Me(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:f}=this.getDatasetMeta(d),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Me(s,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Xg("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Me(this.scales,t=>{pn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!ug(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;_5(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!ug(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pn.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Me(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Kr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(nr.has(this)?this.attached&&!nr.running(this)&&nr.start(this):(this.draw(),Zg({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r=t._clip,i=!r.disabled,s=D5(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&qc(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),t.controller.draw(),i&&Jc(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return dr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=Ik.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ti(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);Za(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),nr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),bg(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Vl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};Me(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(c,d)=>{n.addEventListener(this,c,d),t[c]=d},i=(c,d)=>{t[c]&&(n.removeEventListener(this,c,d),delete t[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Me(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Me(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,l,c;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!hc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=s(n,t),l=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,l=this._getActiveElements(t,i,r,o),c=Tj(t),d=E5(t,this._lastEvent,r,c);r&&(this._lastEvent=null,Ve(s.onHover,[t,l,this],this),c&&Ve(s.onClick,[t,l,this],this));const u=!hc(l,i);return(u||n)&&(this._active=l,this._updateHoverStyles(l,i,n)),this._lastEvent=d,u}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},Z(Sr,"defaults",tt),Z(Sr,"instances",Vl),Z(Sr,"overrides",Ti),Z(Sr,"registry",Un),Z(Sr,"version",k5),Z(Sr,"getChart",ex),Sr);function tx(){return Me(Vi.instances,e=>e._plugins.invalidate())}function Eb(e,t,n=t){e.lineCap=be(n.borderCapStyle,t.borderCapStyle),e.setLineDash(be(n.borderDash,t.borderDash)),e.lineDashOffset=be(n.borderDashOffset,t.borderDashOffset),e.lineJoin=be(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=be(n.borderWidth,t.borderWidth),e.strokeStyle=be(n.borderColor,t.borderColor)}function R5(e,t,n){e.lineTo(n.x,n.y)}function M5(e){return e.stepped?lC:e.tension||e.cubicInterpolationMode==="monotone"?cC:R5}function Db(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:l}=t,c=Math.max(i,o),d=Math.min(s,l),u=i<o&&s<o||i>l&&s>l;return{count:r,start:c,loop:t.loop,ilen:d<c&&!u?r+d-c:d-c}}function T5(e,t,n,r){const{points:i,options:s}=t,{count:o,start:l,loop:c,ilen:d}=Db(i,n,r),u=M5(s);let{move:f=!0,reverse:h}=r||{},m,g,x;for(m=0;m<=d;++m)g=i[(l+(h?d-m:m))%o],!g.skip&&(f?(e.moveTo(g.x,g.y),f=!1):u(e,x,g,h,s.stepped),x=g);return c&&(g=i[(l+(h?d:0))%o],u(e,x,g,h,s.stepped)),!!c}function A5(e,t,n,r){const i=t.points,{count:s,start:o,ilen:l}=Db(i,n,r),{move:c=!0,reverse:d}=r||{};let u=0,f=0,h,m,g,x,y,p;const v=j=>(o+(d?l-j:j))%s,b=()=>{x!==y&&(e.lineTo(u,y),e.lineTo(u,x),e.lineTo(u,p))};for(c&&(m=i[v(0)],e.moveTo(m.x,m.y)),h=0;h<=l;++h){if(m=i[v(h)],m.skip)continue;const j=m.x,w=m.y,S=j|0;S===g?(w<x?x=w:w>y&&(y=w),u=(f*u+j)/++f):(b(),e.lineTo(j,w),g=S,f=0,x=y=w),p=w}b()}function Df(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?A5:T5}function O5(e){return e.stepped?$C:e.tension||e.cubicInterpolationMode==="monotone"?WC:ui}function L5(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Eb(e,t.options),e.stroke(i)}function F5(e,t,n,r){const{segments:i,options:s}=t,o=Df(t);for(const l of i)Eb(e,s,l.style),e.beginPath(),o(e,t,l,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const z5=typeof Path2D=="function";function V5(e,t,n,r){z5&&!t.options.segment?L5(e,t,n,r):F5(e,t,n,r)}class Pn extends ni{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;TC(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=JC(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=xb(this,{property:n,start:i,end:i});if(!o.length)return;const l=[],c=O5(r);let d,u;for(d=0,u=o.length;d<u;++d){const{start:f,end:h}=o[d],m=s[f],g=s[h];if(m===g){l.push(m);continue}const x=Math.abs((i-m[n])/(g[n]-m[n])),y=c(m,g,x,r.stepped);y[n]=t[n],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,n,r){return Df(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=Df(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const l of i)o&=s(t,this,l,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),V5(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Z(Pn,"id","line"),Z(Pn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Z(Pn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Z(Pn,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function nx(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class Ci extends ni{constructor(n){super();Z(this,"parsed");Z(this,"skip");Z(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return nx(this,n,"x",r)}inYRange(n,r){return nx(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!dr(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Pf(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Z(Ci,"id","point"),Z(Ci,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Z(Ci,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Rb(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,f;return e.horizontal?(f=o/2,l=Math.min(n,i),c=Math.max(n,i),d=r-f,u=r+f):(f=s/2,l=n-f,c=n+f,d=Math.min(r,i),u=Math.max(r,i)),{left:l,top:d,right:c,bottom:u}}function Mr(e,t,n,r){return e?0:Xt(t,n,r)}function B5(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=ob(r);return{t:Mr(i.top,s.top,0,n),r:Mr(i.right,s.right,0,t),b:Mr(i.bottom,s.bottom,0,n),l:Mr(i.left,s.left,0,t)}}function $5(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Si(i),o=Math.min(t,n),l=e.borderSkipped,c=r||je(i);return{topLeft:Mr(!c||l.top||l.left,s.topLeft,0,o),topRight:Mr(!c||l.top||l.right,s.topRight,0,o),bottomLeft:Mr(!c||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:Mr(!c||l.bottom||l.right,s.bottomRight,0,o)}}function W5(e){const t=Rb(e),n=t.right-t.left,r=t.bottom-t.top,i=B5(e,n/2,r/2),s=$5(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function cu(e,t,n,r){const i=t===null,s=n===null,l=e&&!(i&&s)&&Rb(e,r);return l&&(i||Rr(t,l.left,l.right))&&(s||Rr(n,l.top,l.bottom))}function H5(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function U5(e,t){e.rect(t.x,t.y,t.w,t.h)}function du(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class vs extends ni{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=W5(this),l=H5(o.radius)?to:U5;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),l(t,du(o,n,s)),t.clip(),l(t,du(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),l(t,du(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return cu(this,t,n,r)}inXRange(t,n){return cu(this,t,null,n)}inYRange(t,n){return cu(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Z(vs,"id","bar"),Z(vs,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Z(vs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Y5(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const l of r){let{start:c,end:d}=l;d=sm(c,d,i);const u=Rf(n,i[c],i[d],l.loop);if(!t.segments){o.push({source:l,target:u,start:i[c],end:i[d]});continue}const f=xb(t,u);for(const h of f){const m=Rf(n,s[h.start],s[h.end],h.loop),g=gb(l,i,m);for(const x of g)o.push({source:x,target:h,start:{[n]:rx(u,m,"start",Math.max)},end:{[n]:rx(u,m,"end",Math.min)}})}}return o}function Rf(e,t,n,r){if(r)return;let i=t[e],s=n[e];return e==="angle"&&(i=Jt(i),s=Jt(s)),{property:e,start:i,end:s}}function G5(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach(({start:o,end:l})=>{l=sm(o,l,i);const c=i[o],d=i[l];r!==null?(s.push({x:c.x,y:r}),s.push({x:d.x,y:r})):n!==null&&(s.push({x:n,y:c.y}),s.push({x:n,y:d.y}))}),s}function sm(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function rx(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Mb(e,t){let n=[],r=!1;return Ge(e)?(r=!0,n=e):n=G5(e,t),n.length?new Pn({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function ix(e){return e&&e.fill!==!1}function q5(e,t,n){let i=e[t].fill;const s=[t];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!mt(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function J5(e,t,n){const r=Z5(e);if(je(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return mt(i)&&Math.floor(i)===i?K5(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function K5(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function Q5(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:je(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function X5(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:je(e)?r=e.value:r=t.getBaseValue(),r}function Z5(e){const t=e.options,n=t.fill;let r=be(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function eI(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,l=tI(t,n);l.push(Mb({x:null,y:t.bottom},r));for(let c=0;c<s.length;c++){const d=s[c];for(let u=d.start;u<=d.end;u++)nI(i,o[u],l)}return new Pn({points:i,options:{}})}function tI(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}function nI(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:l,point:c}=rI(s,t,"x");if(!(!c||o&&l)){if(o)r.unshift(c);else if(e.push(c),!l)break}}e.push(...r)}function rI(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let l=!1,c=!1;for(let d=0;d<s.length;d++){const u=s[d],f=o[u.start][n],h=o[u.end][n];if(Rr(i,f,h)){l=i===f,c=i===h;break}}return{first:l,last:c,point:r}}class Tb{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:tn},t.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,s=t.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function iI(e){const{chart:t,fill:n,line:r}=e;if(mt(n))return sI(t,n);if(n==="stack")return eI(e);if(n==="shape")return!0;const i=aI(e);return i instanceof Tb?i:Mb(i,r)}function sI(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function aI(e){return(e.scale||{}).getPointPositionForValue?lI(e):oI(e)}function oI(e){const{scale:t={},fill:n}=e,r=Q5(n,t);if(mt(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function lI(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=X5(n,t,s),l=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,s);return new Tb({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)l.push(t.getPointPositionForValue(c,o));return l}function uu(e,t,n){const r=iI(t),{line:i,scale:s,axis:o}=t,l=i.options,c=l.fill,d=l.backgroundColor,{above:u=d,below:f=d}=c||{};r&&i.points.length&&(qc(e,n),cI(e,{line:i,target:r,above:u,below:f,area:n,scale:s,axis:o}),Jc(e))}function cI(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:l}=t,c=n._loop?"angle":t.axis;e.save(),c==="x"&&s!==i&&(sx(e,r,o.top),ax(e,{line:n,target:r,color:i,scale:l,property:c}),e.restore(),e.save(),sx(e,r,o.bottom)),ax(e,{line:n,target:r,color:s,scale:l,property:c}),e.restore()}function sx(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const l of r){const{start:c,end:d}=l,u=i[c],f=i[sm(c,d,i)];s?(e.moveTo(u.x,u.y),s=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(f.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function ax(e,t){const{line:n,target:r,property:i,color:s,scale:o}=t,l=Y5(n,r,i);for(const{source:c,target:d,start:u,end:f}of l){const{style:{backgroundColor:h=s}={}}=c,m=r!==!0;e.save(),e.fillStyle=h,dI(e,o,m&&Rf(i,u,f)),e.beginPath();const g=!!n.pathSegment(e,c);let x;if(m){g?e.closePath():ox(e,r,f,i);const y=!!r.pathSegment(e,d,{move:g,reverse:!0});x=g&&y,x||ox(e,r,u,i)}e.closePath(),e.fill(x?"evenodd":"nonzero"),e.restore()}}function dI(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:s,start:o,end:l}=n||{};s==="x"&&(e.beginPath(),e.rect(o,r,l-o,i-r),e.clip())}function ox(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Ab={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,l,c;for(o=0;o<r;++o)s=e.getDatasetMeta(o),l=s.dataset,c=null,l&&l.options&&l instanceof Pn&&(c={visible:e.isDatasetVisible(o),index:o,fill:J5(l,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=q5(i,o,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),r&&l.fill&&uu(e.ctx,l,s))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;ix(s)&&uu(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!ix(r)||n.drawTime!=="beforeDatasetDraw"||uu(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const lx=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},uI=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class cx extends ni{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ve(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=ct(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=lx(r,s);let d,u;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,s,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,i,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+l;let f=t;s.textAlign="left",s.textBaseline="middle";let h=-1,m=-u;return this.legendItems.forEach((g,x)=>{const y=r+n/2+s.measureText(g.text).width;(x===0||d[d.length-1]+y+2*l>o)&&(f+=u,d[d.length-(x>0?0:1)]=0,m+=u,h++),c[x]={left:0,top:m,row:h,width:y,height:i},d[d.length-1]+=y+l}),f}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let f=l,h=0,m=0,g=0,x=0;return this.legendItems.forEach((y,p)=>{const{itemWidth:v,itemHeight:b}=fI(r,n,s,y,i);p>0&&m+b+2*l>u&&(f+=h+l,d.push({width:h,height:m}),g+=h+l,x++,h=m=0),c[p]={left:g,top:m,col:x,width:v,height:b},h=Math.max(h,v),m+=b+l}),f+=h,d.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=xs(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=It(r,this.left+i,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,c=It(r,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+t+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let l=0,c=It(r,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,c=It(r,this.top+t+i,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;qc(t,this),this._draw(),Jc(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,l=tt.color,c=xs(t.rtl,this.left,this.width),d=ct(o.font),{padding:u}=o,f=d.size,h=f/2;let m;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:g,boxHeight:x,itemHeight:y}=lx(o,f),p=function(S,C,k){if(isNaN(g)||g<=0||isNaN(x)||x<0)return;i.save();const I=be(k.lineWidth,1);if(i.fillStyle=be(k.fillStyle,l),i.lineCap=be(k.lineCap,"butt"),i.lineDashOffset=be(k.lineDashOffset,0),i.lineJoin=be(k.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=be(k.strokeStyle,l),i.setLineDash(be(k.lineDash,[])),o.usePointStyle){const E={radius:x*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:I},_=c.xPlus(S,g/2),F=C+h;sb(i,E,_,F,o.pointStyleWidth&&g)}else{const E=C+Math.max((f-x)/2,0),_=c.leftForLtr(S,g),F=Si(k.borderRadius);i.beginPath(),Object.values(F).some(H=>H!==0)?to(i,{x:_,y:E,w:g,h:x,radius:F}):i.rect(_,E,g,x),i.fill(),I!==0&&i.stroke()}i.restore()},v=function(S,C,k){Ai(i,k.text,S,C+y/2,d,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},b=this.isHorizontal(),j=this._computeTitleHeight();b?m={x:It(s,this.left+u,this.right-r[0]),y:this.top+u+j,line:0}:m={x:this.left+u,y:It(s,this.top+j+u,this.bottom-n[0].height),line:0},hb(this.ctx,t.textDirection);const w=y+u;this.legendItems.forEach((S,C)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const k=i.measureText(S.text).width,I=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),E=g+h+k;let _=m.x,F=m.y;c.setWidth(this.width),b?C>0&&_+E+u>this.right&&(F=m.y+=w,m.line++,_=m.x=It(s,this.left+u,this.right-r[m.line])):C>0&&F+w>this.bottom&&(_=m.x=_+n[m.line].width+u,m.line++,F=m.y=It(s,this.top+j+u,this.bottom-n[m.line].height));const H=c.x(_);if(p(H,F,S),_=qj(I,_+g+h,b?_+E:this.right,t.rtl),v(c.x(_),F,S),b)m.x+=E+u;else if(typeof S.text!="string"){const D=d.lineHeight;m.y+=Ob(S,D)+u}else m.y+=w}),mb(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=ct(n.font),i=Et(n.padding);if(!n.display)return;const s=xs(t.rtl,this.left,this.width),o=this.ctx,l=n.position,c=r.size/2,d=i.top+c;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+d,f=It(t.align,f,this.right-h);else{const g=this.columnSizes.reduce((x,y)=>Math.max(x,y.height),0);u=d+It(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const m=It(l,f,f+h);o.textAlign=s.textAlign(Kh(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ai(o,n.text,m,u,r)}_computeTitleHeight(){const t=this.options.title,n=ct(t.font),r=Et(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(Rr(t,this.left,this.right)&&Rr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Rr(t,i.left,i.left+i.width)&&Rr(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!pI(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=uI(i,r);i&&!s&&Ve(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&Ve(n.onHover,[t,r,this],this)}else r&&Ve(n.onClick,[t,r,this],this)}}function fI(e,t,n,r,i){const s=hI(r,e,t,n),o=mI(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function hI(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function mI(e,t,n){let r=e;return typeof t.text!="string"&&(r=Ob(t,n)),r}function Ob(e,t){const n=e.text?e.text.length:0;return t*n}function pI(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Xc={id:"legend",_element:cx,start(e,t,n){const r=e.legend=new cx({ctx:e.ctx,options:n,chart:e});pn.configure(e,r,n),pn.addBox(e,r)},stop(e){pn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;pn.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=Et(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Lb extends ni{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Ge(r.text)?r.text.length:1;this._padding=Et(r.padding);const s=i*ct(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,l=o.align;let c=0,d,u,f;return this.isHorizontal()?(u=It(l,r,s),f=n+t,d=s-r):(o.position==="left"?(u=r+t,f=It(l,i,n),c=st*-.5):(u=s-t,f=It(l,n,i),c=st*.5),d=i-n),{titleX:u,titleY:f,maxWidth:d,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=ct(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(s);Ai(t,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:d,textAlign:Kh(n.align),textBaseline:"middle",translation:[o,l]})}}function gI(e,t){const n=new Lb({ctx:e.ctx,options:t,chart:e});pn.configure(e,n,t),pn.addBox(e,n),e.titleBlock=n}var am={id:"title",_element:Lb,start(e,t,n){gI(e,n)},stop(e){const t=e.titleBlock;pn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;pn.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ma={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,c)=>l+c)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=e.length;s<o;++s){const c=e[s].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=kf(t,d);u<i&&(i=u,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Wn(e,t){return t&&(Ge(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function rr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function xI(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:l}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function dx(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:l}=t,c=ct(t.bodyFont),d=ct(t.titleFont),u=ct(t.footerFont),f=s.length,h=i.length,m=r.length,g=Et(t.padding);let x=g.height,y=0,p=r.reduce((j,w)=>j+w.before.length+w.lines.length+w.after.length,0);if(p+=e.beforeBody.length+e.afterBody.length,f&&(x+=f*d.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),p){const j=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=m*j+(p-m)*c.lineHeight+(p-1)*t.bodySpacing}h&&(x+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0;const b=function(j){y=Math.max(y,n.measureText(j).width+v)};return n.save(),n.font=d.string,Me(e.title,b),n.font=c.string,Me(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?o+2+t.boxPadding:0,Me(r,j=>{Me(j.before,b),Me(j.lines,b),Me(j.after,b)}),v=0,n.font=u.string,Me(e.footer,b),n.restore(),y+=g.width,{width:y,height:x}}function vI(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function yI(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function bI(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:l,right:c}}=e;let d="center";return r==="center"?d=i<=(l+c)/2?"left":"right":i<=s/2?d="left":i>=o-s/2&&(d="right"),yI(d,e,t,n)&&(d="center"),d}function ux(e,t,n){const r=n.yAlign||t.yAlign||vI(e,n);return{xAlign:n.xAlign||t.xAlign||bI(e,t,n,r),yAlign:r}}function wI(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function SI(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function fx(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:l,yAlign:c}=n,d=i+s,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:m}=Si(o);let g=wI(t,l);const x=SI(t,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,h)+i:l==="right"&&(g+=Math.max(f,m)+i),{x:Xt(g,0,r.width-t.width),y:Xt(x,0,r.height-t.height)}}function ml(e,t,n){const r=Et(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function hx(e){return Wn([],rr(e))}function NI(e,t,n){return ti(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function mx(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Fb={beforeTitle:er,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:er,beforeBody:er,beforeLabel:er,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ee(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:er,afterBody:er,beforeFooter:er,footer:er,afterFooter:er};function Ft(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?Fb[t].call(n,r):i}class Mf extends ni{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new vb(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=NI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=Ft(r,"beforeTitle",this,t),s=Ft(r,"title",this,t),o=Ft(r,"afterTitle",this,t);let l=[];return l=Wn(l,rr(i)),l=Wn(l,rr(s)),l=Wn(l,rr(o)),l}getBeforeBody(t,n){return hx(Ft(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return Me(t,s=>{const o={before:[],lines:[],after:[]},l=mx(r,s);Wn(o.before,rr(Ft(l,"beforeLabel",this,s))),Wn(o.lines,Ft(l,"label",this,s)),Wn(o.after,rr(Ft(l,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return hx(Ft(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=Ft(r,"beforeFooter",this,t),s=Ft(r,"footer",this,t),o=Ft(r,"afterFooter",this,t);let l=[];return l=Wn(l,rr(i)),l=Wn(l,rr(s)),l=Wn(l,rr(o)),l}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(xI(this.chart,n[c]));return t.filter&&(l=l.filter((u,f,h)=>t.filter(u,f,h,r))),t.itemSort&&(l=l.sort((u,f)=>t.itemSort(u,f,r))),Me(l,u=>{const f=mx(t.callbacks,u);i.push(Ft(f,"labelColor",this,u)),s.push(Ft(f,"labelPointStyle",this,u)),o.push(Ft(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=ma[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=dx(this,r),d=Object.assign({},l,c),u=ux(this.chart,r,d),f=fx(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=Si(l),{x:h,y:m}=t,{width:g,height:x}=n;let y,p,v,b,j,w;return s==="center"?(j=m+x/2,i==="left"?(y=h,p=y-o,b=j+o,w=j-o):(y=h+g,p=y+o,b=j-o,w=j+o),v=y):(i==="left"?p=h+Math.max(c,u)+o:i==="right"?p=h+g-Math.max(d,f)-o:p=this.caretX,s==="top"?(b=m,j=b-o,y=p-o,v=p+o):(b=m+x,j=b+o,y=p+o,v=p-o),w=b),{x1:y,x2:p,x3:v,y1:b,y2:j,y3:w}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,l,c;if(s){const d=xs(r.rtl,this.x,this.width);for(t.x=ml(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",o=ct(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,c=0;c<s;++c)n.fillText(i[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===s&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,u=ct(s.bodyFont),f=ml(this,"left",s),h=i.x(f),m=c<u.lineHeight?(u.lineHeight-c)/2:0,g=n.y+m;if(s.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=i.leftForLtr(h,d)+d/2,p=g+c/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Pf(t,x,y,p),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Pf(t,x,y,p)}else{t.lineWidth=je(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const x=i.leftForLtr(h,d),y=i.leftForLtr(i.xPlus(h,1),d-2),p=Si(o.borderRadius);Object.values(p).some(v=>v!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,to(t,{x,y:g,w:d,h:c,radius:p}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),to(t,{x:y,y:g+1,w:d-2,h:c-2,radius:p}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(x,g,d,c),t.strokeRect(x,g,d,c),t.fillStyle=o.backgroundColor,t.fillRect(y,g+1,d-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=r,f=ct(r.bodyFont);let h=f.lineHeight,m=0;const g=xs(r.rtl,this.x,this.width),x=function(k){n.fillText(k,g.x(t.x+m),t.y+h/2),t.y+=h+s},y=g.textAlign(o);let p,v,b,j,w,S,C;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=ml(this,y,r),n.fillStyle=r.bodyColor,Me(this.beforeBody,x),m=l&&y!=="right"?o==="center"?d/2+u:d+2+u:0,j=0,S=i.length;j<S;++j){for(p=i[j],v=this.labelTextColors[j],n.fillStyle=v,Me(p.before,x),b=p.lines,l&&b.length&&(this._drawColorBox(n,t,j,g,r),h=Math.max(f.lineHeight,c)),w=0,C=b.length;w<C;++w)x(b[w]),h=f.lineHeight;Me(p.after,x)}m=0,h=f.lineHeight,Me(this.afterBody,x),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,l;if(s){const c=xs(r.rtl,this.x,this.width);for(t.x=ml(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",o=ct(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:u}=r,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:g}=Si(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(l+f,c),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(l+d-h,c),n.quadraticCurveTo(l+d,c,l+d,c+h),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(l+d,c+u-g),n.quadraticCurveTo(l+d,c+u,l+d-g,c+u),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(l+m,c+u),n.quadraticCurveTo(l,c+u,l,c+u-m),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=ma[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=dx(this,t),c=Object.assign({},o,this._size),d=ux(n,t,c),u=fx(t,c,d,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Et(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),hb(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),mb(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!hc(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),l=this._positionChanged(o,t),c=n||!hc(o,s)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=ma[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}Z(Mf,"positioners",ma);var Zc={id:"tooltip",_element:Mf,positioners:ma,afterInit(e,t,n){n&&(e.tooltip=new Mf({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Fb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jI=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function CI(e,t,n,r){const i=e.indexOf(t);if(i===-1)return jI(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const kI=(e,t)=>e===null?null:Xt(Math.round(e),0,t);function px(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ro extends zs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Ee(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:CI(r,t,be(n,t),this._addedLabels),kI(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return px.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Z(ro,"id","category"),Z(ro,"defaults",{ticks:{callback:px}});function II(e,t){const n=[],{bounds:i,step:s,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:f,includeBounds:h}=e,m=s||1,g=u-1,{min:x,max:y}=t,p=!Ee(o),v=!Ee(l),b=!Ee(d),j=(y-x)/(f+1);let w=hg((y-x)/g/m)*m,S,C,k,I;if(w<1e-14&&!p&&!v)return[{value:x},{value:y}];I=Math.ceil(y/w)-Math.floor(x/w),I>g&&(w=hg(I*w/g/m)*m),Ee(c)||(S=Math.pow(10,c),w=Math.ceil(w*S)/S),i==="ticks"?(C=Math.floor(x/w)*w,k=Math.ceil(y/w)*w):(C=x,k=y),p&&v&&s&&zj((l-o)/s,w/1e3)?(I=Math.round(Math.min((l-o)/w,u)),w=(l-o)/I,C=o,k=l):b?(C=p?o:C,k=v?l:k,I=d-1,w=(k-C)/I):(I=(k-C)/w,ka(I,Math.round(I),w/1e3)?I=Math.round(I):I=Math.ceil(I));const E=Math.max(mg(w),mg(C));S=Math.pow(10,Ee(c)?E:c),C=Math.round(C*S)/S,k=Math.round(k*S)/S;let _=0;for(p&&(h&&C!==o?(n.push({value:o}),C<o&&_++,ka(Math.round((C+_*w)*S)/S,o,gx(o,j,e))&&_++):C<o&&_++);_<I;++_){const F=Math.round((C+_*w)*S)/S;if(v&&F>l)break;n.push({value:F})}return v&&h&&k!==l?n.length&&ka(n[n.length-1].value,l,gx(l,j,e))?n[n.length-1].value=l:n.push({value:l}):(!v||k===l)&&n.push({value:k}),n}function gx(e,t,{horizontal:n,minRotation:r}){const i=Dr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class Tf extends zs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Ee(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=c=>i=n?i:c,l=c=>s=r?s:c;if(t){const c=Jn(i),d=Jn(s);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);l(s+c),t||o(i-c)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=II(i,s);return t.bounds==="ticks"&&Vj(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return ib(t,this.chart.options.locale,this.options.ticks.format)}}class io extends Tf{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=mt(t)?t:0,this.max=mt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Dr(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Z(io,"id","linear"),Z(io,"defaults",{ticks:{callback:Xh.formatters.numeric}});function Af(e){const t=e.ticks;if(t.display&&e.display){const n=Et(t.backdropPadding);return be(t.font&&t.font.size,tt.font.size)+n.height}return 0}function PI(e,t,n){return n=Ge(n)?n:[n],{w:oC(e,t.string,n),h:n.length*t.lineHeight}}function xx(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function _I(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,l=o.centerPointLabels?st/s:0;for(let c=0;c<s;c++){const d=o.setContext(e.getPointLabelContext(c));i[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+i[c],l),f=ct(d.font),h=PI(e.ctx,f,e._pointLabels[c]);r[c]=h;const m=Jt(e.getIndexAngle(c)+l),g=Math.round(qh(m)),x=xx(g,u.x,h.w,0,180),y=xx(g,u.y,h.h,90,270);EI(n,t,m,x,y)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=MI(e,r,i)}function EI(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let l=0,c=0;r.start<t.l?(l=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-l)):r.end>t.r&&(l=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+l)),i.start<t.t?(c=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+c))}function DI(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:l}=n,c=e.getPointPosition(t,r+i+o,s),d=Math.round(qh(Jt(c.angle+Qt))),u=OI(c.y,l.h,d),f=TI(d),h=AI(c.x,l.w,f);return{visible:!0,x:c.x,y:u,textAlign:f,left:h,top:u,right:h+l.w,bottom:u+l.h}}function RI(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(dr({x:n,y:r},t)||dr({x:n,y:s},t)||dr({x:i,y:r},t)||dr({x:i,y:s},t))}function MI(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:l}=s.pointLabels,c={extra:Af(s)/2,additionalAngle:o?st/i:0};let d;for(let u=0;u<i;u++){c.padding=n[u],c.size=t[u];const f=DI(e,u,c);r.push(f),l==="auto"&&(f.visible=RI(f,d),f.visible&&(d=f))}return r}function TI(e){return e===0||e===180?"center":e<180?"left":"right"}function AI(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function OI(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function LI(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:l}=t;if(!Ee(l)){const c=Si(t.borderRadius),d=Et(t.backdropPadding);e.fillStyle=l;const u=r-d.left,f=i-d.top,h=s-r+d.width,m=o-i+d.height;Object.values(c).some(g=>g!==0)?(e.beginPath(),to(e,{x:u,y:f,w:h,h:m,radius:c}),e.fill()):e.fillRect(u,f,h,m)}}function FI(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const s=e._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(e.getPointLabelContext(i));LI(n,o,s);const l=ct(o.font),{x:c,y:d,textAlign:u}=s;Ai(n,e._pointLabels[i],c,d+l.lineHeight/2,l,{color:o.color,textAlign:u,textBaseline:"middle"})}}function zb(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,tn);else{let s=e.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=e.getPointPosition(o,t),i.lineTo(s.x,s.y)}}function zI(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:l,lineWidth:c}=t;!o&&!r||!l||!c||n<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),zb(e,n,o,r),s.closePath(),s.stroke(),s.restore())}function VI(e,t,n){return ti(e,{label:n,index:t,type:"pointLabel"})}class as extends Tf{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Et(Af(this.options)/2),n=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=mt(t)&&!isNaN(t)?t:0,this.max=mt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Af(this.options))}generateTickLabels(t){Tf.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,r)=>{const i=Ve(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?_I(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,r,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,r,i))}getIndexAngle(t){const n=tn/(this._pointLabels.length||1),r=this.options.startAngle||0;return Jt(t*n+Dr(r))}getDistanceFromCenterForValue(t){if(Ee(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Ee(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const r=n[t];return VI(this.getContext(),t,r)}}getPointPosition(t,n,r=0){const i=this.getIndexAngle(t)-Qt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),zb(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let l,c,d;if(n.pointLabels.display&&FI(this,o),i.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(f),m=i.setContext(h),g=s.setContext(h);zI(this,m,c,o,g)}}),r.display){for(t.save(),l=o-1;l>=0;l--){const u=r.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:h}=u;!h||!f||(t.lineWidth=h,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(l,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const d=r.setContext(this.getContext(c)),u=ct(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,o=t.measureText(l.label).width,t.fillStyle=d.backdropColor;const f=Et(d.backdropPadding);t.fillRect(-o/2-f.left,-s-u.size/2-f.top,o+f.width,u.size+f.height)}Ai(t,l.label,0,-s,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}Z(as,"id","radialLinear"),Z(as,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Z(as,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Z(as,"descriptors",{angleLines:{_fallback:"grid"}});const ed={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bt=Object.keys(ed);function vx(e,t){return e-t}function yx(e,t){if(Ee(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),mt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(eo(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function bx(e,t,n,r){const i=Bt.length;for(let s=Bt.indexOf(e);s<i-1;++s){const o=ed[Bt[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(l*o.size))<=r)return Bt[s]}return Bt[i-1]}function BI(e,t,n,r,i){for(let s=Bt.length-1;s>=Bt.indexOf(n);s--){const o=Bt[s];if(ed[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return Bt[n?Bt.indexOf(n):0]}function $I(e){for(let t=Bt.indexOf(e)+1,n=Bt.length;t<n;++t)if(ed[Bt[t]].common)return Bt[t]}function wx(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Jh(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function WI(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let l,c;for(l=s;l<=o;l=+i.add(l,1,r))c=n[l],c>=0&&(t[c].major=!0);return t}function Sx(e,t,n){const r=[],i={},s=t.length;let o,l;for(o=0;o<s;++o)l=t[o],i[l]=o,r.push({value:l,major:!1});return s===0||!n?r:WI(e,r,i,n)}class yc extends zs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new Sk._date(t.adapters.date);i.init(n),Ca(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:yx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=mt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=mt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,l=Uj(i,s,o);return this._unit=n.unit||(r.autoSkip?bx(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):BI(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:$I(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),Sx(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Xt(n,0,o),r=Xt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||bx(s.minUnit,n,r,this._getLabelCapacity(n)),l=be(i.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,d=eo(c)||c===!0,u={};let f=n,h,m;if(d&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,d?"day":o),t.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<r;h=+t.add(h,l,o),m++)wx(u,h,g);return(h===r||i.bounds==="ticks"||m===1)&&wx(u,h,g),Object.keys(u).sort(vx).map(x=>+x)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Ve(o,[t,n,r],this);const l=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],f=d&&l[d],h=r[n],m=d&&f&&h&&h.major;return this._adapter.format(t,i||(m?f:u))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=Dr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*o,h:r*o+l*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,Sx(this,[t],this._majorUnit),i),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(yx(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return tb(t.sort(vx))}}Z(yc,"id","time"),Z(yc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function pl(e,t,n){let r=0,i=e.length-1,s,o,l,c;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=xi(e,"pos",t)),{pos:s,time:l}=e[r],{pos:o,time:c}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=xi(e,"time",t)),{time:s,pos:l}=e[r],{time:o,pos:c}=e[i]);const d=o-s;return d?l+(c-l)*(t-s)/d:l}class Nx extends yc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=pl(n,this.min),this._tableRange=pl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,l,c,d,u;for(o=0,l=t.length;o<l;++o)d=t[o],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,l=i.length;o<l;++o)u=i[o+1],c=i[o-1],d=i[o],Math.round((u+c)/2)!==d&&s.push({time:d,pos:o/(l-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(pl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return pl(this._table,r*this._tableRange+this._minPos,!0)}}Z(Nx,"id","timeseries"),Z(Nx,"defaults",yc.defaults);const HI=({metrics:e,animatingMetrics:t})=>{const n=(s,o=!1)=>s<30?"text-red-600 font-bold":s<50?"text-orange-500 font-bold":s<70?"text-yellow-500":"text-green-500",r=s=>t.includes(s)?s==="livesSaved"?"animate-pulse text-green-600":s==="humanCasualties"?"animate-pulse text-red-600":"animate-pulse text-red-500":"",i=(s,o)=>{switch(s){case"livesSaved":return`${o} people saved from immediate danger`;case"humanCasualties":return`${o} lives lost in the crisis`;case"firefightingResource":return`${o}% of firefighting resources remaining`;case"infrastructureCondition":return`${o}% of infrastructure intact`;case"biodiversityCondition":return`${o}% of local ecosystem preserved`;case"propertiesCondition":return`${o}% of properties protected`;case"nuclearPowerStation":return`${o}% of nuclear facility integrity maintained`;default:return""}};return a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3 mb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-700 flex items-center",children:[a.jsx(Di,{className:"mr-1 text-orange-500",size:18}),"Cumulative Simulation Metrics (Scores)"]}),(e.nuclearPowerStation<50||e.firefightingResource<30)&&a.jsxs("div",{className:"px-2 py-1 bg-red-50 border border-red-200 rounded-md flex items-center",children:[a.jsx(ut,{className:"text-red-500 mr-1",size:16}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:e.nuclearPowerStation<50?"Nuclear risk!":"Critical resource shortage!"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2",children:[a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("livesSaved")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("livesSaved",e.livesSaved),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Ri,{className:"mr-1 text-blue-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Lives Saved"})]}),a.jsx("p",{className:"text-sm font-bold text-green-600",children:e.livesSaved}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("livesSaved",e.livesSaved)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("humanCasualties")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("humanCasualties",e.humanCasualties),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(bo,{className:"mr-1 text-red-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Casualties"}),e.humanCasualties>0&&a.jsx(ut,{className:"ml-1 text-red-500",size:12})]}),a.jsx("p",{className:"text-sm font-bold text-red-600",children:e.humanCasualties}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("humanCasualties",e.humanCasualties)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("firefightingResource")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("firefightingResource",e.firefightingResource),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Jr,{className:"mr-1 text-blue-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Resources"}),e.firefightingResource<50&&a.jsx(ut,{className:"ml-1 text-orange-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.firefightingResource)}`,children:[e.firefightingResource,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("firefightingResource",e.firefightingResource)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("infrastructureCondition")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("infrastructureCondition",e.infrastructureCondition),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Kn,{className:"mr-1 text-gray-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Infrastructure"}),e.infrastructureCondition<50&&a.jsx(ut,{className:"ml-1 text-orange-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.infrastructureCondition)}`,children:[e.infrastructureCondition,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("infrastructureCondition",e.infrastructureCondition)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("biodiversityCondition")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("biodiversityCondition",e.biodiversityCondition),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Fs,{className:"mr-1 text-green-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Biodiversity"}),e.biodiversityCondition<50&&a.jsx(ut,{className:"ml-1 text-orange-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.biodiversityCondition)}`,children:[e.biodiversityCondition,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("biodiversityCondition",e.biodiversityCondition)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("propertiesCondition")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("propertiesCondition",e.propertiesCondition),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(Kn,{className:"mr-1 text-blue-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Properties"}),e.propertiesCondition<50&&a.jsx(ut,{className:"ml-1 text-orange-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.propertiesCondition)}`,children:[e.propertiesCondition,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("propertiesCondition",e.propertiesCondition)})]}),a.jsxs("div",{className:`bg-gray-50 p-2 rounded ${r("nuclearPowerStation")} group relative cursor-help transition-all duration-200 hover:bg-gray-100`,title:i("nuclearPowerStation",e.nuclearPowerStation),children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx(yo,{className:"mr-1 text-purple-500",size:14}),a.jsx("h3",{className:"text-xs font-medium text-gray-700",children:"Nuclear"}),e.nuclearPowerStation<50&&a.jsx(ut,{className:"ml-1 text-red-500",size:12})]}),a.jsxs("p",{className:`text-sm font-bold ${n(e.nuclearPowerStation,!0)}`,children:[e.nuclearPowerStation,"%"]}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 text-white p-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-xs pointer-events-none",children:i("nuclearPowerStation",e.nuclearPowerStation)})]})]})]})},UI=({option:e,onSelect:t,onReview:n,currentMetrics:r,scenarioIndex:i,hasExploredAlternatives:s=!0,onInfeasibleCheck:o,isInfeasibleChecked:l=!1})=>{const[c,d]=Ie.useState(!1),[u,f]=Ie.useState(!1),[h,m]=Ie.useState(l),g=()=>{n(e)},x=S=>{const C=S.target.checked;m(C),o&&o(e,C)};Ie.useEffect(()=>{m(l)},[l]);const y=(S,C=!1,k=!1)=>C?`+${S}`:k?`+${S}`:`${S}%`,p=()=>Object.values(e.expertOpinions).map(k=>k.recommendation).filter(k=>k==="Accept").length,v=()=>{if(i!==2||!r)return{isFeasible:!0,insufficientResources:[]};const S=[];return r.firefightingResource+e.impact.firefightingResource<0&&S.push({metric:"Resources",needed:Math.abs(e.impact.firefightingResource),available:r.firefightingResource}),r.infrastructureCondition+e.impact.infrastructureCondition<0&&S.push({metric:"Infrastructure",needed:Math.abs(e.impact.infrastructureCondition),available:r.infrastructureCondition}),r.biodiversityCondition+e.impact.biodiversityCondition<0&&S.push({metric:"Biodiversity",needed:Math.abs(e.impact.biodiversityCondition),available:r.biodiversityCondition}),r.propertiesCondition+e.impact.propertiesCondition<0&&S.push({metric:"Properties",needed:Math.abs(e.impact.propertiesCondition),available:r.propertiesCondition}),{isFeasible:S.length===0,insufficientResources:S}},{isFeasible:b,insufficientResources:j}=v();return{safety:{name:"Safety",icon:a.jsx(Is,{size:12,className:"mr-1"})},efficiency:{name:"Efficiency",icon:a.jsx(Jr,{size:12,className:"mr-1"})},sustainability:{name:"Sustainability",icon:a.jsx(Bh,{size:12,className:"mr-1"})},fairness:{name:"Fairness",icon:a.jsx(xr,{size:12,className:"mr-1"})},nonmaleficence:{name:"Nonmaleficence",icon:a.jsx(Vh,{size:12,className:"mr-1"})}}[e.label],a.jsxs("div",{className:"relative",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[a.jsxs("div",{className:`bg-white border ${b?"border-gray-300":"border-red-300 bg-red-50/50 opacity-75"} text-left p-3 rounded-lg transition-all duration-200 flex flex-col w-full`,children:[!b&&a.jsx("div",{className:"absolute top-2 left-2 z-10 flex items-center gap-1",children:a.jsx(ut,{size:16,className:"text-red-600"})}),!b&&i===2&&o&&a.jsx("div",{className:"absolute top-2 right-2 z-10",children:a.jsxs("label",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-3 py-2 rounded-lg shadow-lg cursor-pointer hover:from-blue-600 hover:to-cyan-600 transition-all duration-200 border-2 border-white",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:x,className:"w-5 h-5 rounded border-2 border-white cursor-pointer accent-yellow-400"}),a.jsx("span",{className:"text-sm font-semibold whitespace-nowrap",children:"Would choose if feasible"})]})}),a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:`text-lg font-bold ${b?"bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent":"text-red-800"} mb-1 ${b?"":"ml-6"} tracking-tight`,children:e.title}),a.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.description})]}),a.jsx("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",children:[a.jsx(gs,{size:12,className:"text-green-600"}),a.jsxs("span",{className:"text-xs text-gray-700 whitespace-nowrap font-medium",children:[p(),"/5 recommend"]})]})})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-2 mb-2",children:[a.jsx("h5",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1.5",children:"Key Considerations"}),e.riskInfo.map((S,C)=>a.jsxs("div",{className:"flex items-start mb-1 last:mb-0",children:[a.jsx("span",{className:"text-red-500 mr-2 mt-0.5 font-bold",children:""}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:S})]},C))]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-2 mb-2",children:[a.jsx("h5",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1.5",children:"Metrics Impact"}),a.jsxs("div",{className:"grid grid-cols-2 gap-1.5 text-xs",children:[a.jsxs("div",{className:"flex items-center text-green-600 font-medium",children:[a.jsx(Ri,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Lives Saved: ",y(e.impact.livesSaved,!0)]})]}),a.jsxs("div",{className:"flex items-center text-red-600 font-medium",children:[a.jsx(bo,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Casualties: ",y(e.impact.humanCasualties,!1,!0)]})]}),a.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:[a.jsx(Jr,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Resources: ",y(e.impact.firefightingResource)]})]}),a.jsxs("div",{className:"flex items-center text-gray-600 font-medium",children:[a.jsx(Kn,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Infrastructure: ",y(e.impact.infrastructureCondition)]})]}),a.jsxs("div",{className:"flex items-center text-green-600 font-medium",children:[a.jsx(Fs,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Biodiversity: ",y(e.impact.biodiversityCondition)]})]}),a.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:[a.jsx(Kn,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Properties: ",y(e.impact.propertiesCondition)]})]}),a.jsxs("div",{className:"flex items-center text-purple-600 font-medium",children:[a.jsx(yo,{size:14,className:"mr-1.5"}),a.jsxs("span",{className:"text-xs",children:["Nuclear: ",y(e.impact.nuclearPowerStation)]})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:g,className:"flex-1 py-2 px-4 rounded-md font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-md hover:shadow-lg flex items-center justify-center gap-1",children:[a.jsx(In,{size:16}),"Review"]}),a.jsxs("div",{className:"relative flex-1",onMouseEnter:()=>!s&&f(!0),onMouseLeave:()=>f(!1),children:[a.jsx("button",{onClick:()=>!b||!s?null:t(e),disabled:!b||!s,className:`w-full py-2 px-4 rounded-md font-semibold text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 ${b?s?"bg-teal-600 text-white hover:bg-teal-700 focus:ring-teal-500 shadow-md hover:shadow-lg":"bg-gray-300 text-gray-600 cursor-not-allowed border border-gray-400":"bg-red-100 text-red-700 cursor-not-allowed border border-red-300"}`,children:b?"Select":"Not Feasible"}),!s&&u&&a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-30 w-72 pointer-events-none",children:a.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-2 border-amber-400 text-gray-800 px-4 py-3 rounded-lg shadow-2xl",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ut,{size:18,className:"text-amber-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-sm text-amber-900 mb-1",children:"Explore Alternatives First"}),a.jsxs("p",{className:"text-xs leading-relaxed text-gray-700",children:["Please explore alternative options before making your selection. Find the ",a.jsx("span",{className:"font-semibold text-amber-800",children:'"Explore Alternatives"'})," button at the bottom of this page."]})]})]}),a.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-3 h-3 bg-gradient-to-br from-amber-50 to-orange-50 border-r-2 border-b-2 border-amber-400"})]})})]})]})]}),!b&&c&&j.length>0&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 z-20 bg-red-600 text-white text-xs px-3 py-2 rounded-md shadow-lg transition-opacity duration-200",children:[a.jsx("div",{className:"font-semibold mb-1",children:"Not Feasible:"}),j.map((S,C)=>a.jsxs("div",{children:["Not enough ",S.metric," (needs ",S.needed,"%, you have ",S.available,"%)"]},C))]})]})},YI=({isOpen:e,onClose:t,option:n,onKeepChoice:r,onReviewAlternatives:i,isAligned:s,hasExploredAlternatives:o})=>(Ie.useEffect(()=>{e&&o&&setTimeout(()=>{r()},100)},[e,o,r]),e?a.jsx("div",{className:"fixed inset-0",style:{position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px",overflow:"hidden",opacity:0,pointerEvents:"none",zIndex:-1},children:a.jsxs("div",{className:"bg-white text-[6px] rounded-sm shadow-sm max-w-[60px] w-full p-[1px]",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-[1px]",children:[a.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:n.title}),a.jsx("button",{onClick:t,className:"text-gray-400 p-[1px]",children:a.jsx(An,{size:8})})]}),a.jsx("div",{className:"p-[1px]",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:r,disabled:!o,className:`px-[2px] py-[1px] rounded-sm text-[5px] transition-all duration-200 font-medium ${o?"bg-gradient-to-r from-blue-400 to-indigo-400 text-white":"bg-gray-200 text-gray-400 cursor-not-allowed opacity-60"}`,children:"Keep"})})})]})}):null),GI=({isOpen:e,onClose:t,option:n,onConfirmDecision:r,canConfirm:i,onReviewAlternatives:s,isAligned:o,selectedOptionValue:l,userTopValues:c})=>{const[d,u]=N.useState(!1),[f,h]=N.useState(!0),[m,g]=N.useState(!1),x=N.useRef(null);if(N.useEffect(()=>{if(e&&x.current){const I=x.current,E=I.scrollHeight>I.clientHeight;g(E);const _=()=>{I.scrollHeight-I.scrollTop-I.clientHeight<50&&g(!1)};return I.addEventListener("scroll",_),()=>I.removeEventListener("scroll",_)}},[e]),!e)return null;const y=I=>{const E=localStorage.getItem("hasReorderedValues")==="true",_=localStorage.getItem("cvrYesClicked")==="true",F=localStorage.getItem("cvrNoClicked")==="true";E||(_||F)?(u(!0),window.pendingAction="close",window.cvrYesClicked=_):t()},p=()=>{localStorage.removeItem("MoralValuesReorderList"),localStorage.removeItem("moralValuesRanking"),localStorage.setItem("hasReorderedValues","false"),localStorage.setItem("cvrYesClicked","false"),localStorage.setItem("cvrNoClicked","false"),u(!1),window.pendingAction==="close"?t():(t(),s()),delete window.pendingAction,delete window.cvrYesClicked},v=()=>{u(!1),delete window.pendingAction,delete window.cvrYesClicked},b=(I,E=!1,_=!1)=>E?`+${I}`:_?`+${I}`:`${I}%`,j=()=>{const I=Object.values(n.expertOpinions),E=I.filter(F=>F.recommendation==="Accept").length,_=I.filter(F=>F.recommendation==="Reject").length;return{accepts:E,rejects:_,total:I.length}},{accepts:w,rejects:S,total:C}=j(),k=window.cvrYesClicked===!0;return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Decision Summary"}),a.jsx("button",{onClick:()=>y(),className:"text-gray-500 hover:text-gray-700",children:a.jsx(An,{size:24})})]}),a.jsxs("div",{ref:x,className:"p-6 flex-1 overflow-auto relative",children:[!o&&a.jsx("div",{className:"mb-6 bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-300 rounded-xl shadow-md p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a.jsx(ut,{className:"text-red-600",size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-bold text-red-900 text-base mb-2",children:"Warning: This Option Does Not Align With Your Values"}),a.jsxs("p",{className:"text-red-800 text-sm leading-relaxed mb-3",children:["The option you've selected ",a.jsxs("strong",{children:["(",l,")"]})," is not aligned with your top stable values ",a.jsxs("strong",{children:["(",c.map(I=>I.charAt(0).toUpperCase()+I.slice(1)).join(", "),")"]}),"."]}),a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-3 rounded-r-lg",children:a.jsx("p",{className:"text-red-900 text-sm font-medium",children:"Please carefully consider whether this decision reflects what matters most to you before confirming."})})]})]})}),a.jsx("div",{className:"mb-6 bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-400 rounded-xl shadow-md p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a.jsx(Ka,{className:"text-yellow-600",size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"font-bold text-yellow-900 text-base mb-2",children:"Why You're Seeing This Page"}),a.jsxs("p",{className:"text-yellow-800 text-sm leading-relaxed mb-3",children:["This is your ",a.jsx("strong",{children:"final review"})," before committing to this decision. You're seeing a summary of what you've chosen and how it will affect your mission."]}),a.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-3 rounded-r-lg",children:[a.jsx("p",{className:"text-yellow-900 text-sm font-semibold mb-1",children:'Important: What Happens When You Click "Confirm Decision"'}),a.jsxs("ul",{className:"text-yellow-800 text-sm space-y-1 ml-4 list-disc",children:[a.jsxs("li",{children:["This option's impacts will be ",a.jsx("strong",{children:"permanently applied"})," to your cumulative simulation scores"]}),a.jsxs("li",{children:["All metrics (lives saved, resources, infrastructure, etc.) will be ",a.jsx("strong",{children:"updated immediately"})]}),a.jsxs("li",{children:["These changes will ",a.jsx("strong",{children:"carry forward"})," to the next scenario, affecting your future options"]}),a.jsxs("li",{children:["You ",a.jsx("strong",{children:"cannot undo"})," this decision once confirmed"]})]})]}),a.jsx("p",{className:"text-yellow-800 text-xs mt-2 italic",children:"Take your time to review the expert consensus and impact summary below before confirming."})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:n.title}),a.jsx("p",{className:"text-gray-600 text-sm",children:n.description})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"Expert Consensus"}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gs,{className:"text-green-500",size:20}),a.jsxs("span",{className:"font-medium text-green-700",children:[w," Recommend"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($h,{className:"text-red-500",size:20}),a.jsxs("span",{className:"font-medium text-red-700",children:[S," Do Not Recommend"]})]}),a.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:[w,"/",C," experts support this decision"]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors mb-3 group",children:[a.jsx("h5",{className:"font-medium text-gray-700",children:"Impact Summary"}),a.jsx("div",{className:"text-gray-600",children:f?a.jsx(Wy,{size:20}):a.jsx($r,{size:20})})]}),f&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded border-l-4 border-green-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ri,{size:16,className:"text-green-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Lives Saved"})]}),a.jsx("span",{className:"font-bold text-green-600",children:b(n.impact.livesSaved,!0)})]}),n.impact.humanCasualties>0&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded border-l-4 border-red-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bo,{size:16,className:"text-red-600"}),a.jsx("span",{className:"text-sm font-medium",children:"Casualties"})]}),a.jsx("span",{className:"font-bold text-red-600",children:b(n.impact.humanCasualties,!1,!0)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Jr,{size:14,className:"text-blue-600"}),a.jsx("span",{className:"text-xs font-medium",children:"Resources"})]}),a.jsx("span",{className:"text-sm font-bold text-blue-600",children:b(n.impact.firefightingResource)})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Kn,{size:14,className:"text-gray-600"}),a.jsx("span",{className:"text-xs font-medium",children:"Infrastructure"})]}),a.jsx("span",{className:"text-sm font-bold text-gray-600",children:b(n.impact.infrastructureCondition)})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Fs,{size:14,className:"text-green-600"}),a.jsx("span",{className:"text-xs font-medium",children:"Biodiversity"})]}),a.jsx("span",{className:"text-sm font-bold text-green-600",children:b(n.impact.biodiversityCondition)})]}),a.jsxs("div",{className:"flex items-center justify-between p-2 bg-purple-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(yo,{size:14,className:"text-purple-600"}),a.jsx("span",{className:"text-xs font-medium",children:"Nuclear"})]}),a.jsx("span",{className:"text-sm font-bold text-purple-600",children:b(n.impact.nuclearPowerStation)})]})]})]})]}),!i&&a.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-200 rounded-lg relative",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-400 to-red-400 rounded-full flex items-center justify-center animate-pulse",children:a.jsx("span",{className:"text-white text-sm font-bold",children:"!"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-orange-800 mb-1",children:"Action Required"}),a.jsx("p",{className:"text-xs text-orange-700",children:"Please review alternatives before confirming your decision."})]})]})}),m&&a.jsx("div",{className:"sticky bottom-0 left-0 right-0 flex justify-center pb-4",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-xs px-4 py-2 rounded-full shadow-lg animate-bounce",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($r,{size:16}),a.jsx("span",{children:"Scroll down to see more"}),a.jsx($r,{size:16})]})})})]}),a.jsx("div",{className:"border-t p-6 bg-gray-50",children:a.jsxs("div",{className:"flex flex-col gap-3 max-w-md mx-auto",children:[a.jsxs("button",{onClick:()=>y(),className:"w-full flex items-center justify-center gap-3 px-8 py-4 rounded-xl transition-all duration-300 bg-gradient-to-r from-gray-600 to-gray-700 text-white hover:from-gray-700 hover:to-gray-800 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold text-base group",children:[a.jsx(Yy,{size:20,className:"group-hover:rotate-180 transition-transform duration-500"}),"Change My Mind"]}),a.jsxs("button",{onClick:r,disabled:!i,className:`w-full flex items-center justify-center gap-3 px-8 py-4 rounded-xl transition-all duration-300 font-semibold text-base shadow-lg ${i?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 hover:shadow-xl transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:i?"":"Review alternatives to enable confirmation",children:[a.jsx($y,{size:20}),"Confirm Decision"]}),!i&&a.jsx("p",{className:"text-xs text-center text-orange-600 italic",children:"You must view all alternatives before confirming"})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx(ut,{className:"text-orange-500",size:32})})}),k?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center mb-3",children:"Your Value Reflection Will Be Cleared"}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:"You confirmed your decision in the value reflection scenario. If you go back now, your response to that reflection question will be cleared, and the value prioritization you established will be reset."}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Tip:"})," Consider confirming your current decision to preserve your value reflection response, or continue if you'd like to reconsider your choice from the beginning."]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center mb-3",children:"Your Preference Changes Will Be Lost"}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:"You recently reordered your values to help guide this decision. If you go back now, these personalized rankings will be cleared and you'll need to set them up again if you want to use them."}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Tip:"})," Consider confirming your current decision to preserve your preference settings, or continue if you'd like to explore other options from scratch."]})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Stay Here"}),a.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Continue Anyway"})]})]})})})]})},Vb="label";function jx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function qI(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Bb(e,t){e.labels=t}function $b(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vb;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function JI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vb;const n={labels:[],datasets:[]};return Bb(n,e.labels),$b(n,e.datasets,t),n}function KI(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:f,...h}=e,m=N.useRef(null),g=N.useRef(null),x=()=>{m.current&&(g.current=new Vi(m.current,{type:o,data:JI(l,s),options:c&&{...c},plugins:d}),jx(t,g.current))},y=()=>{jx(t,null),g.current&&(g.current.destroy(),g.current=null)};return N.useEffect(()=>{!i&&g.current&&c&&qI(g.current,c)},[i,c]),N.useEffect(()=>{!i&&g.current&&Bb(g.current.config.data,l.labels)},[i,l.labels]),N.useEffect(()=>{!i&&g.current&&l.datasets&&$b(g.current.config.data,l.datasets,s)},[i,l.datasets]),N.useEffect(()=>{g.current&&(i?(y(),setTimeout(x)):g.current.update(f))},[i,c,l.labels,l.datasets,f]),N.useEffect(()=>{g.current&&(y(),setTimeout(x))},[o]),N.useEffect(()=>(x(),()=>y()),[]),Ie.createElement("canvas",{ref:m,role:"img",height:n,width:r,...h},u)}const QI=N.forwardRef(KI);function om(e,t){return Vi.register(t),N.forwardRef((n,r)=>Ie.createElement(QI,{...n,ref:r,type:e}))}const Wb=om("line",Ll),lm=om("bar",Ol),XI=om("radar",Fl);Vi.register(ro,io,vs,am,Zc,Xc,as,Ci,Pn,Ab);const fu={"Fire Containment":"fireContainment","Population Safety":"populationSafety","Ethical Fairness":"ethicalFairness","Firefighter Risk":"firefighterRisk","Resource Use":"resourceUse","Infrastructure Damage":"infrastructureDamage","Biodiversity Impact":"biodiversityImpact"},ZI=({showRadarChart:e,onClose:t,currentScenario:n,toggledOptions:r,toggleOption:i,prepareRadarChartData:s,radarOptions:o})=>{var E,_,F,H;const[l,c]=N.useState("Fire Containment"),[d,u]=N.useState("radar"),[f,h]=N.useState(()=>localStorage.getItem("hasClickedBar")==="true"),[m,g]=N.useState(()=>localStorage.getItem("hasClickedDifferences")==="true");if(!e)return null;const x=[...n.options];Object.values(r).filter(Boolean).length;const y={fireContainment:100,populationSafety:100,ethicalFairness:100,firefighterRisk:0,resourceUse:0,infrastructureDamage:0,biodiversityImpact:0},p=["Fire Containment","Population Safety","Ethical Fairness","Firefighter Risk","Resource Use","Infrastructure Damage","Biodiversity Impact"],v=D=>["Fire Containment","Population Safety","Ethical Fairness"].includes(D),b={standard:["rgba(239, 68, 68, 0.7)","rgba(59, 130, 246, 0.7)","rgba(16, 185, 129, 0.7)","rgba(245, 158, 11, 0.7)","rgba(139, 92, 246, 0.7)"],border:["rgb(239, 68, 68)","rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(139, 92, 246)"]},j=()=>{const D=x.filter(M=>r[M.id]).map((M,R)=>({label:M.title,data:p.map(O=>{var P;return((P=M.radarData)==null?void 0:P[fu[O]])||0}),backgroundColor:b.standard[R%b.standard.length],borderColor:b.border[R%b.border.length],borderWidth:2}));return{labels:p,datasets:D}},w=()=>{const D=x.filter(R=>r[R.id]),M=fu[l];return{labels:D.map(R=>R.title),datasets:[{label:l,data:D.map(R=>{var O;return((O=R.radarData)==null?void 0:O[M])||0}),backgroundColor:D.map((R,O)=>b.standard[O%b.standard.length]),borderColor:D.map((R,O)=>b.border[O%b.border.length]),borderWidth:2},{label:"Ideal",data:Array(D.length).fill(y[M]),type:"line",borderColor:"rgba(138, 43, 226, 1)",borderWidth:2,borderDash:[5,5],fill:!1}]}},S=()=>{var O,P;const D=x.filter(T=>r[T.id]),M=fu[l],R=[];for(let T=0;T<D.length;T++)for(let A=T+1;A<D.length;A++){const W=((O=D[T].radarData)==null?void 0:O[M])||0,U=((P=D[A].radarData)==null?void 0:P[M])||0,fe=Math.abs(W-U),le=v(l)?W>U?D[T].title:D[A].title:W<U?D[T].title:D[A].title;R.push({option1:D[T].title,option2:D[A].title,difference:fe,better:le})}return R.sort((T,A)=>A.difference-T.difference)},C=D=>{u(D),D==="bar"&&!f&&(h(!0),localStorage.setItem("hasClickedBar","true")),D==="differences"&&!m&&(g(!0),localStorage.setItem("hasClickedDifferences","true"))},k=D=>{c(D)},I=D=>{i(D)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx(ks,{className:"mr-2 text-blue-600",size:20}),"Decision Trade-Off Comparison"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>C("radar"),className:`px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${d==="radar"?"bg-blue-500 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(q2,{size:16,className:"inline mr-1"}),"Radar"]}),a.jsxs("button",{onClick:()=>C("bar"),className:`px-3 py-1.5 rounded-md text-sm transition-all duration-200 relative ${d==="bar"?"bg-green-500 text-white shadow-lg scale-105":f?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 animate-pulse"}`,children:[a.jsx(V2,{size:16,className:"inline mr-1"}),"Bar",!f&&d!=="bar"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full animate-ping"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full"})]})]}),a.jsxs("button",{onClick:()=>C("differences"),className:`px-3 py-1.5 rounded-md text-sm transition-all duration-200 relative ${d==="differences"?"bg-purple-500 text-white shadow-lg scale-105":m?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 animate-pulse"}`,children:[a.jsx(Hy,{size:16,className:"inline mr-1"}),"Differences",!m&&d!=="differences"&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full animate-ping"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-400 rounded-full"})]})]}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx(An,{size:20})})]})]}),a.jsxs("div",{className:"p-4 flex-1 overflow-auto",children:[d!=="radar"&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Metrics"}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border border-emerald-200 rounded-lg p-3 shadow-sm",children:[a.jsxs("h5",{className:"text-xs font-bold text-emerald-800 mb-2 flex items-center",children:[a.jsx("span",{className:"bg-emerald-200 rounded-full w-2 h-2 mr-2"}),"Positive Impact (Higher is Better)"]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:["Fire Containment","Population Safety","Ethical Fairness"].map(D=>a.jsx("button",{onClick:()=>k(D),className:`px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${l===D?"bg-emerald-600 text-white shadow-lg scale-105":"bg-white text-emerald-700 hover:bg-emerald-100 border border-emerald-300"}`,children:D},D))})]}),a.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 border border-rose-200 rounded-lg p-3 shadow-sm",children:[a.jsxs("h5",{className:"text-xs font-bold text-rose-800 mb-2 flex items-center",children:[a.jsx("span",{className:"bg-rose-200 rounded-full w-2 h-2 mr-2"}),"Negative Impact (Lower is Better)"]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:["Firefighter Risk","Resource Use","Infrastructure Damage","Biodiversity Impact"].map(D=>a.jsx("button",{onClick:()=>k(D),className:`px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${l===D?"bg-rose-600 text-white shadow-lg scale-105":"bg-white text-rose-700 hover:bg-rose-100 border border-rose-300"}`,children:D},D))})]})]})})]}),d==="radar"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Scenario Selected Options"}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(D=>a.jsxs("button",{onClick:()=>I(D.id),className:`w-full p-2 rounded-lg flex items-center justify-between transition-all duration-200 ${r[D.id]?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${r[D.id]?"bg-gray-500":"bg-gray-300"}`}),a.jsx("span",{className:"text-sm font-medium",children:D.title})]}),r[D.id]?a.jsx(In,{size:16,className:"text-current"}):a.jsx(Qd,{size:16,className:"text-current"})]},D.id))})})]}),a.jsx("div",{className:"h-[450px]",children:a.jsx(XI,{data:j(),options:{...o,scales:{r:{...(E=o==null?void 0:o.scales)==null?void 0:E.r,pointLabels:{...(F=(_=o==null?void 0:o.scales)==null?void 0:_.r)==null?void 0:F.pointLabels,color:function(D){const M=D.label;return v(M)?"#059669":"#dc2626"},font:{size:12,weight:"bold"}}}},plugins:{...o==null?void 0:o.plugins,legend:{...(H=o==null?void 0:o.plugins)==null?void 0:H.legend}}},plugins:[{id:"radarBackground",beforeDraw:D=>{const M=D.ctx,R=D.chartArea,O=D.scales.r;if(!O||!R)return;M.save();const P=O.xCenter,T=O.yCenter,A=O.drawingArea;p.forEach((W,U)=>{const fe=Math.PI*2*U/p.length-Math.PI/2,le=Math.PI*2*(U+1)/p.length-Math.PI/2;M.beginPath(),M.moveTo(P,T),M.arc(P,T,A,fe,le),M.closePath(),v(W)?M.fillStyle="rgba(16, 185, 129, 0.08)":M.fillStyle="rgba(239, 68, 68, 0.08)",M.fill()}),M.restore()}}]})}),a.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Metrics Legend"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium text-green-800 mb-2",children:"Positive Impact Metrics (Higher is Better)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Di,{size:16,className:"text-red-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Fire Containment"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Is,{size:16,className:"text-blue-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Population Safety"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(xr,{size:16,className:"text-purple-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Ethical Fairness"})]})]})]}),a.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium text-red-800 mb-2",children:"Negative Impact Metrics (Lower is Better)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ut,{size:16,className:"text-orange-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Firefighter Risk"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Jr,{size:16,className:"text-blue-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Resource Use"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kn,{size:16,className:"text-gray-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Infrastructure Damage"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fs,{size:16,className:"text-green-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Biodiversity Impact"})]})]})]})]})]})]}),d==="bar"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Scenario Selected Options"}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(D=>a.jsxs("button",{onClick:()=>I(D.id),className:`w-full p-2 rounded-lg flex items-center justify-between transition-all duration-200 ${r[D.id]?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${r[D.id]?"bg-gray-500":"bg-gray-300"}`}),a.jsx("span",{className:"text-sm font-medium",children:D.title})]}),r[D.id]?a.jsx(In,{size:16,className:"text-current"}):a.jsx(Qd,{size:16,className:"text-current"})]},D.id))})})]}),a.jsx("div",{className:"h-[450px]",children:a.jsx(lm,{data:w(),options:{responsive:!0,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:l}}},plugins:{legend:{position:"bottom",labels:{filter:function(D){return D.text==="Ideal"}}},tooltip:{callbacks:{label:D=>{const M=D.raw;return`${D.dataset.label}: ${M} (${v(l)?"Higher is better":"Lower is better"})`}}}}}})})]}),d==="differences"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Scenario Selected Options"}),a.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-3",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(D=>a.jsxs("button",{onClick:()=>I(D.id),className:`w-full p-2 rounded-lg flex items-center justify-between transition-all duration-200 ${r[D.id]?"bg-gray-100 text-gray-800 hover:bg-gray-200":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`w-3 h-3 rounded-full mr-2 ${r[D.id]?"bg-gray-500":"bg-gray-300"}`}),a.jsx("span",{className:"text-sm font-medium",children:D.title})]}),r[D.id]?a.jsx(In,{size:16,className:"text-current"}):a.jsx(Qd,{size:16,className:"text-current"})]},D.id))})})]}),a.jsx("div",{className:"space-y-3",children:S().map((D,M)=>a.jsxs("div",{className:"bg-white border-2 border-gray-200 hover:border-blue-300 p-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-gray-800",children:D.option1}),a.jsx("span",{className:"text-gray-400 font-medium",children:"vs"}),a.jsx("span",{className:"font-semibold text-gray-800",children:D.option2})]}),a.jsxs("span",{className:"font-bold text-purple-600 bg-purple-50 px-3 py-1 rounded-lg",children:[" ",D.difference.toFixed(1)]})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[a.jsx("span",{className:"font-semibold text-blue-700 bg-blue-50 px-2 py-1 rounded",children:D.better})," ",a.jsx("span",{className:"text-gray-500",children:"performs better in this metric"})]})]},M))})]})]})]})})},eP=({isOpen:e,onClose:t,alternativeOptions:n,onAddAlternative:r})=>{const[i,s]=N.useState(null);if(!e)return null;const o=f=>{switch(f){case"safety":return a.jsx(Is,{className:"text-red-500",size:16});case"efficiency":return a.jsx(fc,{className:"text-yellow-500",size:16});case"sustainability":return a.jsx(Bh,{className:"text-green-500",size:16});case"fairness":return a.jsx(xr,{className:"text-blue-500",size:16});case"nonmaleficence":return a.jsx(Vh,{className:"text-purple-500",size:16});default:return null}},l=f=>f==="Accept"?a.jsx(gs,{className:"text-green-600",size:18}):f==="Reject"?a.jsx($h,{className:"text-red-600",size:18}):a.jsx(fc,{className:"text-gray-600",size:18}),c=f=>f.charAt(0).toUpperCase()+f.slice(1)+" Expert",d=f=>Object.values(f.expertOpinions).filter(h=>h.recommendation==="Accept").length,u=()=>{s(null),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl max-w-7xl w-full h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center",children:[a.jsx(fr,{className:"mr-2.5 text-purple-600",size:24}),"Explore Alternative Decisions"]}),a.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-white rounded-lg",children:a.jsx(An,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:i?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"px-6 pt-4 pb-3 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:[a.jsxs("button",{onClick:()=>s(null),className:"text-sm text-purple-600 hover:text-purple-800 flex items-center font-medium mb-3 hover:underline",children:[a.jsx(An,{size:16,className:"mr-1"}),"Back to alternatives"]}),a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-bold text-blue-900 mb-1.5",children:"Decision Overview"}),a.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:i.description})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg border-2 border-blue-200 shadow-sm",children:[a.jsx(gs,{className:"text-green-600",size:18}),a.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[d(i),"/5"]}),a.jsx("span",{className:"text-xs text-gray-600",children:"recommend"})]})]}),a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:i.riskInfo.map((f,h)=>a.jsxs("div",{className:"flex items-start bg-white rounded-lg px-2 py-1.5",children:[a.jsx("span",{className:"text-blue-500 mr-1.5 mt-0.5 font-bold",children:""}),a.jsx("p",{className:"text-xs text-blue-800",children:f})]},h))})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[a.jsx("h4",{className:"text-base font-bold text-gray-800 mb-3 flex items-center",children:a.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm mr-2",children:"Expert Evaluations"})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:Object.entries(i.expertOpinions).map(([f,h])=>a.jsxs("div",{className:`rounded-xl p-4 border-2 transition-all duration-200 ${h.recommendation==="Accept"?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:shadow-lg":h.recommendation==="Reject"?"bg-gradient-to-br from-red-50 to-pink-50 border-red-200 hover:shadow-lg":"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-200 hover:shadow-lg"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[o(f),a.jsx("h5",{className:"text-sm font-bold text-gray-800",children:c(f)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[l(h.recommendation),a.jsx("span",{className:`text-sm font-bold px-3 py-1 rounded-full ${h.recommendation==="Accept"?"bg-green-600 text-white":h.recommendation==="Reject"?"bg-red-600 text-white":"bg-gray-600 text-white"}`,children:h.recommendation})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"bg-white bg-opacity-70 p-2.5 rounded-lg",children:a.jsxs("p",{className:"text-xs text-gray-800 leading-relaxed",children:[a.jsx("span",{className:"font-bold text-gray-900",children:"Analysis:"})," ",h.summary]})}),a.jsx("div",{className:"bg-blue-100 bg-opacity-50 p-2.5 rounded-lg",children:a.jsxs("p",{className:"text-xs text-blue-900 leading-relaxed",children:[a.jsx("span",{className:"font-bold",children:"Comparison:"})," ",h.comparison]})})]})]},f))})]}),a.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsxs("button",{onClick:()=>{r(i),u()},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-2 transition-all duration-200 shadow-lg hover:shadow-xl text-base",children:[a.jsx(fr,{size:20}),"Add Alternative to Decision List"]})})]}):a.jsx(a.Fragment,{children:n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-full p-8 mb-6 shadow-lg",children:a.jsx(cr,{className:"text-green-600",size:56})}),a.jsx("h4",{className:"text-2xl font-bold text-gray-800 mb-3 text-center",children:"All Alternatives Explored!"}),a.jsx("p",{className:"text-base text-gray-600 text-center max-w-md mb-8 leading-relaxed",children:"You've successfully reviewed and added all available alternative decisions for this scenario. All options are now visible on the simulation page, ready for your evaluation."}),a.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-5 mb-8 max-w-md",children:a.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[a.jsx("span",{className:"font-semibold",children:"Next Steps:"})," Return to the simulation page to compare all options, review their metrics, and make your final decision."]})}),a.jsxs("button",{onClick:u,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold py-3.5 px-8 rounded-xl flex items-center gap-2 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(wi,{size:20}),"Return to Simulation"]})]}):a.jsxs("div",{className:"p-8 h-full flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 p-5 rounded-2xl mb-6 shadow-sm",children:[a.jsxs("h4",{className:"text-base font-bold text-purple-900 mb-2 flex items-center",children:[a.jsx(fr,{className:"mr-2 text-purple-600",size:20}),"About Alternative Decisions"]}),a.jsx("p",{className:"text-sm text-purple-700 leading-relaxed",children:"Our experts have analyzed alternative strategies that might offer different trade-offs. These options provide unique approaches to handling the crisis, potentially balancing various factors in innovative ways."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5 flex-1 overflow-y-auto pr-2",children:n.map(f=>a.jsxs("div",{className:"flex flex-col bg-white rounded-2xl border-2 border-gray-200 hover:border-purple-400 hover:shadow-2xl transition-all duration-300 h-fit",children:[a.jsxs("div",{className:"p-5 flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h5",{className:"font-bold text-gray-900 text-base leading-tight flex-1 mr-2",children:f.title}),a.jsxs("div",{className:"flex items-center gap-1.5 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800 px-3 py-1.5 rounded-full font-bold whitespace-nowrap shadow-sm",children:[a.jsx(gs,{size:14}),a.jsxs("span",{className:"text-xs",children:[d(f),"/5"]})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed line-clamp-2",children:f.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[f.riskInfo.slice(0,2).map((h,m)=>a.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-2",children:[a.jsx("span",{className:"text-purple-500 mr-2 mt-0.5 font-bold text-sm",children:""}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed line-clamp-2",children:h})]},m)),f.riskInfo.length>2&&a.jsxs("p",{className:"text-xs text-purple-600 font-semibold pl-2",children:["+",f.riskInfo.length-2," more details..."]})]})]}),a.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-purple-50 border-t-2 border-gray-100 rounded-b-2xl",children:a.jsxs("button",{onClick:()=>s(f),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-4 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[a.jsx(Tn,{size:18}),"Select & View Details"]})})]},f.id))})]})})})]})})},tP=({isOpen:e,onClose:t,question:n,onAnswer:r})=>e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"text-yellow-500\\",size:24}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Value Reflection Required"})]}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx(An,{size:20})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:n.descriptionTile}),a.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:a.jsx("p",{className:"text-yellow-800 font-medium",children:n.question})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>r(!0),className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Yes, I would"}),a.jsx("button",{onClick:()=>r(!1),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors duration-200",children:"No, I would not"})]})]})]})}):null;function Of(e,t){return Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Of(e,t)}function Hb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Of(e,t)}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(null,arguments)}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function nP(e,t){if(so(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(so(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rP(e){var t=nP(e,"string");return so(t)=="symbol"?t:t+""}function iP(e,t,n){return(t=rP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cx(Object(n),!0).forEach(function(r){iP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ix=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Px=function(){return Math.random().toString(36).substring(7).split("").join(".")},_x={INIT:"@@redux/INIT"+Px(),REPLACE:"@@redux/REPLACE"+Px()};function sP(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ub(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zt(1));return n(Ub)(e,t)}if(typeof e!="function")throw new Error(zt(2));var i=e,s=t,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(zt(3));return s}function f(x){if(typeof x!="function")throw new Error(zt(4));if(c)throw new Error(zt(5));var y=!0;return d(),l.push(x),function(){if(y){if(c)throw new Error(zt(6));y=!1,d();var v=l.indexOf(x);l.splice(v,1),o=null}}}function h(x){if(!sP(x))throw new Error(zt(7));if(typeof x.type>"u")throw new Error(zt(8));if(c)throw new Error(zt(9));try{c=!0,s=i(s,x)}finally{c=!1}for(var y=o=l,p=0;p<y.length;p++){var v=y[p];v()}return x}function m(x){if(typeof x!="function")throw new Error(zt(10));i=x,h({type:_x.REPLACE})}function g(){var x,y=f;return x={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(zt(11));function b(){v.next&&v.next(u())}b();var j=y(b);return{unsubscribe:j}}},x[Ix]=function(){return this},x}return h({type:_x.INIT}),r={dispatch:h,subscribe:f,getState:u,replaceReducer:m},r[Ix]=g,r}function Ex(e,t){return function(){return t(e.apply(this,arguments))}}function Dx(e,t){if(typeof e=="function")return Ex(e,t);if(typeof e!="object"||e===null)throw new Error(zt(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=Ex(i,t))}return n}function Yb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function aP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(zt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return s=Yb.apply(void 0,l)(i.dispatch),kx(kx({},i),{},{dispatch:s})}}}var Gb=Ie.createContext(null);function oP(e){e()}var qb=oP,lP=function(t){return qb=t},cP=function(){return qb};function dP(){var e=cP(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=t;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Rx={notify:function(){},get:function(){return[]}};function Jb(e,t){var n,r=Rx;function i(f){return c(),r.subscribe(f)}function s(){r.notify()}function o(){u.onStateChange&&u.onStateChange()}function l(){return!!n}function c(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=dP())}function d(){n&&(n(),n=void 0,r.clear(),r=Rx)}var u={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return r}};return u}var Kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function uP(e){var t=e.store,n=e.context,r=e.children,i=N.useMemo(function(){var l=Jb(t);return{store:t,subscription:l}},[t]),s=N.useMemo(function(){return t.getState()},[t]);Kb(function(){var l=i.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[i,s]);var o=n||Gb;return Ie.createElement(o.Provider,{value:i},r)}function bc(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qb={exports:{}},Ae={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=typeof Symbol=="function"&&Symbol.for,cm=gt?Symbol.for("react.element"):60103,dm=gt?Symbol.for("react.portal"):60106,td=gt?Symbol.for("react.fragment"):60107,nd=gt?Symbol.for("react.strict_mode"):60108,rd=gt?Symbol.for("react.profiler"):60114,id=gt?Symbol.for("react.provider"):60109,sd=gt?Symbol.for("react.context"):60110,um=gt?Symbol.for("react.async_mode"):60111,ad=gt?Symbol.for("react.concurrent_mode"):60111,od=gt?Symbol.for("react.forward_ref"):60112,ld=gt?Symbol.for("react.suspense"):60113,fP=gt?Symbol.for("react.suspense_list"):60120,cd=gt?Symbol.for("react.memo"):60115,dd=gt?Symbol.for("react.lazy"):60116,hP=gt?Symbol.for("react.block"):60121,mP=gt?Symbol.for("react.fundamental"):60117,pP=gt?Symbol.for("react.responder"):60118,gP=gt?Symbol.for("react.scope"):60119;function ln(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cm:switch(e=e.type,e){case um:case ad:case td:case rd:case nd:case ld:return e;default:switch(e=e&&e.$$typeof,e){case sd:case od:case dd:case cd:case id:return e;default:return t}}case dm:return t}}}function Xb(e){return ln(e)===ad}Ae.AsyncMode=um;Ae.ConcurrentMode=ad;Ae.ContextConsumer=sd;Ae.ContextProvider=id;Ae.Element=cm;Ae.ForwardRef=od;Ae.Fragment=td;Ae.Lazy=dd;Ae.Memo=cd;Ae.Portal=dm;Ae.Profiler=rd;Ae.StrictMode=nd;Ae.Suspense=ld;Ae.isAsyncMode=function(e){return Xb(e)||ln(e)===um};Ae.isConcurrentMode=Xb;Ae.isContextConsumer=function(e){return ln(e)===sd};Ae.isContextProvider=function(e){return ln(e)===id};Ae.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cm};Ae.isForwardRef=function(e){return ln(e)===od};Ae.isFragment=function(e){return ln(e)===td};Ae.isLazy=function(e){return ln(e)===dd};Ae.isMemo=function(e){return ln(e)===cd};Ae.isPortal=function(e){return ln(e)===dm};Ae.isProfiler=function(e){return ln(e)===rd};Ae.isStrictMode=function(e){return ln(e)===nd};Ae.isSuspense=function(e){return ln(e)===ld};Ae.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===td||e===ad||e===rd||e===nd||e===ld||e===fP||typeof e=="object"&&e!==null&&(e.$$typeof===dd||e.$$typeof===cd||e.$$typeof===id||e.$$typeof===sd||e.$$typeof===od||e.$$typeof===mP||e.$$typeof===pP||e.$$typeof===gP||e.$$typeof===hP)};Ae.typeOf=ln;Qb.exports=Ae;var xP=Qb.exports,fm=xP,vP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hm={};hm[fm.ForwardRef]=bP;hm[fm.Memo]=Zb;function Mx(e){return fm.isMemo(e)?Zb:hm[e.$$typeof]||vP}var wP=Object.defineProperty,SP=Object.getOwnPropertyNames,Tx=Object.getOwnPropertySymbols,NP=Object.getOwnPropertyDescriptor,jP=Object.getPrototypeOf,Ax=Object.prototype;function ew(e,t,n){if(typeof t!="string"){if(Ax){var r=jP(t);r&&r!==Ax&&ew(e,r,n)}var i=SP(t);Tx&&(i=i.concat(Tx(t)));for(var s=Mx(e),o=Mx(t),l=0;l<i.length;++l){var c=i[l];if(!yP[c]&&!(n&&n[c])&&!(o&&o[c])&&!(s&&s[c])){var d=NP(t,c);try{wP(e,c,d)}catch{}}}}return e}var CP=ew;const Ox=Wf(CP);var tw={exports:{}},ze={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=60103,fd=60106,So=60107,No=60108,jo=60114,Co=60109,ko=60110,Io=60112,Po=60113,mm=60120,_o=60115,Eo=60116,nw=60121,rw=60122,iw=60117,sw=60129,aw=60131;if(typeof Symbol=="function"&&Symbol.for){var xt=Symbol.for;ud=xt("react.element"),fd=xt("react.portal"),So=xt("react.fragment"),No=xt("react.strict_mode"),jo=xt("react.profiler"),Co=xt("react.provider"),ko=xt("react.context"),Io=xt("react.forward_ref"),Po=xt("react.suspense"),mm=xt("react.suspense_list"),_o=xt("react.memo"),Eo=xt("react.lazy"),nw=xt("react.block"),rw=xt("react.server.block"),iw=xt("react.fundamental"),sw=xt("react.debug_trace_mode"),aw=xt("react.legacy_hidden")}function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ud:switch(e=e.type,e){case So:case jo:case No:case Po:case mm:return e;default:switch(e=e&&e.$$typeof,e){case ko:case Io:case Eo:case _o:case Co:return e;default:return t}}case fd:return t}}}var kP=Co,IP=ud,PP=Io,_P=So,EP=Eo,DP=_o,RP=fd,MP=jo,TP=No,AP=Po;ze.ContextConsumer=ko;ze.ContextProvider=kP;ze.Element=IP;ze.ForwardRef=PP;ze.Fragment=_P;ze.Lazy=EP;ze.Memo=DP;ze.Portal=RP;ze.Profiler=MP;ze.StrictMode=TP;ze.Suspense=AP;ze.isAsyncMode=function(){return!1};ze.isConcurrentMode=function(){return!1};ze.isContextConsumer=function(e){return On(e)===ko};ze.isContextProvider=function(e){return On(e)===Co};ze.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ud};ze.isForwardRef=function(e){return On(e)===Io};ze.isFragment=function(e){return On(e)===So};ze.isLazy=function(e){return On(e)===Eo};ze.isMemo=function(e){return On(e)===_o};ze.isPortal=function(e){return On(e)===fd};ze.isProfiler=function(e){return On(e)===jo};ze.isStrictMode=function(e){return On(e)===No};ze.isSuspense=function(e){return On(e)===Po};ze.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===So||e===jo||e===sw||e===No||e===Po||e===mm||e===aw||typeof e=="object"&&e!==null&&(e.$$typeof===Eo||e.$$typeof===_o||e.$$typeof===Co||e.$$typeof===ko||e.$$typeof===Io||e.$$typeof===iw||e.$$typeof===nw||e[0]===rw)};ze.typeOf=On;tw.exports=ze;var OP=tw.exports,LP=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],FP=["reactReduxForwardedRef"],zP=[],VP=[null,null];function BP(e,t){var n=e[1];return[t.payload,n+1]}function Lx(e,t,n){Kb(function(){return e.apply(void 0,t)},n)}function $P(e,t,n,r,i,s,o){e.current=r,t.current=i,n.current=!1,s.current&&(s.current=null,o())}function WP(e,t,n,r,i,s,o,l,c,d){if(e){var u=!1,f=null,h=function(){if(!u){var x=t.getState(),y,p;try{y=r(x,i.current)}catch(v){p=v,f=v}p||(f=null),y===s.current?o.current||c():(s.current=y,l.current=y,o.current=!0,d({type:"STORE_UPDATED",payload:{error:p}}))}};n.onStateChange=h,n.trySubscribe(),h();var m=function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f};return m}}var HP=function(){return[null,0]};function UP(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(b){return"ConnectAdvanced("+b+")"}:r,s=n.methodName,o=s===void 0?"connectAdvanced":s,l=n.renderCountProp,c=l===void 0?void 0:l,d=n.shouldHandleStateChanges,u=d===void 0?!0:d,f=n.storeKey,h=f===void 0?"store":f;n.withRef;var m=n.forwardRef,g=m===void 0?!1:m,x=n.context,y=x===void 0?Gb:x,p=bc(n,LP),v=y;return function(j){var w=j.displayName||j.name||"Component",S=i(w),C=ne({},p,{getDisplayName:i,methodName:o,renderCountProp:c,shouldHandleStateChanges:u,storeKey:h,displayName:S,wrappedComponentName:w,WrappedComponent:j}),k=p.pure;function I(D){return e(D.dispatch,C)}var E=k?N.useMemo:function(D){return D()};function _(D){var M=N.useMemo(function(){var ae=D.reactReduxForwardedRef,ve=bc(D,FP);return[D.context,ae,ve]},[D]),R=M[0],O=M[1],P=M[2],T=N.useMemo(function(){return R&&R.Consumer&&OP.isContextConsumer(Ie.createElement(R.Consumer,null))?R:v},[R,v]),A=N.useContext(T),W=!!D.store&&!!D.store.getState&&!!D.store.dispatch;A&&A.store;var U=W?D.store:A.store,fe=N.useMemo(function(){return I(U)},[U]),le=N.useMemo(function(){if(!u)return VP;var ae=Jb(U,W?null:A.subscription),ve=ae.notifyNestedSubs.bind(ae);return[ae,ve]},[U,W,A]),Y=le[0],re=le[1],ie=N.useMemo(function(){return W?A:ne({},A,{subscription:Y})},[W,A,Y]),qe=N.useReducer(BP,zP,HP),z=qe[0],L=z[0],se=qe[1];if(L&&L.error)throw L.error;var ce=N.useRef(),V=N.useRef(P),J=N.useRef(),Q=N.useRef(!1),he=E(function(){return J.current&&P===V.current?J.current:fe(U.getState(),P)},[U,L,P]);Lx($P,[V,ce,Q,P,he,J,re]),Lx(WP,[u,U,Y,fe,V,ce,Q,J,re,se],[U,Y,fe]);var te=N.useMemo(function(){return Ie.createElement(j,ne({},he,{ref:O}))},[O,j,he]),Ne=N.useMemo(function(){return u?Ie.createElement(T.Provider,{value:ie},te):te},[T,te,ie]);return Ne}var F=k?Ie.memo(_):_;if(F.WrappedComponent=j,F.displayName=_.displayName=S,g){var H=Ie.forwardRef(function(M,R){return Ie.createElement(F,ne({},M,{reactReduxForwardedRef:R}))});return H.displayName=S,H.WrappedComponent=j,Ox(H,j)}return Ox(F,j)}}function Fx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function hu(e,t){if(Fx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Fx(e[n[i]],t[n[i]]))return!1;return!0}function YP(e,t){var n={},r=function(o){var l=e[o];typeof l=="function"&&(n[o]=function(){return t(l.apply(void 0,arguments))})};for(var i in e)r(i);return n}function pm(e){return function(n,r){var i=e(n,r);function s(){return i}return s.dependsOnOwnProps=!1,s}}function zx(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function ow(e,t){return function(r,i){i.displayName;var s=function(l,c){return s.dependsOnOwnProps?s.mapToProps(l,c):s.mapToProps(l)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,c){s.mapToProps=e,s.dependsOnOwnProps=zx(e);var d=s(l,c);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=zx(d),d=s(l,c)),d},s}}function GP(e){return typeof e=="function"?ow(e):void 0}function qP(e){return e?void 0:pm(function(t){return{dispatch:t}})}function JP(e){return e&&typeof e=="object"?pm(function(t){return YP(e,t)}):void 0}const KP=[GP,qP,JP];function QP(e){return typeof e=="function"?ow(e):void 0}function XP(e){return e?void 0:pm(function(){return{}})}const ZP=[QP,XP];function e_(e,t,n){return ne({},n,e,t)}function t_(e){return function(n,r){r.displayName;var i=r.pure,s=r.areMergedPropsEqual,o=!1,l;return function(d,u,f){var h=e(d,u,f);return o?(!i||!s(h,l))&&(l=h):(o=!0,l=h),l}}}function n_(e){return typeof e=="function"?t_(e):void 0}function r_(e){return e?void 0:function(){return e_}}const i_=[n_,r_];var s_=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function a_(e,t,n,r){return function(s,o){return n(e(s,o),t(r,o),o)}}function o_(e,t,n,r,i){var s=i.areStatesEqual,o=i.areOwnPropsEqual,l=i.areStatePropsEqual,c=!1,d,u,f,h,m;function g(b,j){return d=b,u=j,f=e(d,u),h=t(r,u),m=n(f,h,u),c=!0,m}function x(){return f=e(d,u),t.dependsOnOwnProps&&(h=t(r,u)),m=n(f,h,u),m}function y(){return e.dependsOnOwnProps&&(f=e(d,u)),t.dependsOnOwnProps&&(h=t(r,u)),m=n(f,h,u),m}function p(){var b=e(d,u),j=!l(b,f);return f=b,j&&(m=n(f,h,u)),m}function v(b,j){var w=!o(j,u),S=!s(b,d,j,u);return d=b,u=j,w&&S?x():w?y():S?p():m}return function(j,w){return c?v(j,w):g(j,w)}}function l_(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,s=bc(t,s_),o=n(e,s),l=r(e,s),c=i(e,s),d=s.pure?o_:a_;return d(o,l,c,e,s)}var c_=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function mu(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(s,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function d_(e,t){return e===t}function u_(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?UP:n,i=t.mapStateToPropsFactories,s=i===void 0?ZP:i,o=t.mapDispatchToPropsFactories,l=o===void 0?KP:o,c=t.mergePropsFactories,d=c===void 0?i_:c,u=t.selectorFactory,f=u===void 0?l_:u;return function(m,g,x,y){y===void 0&&(y={});var p=y,v=p.pure,b=v===void 0?!0:v,j=p.areStatesEqual,w=j===void 0?d_:j,S=p.areOwnPropsEqual,C=S===void 0?hu:S,k=p.areStatePropsEqual,I=k===void 0?hu:k,E=p.areMergedPropsEqual,_=E===void 0?hu:E,F=bc(p,c_),H=mu(m,s,"mapStateToProps"),D=mu(g,l,"mapDispatchToProps"),M=mu(x,d,"mergeProps");return r(f,ne({methodName:"connect",getDisplayName:function(O){return"Connect("+O+")"},shouldHandleStateChanges:!!m,initMapStateToProps:H,initMapDispatchToProps:D,initMergeProps:M,pure:b,areStatesEqual:w,areOwnPropsEqual:C,areStatePropsEqual:I,areMergedPropsEqual:_},F))}}const lw=u_();lP(Fh.unstable_batchedUpdates);function f_(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function cw(e,t){var n=N.useState(function(){return{inputs:t,result:e()}})[0],r=N.useRef(!0),i=N.useRef(n),s=r.current||!!(t&&i.current.inputs&&f_(t,i.current.inputs)),o=s?i.current:{inputs:t,result:e()};return N.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function h_(e,t){return cw(function(){return e},t)}var Pe=cw,K=h_,m_="Invariant failed";function p_(e,t){throw new Error(m_)}var _n=function(t){var n=t.top,r=t.right,i=t.bottom,s=t.left,o=r-s,l=i-n,c={top:n,right:r,bottom:i,left:s,width:o,height:l,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return c},gm=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Vx=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},g_=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},pu={top:0,right:0,bottom:0,left:0},xm=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?pu:r,s=t.border,o=s===void 0?pu:s,l=t.padding,c=l===void 0?pu:l,d=_n(gm(n,i)),u=_n(Vx(n,o)),f=_n(Vx(u,c));return{marginBox:d,borderBox:_n(n),paddingBox:u,contentBox:f,margin:i,border:o,padding:c}},un=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&p_(),i},x_=function(){return{x:window.pageXOffset,y:window.pageYOffset}},wc=function(t,n){var r=t.borderBox,i=t.border,s=t.margin,o=t.padding,l=g_(r,n);return xm({borderBox:l,border:i,margin:s,padding:o})},Sc=function(t,n){return n===void 0&&(n=x_()),wc(t,n)},dw=function(t,n){var r={top:un(n.marginTop),right:un(n.marginRight),bottom:un(n.marginBottom),left:un(n.marginLeft)},i={top:un(n.paddingTop),right:un(n.paddingRight),bottom:un(n.paddingBottom),left:un(n.paddingLeft)},s={top:un(n.borderTopWidth),right:un(n.borderRightWidth),bottom:un(n.borderBottomWidth),left:un(n.borderLeftWidth)};return xm({borderBox:t,margin:r,padding:i,border:s})},uw=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return dw(n,r)},Bx=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function v_(e,t){return!!(e===t||Bx(e)&&Bx(t))}function y_(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!v_(e[n],t[n]))return!1;return!0}function ht(e,t){t===void 0&&(t=y_);var n,r=[],i,s=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s&&n===this&&t(l,r)||(i=e.apply(this,l),s=!0,n=this,r=l),i}return o}var ao=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function fw(e,t){}fw.bind(null,"warn");fw.bind(null,"error");function Hr(){}function b_(e,t){return ne({},e,{},t)}function gn(e,t,n){var r=t.map(function(i){var s=b_(n,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(function(s){s()})}}var w_="Invariant failed";function Nc(e){this.message=e}Nc.prototype.toString=function(){return this.message};function $(e,t){throw new Nc(w_)}var S_=function(e){Hb(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.callbacks=null,r.unbind=Hr,r.onWindowError=function(l){var c=r.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof Nc&&l.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(l){r.callbacks=l},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=gn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Nc){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(Ie.Component),N_=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,jc=function(t){return t+1},j_=function(t){return`
  You have lifted an item in position `+jc(t.source.index)+`
`},hw=function(t,n){var r=t.droppableId===n.droppableId,i=jc(t.index),s=jc(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+s+`
  `},mw=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},C_=function(t){var n=t.destination;if(n)return hw(t.source,n);var r=t.combine;return r?mw(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},$x=function(t){return`
  The item has returned to its starting position
  of `+jc(t.index)+`
`},k_=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+$x(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+hw(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+mw(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+$x(t.source)+`
  `},Bl={dragHandleUsageInstructions:N_,onDragStart:j_,onDragUpdate:C_,onDragEnd:k_},pt={x:0,y:0},bt=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},Zt=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Ur=function(t,n){return t.x===n.x&&t.y===n.y},Vs=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Oi=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},oo=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},Wx=function(t,n){return Math.min.apply(Math,n.map(function(r){return oo(t,r)}))},pw=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},I_=function(e,t){var n=_n({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},Do=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Hx=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},P_={top:0,right:0,bottom:0,left:0},__=function(t,n){return n?Do(t,n.scroll.diff.displacement):t},E_=function(t,n,r){if(r&&r.increasedBy){var i;return ne({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},D_=function(t,n){return n&&n.shouldClipSubject?I_(n.pageMarginBox,t):_n(t)},Ds=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,s=__(t.marginBox,i),o=E_(s,r,n),l=D_(o,i);return{page:t,withPlaceholder:n,active:l}},vm=function(e,t){e.frame||$();var n=e.frame,r=Zt(t,n.scroll.initial),i=Vs(r),s=ne({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),o=Ds({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s}),l=ne({},e,{frame:s,subject:o});return l};function Cc(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function ym(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function ri(e,t){if(e.find)return e.find(t);var n=ym(e,t);if(n!==-1)return e[n]}function gw(e){return Array.prototype.slice.call(e)}var xw=ht(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),vw=ht(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),hd=ht(function(e){return Cc(e)}),R_=ht(function(e){return Cc(e)}),Bs=ht(function(e,t){var n=R_(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function bm(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function md(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var pd=ht(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),M_=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,s=e.previousImpact;if(!r.isCombineEnabled)return null;var o=bm(s);if(!o)return null;function l(x){var y={type:"COMBINE",combine:{draggableId:x,droppableId:r.descriptor.id}};return ne({},s,{at:y})}var c=s.displaced.all,d=c.length?c[0]:null;if(t)return d?l(d):null;var u=pd(n,i);if(!d){if(!u.length)return null;var f=u[u.length-1];return l(f.descriptor.id)}var h=ym(u,function(x){return x.descriptor.id===d});h===-1&&$();var m=h-1;if(m<0)return null;var g=u[m];return l(g.descriptor.id)},$s=function(e,t){return e.descriptor.droppableId===t.descriptor.id},yw={point:pt,value:0},lo={invisible:{},visible:{},all:[]},T_={displaced:lo,displacedBy:yw,at:null},vn=function(e,t){return function(n){return e<=n&&n<=t}},bw=function(e){var t=vn(e.top,e.bottom),n=vn(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var s=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right),l=s&&o;if(l)return!0;var c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right,u=c&&d;if(u)return!0;var f=c&&o||d&&s;return f}},A_=function(e){var t=vn(e.top,e.bottom),n=vn(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},wm={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ww={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},O_=function(e){return function(t){var n=vn(t.top,t.bottom),r=vn(t.left,t.right);return function(i){return e===wm?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},L_=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:pt;return Do(t,r)},F_=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},z_=function(t,n,r){return r(n)(t)},Sm=function(t){var n=t.target,r=t.destination,i=t.viewport,s=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=s?L_(n,r):n;return F_(l,r,o)&&z_(l,i,o)},V_=function(t){return Sm(ne({},t,{isVisibleThroughFrameFn:bw}))},Sw=function(t){return Sm(ne({},t,{isVisibleThroughFrameFn:A_}))},B_=function(t){return Sm(ne({},t,{isVisibleThroughFrameFn:O_(t.destination.axis)}))},$_=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,s=n.visible;if(i[t])return!1;var o=s[t];return o?o.shouldAnimate:!0};function W_(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return _n(gm(n,r))}function co(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,s=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,d){var u=W_(d,r),f=d.descriptor.id;c.all.push(f);var h=V_({target:u,destination:n,viewport:i,withDroppableDisplacement:!0});if(!h)return c.invisible[d.descriptor.id]=!0,c;var m=$_(f,o,s),g={draggableId:f,shouldAnimate:m};return c.visible[f]=g,c},{all:[],visible:{},invisible:{}})}function H_(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function Ux(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,s=H_(t,{inHomeList:n});return{displaced:lo,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function kc(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,s=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=$s(t,r);if(l==null)return Ux({insideDestination:n,inHomeList:d,displacedBy:s,destination:r});var u=ri(n,function(x){return x.descriptor.index===l});if(!u)return Ux({insideDestination:n,inHomeList:d,displacedBy:s,destination:r});var f=pd(t,n),h=n.indexOf(u),m=f.slice(h),g=co({afterDragging:m,destination:r,displacedBy:s,last:o,viewport:i.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function Qr(e,t){return!!t.effected[e]}var U_=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,s=e.afterCritical;if(!n.isCombineEnabled)return null;var o=i.draggableId,l=r[o],c=l.descriptor.index,d=Qr(o,s);return d?t?c:c-1:t?c+1:c},Y_=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var s=i.index,o=t?s+1:s-1,l=r[0].descriptor.index,c=r[r.length-1].descriptor.index,d=n?c:c+1;return o<l||o>d?null:o},G_=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,s=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,u=l.at;if(u||$(),u.type==="REORDER"){var f=Y_({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:o});return f==null?null:kc({draggable:r,insideDestination:o,destination:s,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var h=U_({isMovingForward:t,destination:s,displaced:l.displaced,draggables:i,combine:u.combine,afterCritical:d});return h==null?null:kc({draggable:r,insideDestination:o,destination:s,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},q_=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,s=!!(t.visible[r]||t.invisible[r]);return Qr(r,n)?s?pt:Vs(i.point):s?i.point:pt},J_=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=md(n);i||$();var s=i.draggableId,o=r[s].page.borderBox.center,l=q_({displaced:n.displaced,afterCritical:t,combineWith:s,displacedBy:n.displacedBy});return bt(o,l)},Nw=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},K_=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},Nm=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},Yx=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Oi(n.line,r.marginBox[n.end]+Nw(n,i),Nm(n,r.marginBox,i))},Gx=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Oi(n.line,r.marginBox[n.start]-K_(n,i),Nm(n,r.marginBox,i))},Q_=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return Oi(n.line,r.contentBox[n.start]+Nw(n,i),Nm(n,r.contentBox,i))},X_=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,s=e.afterCritical,o=Bs(i.descriptor.id,r),l=n.page,c=i.axis;if(!o.length)return Q_({axis:c,moveInto:i.page,isMoving:l});var d=t.displaced,u=t.displacedBy,f=d.all[0];if(f){var h=r[f];if(Qr(f,s))return Gx({axis:c,moveRelativeTo:h.page,isMoving:l});var m=wc(h.page,u.point);return Gx({axis:c,moveRelativeTo:m,isMoving:l})}var g=o[o.length-1];if(g.descriptor.id===n.descriptor.id)return l.borderBox.center;if(Qr(g.descriptor.id,s)){var x=wc(g.page,Vs(s.displacedBy.point));return Yx({axis:c,moveRelativeTo:x,isMoving:l})}return Yx({axis:c,moveRelativeTo:g.page,isMoving:l})},Lf=function(e,t){var n=e.frame;return n?bt(t,n.scroll.diff.displacement):t},Z_=function(t){var n=t.impact,r=t.draggable,i=t.droppable,s=t.draggables,o=t.afterCritical,l=r.page.borderBox.center,c=n.at;return!i||!c?l:c.type==="REORDER"?X_({impact:n,draggable:r,draggables:s,droppable:i,afterCritical:o}):J_({impact:n,draggables:s,afterCritical:o})},gd=function(e){var t=Z_(e),n=e.droppable,r=n?Lf(n,t):t;return r},jw=function(e,t){var n=Zt(t,e.scroll.initial),r=Vs(n),i=_n({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),s={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return s};function qx(e,t){return e.map(function(n){return t[n]})}function eE(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var tE=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,s=e.maxScrollChange,o=jw(n,bt(n.scroll.current,s)),l=r.frame?vm(r,bt(r.frame.scroll.current,s)):r,c=t.displaced,d=co({afterDragging:qx(c.all,i),destination:r,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),u=co({afterDragging:qx(c.all,i),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),f={},h={},m=[c,d,u];c.all.forEach(function(x){var y=eE(x,m);if(y){h[x]=y;return}f[x]=!0});var g=ne({},t,{displaced:{all:c.all,invisible:f,visible:h}});return g},nE=function(e,t){return bt(e.scroll.diff.displacement,t)},jm=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=nE(r,t),s=Zt(i,n.page.borderBox.center);return bt(n.client.borderBox.center,s)},Cw=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,s=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=Zt(r,t.page.borderBox.center),d=Do(t.page.borderBox,c),u={target:d,destination:n,withDroppableDisplacement:s,viewport:i};return l?B_(u):Sw(u)},rE=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,s=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!r.isEnabled)return null;var u=Bs(r.descriptor.id,i),f=$s(n,r),h=M_({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:s})||G_({isMovingForward:t,isInHomeList:f,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:s,viewport:o,afterCritical:d});if(!h)return null;var m=gd({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:d}),g=Cw({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var x=jm({pageBorderBoxCenter:m,draggable:n,viewport:o});return{clientSelection:x,impact:h,scrollJumpRequest:null}}var y=Zt(m,l),p=tE({impact:h,viewport:o,destination:r,draggables:i,maxScrollChange:y});return{clientSelection:c,impact:p,scrollJumpRequest:y}},Rt=function(t){var n=t.subject.active;return n||$(),n},iE=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,s=e.viewport,o=r.subject.active;if(!o)return null;var l=r.axis,c=vn(o[l.start],o[l.end]),d=hd(i).filter(function(f){return f!==r}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return bw(s.frame)(Rt(f))}).filter(function(f){var h=Rt(f);return t?o[l.crossAxisEnd]<h[l.crossAxisEnd]:h[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(f){var h=Rt(f),m=vn(h[l.start],h[l.end]);return c(h[l.start])||c(h[l.end])||m(o[l.start])||m(o[l.end])}).sort(function(f,h){var m=Rt(f)[l.crossAxisStart],g=Rt(h)[l.crossAxisStart];return t?m-g:g-m}).filter(function(f,h,m){return Rt(f)[l.crossAxisStart]===Rt(m[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var u=d.filter(function(f){var h=vn(Rt(f)[l.start],Rt(f)[l.end]);return h(n[l.line])});return u.length===1?u[0]:u.length>1?u.sort(function(f,h){return Rt(f)[l.start]-Rt(h)[l.start]})[0]:d.sort(function(f,h){var m=Wx(n,Hx(Rt(f))),g=Wx(n,Hx(Rt(h)));return m!==g?m-g:Rt(f)[l.start]-Rt(h)[l.start]})[0]},Jx=function(t,n){var r=t.page.borderBox.center;return Qr(t.descriptor.id,n)?Zt(r,n.displacedBy.point):r},sE=function(t,n){var r=t.page.borderBox;return Qr(t.descriptor.id,n)?Do(r,Vs(n.displacedBy.point)):r},aE=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,s=e.afterCritical,o=i.filter(function(l){return Sw({target:sE(l,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=oo(t,Lf(r,Jx(l,s))),u=oo(t,Lf(r,Jx(c,s)));return d<u?-1:u<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},Ro=ht(function(t,n){var r=n[t.line];return{value:r,point:Oi(t.line,r)}}),oE=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return Oi(i.line,n[i.line]);var s=t.subject.page.contentBox[i.size],o=Bs(t.descriptor.id,r),l=o.reduce(function(u,f){return u+f.client.marginBox[i.size]},0),c=l+n[i.line],d=c-s;return d<=0?null:Oi(i.line,d)},kw=function(t,n){return ne({},t,{scroll:ne({},t.scroll,{max:n})})},Iw=function(t,n,r){var i=t.frame;$s(n,t)&&$(),t.subject.withPlaceholder&&$();var s=Ro(t.axis,n.displaceBy).point,o=oE(t,s,r),l={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var c=Ds({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return ne({},t,{subject:c})}var d=o?bt(i.scroll.max,o):i.scroll.max,u=kw(i,d),f=Ds({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:u});return ne({},t,{subject:f,frame:u})},lE=function(t){var n=t.subject.withPlaceholder;n||$();var r=t.frame;if(!r){var i=Ds({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ne({},t,{subject:i})}var s=n.oldFrameMaxScroll;s||$();var o=kw(r,s),l=Ds({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return ne({},t,{subject:l,frame:o})},cE=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,s=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!n){if(r.length)return null;var d={displaced:lo,displacedBy:yw,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=gd({impact:d,draggable:i,droppable:o,draggables:s,afterCritical:c}),f=$s(i,o)?o:Iw(o,i,s),h=Cw({draggable:i,destination:f,newPageBorderBoxCenter:u,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?d:null}var m=t[o.axis.line]<=n.page.borderBox.center[o.axis.line],g=function(){var y=n.descriptor.index;return n.descriptor.id===i.descriptor.id||m?y:y+1}(),x=Ro(o.axis,i.displaceBy);return kc({draggable:i,insideDestination:r,destination:o,viewport:l,displacedBy:x,last:lo,index:g})},dE=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,s=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=iE({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:o,viewport:l});if(!d)return null;var u=Bs(d.descriptor.id,s),f=aE({pageBorderBoxCenter:n,viewport:l,destination:d,insideDestination:u,afterCritical:c}),h=cE({previousPageBorderBoxCenter:n,destination:d,draggable:r,draggables:s,moveRelativeTo:f,insideDestination:u,viewport:l,afterCritical:c});if(!h)return null;var m=gd({impact:h,draggable:r,droppable:d,draggables:s,afterCritical:c}),g=jm({pageBorderBoxCenter:m,draggable:r,viewport:l});return{clientSelection:g,impact:h,scrollJumpRequest:null}},nn=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},uE=function(t,n){var r=nn(t);return r?n[r]:null},fE=function(e){var t=e.state,n=e.type,r=uE(t.impact,t.dimensions.droppables),i=!!r,s=t.dimensions.droppables[t.critical.droppable.id],o=r||s,l=o.axis.direction,c=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(c&&!i)return null;var d=n==="MOVE_DOWN"||n==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,m=h.draggables,g=h.droppables;return c?rE({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):dE({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,isOver:o,draggables:m,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function fi(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Pw(e){var t=vn(e.top,e.bottom),n=vn(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function hE(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function mE(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,s=r.map(function(o){var l=o.axis,c=Oi(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:oo(i,c)}}).sort(function(o,l){return l.distance-o.distance});return s[0]?s[0].id:null}function pE(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=hd(r).filter(function(s){if(!s.isEnabled)return!1;var o=s.subject.active;if(!o||!hE(t,o))return!1;if(Pw(o)(t.center))return!0;var l=s.axis,c=o.center[l.crossAxisLine],d=t[l.crossAxisStart],u=t[l.crossAxisEnd],f=vn(o[l.crossAxisStart],o[l.crossAxisEnd]),h=f(d),m=f(u);return!h&&!m?!0:h?d<c:u>c});return i.length?i.length===1?i[0].descriptor.id:mE({pageBorderBox:t,draggable:n,candidates:i}):null}var _w=function(t,n){return _n(Do(t,n))},gE=function(e,t){var n=e.frame;return n?_w(t,n.scroll.diff.value):t};function Ew(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function xE(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var vE=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,s=e.last,o=e.viewport,l=e.afterCritical,c=r.axis,d=Ro(r.axis,n.displaceBy),u=d.value,f=t[c.start],h=t[c.end],m=pd(n,i),g=ri(m,function(y){var p=y.descriptor.id,v=y.page.borderBox.center[c.line],b=Qr(p,l),j=Ew({displaced:s,id:p});return b?j?h<=v:f<v-u:j?h<=v+u:f<v}),x=xE({draggable:n,closest:g,inHomeList:$s(n,r)});return kc({draggable:n,insideDestination:i,destination:r,viewport:o,last:s,displacedBy:d,index:x})},yE=4,bE=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,s=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var l=i.axis,c=Ro(i.axis,t.displaceBy),d=c.value,u=n[l.start],f=n[l.end],h=pd(t,s),m=ri(h,function(x){var y=x.descriptor.id,p=x.page.borderBox,v=p[l.size],b=v/yE,j=Qr(y,o),w=Ew({displaced:r.displaced,id:y});return j?w?f>p[l.start]+b&&f<p[l.end]-b:u>p[l.start]-d+b&&u<p[l.end]-d-b:w?f>p[l.start]+d+b&&f<p[l.end]+d-b:u>p[l.start]+b&&u<p[l.end]-b});if(!m)return null;var g={displacedBy:c,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:i.descriptor.id}}};return g},Dw=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,s=e.previousImpact,o=e.viewport,l=e.afterCritical,c=_w(n.page.borderBox,t),d=pE({pageBorderBox:c,draggable:n,droppables:i});if(!d)return T_;var u=i[d],f=Bs(u.descriptor.id,r),h=gE(u,c);return bE({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:s,destination:u,insideDestination:f,afterCritical:l})||vE({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:f,last:s.displaced,viewport:o,afterCritical:l})},Cm=function(e,t){var n;return ne({},e,(n={},n[t.descriptor.id]=t,n))},wE=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,s=nn(n),o=nn(r);if(!s||s===o)return i;var l=i[s];if(!l.subject.withPlaceholder)return i;var c=lE(l);return Cm(i,c)},SE=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,s=e.impact,o=wE({previousImpact:i,impact:s,droppables:r}),l=nn(s);if(!l)return o;var c=r[l];if($s(t,c)||c.subject.withPlaceholder)return o;var d=Iw(c,t,n);return Cm(o,d)},_a=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,s=e.impact,o=e.scrollJumpRequest,l=i||t.viewport,c=r||t.dimensions,d=n||t.current.client.selection,u=Zt(d,t.initial.client.selection),f={offset:u,selection:d,borderBoxCenter:bt(t.initial.client.borderBoxCenter,u)},h={selection:bt(f.selection,l.scroll.current),borderBoxCenter:bt(f.borderBoxCenter,l.scroll.current),offset:bt(f.offset,l.scroll.diff.value)},m={client:f,page:h};if(t.phase==="COLLECTING")return ne({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var g=c.draggables[t.critical.draggable.id],x=s||Dw({pageOffset:h.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),y=SE({draggable:g,impact:x,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),p=ne({},t,{current:m,dimensions:{draggables:c.draggables,droppables:y},impact:x,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return p};function NE(e,t){return e.map(function(n){return t[n]})}var Rw=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,s=e.forceShouldAnimate,o=t.displaced,l=NE(o.all,r),c=co({afterDragging:l,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:o});return ne({},t,{displaced:c})},Mw=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,s=e.viewport,o=e.afterCritical,l=gd({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o});return jm({pageBorderBoxCenter:l,draggable:n,viewport:s})},Tw=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&$();var i=t.impact,s=r||t.viewport,o=n||t.dimensions,l=o.draggables,c=o.droppables,d=l[t.critical.draggable.id],u=nn(i);u||$();var f=c[u],h=Rw({impact:i,viewport:s,destination:f,draggables:l}),m=Mw({impact:h,draggable:d,droppable:f,draggables:l,viewport:s,afterCritical:t.afterCritical});return _a({impact:h,clientSelection:m,state:t,dimensions:o,viewport:s})},jE=function(e){return{index:e.index,droppableId:e.droppableId}},Aw=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,s=Ro(n.axis,t.displaceBy),o=Bs(n.descriptor.id,r),l=o.indexOf(t);l===-1&&$();var c=o.slice(l+1),d=c.reduce(function(m,g){return m[g.descriptor.id]=!0,m},{}),u={inVirtualList:n.descriptor.mode==="virtual",displacedBy:s,effected:d},f=co({afterDragging:c,destination:n,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:s,at:{type:"REORDER",destination:jE(t.descriptor)}};return{impact:h,afterCritical:u}},CE=function(e,t){return{draggables:e.draggables,droppables:Cm(e.droppables,t)}},kE=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=wc(t.client,n),s=Sc(i,r),o=ne({},t,{placeholder:ne({},t.placeholder,{client:i}),client:i,page:s});return o},IE=function(e){var t=e.frame;return t||$(),t},PE=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(s){var o=s.descriptor.droppableId,l=n[o],c=IE(l),d=c.scroll.diff.value,u=bt(i,d),f=kE({draggable:s,offset:u,initialWindowScroll:r.scroll.initial});return f})},_E=function(e){var t=e.state,n=e.published,r=n.modified.map(function(b){var j=t.dimensions.droppables[b.droppableId],w=vm(j,b.scroll);return w}),i=ne({},t.dimensions.droppables,{},xw(r)),s=vw(PE({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),o=ne({},t.dimensions.draggables,{},s);n.removals.forEach(function(b){delete o[b]});var l={droppables:i,draggables:o},c=nn(t.impact),d=c?l.droppables[c]:null,u=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],h=Aw({draggable:u,home:f,draggables:o,viewport:t.viewport}),m=h.impact,g=h.afterCritical,x=d&&d.isCombineEnabled?t.impact:m,y=Dw({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:x,viewport:t.viewport,afterCritical:g}),p=ne({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:y,onLiftImpact:m,dimensions:l,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return p;var v=ne({phase:"DROP_PENDING"},p,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return v},Ff=function(t){return t.movementMode==="SNAP"},gu=function(t,n,r){var i=CE(t.dimensions,n);return!Ff(t)||r?_a({state:t,dimensions:i}):Tw({state:t,dimensions:i})};function xu(e){return e.isDragging&&e.movementMode==="SNAP"?ne({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Kx={phase:"IDLE",completed:null,shouldFlush:!1},EE=function(e,t){if(e===void 0&&(e=Kx),t.type==="FLUSH")return ne({},Kx,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&$();var n=t.payload,r=n.critical,i=n.clientSelection,s=n.viewport,o=n.dimensions,l=n.movementMode,c=o.draggables[r.draggable.id],d=o.droppables[r.droppable.id],u={selection:i,borderBoxCenter:c.client.borderBox.center,offset:pt},f={client:u,page:{selection:bt(u.selection,s.scroll.initial),borderBoxCenter:bt(u.selection,s.scroll.initial),offset:bt(u.selection,s.scroll.diff.value)}},h=hd(o.droppables).every(function(se){return!se.isFixedOnPage}),m=Aw({draggable:c,home:d,draggables:o.draggables,viewport:s}),g=m.impact,x=m.afterCritical,y={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:o,initial:f,current:f,isWindowScrollAllowed:h,impact:g,afterCritical:x,onLiftImpact:g,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return y}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&$();var p=ne({phase:"COLLECTING"},e,{phase:"COLLECTING"});return p}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||$(),_E({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;fi(e)||$();var v=t.payload.client;return Ur(v,e.current.client.selection)?e:_a({state:e,clientSelection:v,impact:Ff(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return xu(e);fi(e)||$();var b=t.payload,j=b.id,w=b.newScroll,S=e.dimensions.droppables[j];if(!S)return e;var C=vm(S,w);return gu(e,C,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;fi(e)||$();var k=t.payload,I=k.id,E=k.isEnabled,_=e.dimensions.droppables[I];_||$(),_.isEnabled===E&&$();var F=ne({},_,{isEnabled:E});return gu(e,F,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;fi(e)||$();var H=t.payload,D=H.id,M=H.isCombineEnabled,R=e.dimensions.droppables[D];R||$(),R.isCombineEnabled===M&&$();var O=ne({},R,{isCombineEnabled:M});return gu(e,O,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;fi(e)||$(),e.isWindowScrollAllowed||$();var P=t.payload.newScroll;if(Ur(e.viewport.scroll.current,P))return xu(e);var T=jw(e.viewport,P);return Ff(e)?Tw({state:e,viewport:T}):_a({state:e,viewport:T})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!fi(e))return e;var A=t.payload.maxScroll;if(Ur(A,e.viewport.scroll.max))return e;var W=ne({},e.viewport,{scroll:ne({},e.viewport.scroll,{max:A})});return ne({phase:"DRAGGING"},e,{viewport:W})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&$();var U=fE({state:e,type:t.type});return U?_a({state:e,impact:U.impact,clientSelection:U.clientSelection,scrollJumpRequest:U.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var fe=t.payload.reason;e.phase!=="COLLECTING"&&$();var le=ne({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:fe});return le}if(t.type==="DROP_ANIMATE"){var Y=t.payload,re=Y.completed,ie=Y.dropDuration,qe=Y.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||$();var z={phase:"DROP_ANIMATING",completed:re,dropDuration:ie,newHomeClientOffset:qe,dimensions:e.dimensions};return z}if(t.type==="DROP_COMPLETE"){var L=t.payload.completed;return{phase:"IDLE",completed:L,shouldFlush:!1}}return e},DE=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},RE=function(t){return{type:"LIFT",payload:t}},ME=function(t){return{type:"INITIAL_PUBLISH",payload:t}},TE=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},AE=function(){return{type:"COLLECTION_STARTING",payload:null}},OE=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},LE=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},FE=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Ow=function(t){return{type:"MOVE",payload:t}},zE=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},VE=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},BE=function(){return{type:"MOVE_UP",payload:null}},$E=function(){return{type:"MOVE_DOWN",payload:null}},WE=function(){return{type:"MOVE_RIGHT",payload:null}},HE=function(){return{type:"MOVE_LEFT",payload:null}},km=function(){return{type:"FLUSH",payload:null}},UE=function(t){return{type:"DROP_ANIMATE",payload:t}},Im=function(t){return{type:"DROP_COMPLETE",payload:t}},Lw=function(t){return{type:"DROP",payload:t}},YE=function(t){return{type:"DROP_PENDING",payload:t}},Fw=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},GE=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var o=s.payload,l=o.id,c=o.clientSelection,d=o.movementMode,u=n();u.phase==="DROP_ANIMATING"&&r(Im({completed:u.completed})),n().phase!=="IDLE"&&$(),r(km()),r(DE({draggableId:l,movementMode:d}));var f={shouldPublishImmediately:d==="SNAP"},h={draggableId:l,scrollOptions:f},m=e.startPublishing(h),g=m.critical,x=m.dimensions,y=m.viewport;r(ME({critical:g,dimensions:x,clientSelection:c,movementMode:d,viewport:y}))}}}},qE=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},Pm={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},uo={opacity:{drop:0,combining:.7},scale:{drop:.75}},_m={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},oi=_m.outOfTheWay+"s "+Pm.outOfTheWay,Ea={fluid:"opacity "+oi,snap:"transform "+oi+", opacity "+oi,drop:function(t){var n=t+"s "+Pm.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+oi,placeholder:"height "+oi+", width "+oi+", margin "+oi},Qx=function(t){return Ur(t,pt)?null:"translate("+t.x+"px, "+t.y+"px)"},zf={moveTo:Qx,drop:function(t,n){var r=Qx(t);return r?n?r+" scale("+uo.scale.drop+")":r:null}},Vf=_m.minDropTime,zw=_m.maxDropTime,JE=zw-Vf,Xx=1500,KE=.6,QE=function(e){var t=e.current,n=e.destination,r=e.reason,i=oo(t,n);if(i<=0)return Vf;if(i>=Xx)return zw;var s=i/Xx,o=Vf+JE*s,l=r==="CANCEL"?o*KE:o;return Number(l.toFixed(2))},XE=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,s=e.afterCritical,o=r.draggables,l=r.droppables,c=nn(t),d=c?l[c]:null,u=l[n.descriptor.droppableId],f=Mw({impact:t,draggable:n,draggables:o,afterCritical:s,droppable:d||u,viewport:i}),h=Zt(f,n.client.borderBox.center);return h},ZE=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,s=e.viewport,o=e.onLiftImpact;if(!r.at||n!=="DROP"){var l=Rw({draggables:t,impact:o,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var c=ne({},r,{displaced:lo});return{impact:c,didDropInsideDroppable:!0}},eD=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var s=t(),o=i.payload.reason;if(s.phase==="COLLECTING"){n(YE({reason:o}));return}if(s.phase!=="IDLE"){var l=s.phase==="DROP_PENDING"&&s.isWaiting;l&&$(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||$();var c=s.critical,d=s.dimensions,u=d.draggables[s.critical.draggable.id],f=ZE({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=f.impact,m=f.didDropInsideDroppable,g=m?bm(h):null,x=m?md(h):null,y={index:c.draggable.index,droppableId:c.droppable.id},p={draggableId:u.descriptor.id,type:u.descriptor.type,source:y,reason:o,mode:s.movementMode,destination:g,combine:x},v=XE({impact:h,draggable:u,dimensions:d,viewport:s.viewport,afterCritical:s.afterCritical}),b={critical:s.critical,afterCritical:s.afterCritical,result:p,impact:h},j=!Ur(s.current.client.offset,v)||!!p.combine;if(!j){n(Im({completed:b}));return}var w=QE({current:s.current.client.offset,destination:v,reason:o}),S={newHomeClientOffset:v,dropDuration:w,completed:b};n(UE(S))}}}},Vw=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function tD(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function nD(e){var t=e.onWindowScroll;function n(){t(Vw())}var r=ao(n),i=tD(r),s=Hr;function o(){return s!==Hr}function l(){o()&&$(),s=gn(window,[i])}function c(){o()||$(),r.cancel(),s(),s=Hr}return{start:l,stop:c,isActive:o}}var rD=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},iD=function(e){var t=nD({onWindowScroll:function(r){e.dispatch(zE({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&rD(r)&&t.stop(),n(r)}}},sD=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=function(){return t},i},aD=function(){var e=[],t=function(s){var o=ym(e,function(d){return d.timerId===s});o===-1&&$();var l=e.splice(o,1),c=l[0];c.callback()},n=function(s){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:s};e.push(l)},r=function(){if(e.length){var s=[].concat(e);e.length=0,s.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:r}},oD=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},lD=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},cD=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},sa=function(t,n){n()},gl=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},vu=function(t,n,r,i){if(!t){r(i(n));return}var s=sD(r),o={announce:s};t(n,o),s.wasCalled()||r(i(n))},dD=function(e,t){var n=aD(),r=null,i=function(h,m){r&&$(),sa("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var x={draggableId:h,mode:m};g(x)}})},s=function(h,m){r&&$(),sa("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(gl(h,m))})},o=function(h,m){r&&$();var g=gl(h,m);r={mode:m,lastCritical:h,lastLocation:g.source,lastCombine:null},n.add(function(){sa("onDragStart",function(){return vu(e().onDragStart,g,t,Bl.onDragStart)})})},l=function(h,m){var g=bm(m),x=md(m);r||$();var y=!cD(h,r.lastCritical);y&&(r.lastCritical=h);var p=!oD(r.lastLocation,g);p&&(r.lastLocation=g);var v=!lD(r.lastCombine,x);if(v&&(r.lastCombine=x),!(!y&&!p&&!v)){var b=ne({},gl(h,r.mode),{combine:x,destination:g});n.add(function(){sa("onDragUpdate",function(){return vu(e().onDragUpdate,b,t,Bl.onDragUpdate)})})}},c=function(){r||$(),n.flush()},d=function(h){r||$(),r=null,sa("onDragEnd",function(){return vu(e().onDragEnd,h,t,Bl.onDragEnd)})},u=function(){if(r){var h=ne({},gl(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});d(h)}};return{beforeCapture:i,beforeStart:s,start:o,update:l,flush:c,drop:d,abort:u}},uD=function(e,t){var n=dD(e,t);return function(r){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var o=s.payload.critical;n.beforeStart(o,s.payload.movementMode),i(s),n.start(o,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var l=s.payload.completed.result;n.flush(),i(s),n.drop(l);return}if(i(s),s.type==="FLUSH"){n.abort();return}var c=r.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}}}},fD=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&$(),e.dispatch(Im({completed:r.completed}))}}},hD=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&r(),i(s),s.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Fw())}};n=requestAnimationFrame(function(){n=null,t=gn(window,[o])})}}}},mD=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},pD=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},gD=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},xD=function(e){return function(t){return function(n){return function(r){if(gD(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&$(),e.start(i);return}n(r),e.scroll(t.getState())}}}},vD=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Lw({reason:r.reason})))}}}},yD=Yb,bD=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,s=e.announce,o=e.autoScroller;return Ub(EE,yD(aP(qE(r),mD(t),GE(t),eD,fD,hD,vD,xD(o),iD,pD(n),uD(i,s))))},yu=function(){return{additions:{},removals:{},modified:{}}};function wD(e){var t=e.registry,n=e.callbacks,r=yu(),i=null,s=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var u=r,f=u.additions,h=u.removals,m=u.modified,g=Object.keys(f).map(function(p){return t.draggable.getById(p).getDimension(pt)}).sort(function(p,v){return p.descriptor.index-v.descriptor.index}),x=Object.keys(m).map(function(p){var v=t.droppable.getById(p),b=v.callbacks.getScrollWhileDragging();return{droppableId:p,scroll:b}}),y={additions:g,removals:Object.keys(h),modified:x};r=yu(),n.publish(y)}))},o=function(u){var f=u.descriptor.id;r.additions[f]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[f]&&delete r.removals[f],s()},l=function(u){var f=u.descriptor;r.removals[f.id]=!0,r.modified[f.droppableId]=!0,r.additions[f.id]&&delete r.additions[f.id],s()},c=function(){i&&(cancelAnimationFrame(i),i=null,r=yu())};return{add:o,remove:l,stop:c}}var Bw=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,s=Zt({x:n,y:t},{x:i,y:r}),o={x:Math.max(0,s.x),y:Math.max(0,s.y)};return o},$w=function(){var e=document.documentElement;return e||$(),e},Ww=function(){var e=$w(),t=Bw({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},SD=function(){var e=Vw(),t=Ww(),n=e.y,r=e.x,i=$w(),s=i.clientWidth,o=i.clientHeight,l=r+s,c=n+o,d=_n({top:n,left:r,right:l,bottom:c}),u={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:pt,displacement:pt}}};return u},ND=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=SD(),s=i.scroll.current,o=t.droppable,l=r.droppable.getAllByType(o.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(s,n)}),c=r.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(s)}),d={draggables:vw(c),droppables:xw(l)},u={dimensions:d,critical:t,viewport:i};return u};function Zx(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var jD=function(e,t){var n=null,r=wD({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(m,g){e.droppable.exists(m)||$(),n&&t.updateDroppableIsEnabled({id:m,isEnabled:g})},s=function(m,g){n&&(e.droppable.exists(m)||$(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:g}))},o=function(m,g){n&&(e.droppable.exists(m)||$(),t.updateDroppableScroll({id:m,newScroll:g}))},l=function(m,g){n&&e.droppable.getById(m).callbacks.scroll(g)},c=function(){if(n){r.stop();var m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(g){return g.callbacks.dragStopped()}),n.unsubscribe(),n=null}},d=function(m){n||$();var g=n.critical.draggable;m.type==="ADDITION"&&Zx(e,g,m.value)&&r.add(m.value),m.type==="REMOVAL"&&Zx(e,g,m.value)&&r.remove(m.value)},u=function(m){n&&$();var g=e.draggable.getById(m.draggableId),x=e.droppable.getById(g.descriptor.droppableId),y={draggable:g.descriptor,droppable:x.descriptor},p=e.subscribe(d);return n={critical:y,unsubscribe:p},ND({critical:y,registry:e,scrollOptions:m.scrollOptions})},f={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:l,updateDroppableScroll:o,startPublishing:u,stopPublishing:c};return f},Hw=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},CD=function(e){window.scrollBy(e.x,e.y)},kD=ht(function(e){return hd(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),ID=function(t,n){var r=ri(kD(n),function(i){return i.frame||$(),Pw(i.frame.pageMarginBox)(t)});return r},PD=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var s=ID(t,r);return s},Yr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},_D=function(e,t){var n=e[t.size]*Yr.startFromPercentage,r=e[t.size]*Yr.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},Uw=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var s=r-t,o=s/i;return o},Em=1,ED=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Yr.maxPixelScroll;if(e===t.startScrollingFrom)return Em;var n=Uw({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=Yr.maxPixelScroll*Yr.ease(r);return Math.ceil(i)},e0=Yr.durationDampening.accelerateAt,t0=Yr.durationDampening.stopDampeningAt,DD=function(e,t){var n=t,r=t0,i=Date.now(),s=i-n;if(s>=t0)return e;if(s<e0)return Em;var o=Uw({startOfRange:e0,endOfRange:r,current:s}),l=e*Yr.ease(o);return Math.ceil(l)},n0=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,s=ED(t,n);return s===0?0:i?Math.max(DD(s,r),Em):s},r0=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,s=e.shouldUseTimeDampening,o=_D(t,i),l=n[i.end]<n[i.start];return l?n0({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s}):-1*n0({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s})},RD=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,s=n.width>t.width;return!s&&!i?r:s&&i?null:{x:s?0:r.x,y:i?0:r.y}},MD=pw(function(e){return e===0?0:e}),Yw=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,s=e.shouldUseTimeDampening,o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=r0({container:n,distanceToEdges:o,dragStartTime:t,axis:wm,shouldUseTimeDampening:s}),c=r0({container:n,distanceToEdges:o,dragStartTime:t,axis:ww,shouldUseTimeDampening:s}),d=MD({x:c,y:l});if(Ur(d,pt))return null;var u=RD({container:n,subject:r,proposedScroll:d});return u?Ur(u,pt)?null:u:null},TD=pw(function(e){return e===0?0:e>0?1:-1}),Dm=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,s=bt(n,i),o={x:e(s.x,r.x),y:e(s.y,r.y)};return Ur(o,pt)?null:o}}(),Gw=function(t){var n=t.max,r=t.current,i=t.change,s={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},o=TD(i),l=Dm({max:s,current:r,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},Rm=function(t,n){return Gw({current:t.scroll.current,max:t.scroll.max,change:n})},AD=function(t,n){if(!Rm(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return Dm({current:i,max:r,change:n})},Mm=function(t,n){var r=t.frame;return r?Gw({current:r.scroll.current,max:r.scroll.max,change:n}):!1},OD=function(t,n){var r=t.frame;return!r||!Mm(t,n)?null:Dm({current:r.scroll.current,max:r.scroll.max,change:n})},LD=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,o=Yw({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:s});return o&&Rm(t,o)?o:null},FD=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=Yw({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s});return l&&Mm(t,l)?l:null},i0=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,s=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,u=LD({dragStartTime:n,viewport:d,subject:c,center:o,shouldUseTimeDampening:r});if(u){i(u);return}}var f=PD({center:o,destination:nn(t.impact),droppables:t.dimensions.droppables});if(f){var h=FD({dragStartTime:n,droppable:f,subject:c,center:o,shouldUseTimeDampening:r});h&&s(f.descriptor.id,h)}},zD=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=ao(t),i=ao(n),s=null,o=function(u){s||$();var f=s,h=f.shouldUseTimeDampening,m=f.dragStartTime;i0({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:m,shouldUseTimeDampening:h})},l=function(u){s&&$();var f=Date.now(),h=!1,m=function(){h=!0};i0({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),s={dragStartTime:f,shouldUseTimeDampening:h},h&&o(u)},c=function(){s&&(r.cancel(),i.cancel(),s=null)};return{start:l,stop:c,scroll:o}},VD=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(d,u){var f=bt(d.current.client.selection,u);t({client:f})},s=function(d,u){if(!Mm(d,u))return u;var f=OD(d,u);if(!f)return n(d.descriptor.id,u),null;var h=Zt(u,f);n(d.descriptor.id,h);var m=Zt(u,h);return m},o=function(d,u,f){if(!d||!Rm(u,f))return f;var h=AD(u,f);if(!h)return r(f),null;var m=Zt(f,h);r(m);var g=Zt(f,m);return g},l=function(d){var u=d.scrollJumpRequest;if(u){var f=nn(d.impact);f||$();var h=s(d.dimensions.droppables[f],u);if(h){var m=d.viewport,g=o(d.isWindowScrollAllowed,m,h);g&&i(d,g)}}};return l},BD=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=zD({scrollWindow:n,scrollDroppable:t}),s=VD({move:r,scrollWindow:n,scrollDroppable:t}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&s(d)}},l={scroll:o,start:i.start,stop:i.stop};return l},Rs="data-rbd",Ms=function(){var e=Rs+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Bf=function(){var e=Rs+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),$D=function(){var e=Rs+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),s0={contextId:Rs+"-scroll-container-context-id"},WD=function(t){return function(n){return"["+n+'="'+t+'"]'}},aa=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},HD="pointer-events: none;",UD=function(e){var t=WD(e),n=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ms.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:HD,dropAnimating:l}}}(),r=function(){var l=`
      transition: `+Ea.outOfTheWay+`;
    `;return{selector:t(Bf.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),i={selector:t($D.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[r,n,i,s];return{always:aa(o,"always"),resting:aa(o,"resting"),dragging:aa(o,"dragging"),dropAnimating:aa(o,"dropAnimating"),userCancel:aa(o,"userCancel")}},rn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect,bu=function(){var t=document.querySelector("head");return t||$(),t},a0=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function YD(e,t){var n=Pe(function(){return UD(e)},[e]),r=N.useRef(null),i=N.useRef(null),s=K(ht(function(f){var h=i.current;h||$(),h.textContent=f}),[]),o=K(function(f){var h=r.current;h||$(),h.textContent=f},[]);rn(function(){!r.current&&!i.current||$();var f=a0(t),h=a0(t);return r.current=f,i.current=h,f.setAttribute(Rs+"-always",e),h.setAttribute(Rs+"-dynamic",e),bu().appendChild(f),bu().appendChild(h),o(n.always),s(n.resting),function(){var m=function(x){var y=x.current;y||$(),bu().removeChild(y),x.current=null};m(r),m(i)}},[t,o,s,n.always,n.resting,e]);var l=K(function(){return s(n.dragging)},[s,n.dragging]),c=K(function(f){if(f==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),d=K(function(){i.current&&s(n.resting)},[s,n.resting]),u=Pe(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return u}var qw=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function xd(e){return e instanceof qw(e).HTMLElement}function GD(e,t){var n="["+Ms.contextId+'="'+e+'"]',r=gw(document.querySelectorAll(n));if(!r.length)return null;var i=ri(r,function(s){return s.getAttribute(Ms.draggableId)===t});return!i||!xd(i)?null:i}function qD(e){var t=N.useRef({}),n=N.useRef(null),r=N.useRef(null),i=N.useRef(!1),s=K(function(h,m){var g={id:h,focus:m};return t.current[h]=g,function(){var y=t.current,p=y[h];p!==g&&delete y[h]}},[]),o=K(function(h){var m=GD(e,h);m&&m!==document.activeElement&&m.focus()},[e]),l=K(function(h,m){n.current===h&&(n.current=m)},[]),c=K(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var h=n.current;h&&o(h)}))},[o]),d=K(function(h){n.current=null;var m=document.activeElement;m&&m.getAttribute(Ms.draggableId)===h&&(n.current=h)},[]);rn(function(){return i.current=!0,function(){i.current=!1;var h=r.current;h&&cancelAnimationFrame(h)}},[]);var u=Pe(function(){return{register:s,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[s,d,c,l]);return u}function JD(){var e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){var m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(function(h){return h(f)})}function i(f){return e.draggables[f]||null}function s(f){var h=i(f);return h||$(),h}var o={register:function(h){e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:function(h,m){var g=e.draggables[m.descriptor.id];g&&g.uniqueId===h.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var m=h.descriptor.id,g=i(m);g&&h.uniqueId===g.uniqueId&&(delete e.draggables[m],r({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:function(h){return!!i(h)},getAllByType:function(h){return Cc(e.draggables).filter(function(m){return m.descriptor.type===h})}};function l(f){return e.droppables[f]||null}function c(f){var h=l(f);return h||$(),h}var d={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var m=l(h.descriptor.id);m&&h.uniqueId===m.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:function(h){return!!l(h)},getAllByType:function(h){return Cc(e.droppables).filter(function(m){return m.descriptor.type===h})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:n,clean:u}}function KD(){var e=Pe(JD,[]);return N.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Tm=Ie.createContext(null),Ic=function(){var e=document.body;return e||$(),e},QD={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},XD=function(t){return"rbd-announcement-"+t};function ZD(e){var t=Pe(function(){return XD(e)},[e]),n=N.useRef(null);N.useEffect(function(){var s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),ne(s.style,QD),Ic().appendChild(s),function(){setTimeout(function(){var c=Ic();c.contains(s)&&c.removeChild(s),s===n.current&&(n.current=null)})}},[t]);var r=K(function(i){var s=n.current;if(s){s.textContent=i;return}},[]);return r}var eR=0,tR={separator:"::"};function Am(e,t){return t===void 0&&(t=tR),Pe(function(){return""+e+t.separator+eR++},[t.separator,e])}function nR(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function rR(e){var t=e.contextId,n=e.text,r=Am("hidden-text",{separator:"-"}),i=Pe(function(){return nR({contextId:t,uniqueId:r})},[r,t]);return N.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=n,o.style.display="none",Ic().appendChild(o),function(){var c=Ic();c.contains(o)&&c.removeChild(o)}},[i,n]),i}var vd=Ie.createContext(null);function Jw(e){var t=N.useRef(e);return N.useEffect(function(){t.current=e}),t}function iR(){var e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&$();var l={abandon:o};return e=l,l}function i(){e||$(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:s}}var sR=9,aR=13,Om=27,Kw=32,oR=33,lR=34,cR=35,dR=36,uR=37,fR=38,hR=39,mR=40,xl,pR=(xl={},xl[aR]=!0,xl[sR]=!0,xl),Qw=function(e){pR[e.keyCode]&&e.preventDefault()},yd=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=ri(t,function(r){return"on"+r in document});return n||e}(),Xw=0,o0=5;function gR(e,t){return Math.abs(t.x-e.x)>=o0||Math.abs(t.y-e.y)>=o0}var l0={type:"IDLE"};function xR(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===Xw){var u={x:c,y:d},f=r();if(f.type==="DRAGGING"){o.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&$();var h=f.point;if(gR(h,u)){o.preventDefault();var m=f.actions.fluidLift(u);i({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var l=r();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){r().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=r();if(l.type==="PENDING"){t();return}if(o.keyCode===Om){o.preventDefault(),t();return}Qw(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=r();if(l.type==="IDLE"&&$(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:yd,fn:t}]}function vR(e){var t=N.useRef(l0),n=N.useRef(Hr),r=Pe(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===Xw&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var m=e.tryGetLock(h,o,{sourceEvent:f});if(m){f.preventDefault();var g={x:f.clientX,y:f.clientY};n.current(),d(m,g)}}}}}},[e]),i=Pe(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var m=e.findOptionsForDraggable(h);m&&(m.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),s=K(function(){var f={passive:!1,capture:!0};n.current=gn(window,[i,r],f)},[i,r]),o=K(function(){var u=t.current;u.type!=="IDLE"&&(t.current=l0,n.current(),s())},[s]),l=K(function(){var u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=K(function(){var f={capture:!0,passive:!1},h=xR({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});n.current=gn(window,h,f)},[l,o]),d=K(function(f,h){t.current.type!=="IDLE"&&$(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);rn(function(){return s(),function(){n.current()}},[s])}var Yi;function yR(){}var bR=(Yi={},Yi[lR]=!0,Yi[oR]=!0,Yi[dR]=!0,Yi[cR]=!0,Yi);function wR(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===Om){s.preventDefault(),n();return}if(s.keyCode===Kw){s.preventDefault(),r();return}if(s.keyCode===mR){s.preventDefault(),e.moveDown();return}if(s.keyCode===fR){s.preventDefault(),e.moveUp();return}if(s.keyCode===hR){s.preventDefault(),e.moveRight();return}if(s.keyCode===uR){s.preventDefault(),e.moveLeft();return}if(bR[s.keyCode]){s.preventDefault();return}Qw(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:yd,fn:n}]}function SR(e){var t=N.useRef(yR),n=Pe(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Kw)return;var o=e.findClosestDraggableId(s);if(!o)return;var l=e.tryGetLock(o,u,{sourceEvent:s});if(!l)return;s.preventDefault();var c=!0,d=l.snapLift();t.current();function u(){c||$(),c=!1,t.current(),r()}t.current=gn(window,wR(d,u),{capture:!0,passive:!1})}}},[e]),r=K(function(){var s={passive:!1,capture:!0};t.current=gn(window,[n],s)},[n]);rn(function(){return r(),function(){t.current()}},[r])}var wu={type:"IDLE"},NR=120,jR=.15;function CR(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===Om&&i.preventDefault(),t()}},{eventName:yd,fn:t}]}function kR(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var o=r();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=s.touches[0],c=l.clientX,d=l.clientY,u={x:c,y:d};s.preventDefault(),o.actions.move(u)}},{eventName:"touchend",fn:function(s){var o=r();if(o.type!=="DRAGGING"){t();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(s){var o=r();o.type==="IDLE"&&$();var l=s.touches[0];if(l){var c=l.force>=jR;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}}}},{eventName:yd,fn:t}]}function IR(e){var t=N.useRef(wu),n=N.useRef(Hr),r=K(function(){return t.current},[]),i=K(function(m){t.current=m},[]),s=Pe(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var g=e.findClosestDraggableId(m);if(g){var x=e.tryGetLock(g,l,{sourceEvent:m});if(x){var y=m.touches[0],p=y.clientX,v=y.clientY,b={x:p,y:v};n.current(),f(x,b)}}}}}},[e]),o=K(function(){var m={capture:!0,passive:!1};n.current=gn(window,[s],m)},[s]),l=K(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(wu),n.current(),o())},[o,i]),c=K(function(){var h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),d=K(function(){var m={capture:!0,passive:!1},g={cancel:c,completed:l,getPhase:r},x=gn(window,kR(g),m),y=gn(window,CR(g),m);n.current=function(){x(),y()}},[c,r,l]),u=K(function(){var m=r();m.type!=="PENDING"&&$();var g=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),f=K(function(m,g){r().type!=="IDLE"&&$();var x=setTimeout(u,NR);i({type:"PENDING",point:g,actions:m,longPressTimerId:x}),d()},[d,r,i,u]);rn(function(){return o(),function(){n.current();var g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(wu))}},[r,o,i]),rn(function(){var m=gn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var PR={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Zw(e,t){if(t==null)return!1;var n=!!PR[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Zw(e,t.parentElement)}function _R(e,t){var n=t.target;return xd(n)?Zw(e,n):!1}var ER=function(e){return _n(e.getBoundingClientRect()).center};function DR(e){return e instanceof qw(e).Element}var RR=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=ri(t,function(r){return r in Element.prototype});return n||e}();function e1(e,t){return e==null?null:e[RR](t)?e:e1(e.parentElement,t)}function MR(e,t){return e.closest?e.closest(t):e1(e,t)}function TR(e){return"["+Ms.contextId+'="'+e+'"]'}function AR(e,t){var n=t.target;if(!DR(n))return null;var r=TR(e),i=MR(n,r);return!i||!xd(i)?null:i}function OR(e,t){var n=AR(e,t);return n?n.getAttribute(Ms.draggableId):null}function LR(e,t){var n="["+Bf.contextId+'="'+e+'"]',r=gw(document.querySelectorAll(n)),i=ri(r,function(s){return s.getAttribute(Bf.id)===t});return!i||!xd(i)?null:i}function FR(e){e.preventDefault()}function vl(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function t1(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var s=r.draggable.findById(i);return!(!s||!s.options.isEnabled||!Hw(n.getState(),i))}function zR(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,s=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=t1({lockAPI:t,store:r,registry:i,draggableId:s});if(!c)return null;var d=i.draggable.getById(s),u=LR(n,d.descriptor.id);if(!u||l&&!d.options.canDragInteractiveElements&&_R(u,l))return null;var f=t.claim(o||Hr),h="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function g(){return t.isActive(f)}function x(S,C){vl({expected:S,phase:h,isLockActive:g,shouldWarn:!0})&&r.dispatch(C())}var y=x.bind(null,"DRAGGING");function p(S){function C(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(C(),h!=="PRE_DRAG"&&$()),r.dispatch(RE(S.liftActionArgs)),h="DRAGGING";function k(I,E){if(E===void 0&&(E={shouldBlockNextClick:!1}),S.cleanup(),E.shouldBlockNextClick){var _=gn(window,[{eventName:"click",fn:FR,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(_)}C(),r.dispatch(Lw({reason:I}))}return ne({isActive:function(){return vl({expected:"DRAGGING",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(E){return k("DROP",E)},cancel:function(E){return k("CANCEL",E)}},S.actions)}function v(S){var C=ao(function(I){y(function(){return Ow({client:I})})}),k=p({liftActionArgs:{id:s,clientSelection:S,movementMode:"FLUID"},cleanup:function(){return C.cancel()},actions:{move:C}});return ne({},k,{move:C})}function b(){var S={moveUp:function(){return y(BE)},moveRight:function(){return y(WE)},moveDown:function(){return y($E)},moveLeft:function(){return y(HE)}};return p({liftActionArgs:{id:s,clientSelection:ER(u),movementMode:"SNAP"},cleanup:Hr,actions:S})}function j(){var S=vl({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!0});S&&t.release()}var w={isActive:function(){return vl({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:v,snapLift:b,abort:j};return w}var VR=[vR,SR,IR];function BR(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,s=e.enableDefaultSensors,o=[].concat(s?VR:[],i||[]),l=N.useState(function(){return iR()})[0],c=K(function(v,b){v.isDragging&&!b.isDragging&&l.tryAbandon()},[l]);rn(function(){var v=n.getState(),b=n.subscribe(function(){var j=n.getState();c(v,j),v=j});return b},[l,n,c]),rn(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=K(function(p){return t1({lockAPI:l,registry:r,store:n,draggableId:p})},[l,r,n]),u=K(function(p,v,b){return zR({lockAPI:l,registry:r,contextId:t,store:n,draggableId:p,forceSensorStop:v,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null})},[t,l,r,n]),f=K(function(p){return OR(t,p)},[t]),h=K(function(p){var v=r.draggable.findById(p);return v?v.options:null},[r.draggable]),m=K(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(km()))},[l,n]),g=K(l.isClaimed,[l]),x=Pe(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:g}},[d,u,f,h,m,g]),y=0;y<o.length;y++)o[y](x)}var $R=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function oa(e){return e.current||$(),e.current}function WR(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,s=e.dragHandleUsageInstructions,o=N.useRef(null),l=Jw(e),c=K(function(){return $R(l.current)},[l]),d=ZD(t),u=rR({contextId:t,text:s}),f=YD(t,i),h=K(function(I){oa(o).dispatch(I)},[]),m=Pe(function(){return Dx({publishWhileDragging:TE,updateDroppableScroll:OE,updateDroppableIsEnabled:LE,updateDroppableIsCombineEnabled:FE,collectionStarting:AE},h)},[h]),g=KD(),x=Pe(function(){return jD(g,m)},[g,m]),y=Pe(function(){return BD(ne({scrollWindow:CD,scrollDroppable:x.scrollDroppable},Dx({move:Ow},h)))},[x.scrollDroppable,h]),p=qD(t),v=Pe(function(){return bD({announce:d,autoScroller:y,dimensionMarshal:x,focusMarshal:p,getResponders:c,styleMarshal:f})},[d,y,x,p,c,f]);o.current=v;var b=K(function(){var I=oa(o),E=I.getState();E.phase!=="IDLE"&&I.dispatch(km())},[]),j=K(function(){var I=oa(o).getState();return I.isDragging||I.phase==="DROP_ANIMATING"},[]),w=Pe(function(){return{isDragging:j,tryAbort:b}},[j,b]);n(w);var S=K(function(I){return Hw(oa(o).getState(),I)},[]),C=K(function(){return fi(oa(o).getState())},[]),k=Pe(function(){return{marshal:x,focus:p,contextId:t,canLift:S,isMovementAllowed:C,dragHandleUsageInstructionsId:u,registry:g}},[t,x,u,p,S,C,g]);return BR({contextId:t,store:v,registry:g,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),N.useEffect(function(){return b},[b]),Ie.createElement(vd.Provider,{value:k},Ie.createElement(uP,{context:Tm,store:v},e.children))}var HR=0;function UR(){return Pe(function(){return""+HR++},[])}function YR(e){var t=UR(),n=e.dragHandleUsageInstructions||Bl.dragHandleUsageInstructions;return Ie.createElement(S_,null,function(r){return Ie.createElement(WR,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var n1=function(t){return function(n){return t===n}},GR=n1("scroll"),qR=n1("auto"),c0=function(t,n){return n(t.overflowX)||n(t.overflowY)},JR=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return c0(r,GR)||c0(r,qR)},KR=function(){return!1},QR=function e(t){return t==null?null:t===document.body?KR()?t:null:t===document.documentElement?null:JR(t)?t:e(t.parentElement)},$f=function(e){return{x:e.scrollLeft,y:e.scrollTop}},XR=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},ZR=function(e){var t=QR(e),n=XR(e);return{closestScrollable:t,isFixedOnPage:n}},eM=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,s=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var m=c.scrollSize,g=c.client,x=Bw({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:x,diff:{value:pt,displacement:pt}}}}(),u=s==="vertical"?wm:ww,f=Ds({page:l,withPlaceholder:null,axis:u,frame:d}),h={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:o,page:l,frame:d,subject:f};return h},tM=function(t,n){var r=uw(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,s=r.paddingBox.left-n.scrollLeft,o=i+n.scrollHeight,l=s+n.scrollWidth,c={top:i,right:l,bottom:o,left:s},d=gm(c,r.border),u=xm({borderBox:d,margin:r.margin,border:r.border,padding:r.padding});return u},nM=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,s=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=r.closestScrollable,u=tM(t,d),f=Sc(u,i),h=function(){if(!d)return null;var g=uw(d),x={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:g,page:Sc(g,i),scroll:$f(d),scrollSize:x,shouldClipSubject:c}}(),m=eM({descriptor:n,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:s,client:u,page:f,closest:h});return m},rM={passive:!1},iM={passive:!0},d0=function(e){return e.shouldPublishImmediately?rM:iM};function Pc(e){var t=N.useContext(e);return t||$(),t}var yl=function(t){return t&&t.env.closestScrollable||null};function sM(e){var t=N.useRef(null),n=Pc(vd),r=Am("droppable"),i=n.registry,s=n.marshal,o=Jw(e),l=Pe(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=N.useRef(l),d=Pe(function(){return ht(function(j,w){t.current||$();var S={x:j,y:w};s.updateDroppableScroll(l.id,S)})},[l.id,s]),u=K(function(){var j=t.current;return!j||!j.env.closestScrollable?pt:$f(j.env.closestScrollable)},[]),f=K(function(){var j=u();d(j.x,j.y)},[u,d]),h=Pe(function(){return ao(f)},[f]),m=K(function(){var j=t.current,w=yl(j);j&&w||$();var S=j.scrollOptions;if(S.shouldPublishImmediately){f();return}h()},[h,f]),g=K(function(j,w){t.current&&$();var S=o.current,C=S.getDroppableRef();C||$();var k=ZR(C),I={ref:C,descriptor:l,env:k,scrollOptions:w};t.current=I;var E=nM({ref:C,descriptor:l,env:k,windowScroll:j,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),_=k.closestScrollable;return _&&(_.setAttribute(s0.contextId,n.contextId),_.addEventListener("scroll",m,d0(I.scrollOptions))),E},[n.contextId,l,m,o]),x=K(function(){var j=t.current,w=yl(j);return j&&w||$(),$f(w)},[]),y=K(function(){var j=t.current;j||$();var w=yl(j);t.current=null,w&&(h.cancel(),w.removeAttribute(s0.contextId),w.removeEventListener("scroll",m,d0(j.scrollOptions)))},[m,h]),p=K(function(j){var w=t.current;w||$();var S=yl(w);S||$(),S.scrollTop+=j.y,S.scrollLeft+=j.x},[]),v=Pe(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:x,dragStopped:y,scroll:p}},[y,g,x,p]),b=Pe(function(){return{uniqueId:r,descriptor:l,callbacks:v}},[v,l,r]);rn(function(){return c.current=b.descriptor,i.droppable.register(b),function(){t.current&&y(),i.droppable.unregister(b)}},[v,l,y,b,s,i.droppable]),rn(function(){t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),rn(function(){t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function Su(){}var u0={width:0,height:0,margin:P_},aM=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?u0:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},oM=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,s=aM({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Ea.placeholder:null}};function lM(e){var t=N.useRef(null),n=K(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,s=e.onClose,o=e.contextId,l=N.useState(e.animate==="open"),c=l[0],d=l[1];N.useEffect(function(){return c?r!=="open"?(n(),d(!1),Su):t.current?Su:(t.current=setTimeout(function(){t.current=null,d(!1)}),n):Su},[r,c,n]);var u=K(function(h){h.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),f=oM({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Ie.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}var cM=Ie.memo(lM),Lm=Ie.createContext(null),dM=function(e){Hb(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(Ie.PureComponent),f0={dragging:5e3,dropAnimating:4500},uM=function(t,n){return n?Ea.drop(n.duration):t?Ea.snap:Ea.fluid},fM=function(t,n){return t?n?uo.opacity.drop:uo.opacity.combining:null},hM=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function mM(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,s=e.dropping,o=!!i,l=hM(e),c=!!s,d=c?zf.drop(r,o):zf.moveTo(r),u={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:uM(l,s),transform:d,opacity:fM(o,c),zIndex:c?f0.dropAnimating:f0.dragging,pointerEvents:"none"};return u}function pM(e){return{transform:zf.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function gM(e){return e.type==="DRAGGING"?mM(e):pM(e)}function xM(e,t,n){n===void 0&&(n=pt);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=dw(i,r),o=Sc(s,n),l={client:s,tagName:t.tagName.toLowerCase(),display:r.display},c={x:s.marginBox.width,y:s.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:s,page:o};return d}function vM(e){var t=Am("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,s=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Pe(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}},[s,l,o]),d=K(function(m){var g=i();return g||$(),xM(n,g,m)},[n,i]),u=Pe(function(){return{uniqueId:t,descriptor:n,options:c,getDimension:d}},[n,d,c,t]),f=N.useRef(u),h=N.useRef(!0);rn(function(){return r.draggable.register(f.current),function(){return r.draggable.unregister(f.current)}},[r.draggable]),rn(function(){if(h.current){h.current=!1;return}var m=f.current;f.current=u,r.draggable.update(u,m)},[u,r.draggable])}function yM(e){e.preventDefault()}function bM(e){var t=N.useRef(null),n=K(function(I){t.current=I},[]),r=K(function(){return t.current},[]),i=Pc(vd),s=i.contextId,o=i.dragHandleUsageInstructionsId,l=i.registry,c=Pc(Lm),d=c.type,u=c.droppableId,f=Pe(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),h=e.children,m=e.draggableId,g=e.isEnabled,x=e.shouldRespectForcePress,y=e.canDragInteractiveElements,p=e.isClone,v=e.mapped,b=e.dropAnimationFinished;if(!p){var j=Pe(function(){return{descriptor:f,registry:l,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:x,isEnabled:g}},[f,l,r,y,x,g]);vM(j)}var w=Pe(function(){return g?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:yM}:null},[s,o,m,g]),S=K(function(I){v.type==="DRAGGING"&&v.dropping&&I.propertyName==="transform"&&b()},[b,v]),C=Pe(function(){var I=gM(v),E=v.type==="DRAGGING"&&v.dropping?S:null,_={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":m,style:I,onTransitionEnd:E},dragHandleProps:w};return _},[s,w,m,v,S,n]),k=Pe(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(C,v.snapshot,k)}var r1=function(e,t){return e===t},i1=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},wM=function(t){return t.combine?t.combine.draggableId:null},SM=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function NM(){var e=ht(function(i,s){return{x:i,y:s}}),t=ht(function(i,s,o,l,c){return{isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null}}),n=ht(function(i,s,o,l,c,d,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:s,offset:i,dimension:o,forceShouldAnimate:u,snapshot:t(s,l,c,d,null)}}}),r=function(s,o){if(s.isDragging){if(s.critical.draggable.id!==o.draggableId)return null;var l=s.current.client.offset,c=s.dimensions.draggables[o.draggableId],d=nn(s.impact),u=SM(s.impact),f=s.forceShouldAnimate;return n(e(l.x,l.y),s.movementMode,c,o.isClone,d,u,f)}if(s.phase==="DROP_ANIMATING"){var h=s.completed;if(h.result.draggableId!==o.draggableId)return null;var m=o.isClone,g=s.dimensions.draggables[o.draggableId],x=h.result,y=x.mode,p=i1(x),v=wM(x),b=s.dropDuration,j={duration:b,curve:Pm.drop,moveTo:s.newHomeClientOffset,opacity:v?uo.opacity.drop:null,scale:v?uo.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:g,dropping:j,draggingOver:p,combineWith:v,mode:y,forceShouldAnimate:null,snapshot:t(y,m,p,v,j)}}}return null};return r}function s1(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var jM={mapped:{type:"SECONDARY",offset:pt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:s1(null)}};function CM(){var e=ht(function(o,l){return{x:o,y:l}}),t=ht(s1),n=ht(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),r=function(l){return l?n(pt,l,!0):null},i=function(l,c,d,u){var f=d.displaced.visible[l],h=!!(u.inVirtualList&&u.effected[l]),m=md(d),g=m&&m.draggableId===l?c:null;if(!f){if(!h)return r(g);if(d.displaced.invisible[l])return null;var x=Vs(u.displacedBy.point),y=e(x.x,x.y);return n(y,g,!0)}if(h)return r(g);var p=d.displacedBy.point,v=e(p.x,p.y);return n(v,g,f.shouldAnimate)},s=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:i(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:i(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return s}var kM=function(){var t=NM(),n=CM(),r=function(s,o){return t(s,o)||n(s,o)||jM};return r},IM={dropAnimationFinished:Fw},PM=lw(kM,IM,null,{context:Tm,pure:!0,areStatePropsEqual:r1})(bM);function a1(e){var t=Pc(Lm),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:Ie.createElement(PM,e)}function _M(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Ie.createElement(a1,ne({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function EM(e){var t=N.useContext(vd);t||$();var n=t.contextId,r=t.isMovementAllowed,i=N.useRef(null),s=N.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,u=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,x=e.useClone,y=e.updateViewportMaxScroll,p=e.getContainerForClone,v=K(function(){return i.current},[]),b=K(function(_){i.current=_},[]);K(function(){return s.current},[]);var j=K(function(_){s.current=_},[]),w=K(function(){r()&&y({maxScroll:Ww()})},[r,y]);sM({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:v});var S=Ie.createElement(dM,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(_){var F=_.onClose,H=_.data,D=_.animate;return Ie.createElement(cM,{placeholder:H,onClose:F,innerRef:j,animate:D,contextId:n,onTransitionEnd:w})}),C=Pe(function(){return{innerRef:b,placeholder:S,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,S,b]),k=x?x.dragging.draggableId:null,I=Pe(function(){return{droppableId:l,type:c,isUsingCloneFor:k}},[l,k,c]);function E(){if(!x)return null;var _=x.dragging,F=x.render,H=Ie.createElement(a1,{draggableId:_.draggableId,index:_.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(D,M){return F(D,M,_)});return BN.createPortal(H,p())}return Ie.createElement(Lm.Provider,{value:I},o(C,g),E())}var Nu=function(t,n){return t===n.droppable.type},h0=function(t,n){return n.draggables[t.draggable.id]},DM=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=ne({},t,{shouldAnimatePlaceholder:!1}),r=ht(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=ht(function(o,l,c,d,u,f){var h=u.descriptor.id,m=u.descriptor.droppableId===o;if(m){var g=f?{render:f,dragging:r(u.descriptor)}:null,x={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:g}}if(!l)return n;if(!d)return t;var y={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}}),s=function(l,c){var d=c.droppableId,u=c.type,f=!c.isDropDisabled,h=c.renderClone;if(l.isDragging){var m=l.critical;if(!Nu(u,m))return n;var g=h0(m,l.dimensions),x=nn(l.impact)===d;return i(d,f,x,x,g,h)}if(l.phase==="DROP_ANIMATING"){var y=l.completed;if(!Nu(u,y.critical))return n;var p=h0(y.critical,l.dimensions);return i(d,f,i1(y.result)===d,nn(y.impact)===d,p,h)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var v=l.completed;if(!Nu(u,v.critical))return n;var b=nn(v.impact)===d,j=!!(v.impact.at&&v.impact.at.type==="COMBINE"),w=v.critical.droppable.id===d;return b?j?t:n:w?t:n}return n};return s},RM={updateViewportMaxScroll:VE};function MM(){return document.body||$(),document.body}var TM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:MM},o1=lw(DM,RM,null,{context:Tm,pure:!0,areStatePropsEqual:r1})(EM);o1.defaultProps=TM;const ju=[{id:"livesSaved",label:"Lives Saved",icon:Ri,color:"text-green-600",higherIsBetter:!0},{id:"casualties",label:"Casualties",icon:bo,color:"text-red-600",higherIsBetter:!1},{id:"resources",label:"Resources",icon:Jr,color:"text-blue-600",higherIsBetter:!1},{id:"infrastructure",label:"Infrastructure",icon:Kn,color:"text-gray-600",higherIsBetter:!1},{id:"biodiversity",label:"Biodiversity",icon:Fs,color:"text-green-600",higherIsBetter:!1},{id:"properties",label:"Properties",icon:Kn,color:"text-blue-600",higherIsBetter:!1},{id:"nuclear",label:"Nuclear",icon:yo,color:"text-purple-600",higherIsBetter:!1}],AM=({scenario:e,onBack:t,onConfirm:n,currentMetrics:r,onReorderPriorities:i})=>{const[s,o]=N.useState([]),[l,c]=N.useState(""),[d,u]=N.useState(null),[f,h]=N.useState(!0),[m,g]=N.useState(!1),[x,y]=N.useState(null);N.useEffect(()=>{localStorage.setItem("rankedViewAccessed","true");const w=localStorage.getItem("preferenceTypeFlag"),S=JSON.parse(localStorage.getItem("simulationMetricsRanking")||"[]"),C=JSON.parse(localStorage.getItem("moralValuesRanking")||"[]"),k=w==="true"?S:C,I=k.slice(0,2).map(_=>_.label).join(", ");c(w==="true"?`Based on your simulation metrics priorities (${I}), the following options are ranked according to their impact on these key metrics:`:`Based on your moral values priorities (${I}), the following options are ranked according to their alignment with these core values:`);const E=[...e.options].sort((_,F)=>{var H;if(w==="true"){const D=ju.find(O=>{var P;return O.id===((P=k[0])==null?void 0:P.id)});if(!D)return 0;let M=0,R=0;switch((H=k[0])==null?void 0:H.id){case"livesSaved":M=_.impact.livesSaved,R=F.impact.livesSaved;break;case"casualties":M=_.impact.humanCasualties,R=F.impact.humanCasualties;break;case"resources":M=Math.abs(_.impact.firefightingResource),R=Math.abs(F.impact.firefightingResource);break;case"infrastructure":M=Math.abs(_.impact.infrastructureCondition),R=Math.abs(F.impact.infrastructureCondition);break;case"biodiversity":M=Math.abs(_.impact.biodiversityCondition),R=Math.abs(F.impact.biodiversityCondition);break;case"properties":M=Math.abs(_.impact.propertiesCondition),R=Math.abs(F.impact.propertiesCondition);break;case"nuclear":M=Math.abs(_.impact.nuclearPowerStation),R=Math.abs(F.impact.nuclearPowerStation);break}return D.higherIsBetter?R-M:M-R}else{const D=p(_,k);return p(F,k)-D}});o(E)},[e]);const p=(w,S)=>{let C=0;const k=S.map((I,E)=>S.length-E);return S.forEach((I,E)=>{w.label.toLowerCase()===I.id&&(C+=100*k[E])}),C},v=w=>{u(d===w?null:w),m||(g(!0),h(!1))},b=(w,S)=>{switch(S){case"livesSaved":return`+${w.impact.livesSaved}`;case"casualties":return`+${w.impact.humanCasualties}`;case"resources":return`${w.impact.firefightingResource}%`;case"infrastructure":return`${w.impact.infrastructureCondition}%`;case"biodiversity":return`${w.impact.biodiversityCondition}%`;case"properties":return`${w.impact.propertiesCondition}%`;case"nuclear":return`${w.impact.nuclearPowerStation}%`;default:return""}},j=(w,S)=>{y(w.id);const C=S<2;localStorage.setItem("hasReorderedValues","true");const k=localStorage.getItem("hasReorderedValuesCount"),I=k?parseInt(k)+1:1;localStorage.setItem("hasReorderedValuesCount",I.toString()),setTimeout(()=>{n(w,C)},600)};return a.jsx("div",{className:"h-screen bg-gray-50 p-4 flex flex-col",children:a.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("button",{onClick:t,className:"text-gray-600 hover:text-gray-800 flex items-center gap-2 transition-colors",children:[a.jsx(wi,{size:20}),"Back to Simulation"]}),a.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:[a.jsx(J2,{size:18}),"Re-order Priorities"]})]}),m&&!f&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 border-l-4 border-green-400 rounded-r-lg animate-fade-in",children:a.jsxs("p",{className:"text-sm text-green-800",children:[" ",a.jsx("strong",{children:"Great!"})," Now you can see how each option impacts this metric. Try clicking other metrics to compare!"]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 flex-1 flex flex-col",children:[a.jsx("h2",{className:"text-lg font-semibold mb-1 text-gray-700",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:a.jsx("p",{className:"text-blue-800",children:l})}),a.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg mb-6",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ig,{size:18,className:"text-amber-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-900 font-medium mb-1",children:"Selection Limited to Top 2 Options"}),a.jsx("p",{className:"text-amber-800 text-sm",children:'Only the top two ranked options are available for selection based on your priorities. To choose from other options, use the "Re-order Priorities" button to adjust your rankings.'})]})]})}),a.jsxs("div",{className:"relative flex flex-wrap gap-2 mb-6",children:[f&&a.jsx("div",{className:"absolute -top-12 left-0 z-20 animate-bounce",children:a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm px-4 py-2 rounded-lg shadow-lg whitespace-nowrap font-medium",children:[" Click any metric to see impact numbers!",a.jsx("div",{className:"absolute top-full left-8 transform -translate-x-1/2 w-0 h-0 border-t-8 border-purple-500 border-x-8 border-x-transparent"})]})}),ju.map((w,S)=>{const C=w.icon;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>v(w.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${d===w.id?"bg-blue-500 text-white shadow-lg scale-105":f&&S===0?"bg-purple-100 text-purple-700 hover:bg-purple-200 ring-2 ring-purple-300 ring-offset-2":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(C,{size:16,className:d===w.id?"text-white":w.color}),w.label]}),f&&S===0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-pink-400 rounded-full animate-ping"})]},w.id)})]}),a.jsx("div",{className:"space-y-4",children:s.map((w,S)=>{var k;const C=S>=2;return a.jsx("div",{className:`rounded-lg border transition-all duration-200 ${C?"border-gray-200 bg-gray-50 opacity-60":"border-gray-200 bg-white"}`,children:a.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] gap-4 p-4 items-start",children:[a.jsxs("div",{className:"flex flex-col items-center justify-start pt-1 gap-2",children:[a.jsx("span",{className:`w-10 h-10 flex items-center justify-center rounded-full font-semibold text-lg ${C?"bg-gray-200 text-gray-500":"bg-blue-100 text-blue-600"}`,children:S+1}),a.jsx("span",{className:`text-xs font-medium text-center px-2 py-1 rounded ${C?"bg-gray-100 text-gray-500":"bg-blue-50 text-blue-700"}`,children:w.label})]}),a.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("h3",{className:`font-medium text-base ${C?"text-gray-500":"text-gray-900"}`,children:w.title}),C&&a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-gray-600 text-white text-xs font-medium rounded",children:[a.jsx(ig,{size:11}),"Locked"]}),d&&a.jsx("span",{className:`font-medium text-sm ml-auto ${C?"text-gray-400":(k=ju.find(I=>I.id===d))==null?void 0:k.color}`,children:b(w,d)})]}),a.jsx("p",{className:`text-sm ${C?"text-gray-400":"text-gray-600"}`,children:w.description})]}),a.jsx("div",{className:"flex items-center justify-center pt-1",children:!C&&(x===w.id?a.jsxs("div",{className:"flex items-center gap-2 animate-scale-in",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-lg transform transition-transform duration-300",children:a.jsx($y,{size:28,className:"text-white",strokeWidth:3})}),a.jsx("span",{className:"text-green-700 font-semibold text-sm",children:"Selected"})]}):a.jsx("button",{onClick:()=>j(w,S),disabled:x!==null,className:"bg-gray-400 hover:bg-blue-500 text-white font-medium py-2 px-6 rounded-lg flex items-center gap-2 transition-all duration-300 whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-400 shadow-sm hover:shadow-md transform hover:scale-105 active:scale-95",children:"Select"}))})]})},w.id)})})]})]})})};class yt{static startScenario(t){this.currentScenarioTracking={scenarioId:t,startTime:Date.now(),optionSelections:[],cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,cvrNoAnswers:0,apaReordered:!1,apaReorderCount:0,alternativesExplored:!1,alternativesExploredCount:0,switchCount:0},this.emitEvent({event:"scenario_started",timestamp:new Date().toISOString(),scenarioId:t,timeSinceScenarioOpen:0});const n=Se.getSessionId();Se.insertScenarioInteraction({session_id:n,scenario_id:t,scenario_title:`Scenario ${t}`,event_type:"scenario_started",time_since_scenario_start:0})}static recordOptionSelection(t,n,r){if(!this.currentScenarioTracking)return;const i=Date.now(),s=i-this.currentScenarioTracking.startTime,o=Se.getSessionId();if(this.currentScenarioTracking.optionSelections.length>0){const l=this.currentScenarioTracking.optionSelections[this.currentScenarioTracking.optionSelections.length-1];l.optionId!==t&&(this.currentScenarioTracking.switchCount++,l.aligned!==r&&(this.emitEvent({event:"alignment_state_changed",timestamp:new Date().toISOString(),scenarioId:this.currentScenarioTracking.scenarioId,optionId:t,optionLabel:n,alignedBefore:l.aligned,alignedAfter:r,timeSinceScenarioOpen:s}),Se.insertScenarioInteraction({session_id:o,scenario_id:this.currentScenarioTracking.scenarioId,scenario_title:`Scenario ${this.currentScenarioTracking.scenarioId}`,event_type:"alignment_state_changed",option_id:t,option_label:n,is_aligned:r,time_since_scenario_start:Math.round(s/1e3),switch_count:this.currentScenarioTracking.switchCount,event_data:{alignedBefore:l.aligned,alignedAfter:r}})))}this.currentScenarioTracking.optionSelections.push({optionId:t,optionLabel:n,timestamp:i,aligned:r}),this.emitEvent({event:"option_selected",timestamp:new Date().toISOString(),scenarioId:this.currentScenarioTracking.scenarioId,optionId:t,optionLabel:n,alignedAfter:r,timeSinceScenarioOpen:s}),Se.insertScenarioInteraction({session_id:o,scenario_id:this.currentScenarioTracking.scenarioId,scenario_title:`Scenario ${this.currentScenarioTracking.scenarioId}`,event_type:"option_selected",option_id:t,option_label:n,is_aligned:r,time_since_scenario_start:Math.round(s/1e3),switch_count:this.currentScenarioTracking.switchCount})}static confirmOption(t,n,r,i,s,o){if(!this.currentScenarioTracking)return;const l=Date.now(),c=l-this.currentScenarioTracking.startTime;this.currentScenarioTracking.finalChoice={optionId:t,optionLabel:n,aligned:r},this.currentScenarioTracking.endTime=l,this.emitEvent({event:"option_confirmed",timestamp:new Date().toISOString(),scenarioId:this.currentScenarioTracking.scenarioId,optionId:t,optionLabel:n,alignedAfter:r,timeSinceScenarioOpen:c,objectivesSnapshot:i,flagsAtConfirmation:s,finalTopTwoValuesBeforeUpdate:o})}static recordCVRVisit(t,n){this.currentScenarioTracking&&(this.currentScenarioTracking.cvrVisited=!0,this.currentScenarioTracking.cvrVisitCount++);const r=this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0;this.emitEvent({event:"cvr_opened",timestamp:new Date().toISOString(),scenarioId:t,optionId:n,timeSinceScenarioOpen:r});const i=Se.getSessionId();Se.insertScenarioInteraction({session_id:i,scenario_id:t,scenario_title:`Scenario ${t}`,event_type:"cvr_opened",option_id:n,time_since_scenario_start:Math.round(r/1e3)})}static recordCVRAnswer(t,n,r,i,s){this.currentScenarioTracking&&(n?this.currentScenarioTracking.cvrYesAnswers++:this.currentScenarioTracking.cvrNoAnswers++);const o=this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0;this.emitEvent({event:"cvr_answered",timestamp:new Date().toISOString(),scenarioId:t,cvrAnswer:n,timeSinceScenarioOpen:o});const l=Se.getSessionId();r&&i&&s&&Se.insertCVRResponse({session_id:l,scenario_id:t,option_id:r,option_label:i,cvr_question:s,user_answer:n,response_time_ms:Math.round(o)})}static recordAPAReordering(t,n,r,i){this.currentScenarioTracking&&(this.currentScenarioTracking.apaReordered=!0,this.currentScenarioTracking.apaReorderCount++);const s=this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0;this.emitEvent({event:"apa_reordered",timestamp:new Date().toISOString(),scenarioId:t,valuesBefore:n,valuesAfter:r,preferenceType:i,timeSinceScenarioOpen:s});const o=Se.getSessionId();Se.insertAPAReordering({session_id:o,scenario_id:t,preference_type:i,values_before:n,values_after:r,time_spent_ms:Math.round(s)}),Se.insertValueEvolution({session_id:o,scenario_id:t,value_list_snapshot:r,change_trigger:"apa_reordering",change_type:i})}static recordAlternativesExplored(t){this.currentScenarioTracking&&(this.currentScenarioTracking.alternativesExplored=!0),this.emitEvent({event:"alternatives_explored",timestamp:new Date().toISOString(),scenarioId:t,timeSinceScenarioOpen:this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0})}static recordAlternativeAdded(t,n,r){this.currentScenarioTracking&&(this.currentScenarioTracking.alternativesExploredCount+=1),this.emitEvent({event:"alternative_added",timestamp:new Date().toISOString(),scenarioId:t,optionId:n,optionLabel:r,timeSinceScenarioOpen:this.currentScenarioTracking?Date.now()-this.currentScenarioTracking.startTime:0})}static getCurrentScenarioTracking(){return this.currentScenarioTracking}static endScenario(){if(!this.currentScenarioTracking)return;const t={...this.currentScenarioTracking},n=JSON.parse(localStorage.getItem("scenarioTrackingHistory")||"[]");return n.push(t),localStorage.setItem("scenarioTrackingHistory",JSON.stringify(n)),this.currentScenarioTracking=null,t}static emitEvent(t){const n=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");n.push(t),localStorage.setItem("sessionEventLogs",JSON.stringify(n))}static getScenarioTrackingHistory(){return JSON.parse(localStorage.getItem("scenarioTrackingHistory")||"[]")}static getAllEvents(){return JSON.parse(localStorage.getItem("sessionEventLogs")||"[]")}}Z(yt,"currentScenarioTracking",null);const Cu=[{id:"livesSaved",label:"Lives Saved"},{id:"casualties",label:"Casualties"},{id:"resources",label:"Resources"},{id:"infrastructure",label:"Infrastructure"},{id:"biodiversity",label:"Biodiversity"},{id:"properties",label:"Properties"},{id:"nuclear",label:"Nuclear Safety"}],bl=[{id:"safety",label:"Safety"},{id:"efficiency",label:"Efficiency"},{id:"sustainability",label:"Sustainability"},{id:"fairness",label:"Fairness"},{id:"nonmaleficence",label:"Nonmaleficence"}];function OM(e,t){const n=[{id:"safety",label:"Safety"},{id:"efficiency",label:"Efficiency"},{id:"sustainability",label:"Sustainability"},{id:"fairness",label:"Fairness"},{id:"nonmaleficence",label:"Nonmaleficence"}],r=e==null?void 0:e.toLowerCase(),i=[],s=new Set;if(r){const l=n.find(c=>c.id===r);l&&(i.push(l),s.add(l.id))}t.forEach(l=>{if(!s.has(l)){const c=n.find(d=>d.id===l);c&&(i.push(c),s.add(c.id))}});const o=n.filter(l=>!s.has(l.id));return i.push(...o),i}const LM=({onBack:e,selectedOption:t,mainScenario:n,onConfirm:r,scenarioId:i=1,isLastScenario:s=!1})=>{const[o,l]=N.useState(""),[c,d]=N.useState(["Safety","Efficiency","Sustainability","Fairness","Nonmaleficence"]),[u,f]=N.useState(null),[h,m]=N.useState(Cu),[g,x]=N.useState(bl),[y,p]=N.useState(Cu),[v,b]=N.useState(!1),[j,w]=N.useState(!0),[S,C]=N.useState(!0),[k,I]=N.useState(()=>localStorage.getItem("hasClickedPreferenceButton")==="true"),[E,_]=N.useState(()=>localStorage.getItem("hasClickedPreferenceButton")!=="true"),[F,H]=N.useState(!1),D=O=>{if(!O.destination)return;const P=Array.from(y),[T]=P.splice(O.source.index,1);P.splice(O.destination.index,0,T),p(P),u==="metrics"?m(P):u==="values"&&x(P)},M=()=>{if(!u||y.length===0)return;const O=u==="values"?bl.map(T=>T.id):Cu.map(T=>T.id),P=y.map(T=>T.id);if(yt.recordAPAReordering(n.id,O,P,u),localStorage.setItem("preferenceTypeFlag",u==="metrics"?"true":"false"),u==="metrics"){localStorage.setItem("simulationMetricsRanking",JSON.stringify(y)),localStorage.setItem("SimulationMetricsReorderList",JSON.stringify(y)),localStorage.setItem("simulationMetricsReorderingFlag","true"),localStorage.setItem("moralValuesReorderingFlag","false");const T=localStorage.getItem("simulationMetricsSelectedCount"),A=T?parseInt(T)+1:1;localStorage.setItem("simulationMetricsSelectedCount",A.toString())}else{localStorage.setItem("moralValuesRanking",JSON.stringify(y)),localStorage.setItem("MoralValuesReorderList",JSON.stringify(y)),localStorage.setItem("moralValuesReorderingFlag","true"),localStorage.setItem("simulationMetricsReorderingFlag","false");const T=localStorage.getItem("moralValuesSelectedCount"),A=T?parseInt(T)+1:1;localStorage.setItem("moralValuesSelectedCount",A.toString())}b(!0)};if(v)return a.jsx(AM,{scenario:n,onBack:()=>{b(!1),e()},onConfirm:(O,P)=>r(O,P),currentMetrics:{livesSaved:0,humanCasualties:0,firefightingResource:100,infrastructureCondition:100,biodiversityCondition:100,propertiesCondition:100,nuclearPowerStation:100},onReorderPriorities:()=>{b(!1)}});const{comparisonTableColumnContent:R}=t;return s&&i===3?a.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen p-6 flex-1 flex flex-col",children:a.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[a.jsxs("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2 transition-colors",children:[a.jsx(wi,{size:20}),"Back to Scenario 3"]}),a.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsxs("button",{onClick:()=>C(!S),className:"w-full flex items-center justify-between text-left hover:opacity-80 transition-opacity",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-md",children:a.jsx(fr,{className:"text-white",size:20})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Why You're Seeing This Page"})]}),a.jsx($r,{size:20,className:`text-gray-600 transition-transform duration-300 ${S?"":"rotate-180"}`})]}),a.jsx("div",{className:`overflow-hidden transition-all duration-300 ${S?"max-h-0":"max-h-96"}`,children:a.jsxs("div",{className:"pt-4 space-y-3",children:[a.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:"This section is here to simply help you reflect  not to tell you what you should have chosen."}),a.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:"The purpose of the value-reflection scenario is to show how the same core values feel when they appear in a different storyline."}),a.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:"Sometimes people respond differently without realizing it. This page helps you think about which part of your decision-making matters most to you right now."})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-5 text-center",children:"We Noticed a Contradiction in Your Recent Choices"}),a.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Sf,{className:"text-amber-600 mt-0.5 flex-shrink-0",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-900 font-medium mb-1 text-sm",children:"This is the last scenario"}),a.jsx("p",{className:"text-amber-800 text-xs leading-relaxed",children:"You don't need to reorder your values since there are no more scenarios after this one. You can review the information below and return to the simulation to make a different choice if needed."})]})]})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white border-2 border-blue-200 rounded-xl p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx(xr,{className:"text-blue-600",size:20})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Your Simulation Scenario Choice"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Scenario Title"}),a.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.firstColumnTitle})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Affected Population"}),a.jsxs("p",{className:"text-sm text-gray-800",children:[R.firstColumnAffected.toLocaleString()," residents"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Decision Trade-off"}),a.jsx("p",{className:"text-sm text-gray-800",children:R.firstColumnRisk})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Applied Moral Value"}),a.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.firstValue})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Your Response"}),a.jsx("p",{className:`text-sm font-semibold ${R.firstColumnuserChoice==="Accepted"?"text-green-600":"text-red-600"}`,children:R.firstColumnuserChoice==="Accepted"?" Accepted":" Rejected"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-white border-2 border-teal-200 rounded-xl p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center",children:a.jsx(In,{className:"text-teal-600",size:20})}),a.jsx("h3",{className:"text-lg font-semibold text-teal-900",children:"Your Value-Reflection Scenario Choice"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Scenario Title"}),a.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.secondColumnTitle})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Affected Population"}),a.jsxs("p",{className:"text-sm text-gray-800",children:[R.secondColumnaffected.toLocaleString()," residents"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Decision Trade-off"}),a.jsx("p",{className:"text-sm text-gray-800",children:R.secondColumnRisk})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Applied Moral Value"}),a.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.secondValue})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Your Response"}),a.jsx("p",{className:`text-sm font-semibold ${R.secondColumnuserChoice==="Accepted"?"text-green-600":"text-red-600"}`,children:R.secondColumnuserChoice==="Accepted"?" Accepted":" Rejected"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-400 to-teal-500 flex items-center justify-center shadow-md",children:a.jsx(In,{className:"text-white",size:20})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"What We Detected"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-gray-50 rounded-xl p-6 mb-4",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx(ps,{className:"text-blue-600",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Your recent choice emphasizes"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.secondValue.toLowerCase()})]})]})}),a.jsx("div",{className:"border-t border-gray-200 pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx(ss,{className:"text-green-600",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:(()=>{try{const O=localStorage.getItem("FinalTopTwoValues");return(O?JSON.parse(O):[]).length===1?"Your current top value priority is":"Your current top value priorities are"}catch{return"Your current top value priorities are"}})()}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:(()=>{try{const O=localStorage.getItem("FinalTopTwoValues"),P=O?JSON.parse(O):[];if(P.length===1)return P[0].charAt(0).toUpperCase()+P[0].slice(1);if(P.length===2){const T=P[0].charAt(0).toUpperCase()+P[0].slice(1),A=P[1].charAt(0).toUpperCase()+P[1].slice(1);return`${T} and ${A}`}return"Not yet determined"}catch{return"Not yet determined"}})()})]})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:"This suggests that your decision in this scenario is not fully aligned with your previously expressed preferences."}),a.jsx("p",{className:"text-gray-600 leading-relaxed text-sm italic bg-gray-50 p-3 rounded-lg",children:"You might genuinely want to act differently than your earlier ranking suggested  or you might want your preferences to better match how you're actually choosing in these situations."})]})]}),a.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-medium transition-all duration-200 shadow-md hover:shadow-lg",children:[a.jsx(wi,{size:20}),"Return to Scenario 3"]})]})]})}):a.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen p-6 flex-1 flex flex-col",children:a.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[a.jsxs("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2 transition-colors",children:[a.jsx(wi,{size:20}),"Back to Simulation"]}),a.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 border border-gray-200 rounded-xl p-4 mb-4",children:[a.jsxs("button",{onClick:()=>C(!S),className:"w-full flex items-center justify-between text-left hover:opacity-80 transition-opacity",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-md",children:a.jsx(fr,{className:"text-white",size:20})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Why You're Seeing This Page"})]}),a.jsx($r,{size:20,className:`text-gray-600 transition-transform duration-300 ${S?"":"rotate-180"}`})]}),a.jsx("div",{className:`overflow-hidden transition-all duration-300 ${S?"max-h-0":"max-h-96"}`,children:a.jsxs("div",{className:"pt-4 space-y-3",children:[a.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:"This section is here to simply help you reflect  not to tell you what you should have chosen."}),a.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:"The purpose of the value-reflection scenario is to show how the same core values feel when they appear in a different storyline."}),a.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:"Sometimes people respond differently without realizing it. This page helps you think about which part of your decision-making matters most to you right now."})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-5 text-center",children:"We Noticed a Difference in Your Recent Choices"}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 border-l-4 border-blue-500 p-4 rounded-r-xl mb-6 shadow-sm",children:[a.jsx("p",{className:"text-gray-800 leading-relaxed mb-3 text-sm",children:"Earlier in the simulation, you selected an option that reflected a certain value."}),a.jsx("p",{className:"text-gray-800 leading-relaxed mb-3 text-sm",children:"A moment later, when you were shown a very similar scenario designed to reflect your chosen value-based option, you reacted differently and rejected the same value-based option you had previously accepted in a different scenario."}),a.jsx("p",{className:"text-gray-700 leading-relaxed italic text-sm",children:"This happens to many people  especially when the same moral values appear in new or stressful contexts."})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-teal-500 flex items-center justify-center shadow-md",children:a.jsx(In,{className:"text-white",size:20})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Here's What You Chose Before"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white border-2 border-blue-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx(xr,{className:"text-blue-600",size:20})}),a.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Your Simulation Scenario Choice"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Scenario Title"}),a.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.firstColumnTitle})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Affected Population"}),a.jsxs("p",{className:"text-sm text-gray-800",children:[R.firstColumnAffected.toLocaleString()," residents"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Decision Trade-off"}),a.jsx("p",{className:"text-sm text-gray-800",children:R.firstColumnRisk})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Applied Moral Value"}),a.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.firstValue})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Your Response"}),a.jsx("p",{className:`text-sm font-semibold ${R.firstColumnuserChoice==="Accepted"?"text-green-600":"text-red-600"}`,children:R.firstColumnuserChoice==="Accepted"?" Accepted":" Rejected"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-white border-2 border-teal-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center",children:a.jsx(In,{className:"text-teal-600",size:20})}),a.jsx("h3",{className:"text-lg font-semibold text-teal-900",children:"Your Value-Reflection Scenario Choice"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Scenario Title"}),a.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.secondColumnTitle})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Affected Population"}),a.jsxs("p",{className:"text-sm text-gray-800",children:[R.secondColumnaffected.toLocaleString()," residents"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Decision Trade-off"}),a.jsx("p",{className:"text-sm text-gray-800",children:R.secondColumnRisk})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Applied Moral Value"}),a.jsx("p",{className:"text-sm text-gray-800 font-medium",children:R.secondValue})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Your Response"}),a.jsx("p",{className:`text-sm font-semibold ${R.secondColumnuserChoice==="Accepted"?"text-green-600":"text-red-600"}`,children:R.secondColumnuserChoice==="Accepted"?" Accepted":" Rejected"})]})]})]})]}),a.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-center",children:a.jsx("p",{className:"text-amber-900 font-medium text-sm",children:"Both scenarios affected the same number of residents and carried nearly the same consequences, yet your reactions were different."})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-400 to-teal-500 flex items-center justify-center shadow-md",children:a.jsx(In,{className:"text-white",size:20})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"What We Detected"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-gray-50 rounded-xl p-6 mb-4",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx(ps,{className:"text-blue-600",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Your recent choice emphasizes"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.secondValue.toLowerCase()})]})]})}),a.jsx("div",{className:"border-t border-gray-200 pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 mt-1",children:a.jsx(ss,{className:"text-green-600",size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:(()=>{try{const O=localStorage.getItem("FinalTopTwoValues");return(O?JSON.parse(O):[]).length===1?"Your current top value priority is":"Your current top value priorities are"}catch{return"Your current top value priorities are"}})()}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:(()=>{try{const O=localStorage.getItem("FinalTopTwoValues"),P=O?JSON.parse(O):[];if(P.length===1)return P[0].charAt(0).toUpperCase()+P[0].slice(1);if(P.length===2){const T=P[0].charAt(0).toUpperCase()+P[0].slice(1),A=P[1].charAt(0).toUpperCase()+P[1].slice(1);return`${T} and ${A}`}return"Not yet determined"}catch{return"Not yet determined"}})()})]})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:"This suggests that your decision in this scenario is not fully aligned with your previously expressed preferences."}),a.jsx("p",{className:"text-gray-600 leading-relaxed text-sm italic bg-gray-50 p-3 rounded-lg",children:"You might genuinely want to act differently than your earlier ranking suggested  or you might want your preferences to better match how you're actually choosing in these situations."})]})]}),a.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-6 mb-6 shadow-md",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center shadow-md",children:a.jsx(ps,{className:"text-white",size:24})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What Matters More to You Going Forward?"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"Because we noticed a contradiction, this step helps you clarify what should guide your decisions in the current and upcoming scenarios."}),a.jsx("p",{className:"text-gray-600 text-sm mb-6 italic",children:"You can choose whichever matters more to you right nowSimulation Metrics or Moral Valuesand you can always adjust this preference later if your priorities change."}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("button",{onClick:()=>{f("metrics"),p(h),k||(I(!0),_(!1),localStorage.setItem("hasClickedPreferenceButton","true"))},className:`py-8 px-5 rounded-xl border-2 transition-all duration-300 flex flex-col items-center gap-4 shadow-sm hover:shadow-lg relative transform hover:-translate-y-1 ${u==="metrics"?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 shadow-lg scale-105":E?"border-blue-400 bg-white hover:border-blue-500 hover:bg-blue-50 shadow-blue-300 shadow-lg animate-pulse":"border-gray-300 bg-white hover:border-blue-400 hover:bg-blue-50"}`,children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center shadow-md transition-all duration-300 ${u==="metrics"?"bg-gradient-to-br from-blue-500 to-blue-600":"bg-gray-200"}`,children:a.jsx(B2,{className:u==="metrics"?"text-white":"text-gray-600",size:32})}),a.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[a.jsx("span",{className:`font-bold text-xl ${u==="metrics"?"text-blue-700":"text-gray-800"}`,children:"Simulation Metrics"}),a.jsx("span",{className:`text-xs text-center leading-relaxed ${u==="metrics"?"text-blue-600":"text-gray-500"}`,children:"Prioritize quantifiable outcomes and measurable impact"}),a.jsx("span",{className:`text-xs text-center leading-relaxed italic  ${u==="metrics"?"text-blue-600":"text-gray-500"}`,children:"(The Context of the Problem)"})]}),u==="metrics"&&a.jsx("span",{className:"text-xs bg-blue-500 text-white px-3 py-1 rounded-full font-medium shadow-sm",children:"Selected"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>{var O;if(f("values"),F)p(g);else try{const P=localStorage.getItem("FinalTopTwoValues"),T=P?JSON.parse(P):[],A=(O=t==null?void 0:t.comparisonTableColumnContent)==null?void 0:O.secondValue,W=OM(A,T);x(W),p(W),H(!0)}catch(P){console.error("Error applying custom order:",P),x(bl),p(bl)}k||(I(!0),_(!1),localStorage.setItem("hasClickedPreferenceButton","true"))},className:`w-full py-8 px-5 rounded-xl border-2 transition-all duration-300 flex flex-col items-center gap-4 shadow-sm hover:shadow-lg relative transform hover:-translate-y-1 ${u==="values"?"border-emerald-500 bg-gradient-to-br from-emerald-50 to-emerald-100 shadow-lg scale-105":E?"border-emerald-400 bg-white hover:border-emerald-500 hover:bg-emerald-50 shadow-emerald-300 shadow-lg animate-pulse":"border-gray-300 bg-white hover:border-emerald-400 hover:bg-emerald-50"}`,children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center shadow-md transition-all duration-300 ${u==="values"?"bg-gradient-to-br from-emerald-500 to-emerald-600":"bg-gray-200"}`,children:a.jsx(hs,{className:u==="values"?"text-white":"text-gray-600",size:32})}),a.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[a.jsx("span",{className:`font-bold text-xl ${u==="values"?"text-emerald-700":"text-gray-800"}`,children:"Moral Values"}),a.jsx("span",{className:`text-xs text-center leading-relaxed ${u==="values"?"text-emerald-600":"text-gray-500"}`,children:"Prioritize ethical principles and fundamental values"}),a.jsx("span",{className:`text-xs text-center leading-relaxed italic  ${u==="values"?"text-emerald-600":"text-gray-500"}`,children:"(Universal Morals)"})]}),u==="values"&&a.jsx("span",{className:"text-xs bg-emerald-500 text-white px-3 py-1 rounded-full font-medium shadow-sm",children:"Selected"})]}),E&&a.jsx("div",{className:"absolute -top-2 -right-4 transform translate-x-full z-10 animate-bounce",children:a.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white text-sm px-4 py-3 rounded-xl shadow-xl whitespace-nowrap font-medium flex items-center gap-2",children:[a.jsx(ss,{size:16,className:"flex-shrink-0"}),"Click one of these buttons to continue",a.jsx("div",{className:"absolute top-4 right-full transform w-0 h-0 border-t-8 border-b-8 border-r-8 border-emerald-500 border-t-transparent border-b-transparent"})]})})]})]}),u&&a.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 border border-gray-200 p-6 rounded-xl mt-6",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(sg,{size:20,className:"text-blue-600"}),"Rank from 1 (most important) to ",y.length," (least important)"]}),j&&a.jsx("div",{className:"mb-4 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:a.jsxs("p",{className:"text-sm text-blue-800 flex items-center gap-2",children:[a.jsx(ss,{size:16,className:"flex-shrink-0"}),a.jsx("strong",{children:"Tip:"})," Drag and drop items to reorder them by importance"]})}),a.jsx(YR,{onDragEnd:D,children:a.jsx(o1,{droppableId:"rankingList",children:O=>a.jsxs("div",{...O.droppableProps,ref:O.innerRef,className:"space-y-2",children:[y.map((P,T)=>a.jsx(_M,{draggableId:P.id,index:T,children:(A,W)=>a.jsxs("div",{ref:A.innerRef,...A.draggableProps,...A.dragHandleProps,className:`bg-white p-4 rounded-lg border flex items-center gap-4 transition-shadow duration-150 ${W.isDragging?"border-gray-400 shadow-lg":"border-gray-200 shadow-sm"}`,children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 text-gray-700 font-semibold",children:T+1}),a.jsx("span",{className:"flex-1 font-medium text-gray-700",children:P.label}),a.jsx(sg,{size:20,className:"text-gray-400"})]})},P.id)),O.placeholder]})})}),a.jsxs("button",{onClick:M,disabled:!u,className:`mt-6 w-full flex items-center justify-center gap-2 py-4 px-6 rounded-xl text-white font-semibold text-lg transition-all duration-200 shadow-md ${u?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 hover:shadow-lg":"bg-gray-400 cursor-not-allowed"}`,children:["Continue to Next Step",a.jsx(Tn,{size:24})]})]})]}),a.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-5 rounded-r-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Sf,{className:"text-amber-600 mt-0.5 flex-shrink-0",size:20}),a.jsx("p",{className:"text-sm text-amber-900 leading-relaxed",children:"Your rankings will help us understand your decision-making priorities and improve future scenario recommendations."})]})})]})]})})},wl=({id:e,title:t,children:n,variant:r="info",defaultExpanded:i=!1})=>{const s=`help-message-${e}-hidden`,[o,l]=N.useState(i),[c,d]=N.useState(!1);N.useEffect(()=>{const f=localStorage.getItem(s)==="true";d(f)},[s]);const u=()=>{localStorage.setItem(s,"true"),d(!0)};return c?null:a.jsx("div",{className:"relative mb-4",children:a.jsxs("div",{className:"border-2 bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-400 rounded-xl shadow-md overflow-hidden transition-all duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between p-4",children:[a.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-3 flex-1 text-left group",children:[a.jsx("div",{className:"text-yellow-600 transition-colors",children:a.jsx(Ka,{size:20})}),a.jsx("h4",{className:"font-semibold text-yellow-900 text-sm group-hover:opacity-75 transition-opacity",children:t}),a.jsx("div",{className:"ml-auto text-yellow-600",children:o?a.jsx(Wy,{size:20}):a.jsx($r,{size:20})})]}),a.jsx("button",{onClick:u,className:"ml-2 text-yellow-600 hover:opacity-75 transition-opacity",title:"Hide this message permanently",children:a.jsx(An,{size:18})})]}),o&&a.jsx("div",{className:"px-4 pb-4 text-yellow-900 text-sm leading-relaxed space-y-2 animate-in fade-in duration-200",children:n})]})})},FM=({isOpen:e,onClose:t,option:n})=>{const[r,i]=N.useState(!0),[s,o]=N.useState(!1),l=N.useRef(null),c=Object.keys(n.expertOpinions).length;N.useEffect(()=>{if(!e){i(!0),o(!1);return}const m=setTimeout(()=>{const g=l.current;if(g){const x=g.scrollHeight>g.clientHeight;i(x)}},800);return()=>clearTimeout(m)},[e]);const d=m=>{const g=m.currentTarget;g.scrollTop/(g.scrollHeight-g.clientHeight)*100>10&&(i(!1),o(!0))},u=()=>{l.current&&l.current.scrollTo({top:l.current.scrollHeight*.3,behavior:"smooth"})};if(!e)return null;const f={safety:{name:"Safety",icon:Is,iconColor:"text-blue-600",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-300",accentColor:"bg-blue-500"},efficiency:{name:"Efficiency",icon:Jr,iconColor:"text-cyan-600",bgGradient:"from-cyan-50 to-cyan-100",borderColor:"border-cyan-300",accentColor:"bg-cyan-500"},sustainability:{name:"Sustainability",icon:Bh,iconColor:"text-green-600",bgGradient:"from-green-50 to-green-100",borderColor:"border-green-300",accentColor:"bg-green-500"},fairness:{name:"Fairness",icon:xr,iconColor:"text-purple-600",bgGradient:"from-purple-50 to-purple-100",borderColor:"border-purple-300",accentColor:"bg-purple-500"},nonmaleficence:{name:"Nonmaleficence",icon:Vh,iconColor:"text-red-600",bgGradient:"from-red-50 to-red-100",borderColor:"border-red-300",accentColor:"bg-red-500"}},h=m=>{switch(m){case"Accept":return"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-md";case"Reject":return"bg-gradient-to-r from-red-500 to-rose-600 text-white shadow-md";case"Neutral":return"bg-gradient-to-r from-yellow-400 to-amber-500 text-white shadow-md";default:return"bg-gray-200 text-gray-700"}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 overflow-y-auto backdrop-blur-sm",children:a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl max-w-5xl w-full my-8 border border-gray-200",children:[a.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-teal-600 to-cyan-600 rounded-t-2xl p-6 flex items-center justify-between z-10 shadow-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n.title}),a.jsx("p",{className:"text-teal-50 text-sm leading-relaxed",children:n.description})]}),a.jsx("button",{onClick:t,className:"text-white hover:text-teal-100 transition-colors p-2 rounded-full hover:bg-white hover:bg-opacity-20 ml-4",children:a.jsx(An,{size:28})})]}),a.jsxs("div",{ref:l,onScroll:d,className:"p-6 max-h-[calc(90vh-10rem)] overflow-y-auto relative",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-teal-500 to-cyan-500 rounded-full"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Expert Analysis"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:Object.entries(n.expertOpinions).map(([m,g])=>{const x=f[m],y=x.icon;return a.jsxs("div",{className:`bg-gradient-to-br ${x.bgGradient} border-2 ${x.borderColor} rounded-xl p-5 shadow-md hover:shadow-xl transition-shadow duration-300`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`${x.accentColor} p-3 rounded-lg shadow-md`,children:a.jsx(y,{size:24,className:"text-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[x.name," Expert"]}),a.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Professional Assessment"})]})]}),a.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-bold ${h(g.recommendation)}`,children:g.recommendation})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-blue-500 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(fr,{size:16,className:"text-blue-600"}),a.jsx("h4",{className:"text-sm font-bold text-blue-900 uppercase tracking-wide",children:"Analysis"})]}),a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:g.summary})]}),a.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-purple-500 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Hy,{size:16,className:"text-purple-600"}),a.jsx("h4",{className:"text-sm font-bold text-purple-900 uppercase tracking-wide",children:"Comparison"})]}),a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:g.comparison})]}),a.jsxs("div",{className:"bg-white bg-opacity-70 rounded-lg p-4 border-l-4 border-emerald-500 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ps,{size:16,className:"text-emerald-600"}),a.jsx("h4",{className:"text-sm font-bold text-emerald-900 uppercase tracking-wide",children:"Confidence Level"})]}),a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:g.confidence})]})]})]},m)})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-300 rounded-xl p-5 shadow-md",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-indigo-500 rounded-full"}),a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Simulation Metrics Impact Summary"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-green-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ri,{size:16,className:"text-green-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Lives Saved"})]}),a.jsxs("span",{className:"text-lg font-bold text-green-600",children:["+",n.impact.livesSaved]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-red-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bo,{size:16,className:"text-red-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Casualties"})]}),a.jsxs("span",{className:"text-lg font-bold text-red-600",children:["+",n.impact.humanCasualties]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-cyan-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jr,{size:16,className:"text-cyan-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Resources"})]}),a.jsxs("span",{className:"text-lg font-bold text-cyan-600",children:[n.impact.firefightingResource,"%"]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-gray-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kn,{size:16,className:"text-gray-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Infrastructure"})]}),a.jsxs("span",{className:"text-lg font-bold text-gray-600",children:[n.impact.infrastructureCondition,"%"]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-emerald-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fs,{size:16,className:"text-emerald-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Biodiversity"})]}),a.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:[n.impact.biodiversityCondition,"%"]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-blue-500 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kn,{size:16,className:"text-blue-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Properties"})]}),a.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[n.impact.propertiesCondition,"%"]})]})}),a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-purple-500 shadow-sm col-span-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yo,{size:16,className:"text-purple-600"}),a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"Nuclear Station"})]}),a.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[n.impact.nuclearPowerStation,"%"]})]})})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 border-2 border-orange-300 rounded-xl p-5 shadow-md",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-orange-500 to-red-500 rounded-full"}),a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Key Considerations"})]}),a.jsx("div",{className:"space-y-2",children:n.riskInfo.map((m,g)=>a.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-orange-500 shadow-sm",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-1.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed font-medium",children:m})]})},g))})]})]}),r&&!s&&a.jsxs("div",{className:"sticky bottom-0 left-0 right-0 pointer-events-none",children:[a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-white via-white/80 to-transparent"}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 pointer-events-auto",children:a.jsxs("button",{onClick:u,className:"group flex flex-col items-center gap-2 bg-gradient-to-r from-teal-500 to-cyan-500 text-white px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:from-teal-600 hover:to-cyan-600 animate-bounce",style:{animationDuration:"2s"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold whitespace-nowrap",children:"More Expert Recommendations Below"}),a.jsx($r,{size:20,className:"group-hover:translate-y-0.5 transition-transform"})]}),a.jsx("div",{className:"flex gap-1",children:Array.from({length:c}).map((m,g)=>a.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full opacity-70"},g))})]})})]})]}),a.jsx("div",{className:"sticky bottom-0 bg-gradient-to-r from-gray-50 to-white rounded-b-2xl border-t-2 border-gray-200 p-6 shadow-lg",children:a.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700 px-6 py-4 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[a.jsx(An,{size:24}),"Close Review"]})})]})})},Sl=[{id:1,title:"Wildfire Approaching a Town",description:"A wildfire is rapidly approaching a town with 2,000 residents. Critical decisions must be made about resource allocation and evacuation priorities.",options:[{id:"safety-first",title:"Prioritize Safety Protocol",label:"safety",description:"Deploy all available firefighters immediately to form defensive lines and evacuate population centers. This action will successfully evacuate all residents but exposes firefighters to intense danger, leading to casualties and resource depletion.",impact:{livesSaved:2e3,humanCasualties:12,firefightingResource:-38,infrastructureCondition:-15,biodiversityCondition:-12,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["2,000 residents safely evacuated through rapid deployment","12 firefighter casualties due to high exposure in intense zones","Firefighter morale potentially impacted by losses","Heavy short-term resource depletion may affect next emergency","Major fire spread contained near residential areas"],expertOpinions:{safety:{summary:"Ensures maximum civilian survival through aggressive intervention. However, the elevated firefighter risk could undermine future morale and readiness.",recommendation:"Accept",comparison:"Highest civilian survival (100%) among all options. Firefighter loss (12 personnel) introduces medium concern.",confidence:"High confidence based on historical evacuation efficiency in full-resource deployments."},efficiency:{summary:"Resource use is excessive relative to marginal gains over more targeted strategies.",recommendation:"Reject",comparison:"Uses 166% more resources than the efficiency-focused approach for a 42% increase in lives saved.",confidence:"Moderate confidence given modeled depletion thresholds and resource burn rates."},sustainability:{summary:"Environmental degradation is high due to aggressive fire suppression techniques.",recommendation:"Reject",comparison:"Causes 2.3x more environmental impact than the sustainability-focused approach.",confidence:"High confidence from ecological field data on containment burns."},fairness:{summary:"Effectively saves everyone, but accessible zones are disproportionately prioritized in execution.",recommendation:"Accept",comparison:"Outperforms all except fairness-focused plan in geographic equity.",confidence:"Moderate confidence based on standard evacuation route analysis."},nonmaleficence:{summary:"No civilian deaths, but responder harm remains ethically significant.",recommendation:"Accept",comparison:"Second-lowest total harm; only the nonmaleficence-focused strategy performs better.",confidence:"High confidence from harm-reduction comparative modeling."}},radarData:{fireContainment:90,firefighterRisk:60,resourceUse:84,infrastructureDamage:40,biodiversityImpact:35,ethicalFairness:75,populationSafety:100},cvrQuestion:{descriptionTile:" Forced Medical Sacrifice",description:"A chemical plant explosion has filled a city hospital with toxic fumes. To save 2,000 trapped patients, you can order a small team of 12 medical staff to enter the most contaminated zone to open sealed exits. Those 12 will certainly die, but everyone else will be evacuated safely.",question:"Would you order 12 medical staff to certain death so that 2,000 patients can be rescued?",value:"Safety"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Deploy all available firefighters immediately to form defensive lines and evacuate population centers",firstValue:"Safety",firstColumnAffected:2e3,firstColumnRisk:"12 firefighter casualties",firstColumnuserChoice:"Accepted",secondColumnTitle:"Forced Medical Sacrifice",secondColumnSelectedPreference:"Order 12 medical staff into a lethal zone to unlock exits and save 2,000 patients",secondValue:"Safety",secondColumnaffected:2e3,secondColumnRisk:"12 medical staff deaths",secondColumnuserChoice:"Rejected"}},{id:"efficiency-focused",title:"Resource Optimization Strategy",label:"efficiency",description:"Deploy firefighter teams only to the most critical zones, minimizing resource use while attempting to save as many lives as possible. However, limited coverage results in preventable resident deaths and minor firefighter casualties.",impact:{livesSaved:1400,humanCasualties:600,firefightingResource:-22,infrastructureCondition:-14,biodiversityCondition:-16,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["1,400 residents evacuated from high-priority zones","600 casualties from areas not prioritized","Firefighters remained mostly in low-risk sectors","Minimal firefighter exposure and casualties (0)","Resources preserved for future emergencies"],expertOpinions:{safety:{summary:"Substantial lives are saved but at the cost of abandoning lower-priority areas.",recommendation:"Reject",comparison:"600 deaths preventable under safety or nonmaleficence strategies.",confidence:"Moderate confidence based on demographic prioritization models."},efficiency:{summary:"Exceptional performance in lives saved per resource expended.",recommendation:"Accept",comparison:"Best efficiency ratio with 60 lives saved per 1% resource used.",confidence:"High confidence from optimization-based simulations."},sustainability:{summary:"Resources preserved, but ecological damage left unchecked.",recommendation:"Accept",comparison:"Ecological triage limits short-term loss but sacrifices containment.",confidence:"Low confidence due to variable fire behavior in uncontrolled spread."},fairness:{summary:"Benefits skewed toward urban centers, ignoring rural zones.",recommendation:"Reject",comparison:"Most inequitable strategy from a geographic fairness perspective.",confidence:"Moderate confidence from spatial resource allocation studies."},nonmaleficence:{summary:"Large-scale civilian loss undermines core harm-minimization ethics.",recommendation:"Reject",comparison:"600 deaths exceed acceptable ethical thresholds by 400%.",confidence:"High confidence from casualty probability projections."}},radarData:{fireContainment:60,firefighterRisk:20,resourceUse:50,infrastructureDamage:38,biodiversityImpact:45,ethicalFairness:45,populationSafety:70},cvrQuestion:{descriptionTile:" Lifeboat Bulkhead Order",description:"A cruise ship with 2,000 people is taking on water. To keep the ship afloat long enough to save 1,400 people using only 25% of rescue resources, you must order the sealing of six lower-deck bulkheads, deliberately trapping 600 passengers below.",question:"Would you seal the bulkheadscondemning 600 peopleso that 1,400 can be saved with minimal resources?",value:"Efficiency"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Deploy firefighter teams only to the most critical zones",firstValue:"Efficiency",firstColumnAffected:2e3,firstColumnRisk:"600 civilian deaths",firstColumnuserChoice:"Accepted",secondColumnTitle:"Lifeboat Bulkhead Order",secondColumnSelectedPreference:"Seal lower-deck bulkheads to preserve buoyancy and save 1,400 with limited resources",secondValue:"Efficiency",secondColumnaffected:2e3,secondColumnRisk:"600 passenger deaths",secondColumnuserChoice:"Rejected"}},{id:"sustainability-focused",title:"Eco-Conscious Containment",label:"sustainability",description:"Limit intervention to protect natural ecosystems and endangered species. Firefighters engage only in environmentally sensitive zones. Most civilians are left vulnerable, and several firefighters perish in inaccessible terrain.",impact:{livesSaved:900,humanCasualties:1100,firefightingResource:-26,infrastructureCondition:-12,biodiversityCondition:-8,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["900 residents rescued through low-impact paths","1,080 civilian casualties due to delayed evacuation","20 firefighter deaths during defensive ecological operations","Key wildlife corridors preserved and fire-resistant","Natural firebreaks used instead of industrial tools"],expertOpinions:{safety:{summary:"Unacceptably high casualty rate despite eco-priorities.",recommendation:"Reject",comparison:"Over 1,000 deaths make this the least protective of human life.",confidence:"High confidence from historical fire shelter failures."},efficiency:{summary:"Resources used for habitat protection, not for life-saving.",recommendation:"Reject",comparison:"33% fewer lives saved than efficiency plan with 60% more resource usage.",confidence:"Moderate confidence based on deployment logs."},sustainability:{summary:"Top-tier biodiversity preservation through minimal intrusion.",recommendation:"Accept",comparison:"85% lower impact on ecosystems than any other strategy.",confidence:"High confidence from ecological satellite assessments."},fairness:{summary:"Equitable if extended to non-human lives, ethically controversial otherwise.",recommendation:"Accept",comparison:"Reframes fairness beyond humanity but lacks population equity.",confidence:"Low confidence due to disputed ethical scope."},nonmaleficence:{summary:"Sacrifices too many for future benefitsethically disproportionate.",recommendation:"Reject",comparison:"Highest total harm in the name of ecological restraint.",confidence:"High confidence based on life-cycle harm index."}},radarData:{fireContainment:40,firefighterRisk:50,resourceUse:56,infrastructureDamage:32,biodiversityImpact:24,ethicalFairness:55,populationSafety:45},cvrQuestion:{descriptionTile:" Operate the Floodgates",description:"A collapsing dam threatens a rare wetland. To save the ecosystem, you can detonate a levee that will divert the torrent into low-lying neighborhoods. This will preserve the habitat but will kill 1,100 people, including 20 responders positioned to execute the operation, while 900 are rescued via low-impact routes.",question:"Would you deliberately breach the leveeknowing 1,100 people including 20 responders will dieto preserve the ecosystem?",value:"Sustainability"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Limit intervention to protect natural ecosystems and endangered species",firstValue:"Sustainability",firstColumnAffected:2e3,firstColumnRisk:"1,100 civilian deaths + 20 firefighters",firstColumnuserChoice:"Accepted",secondColumnTitle:"Operate the Floodgates",secondColumnSelectedPreference:"Breach a levee to save the wetland, sacrificing 1,100 people (incl. 20 responders)",secondValue:"Sustainability",secondColumnaffected:2e3,secondColumnRisk:"1,100 civilian deaths + 20 responder deaths",secondColumnuserChoice:"Rejected"}},{id:"fairness-focused",title:"Equitable Response Protocol",label:"fairness",description:"Distribute protection equally across all neighborhoods regardless of socioeconomic or geographic differences. This equitable approach stretches resources thin, leading to moderate civilian and firefighter losses.",impact:{livesSaved:1600,humanCasualties:400,firefightingResource:-32,infrastructureCondition:-14,biodiversityCondition:-14,propertiesCondition:-12,nuclearPowerStation:0},riskInfo:["1,600 residents saved through balanced evacuation zones","370 residents and 30 firefighters lost due to delayed response in all areas","No neighborhood prioritized over others","Fire spread difficult to contain due to thin coverage","Moral clarity but logistical challenge"],expertOpinions:{safety:{summary:"Saves a large number while ensuring equal effort across areas.",recommendation:"Accept",comparison:"Reasonable harm (400) with high geographic parity.",confidence:"Moderate confidence from area-distribution simulations."},efficiency:{summary:"Low strategic ROI from wide-spread deployment.",recommendation:"Reject",comparison:"Uses double the resources of efficient strategy with 14% more lives saved.",confidence:"High confidence based on resource-per-zone stats."},sustainability:{summary:"Moderate ecosystem protection at cost of uniformity.",recommendation:"Reject",comparison:"Less targeted response leads to higher net environmental loss.",confidence:"Moderate confidence due to fragmented zone support."},fairness:{summary:"Most ethically aligned with equal protection principles.",recommendation:"Accept",comparison:"Only option achieving full demographic impartiality.",confidence:"High confidence from population-based equity modeling."},nonmaleficence:{summary:"Moderate harm, ethically balanced, but preventable losses remain.",recommendation:"Accept",comparison:"Middle-of-the-road in harm scores, favors equity over efficiency.",confidence:"Moderate confidence based on weighted harm index."}},radarData:{fireContainment:65,firefighterRisk:55,resourceUse:68,infrastructureDamage:36,biodiversityImpact:40,ethicalFairness:90,populationSafety:80},cvrQuestion:{descriptionTile:" Hold the Beams",description:"After a major earthquake, rescue teams face collapsing corridors across rich and poor districts alike. To ensure equal access, you order teams to advance in lockstep across all districts. In several buildings, 30 rescuers must physically brace failing beams so that 1,600 people can passthose 30 will certainly die, and 400 residents still perish due to system-wide delays.",question:"Would you enforce perfectly equal deployment even if it requires 30 rescuers to accept certain death and results in 400 resident deaths due to slower aid?",value:"Fairness"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Distribute protection equally across all neighborhoods",firstValue:"Fairness",firstColumnAffected:2e3,firstColumnRisk:"400 deaths including 30 firefighters",firstColumnuserChoice:"Accepted",secondColumnTitle:"Hold the Beams",secondColumnSelectedPreference:"Maintain equal deployment; 30 rescuers brace failing structures to let 1,600 pass",secondValue:"Fairness",secondColumnaffected:2e3,secondColumnRisk:"400 civilian deaths + 30 rescuer deaths",secondColumnuserChoice:"Rejected"}},{id:"nonmaleficence-focused",title:"Harm Minimization Approach",label:"nonmaleficence",description:"Use every available strategy to minimize total harmboth human and ecologicalby shielding vulnerable communities, preempting infrastructure collapse, and preserving firefighter life. All civilians are rescued, but some firefighter lives are lost in the process.",impact:{livesSaved:2e3,humanCasualties:8,firefightingResource:-30,infrastructureCondition:-16,biodiversityCondition:-12,propertiesCondition:-16,nuclearPowerStation:0},riskInfo:["All 2,000 residents rescued using layered evacuation strategies","8 firefighter deaths during containment in hazardous areas","Focus on protecting both people and natural resources","Infrastructure takes significant damage as a trade-off","Lowest possible total harm achieved across all groups"],expertOpinions:{safety:{summary:"Superior civilian protection, slight responder risk.",recommendation:"Accept",comparison:"Most balanced plan with 99.6% human survival.",confidence:"High confidence from full-protection model consensus."},efficiency:{summary:"High cost but justified by extraordinary outcomes.",recommendation:"Reject",comparison:"Uses 80% more resources than the efficient option for 43% more lives saved.",confidence:"Moderate confidence based on proportional expenditure models."},sustainability:{summary:"Moderate impact, carefully managed.",recommendation:"Reject",comparison:"Ecological footprint 2x higher than sustainability option.",confidence:"High confidence from scenario-based restoration data."},fairness:{summary:"Vulnerable groups prioritized ethically, but geographic balance is imperfect.",recommendation:"Accept",comparison:"Not equal, but ethically coherent with moral urgency framework.",confidence:"Moderate confidence based on tiered-vulnerability approach."},nonmaleficence:{summary:"Lowest overall harmboth to humans and environment.",recommendation:"Accept",comparison:"Most ethically consistent outcome across all domains.",confidence:"High confidence based on integrated harm-weighted scoring."}},radarData:{fireContainment:80,firefighterRisk:40,resourceUse:64,infrastructureDamage:42,biodiversityImpact:35,ethicalFairness:80,populationSafety:100},cvrQuestion:{descriptionTile:" Manual Valve Shutdown",description:"A bioterror gas release spreads through a university complex. To guarantee the rescue of all 2,000 civilians, you must order an 8person hazmat team to enter a saturated zone and manually shut the final valves. The team will certainly die; everyone else survives, and infrastructure suffers heavy damage.",question:"Would you order 8 hazmat responders to certain death to ensure zero civilian fatalities (2,000 saved) despite severe infrastructure loss?",value:"Nonmaleficence"},comparisonTableColumnContent:{firstColumnTitle:"Wildfire Approaching a Town",firstColumnSelectedPreference:"Use every available strategy to minimize total harm",firstValue:"Nonmaleficence",firstColumnAffected:2e3,firstColumnRisk:"8 firefighter deaths",firstColumnuserChoice:"Accepted",secondColumnTitle:"Manual Valve Shutdown",secondColumnSelectedPreference:"Order 8 hazmat responders into a lethal zone to save 2,000 civilians",secondValue:"Nonmaleficence",secondColumnaffected:2e3,secondColumnRisk:"8 responder deaths + severe infrastructure damage",secondColumnuserChoice:"Rejected"}}]},{id:2,title:"Nuclear Facility Under Threat",description:"A wildfire is spreading rapidly toward a nuclear power plant located near a residential area. If the facility is breached, the resulting radioactive fallout could endanger hundreds of thousands. You must prioritize decisions that balance local evacuation, plant protection, and firefighter safety.",options:[{id:"nuclear-safety-priority",title:"Shield the Reactor at All Costs",label:"safety",description:"Deploy all firefighting forces to fortify the nuclear facility perimeter. This prevents catastrophic radiation release but leaves most of the population unprotected, leading to severe civilian casualties.",impact:{livesSaved:400,humanCasualties:1600,firefightingResource:-42,infrastructureCondition:-16,biodiversityCondition:-16,propertiesCondition:-14,nuclearPowerStation:-5},riskInfo:["Reactor secured and meltdown prevented","1,600 residents perish due to lack of evacuation resources","Firefighters suffer minimal casualties","Long-term regional fallout avoided","Severe public backlash and ethical scrutiny"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Shield the Reactor at All Costs",firstValue:"Safety",firstColumnAffected:2e3,firstColumnRisk:"1600 residents dead, minor firefighter casualties",firstColumnuserChoice:"Accepted",secondColumnTitle:"Seal the Community Gates",secondColumnSelectedPreference:"Close flood/contamination gates to protect reactor, trapping residents inside",secondValue:"Safety",secondColumnaffected:2e3,secondColumnRisk:"1600 residents lost, reactor secured",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Eliminates the highest-risk global hazard, but sacrifices local population safety.",recommendation:"Accept",comparison:"Best long-term safety outcome, worst immediate human cost.",confidence:"High confidence based on reactor shielding precedent ( 85%100%)"},efficiency:{summary:"Heavy resource usage on a single target with poor civilian ROI.",recommendation:"Reject",comparison:"Most resource-intensive with lowest lives saved per unit.",confidence:"Moderate confidence from facility defense efficiency models ( 65%80%)"},sustainability:{summary:"Protects reactor but ignores biodiversity corridors and burns vast land.",recommendation:"Reject",comparison:"Third worst outcome in biodiversity loss.",confidence:"High confidence from environmental spread simulations ( 85%100%)"},fairness:{summary:"Neglects vulnerable residential areas in favor of infrastructure.",recommendation:"Reject",comparison:"Fails basic equity standards.",confidence:"High confidence from response ethics research ( 85%100%)"},nonmaleficence:{summary:"Avoids global harm but causes extreme localized suffering.",recommendation:"Reject",comparison:"Most ethically controversial trade-off.",confidence:"Moderate confidence from trade-off harm matrix ( 65%80%)"}},radarData:{fireContainment:80,firefighterRisk:15,resourceUse:96,infrastructureDamage:42,biodiversityImpact:45,ethicalFairness:25,populationSafety:20},cvrQuestion:{descriptionTile:" Seal the Community Gates",description:"A toxic plume is advancing toward a nuclear facility and nearby town. To prevent a reactor breach, you can shut the community flood/contamination gates, sealing neighborhoods in place. This will save the facility but condemn 1,600 residents while 400 are evacuated.",question:"Would you deliberately seal the neighborhood gatescondemning 1,600 peopleto prevent a catastrophic reactor failure?",value:"Safety"}},{id:"evacuation-priority",title:"Evacuate Every Civilian",label:"fairness",description:"Redirect all resources to evacuate residents as quickly as possible. While this saves the majority of the population, the nuclear plant is left vulnerable, increasing the risk of partial radioactive leakage and infrastructure collapse.",impact:{livesSaved:1800,humanCasualties:200,firefightingResource:-40,infrastructureCondition:-18,biodiversityCondition:-18,propertiesCondition:-16,nuclearPowerStation:-20},riskInfo:["1,800 residents saved via urgent coordinated effort","200 total casualties including vulnerable individuals and 3 firefighters in distant zones","Radiation leaks contained to local zones, potential long-term effects","Minimal firefighter risk, public morale high","Severe damage to the nuclear site may require years of cleanup"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Evacuate Every Civilian",firstValue:"Fairness",firstColumnAffected:2e3,firstColumnRisk:"200 residents and responders lost, nuclear damage ongoing",firstColumnuserChoice:"Accepted",secondColumnTitle:"Controlled Vent for Evacuation",secondColumnSelectedPreference:"Order a controlled vent to the atmosphere to buy evacuation time",secondValue:"Fairness",secondColumnaffected:2e3,secondColumnRisk:"200 deaths from acute exposure (incl. 3 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Protects population but elevates nuclear contamination risk.",recommendation:"Reject",comparison:"Lower immediate death toll, higher infrastructure hazard.",confidence:"High confidence from emergency evac modeling ( 85%100%)"},efficiency:{summary:"Saves maximum lives per resource unit.",recommendation:"Accept",comparison:"Best cost-benefit in life preservation.",confidence:"High confidence from rescue efficiency simulations ( 85%100%)"},sustainability:{summary:"Long-term radiation containment becomes costly.",recommendation:"Reject",comparison:"Worsens environmental recovery timelines.",confidence:"Moderate confidence from environmental toxicity projection ( 65%80%)"},fairness:{summary:"Favors population-wide equity regardless of cost.",recommendation:"Accept",comparison:"Most equitable outcome.",confidence:"High confidence from ethical distribution models ( 85%100%)"},nonmaleficence:{summary:"Minimizes harm to people, defers ecological damage.",recommendation:"Accept",comparison:"Second most morally favorable option.",confidence:"Moderate confidence from risk-aversion studies ( 65%80%)"}},radarData:{fireContainment:60,firefighterRisk:20,resourceUse:90,infrastructureDamage:48,biodiversityImpact:50,ethicalFairness:95,populationSafety:85},cvrQuestion:{descriptionTile:" Controlled Vent for Evacuation",description:"To clear evacuation routes for 1,800 civilians, engineers can perform a controlled venting of radioactive steam. This action will directly cause 200 deaths from acute exposure, including 3 responders, while preventing a wider catastrophe.",question:"Would you order a controlled ventcausing 200 deaths (incl. 3 responders)to evacuate 1,800 civilians in time?",value:"Fairness"}},{id:"divided-response-strategy",title:"Split Response Strategy",label:"efficiency",description:"Divide firefighting units between civilian evacuation and securing the nuclear facility. This approach aims to minimize both civilian and infrastructure loss, but spreading resources may reduce overall effectiveness and increase complexity.",impact:{livesSaved:1500,humanCasualties:500,firefightingResource:-38,infrastructureCondition:-16,biodiversityCondition:-18,propertiesCondition:-16,nuclearPowerStation:-10},riskInfo:["1500 residents successfully evacuated","500 total casualties including 10 firefighters due to spread-thin response","Radiation contained but minor breach occurred","Moderate infrastructure damage near facility","Balanced short-term and long-term impact, but resource planning remains controversial"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Split Response Strategy",firstValue:"Efficiency",firstColumnAffected:2e3,firstColumnRisk:"500 deaths, minor radiation breach, reduced firefighter readiness",firstColumnuserChoice:"Accepted",secondColumnTitle:"Dual Mission with Sacrifice",secondColumnSelectedPreference:"Assign 10 responders to manual core venting while evacuations proceed",secondValue:"Efficiency",secondColumnaffected:2e3,secondColumnRisk:"500 deaths total (incl. 10 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Balanced protection plan, mitigates both civilian and infrastructure risk.",recommendation:"Accept",comparison:"Second-best for reducing total harm.",confidence:"High confidence from hybrid emergency strategies ( 85%100%)"},efficiency:{summary:"High cost-effectiveness in saving lives and infrastructure.",recommendation:"Accept",comparison:"Strongest compromise across multiple domains.",confidence:"High confidence from multi-variable allocation models ( 85%100%)"},sustainability:{summary:"Reduces environmental damage moderately by preventing nuclear spread.",recommendation:"Accept",comparison:"Better than reactor sacrifice, worse than full eco-prioritization.",confidence:"Moderate confidence based on terrain control data ( 65%80%)"},fairness:{summary:"Attempts equal distribution of aid, but sacrifices depth for breadth.",recommendation:"Accept",comparison:"Ethically viable under emergency triage frameworks.",confidence:"Moderate confidence from equity studies ( 65%80%)"},nonmaleficence:{summary:"Minimizes overall harm but includes risk of partial failure in both sectors.",recommendation:"Accept",comparison:"Moral middle ground, with risks acknowledged.",confidence:"Moderate confidence from harm minimization research ( 65%80%)"}},radarData:{fireContainment:70,firefighterRisk:30,resourceUse:84,infrastructureDamage:42,biodiversityImpact:50,ethicalFairness:70,populationSafety:75},cvrQuestion:{descriptionTile:" Dual Mission with Sacrifice",description:"To both evacuate civilians and stabilize the reactor, 10 technicians must enter a breached chamber to manually vent pressure. Those 10 will certainly die; 1,500 civilians are evacuated and the reactor holds with only a minor breach.",question:"Would you order 10 technicians to certain death so you can split teams and still prevent a major reactor failure?",value:"Efficiency"}},{id:"ecosystem-defense-priority",title:"Protect Ecosystems First",label:"sustainability",description:"Redirect major resources toward halting wildfire spread through key biodiversity corridors. This protects sensitive ecosystems and prevents long-term environmental collapse but limits evacuation and increases casualties among both civilians and responders.",impact:{livesSaved:800,humanCasualties:1200,firefightingResource:-40,infrastructureCondition:-16,biodiversityCondition:-8,propertiesCondition:-16,nuclearPowerStation:-20},riskInfo:["800 civilians rescued before route closures","1,200 casualties including 80 firefighters overwhelmed by terrain fires","Critical wildlife corridors preserved","Moderate nuclear facility damage due to diverted response","Significant long-term gains in ecological resilience"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Protect Ecosystems First",firstValue:"Sustainability",firstColumnAffected:2e3,firstColumnRisk:"1,200 deaths including firefighters, minimal biodiversity loss",firstColumnuserChoice:"Accepted",secondColumnTitle:"Last Stand Firebreak",secondColumnSelectedPreference:"Ignite barrier fires and order 80 rangers to hold lines so corridors survive",secondValue:"Sustainability",secondColumnaffected:2e3,secondColumnRisk:"1,200 deaths total (incl. 80 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Neglects large-scale human safety in favor of long-term gains.",recommendation:"Reject",comparison:"Highest loss of life trade-off.",confidence:"High confidence based on emergency triage outcome ( 85%100%)"},efficiency:{summary:"Moderate resource allocation efficiency with heavy trade-offs.",recommendation:"Reject",comparison:"Weakest efficiency-to-impact ratio.",confidence:"Moderate confidence from logistic stress models ( 65%75%)"},sustainability:{summary:"Preserves high-value ecosystems and prevents irreversible damage.",recommendation:"Accept",comparison:"Best option for biodiversity and ecological continuity.",confidence:"High confidence from conservation risk metrics ( 85%95%)"},fairness:{summary:"Prioritizes environment over people, ethically contested.",recommendation:"Reject",comparison:"Uneven distribution of aid favors future generations.",confidence:"Moderate confidence from ethical impact modeling ( 65%75%)"},nonmaleficence:{summary:"High immediate harm for low present benefit, deferred long-term gain.",recommendation:"Reject",comparison:"Violates do-no-harm principle under human loss.",confidence:"High confidence from applied bioethics studies ( 85%95%)"}},radarData:{fireContainment:60,firefighterRisk:70,resourceUse:92,infrastructureDamage:42,biodiversityImpact:22,ethicalFairness:45,populationSafety:35},cvrQuestion:{descriptionTile:" Last Stand Firebreak",description:"To keep ancient biodiversity corridors alive, commanders can ignite barrier fires and order 80 rangers to hold the lines until overrun. Their deaths will buy time to save the ecosystems, but only 800 civilians will be rescued; 1,120 others will perish.",question:"Would you order 80 rangers to certain death and accept 1,120 civilian deaths to prevent ecosystem collapse?",value:"Sustainability"}},{id:"nonmaleficence-response",title:"Minimize Harm, Avoid Irreversible Fallout",label:"nonmaleficence",description:"Choose a restrained approach that avoids high-risk maneuvers and minimizes irreversible harm. Firefighters will only secure defensible zones and allow natural containment. This reduces unnecessary loss of life among responders but increases the risk of radiation release and major regional damage.",impact:{livesSaved:1e3,humanCasualties:1e3,firefightingResource:-34,infrastructureCondition:-18,biodiversityCondition:-18,propertiesCondition:-18,nuclearPowerStation:-30},riskInfo:["1,000 residents evacuated with minimal firefighter exposure","1,000 total deaths including residents left in inaccessible zones","Nuclear breach causes long-term contamination in surrounding region","Infrastructure collapse in unprotected urban areas","Low immediate harm to responders but high deferred civilian impact"],comparisonTableColumnContent:{firstColumnTitle:"Nuclear Facility Under Threat",firstColumnSelectedPreference:"Minimize Harm, Avoid Irreversible Fallout",firstValue:"Nonmaleficence",firstColumnAffected:2e3,firstColumnRisk:"1,000 deaths, reactor partially breached, firefighter safety preserved",firstColumnuserChoice:"Accepted",secondColumnTitle:"Lockdown Doctrine",secondColumnSelectedPreference:"Lock down red zones to avoid responder risk, barring rescue attempts",secondValue:"Nonmaleficence",secondColumnaffected:2e3,secondColumnRisk:"1,000 deaths, responders unharmed",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Fails to secure high-risk zones, putting population at serious risk.",recommendation:"Reject",comparison:"Sacrifices lives for responder safety.",confidence:"High confidence from crisis escalation modeling ( 85%95%)"},efficiency:{summary:"Efficient in preserving firefighter capacity but ineffective overall.",recommendation:"Reject",comparison:"Poor cost-benefit outcome for population protection.",confidence:"Moderate confidence from operational strategy benchmarks ( 65%75%)"},sustainability:{summary:"Long-term fallout undermines environmental recovery.",recommendation:"Reject",comparison:"Poor ecological outcome despite low active harm.",confidence:"High confidence from disaster aftermath projections ( 85%95%)"},fairness:{summary:"Favors responder safety over civilian lives, morally imbalanced.",recommendation:"Reject",comparison:"Unjust distribution of protection.",confidence:"High confidence from harm distribution models ( 85%95%)"},nonmaleficence:{summary:"Reduces direct harm to agents but leads to higher indirect harm.",recommendation:"Accept",comparison:"Best at reducing immediate interventions causing loss of life.",confidence:"Moderate confidence from ethical harm-mitigation models ( 65%75%)"}},radarData:{fireContainment:55,firefighterRisk:10,resourceUse:76,infrastructureDamage:48,biodiversityImpact:50,ethicalFairness:40,populationSafety:50},cvrQuestion:{descriptionTile:" Lockdown Doctrine",description:"To avoid risking responders, command can order hard lockdowns of unstable zones, physically preventing rescue attempts. This action directly condemns 1,000 people who cannot be reached, while responders remain unharmed.",question:"Would you impose a hard lockdown that bars rescue attemptsknowingly condemning 1,000 peopleto avoid responder deaths and escalation?",value:"Nonmaleficence"}}]},{id:3,title:"Wildfire Threatens Biodiversity Reserve",description:"A massive wildfire is advancing toward one of the worlds most diverse ecosystems, home to countless endangered species. Nearby, small villages and critical infrastructure are also in the fires path. Responders must weigh saving human lives, critical services, and biodiversity.",options:[{id:"evacuate-residents-priority",title:"Evacuate All Nearby Villages",label:"safety",description:"Mobilize all available forces to evacuate human populations near the biodiversity reserve. This ensures minimal civilian casualties but risks severe damage to the ecosystem and critical research stations.",impact:{livesSaved:1900,humanCasualties:100,firefightingResource:-30,infrastructureCondition:-20,biodiversityCondition:-50,propertiesCondition:-22,nuclearPowerStation:0},riskInfo:["1900 villagers successfully evacuated before fire reached settlements","100 casualties, including 20 firefighters due to rapid extraction efforts","Biodiversity core zone burned extensively due to redirection of resources","Several rare species possibly extinct or displaced","Critical scientific stations lost to fire damage"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Evacuate All Nearby Villages",firstValue:"Safety",firstColumnAffected:2e3,firstColumnRisk:"100 deaths, firefighters exposed, reserve destroyed",firstColumnuserChoice:"Accepted",secondColumnTitle:"Bridge Bracing Line",secondColumnSelectedPreference:"Order 20 firefighters to hold a collapsing fire-bridge so 1,900 villagers can pass",secondValue:"Safety",secondColumnaffected:2e3,secondColumnRisk:"100 deaths total (incl. 20 firefighters)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Maximizes human life preservation, meeting immediate ethical duty.",recommendation:"Accept",comparison:"Top choice for casualty reduction.",confidence:"High confidence from evacuation timeline simulations ( 85%95%)"},efficiency:{summary:"Resource-draining but outcome-effective in saving lives.",recommendation:"Accept",comparison:"High input, high return for civilian safety.",confidence:"Moderate confidence from wildfire response models ( 70%80%)"},sustainability:{summary:"Severe biodiversity loss from reallocation of fire suppression resources.",recommendation:"Reject",comparison:"Worst case for long-term environmental stewardship.",confidence:"High confidence from ecological resilience projections ( 85%100%)"},fairness:{summary:"Prioritizes human life over irreplaceable ecological value, ethically nuanced.",recommendation:"Neutral",comparison:"Raises intergenerational equity concerns.",confidence:"Moderate confidence from ethical studies ( 65%75%)"},nonmaleficence:{summary:"Avoids harm to humans but enables irreversible harm to non-human life.",recommendation:"Reject",comparison:"Protective in short term, damaging in long-term lens.",confidence:"Moderate confidence from harm projection analytics ( 70%80%)"}},radarData:{fireContainment:50,firefighterRisk:40,resourceUse:60,infrastructureDamage:40,biodiversityImpact:100,ethicalFairness:55,populationSafety:90},cvrQuestion:{descriptionTile:" Bridge Bracing Line",description:"Smoke and fire trap villagers at a narrow canyon bridge. To allow 1,900 people to pass, 20 firefighters must physically brace failing beams in lethal heat until evacuations are complete. Those 20 will certainly die; the reserve will burn.",question:"Would you order 20 firefighters to hold the bridgeaccepting their certain deathsto evacuate 1,900 people?",value:"Safety"}},{id:"logistics-balance-deployment",title:"Balance Fire Suppression with Evacuation",label:"efficiency",description:"Split emergency resources between containment efforts around the reserve and limited village evacuations. This approach minimizes overall destruction but risks moderate casualties and partial loss of biodiversity.",impact:{livesSaved:1400,humanCasualties:600,firefightingResource:-22,infrastructureCondition:-16,biodiversityCondition:-35,propertiesCondition:-18,nuclearPowerStation:0},riskInfo:["1400 residents evacuated with minimal route overlap","600 casualties including 30 firefighters in split zones","Partial preservation of biodiversity buffer zones","Reserve partially burned but critical habitats retained","Resources used strategically across multiple objectives"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Balance Fire Suppression with Evacuation",firstValue:"Efficiency",firstColumnAffected:2e3,firstColumnRisk:"600 deaths, reserve partially protected, infrastructure moderately damaged",firstColumnuserChoice:"Accepted",secondColumnTitle:"Cut Line in the Flames",secondColumnSelectedPreference:"Order 30 dozer crews to cut a fireline in lethal conditions to buy time for split ops",secondValue:"Efficiency",secondColumnaffected:2e3,secondColumnRisk:"600 deaths total (incl. 30 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Partial preservation of life with increased responder danger.",recommendation:"Neutral",comparison:"Better than environmental-first, worse than full evacuation.",confidence:"Moderate confidence from rescue simulations ( 65%75%)"},efficiency:{summary:"Strong resource optimization with multi-target focus.",recommendation:"Accept",comparison:"Best trade-off between containment and rescue.",confidence:"High confidence from logistic response metrics ( 80%90%)"},sustainability:{summary:"Acceptable ecological preservation under limited fire spread.",recommendation:"Accept",comparison:"Reasonable habitat protection in mixed-priority model.",confidence:"Moderate confidence from biodiversity containment projections ( 65%75%)"},fairness:{summary:"Balanced approach sacrifices some lives and habitats for broader impact.",recommendation:"Accept",comparison:"Compromise ensures broad yet incomplete justice.",confidence:"Moderate confidence from distributive impact models ( 65%75%)"},nonmaleficence:{summary:"Minimizes harm across targets but still results in loss.",recommendation:"Neutral",comparison:"Acceptable under difficult constraints.",confidence:"Moderate confidence from conflict mitigation studies ( 70%80%)"}},radarData:{fireContainment:70,firefighterRisk:50,resourceUse:44,infrastructureDamage:32,biodiversityImpact:70,ethicalFairness:65,populationSafety:70},cvrQuestion:{descriptionTile:" Cut Line in the Flames",description:"To run a split operation, 30 dozer crews must cut a critical fireline through a flashover zone. They will not survive, but the line buys time to evacuate 1,400 people and hold parts of the reserve.",question:"Would you order 30 responders to cut a lethal fireline so that 1,400 can be saved and habitats partially preserved?",value:"Efficiency"}},{id:"preserve-ecological-integrity",title:"Prioritize Ecological Defense",label:"sustainability",description:"Deploy firefighting resources to defend biodiversity hotspots and natural heritage areas. This decision limits damage to the ecosystem but delays human evacuation and increases casualties.",impact:{livesSaved:800,humanCasualties:1200,firefightingResource:-24,infrastructureCondition:-12,biodiversityCondition:-15,propertiesCondition:-14,nuclearPowerStation:0},riskInfo:["Biodiversity reserve largely preserved, containing vital species","1200 casualties including 45 firefighters in delayed evacuations","Smaller villages evacuated too late or overrun by fire","Cultural heritage trees and wetlands protected","Reserve could aid post-wildfire ecosystem recovery"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Prioritize Ecological Defense",firstValue:"Sustainability",firstColumnAffected:2e3,firstColumnRisk:"1200 deaths, reserve intact, poor response timing",firstColumnuserChoice:"Accepted",secondColumnTitle:"Backburn the Villages",secondColumnSelectedPreference:"Ignite backburns to save the reserve, overrunning villages",secondValue:"Sustainability",secondColumnaffected:2e3,secondColumnRisk:"1200 casualties (incl. 45 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Human safety heavily compromised by ecological prioritization.",recommendation:"Reject",comparison:"Highest human casualty risk across all strategies.",confidence:"High confidence from casualty escalation forecasts ( 85%95%)"},efficiency:{summary:"Firefighting efforts diverted from population centers.",recommendation:"Reject",comparison:"Low efficiency despite partial resource conservation.",confidence:"Moderate confidence from coordination analytics ( 65%75%)"},sustainability:{summary:"Achieves maximum biodiversity conservation in dire circumstances.",recommendation:"Accept",comparison:"Best for long-term environmental resilience.",confidence:"High confidence from habitat preservation simulations ( 90%100%)"},fairness:{summary:"Neglects human populations in favor of ecosystem protection.",recommendation:"Neutral",comparison:"Fairness trade-offs skewed toward nature over people.",confidence:"Moderate confidence from justice impact modeling ( 60%70%)"},nonmaleficence:{summary:"Reduces long-term environmental harm but increases immediate suffering.",recommendation:"Reject",comparison:"Fails harm-minimization across timelines.",confidence:"Moderate confidence from ethical scenario evaluations ( 65%75%)"}},radarData:{fireContainment:60,firefighterRisk:70,resourceUse:48,infrastructureDamage:24,biodiversityImpact:30,ethicalFairness:40,populationSafety:40},cvrQuestion:{descriptionTile:" Backburn the Villages",description:"Commanders can ignite broad backburns to shield the reserves core. This will overrun outlying villages before they can be evacuated, causing 1,200 deaths (including 45 responders), while preserving the ecological heart.",question:"Would you deliberately ignite backburns that will overrun villagescausing 1,200 deathsto save the biodiversity reserve?",value:"Sustainability"}},{id:"equitable-response-allocation",title:"Ensure Equitable Protection Across Communities",label:"fairness",description:"Distribute firefighting and evacuation efforts evenly between small rural villages and ecological assets, ensuring no community or habitat is deprioritized. This leads to moderate outcomes across all dimensions but avoids ethical favoritism.",impact:{livesSaved:1200,humanCasualties:800,firefightingResource:-26,infrastructureCondition:-18,biodiversityCondition:-28,propertiesCondition:-18,nuclearPowerStation:0},riskInfo:["1200 lives saved through balanced rescue deployments","800 casualties including 35 firefighters due to evenly stretched resources","No group prioritized over another, maintaining public trust","Partial fire containment near reserve and settlement borders","Infrastructure and habitats moderately impacted"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Ensure Equitable Protection Across Communities",firstValue:"Fairness",firstColumnAffected:2e3,firstColumnRisk:"800 deaths, fair distribution of efforts, moderate destruction",firstColumnuserChoice:"Accepted",secondColumnTitle:"Equal Sacrifice Mandate",secondColumnSelectedPreference:"Assign equal high-risk posts across regions; 35 responders hold until overrun",secondValue:"Fairness",secondColumnaffected:2e3,secondColumnRisk:"800 deaths total (incl. 35 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Reduces maximum possible lives saved but increases collective protection.",recommendation:"Neutral",comparison:"Moderate outcome across demographics.",confidence:"Moderate confidence from response spread simulations ( 65%75%)"},efficiency:{summary:"Suboptimal use of resources due to split focus.",recommendation:"Reject",comparison:"Not cost-effective under urgency.",confidence:"Moderate confidence from logistics planning data ( 60%70%)"},sustainability:{summary:"Partial biodiversity loss controlled by moderate attention.",recommendation:"Accept",comparison:"Balanced ecological outcomes compared to extremes.",confidence:"Moderate confidence from containment path forecasts ( 65%75%)"},fairness:{summary:"Ensures ethical parity and avoids value biases.",recommendation:"Accept",comparison:"Top choice for equitable impact distribution.",confidence:"High confidence from ethical distributional models ( 85%95%)"},nonmaleficence:{summary:"Harm shared across domains without extreme sacrifices.",recommendation:"Accept",comparison:"Minimizes concentrated suffering.",confidence:"Moderate confidence from scenario parity evaluations ( 70%80%)"}},radarData:{fireContainment:65,firefighterRisk:55,resourceUse:52,infrastructureDamage:36,biodiversityImpact:56,ethicalFairness:90,populationSafety:60},cvrQuestion:{descriptionTile:" Equal Sacrifice Mandate",description:"To guarantee parity, commanders assign equal numbers of high-risk posts across all regions. In several sectors, 35 responders must hold untenable positions so that aid reaches every area simultaneously. Those 35 will die; 1,200 civilians are saved and 800 perish.",question:"Would you require equal high-risk postingsknowing 35 responders will certainly dieto keep aid perfectly unbiased?",value:"Fairness"}},{id:"do-no-harm-doctrine",title:"Minimize Harm Across All Fronts",label:"nonmaleficence",description:"Adopt a conservative approach that aims to avoid irreversible damage in any single area. Focus efforts on minimizing harm to humans, firefighters, ecosystems, and infrastructure, even if this results in moderate damage across all dimensions.",impact:{livesSaved:1e3,humanCasualties:1e3,firefightingResource:-20,infrastructureCondition:-16,biodiversityCondition:-22,propertiesCondition:-16,nuclearPowerStation:0},riskInfo:["1000 residents saved through balanced retreat and selective evacuations","1000 casualties, including 25 firefighters, from partial exposure to fire zones","Fire slowed near biodiversity border but partial loss of habitats occurred","Moderate infrastructure damage with no collapse of critical systems","Ethical principle of nonmaleficence maintained by avoiding worst-case outcomes"],comparisonTableColumnContent:{firstColumnTitle:"Wildfire Threatens Biodiversity Reserve",firstColumnSelectedPreference:"Minimize Harm Across All Fronts",firstValue:"Nonmaleficence",firstColumnAffected:2e3,firstColumnRisk:"1000 deaths, all areas moderately damaged but no total failure",firstColumnuserChoice:"Accepted",secondColumnTitle:"Guides in the Smoke",secondColumnSelectedPreference:"Order 25 guides to lead routes through lethal smoke to prevent catastrophic loss elsewhere",secondValue:"Nonmaleficence",secondColumnaffected:2e3,secondColumnRisk:"1000 deaths total (incl. 25 responders)",secondColumnuserChoice:"Rejected"},expertOpinions:{safety:{summary:"Avoids catastrophic loss of life but does not maximize protection.",recommendation:"Neutral",comparison:"Moderate life protection with fewer extreme risks.",confidence:"Moderate confidence from scenario smoothing models ( 65%75%)"},efficiency:{summary:"Resources used evenly, not highly optimized.",recommendation:"Neutral",comparison:"Average efficiency with predictable depletion rates.",confidence:"Moderate confidence from response modeling ( 60%70%)"},sustainability:{summary:"Reduces ecological harm without full preservation.",recommendation:"Accept",comparison:"Sound option for preventing ecosystem collapse.",confidence:"Moderate confidence from recovery path modeling ( 70%80%)"},fairness:{summary:"No single group bears the full burden of loss.",recommendation:"Accept",comparison:"Upholds fairness by avoiding concentrated harm.",confidence:"High confidence from distributive ethics simulations ( 85%95%)"},nonmaleficence:{summary:"Faithful to principle of reducing harm across populations and domains.",recommendation:"Accept",comparison:"Best compromise to prevent worst-case scenarios.",confidence:"High confidence from harm-minimization frameworks ( 80%90%)"}},radarData:{fireContainment:55,firefighterRisk:45,resourceUse:40,infrastructureDamage:32,biodiversityImpact:44,ethicalFairness:85,populationSafety:50},cvrQuestion:{descriptionTile:" Guides in the Smoke",description:"To avoid catastrophic losses in any single domain, commanders direct 25 veteran guides to lead evacuees through a toxic smoke corridor. The guides will certainly die, but this prevents a worstcase collapse elsewhere, saving 1,000 people while 1,000 still perish.",question:"Would you order 25 guides to certain death to prevent any single area from total collapse, accepting 1,000 total deaths?",value:"Nonmaleficence"}}]}];Vi.register(as,Ci,Pn,Ab,Zc,Xc);const zM={livesSaved:0,humanCasualties:0,firefightingResource:100,infrastructureCondition:100,biodiversityCondition:100,propertiesCondition:100,nuclearPowerStation:100},VM=()=>{const e=Yt(),[t,n]=N.useState(zM),[r,i]=N.useState([]),[s,o]=N.useState([]),[l,c]=N.useState([]),[d,u]=N.useState(null),[f,h]=N.useState(0),[m,g]=N.useState(!1),[x,y]=N.useState(!1),[p,v]=N.useState(!1),[b,j]=N.useState(!1),[w,S]=N.useState(!1),[C,k]=N.useState(!1),[I,E]=N.useState(null),[_,F]=N.useState(!1),[H,D]=N.useState(null),[M,R]=N.useState([]),[O,P]=N.useState({}),[T,A]=N.useState(!1),[W,U]=N.useState(null),[fe,le]=N.useState(!1),[Y,re]=N.useState([]),[ie,qe]=N.useState([]),[z,L]=N.useState(!1),[se,ce]=N.useState(!1),[V,J]=N.useState(!1),[Q,he]=N.useState([]),[te,Ne]=N.useState(0),[ae,ve]=N.useState([]),[me,pe]=N.useState([]),[Ze,Re]=N.useState(!1),[$e,wn]=N.useState([]),[at,Ln]=N.useState([]),[Bi,yr]=N.useState([]),[Qn,Fn]=N.useState({}),oe=Sl[f];N.useEffect(()=>{window.scrollTo(0,0)},[]),N.useEffect(()=>{L(!1),ce(!1);const X=localStorage.getItem("previousScenarioUsedSimulationMetrics")==="true";Re(X),localStorage.setItem("hasReorderedValues","false"),localStorage.setItem("simulationMetricsReorderingFlag","false"),localStorage.setItem("moralValuesReorderingFlag","false"),localStorage.setItem("cvrYesClicked","false"),localStorage.setItem("cvrNoClicked","false"),Ne(0),localStorage.setItem("alternativesExploredCount","0"),Fn({}),f===0&&localStorage.setItem("selectedFromTop2Previous","false"),oe&&yt.startScenario(oe.id)},[f,oe]);const de=()=>{const X=localStorage.getItem("explicitValues");if(!X)return[];try{const ue=JSON.parse(X),ge={};return ue.forEach(Oe=>{ge[Oe.value_selected]=(ge[Oe.value_selected]||0)+1}),Object.entries(ge).sort(([,Oe],[,We])=>We-Oe).slice(0,2).map(([Oe])=>Oe.toLowerCase())}catch(ue){return console.error("Error parsing explicit values:",ue),[]}};N.useEffect(()=>{const X=localStorage.getItem("rankedViewAccessed")==="true";le(X);const ue=localStorage.getItem("finalValues");if(ue&&f===0)try{const Je=JSON.parse(ue).slice(0,2).map(Nt=>Nt.name.toLowerCase());he(Je),localStorage.setItem("FinalTopTwoValues",JSON.stringify(Je))}catch(We){console.error("Error initializing FinalTopTwoValues:",We)}const ge=localStorage.getItem("MoralValuesReorderList");if(localStorage.getItem("previousScenarioUsedSimulationMetrics")==="true"&&f>0){const We=localStorage.getItem("FinalTopTwoValues");if(We)try{const Je=JSON.parse(We);qe(Je),console.log("Using FinalTopTwoValues as matched stable values:",Je)}catch(Je){console.error("Error parsing FinalTopTwoValues:",Je),qe([])}}else if(ge&&f>0)try{const Je=JSON.parse(ge).slice(0,2).map(Nt=>Nt.id.toLowerCase());qe(Je)}catch(We){if(console.error("Error parsing MoralValuesReorderList:",We),ue)try{const Nt=JSON.parse(ue).map(Ws=>Ws.name.toLowerCase());qe(Nt)}catch(Je){console.error("Error parsing matched stable values:",Je),qe([])}}else if(ue)try{const Je=JSON.parse(ue).map(Nt=>Nt.name.toLowerCase());qe(Je)}catch(We){console.error("Error parsing matched stable values:",We),qe([])}localStorage.getItem("preferenceTypeFlag"),JSON.parse(localStorage.getItem("simulationMetricsRanking")||"[]"),JSON.parse(localStorage.getItem("moralValuesRanking")||"[]")},[f]),N.useEffect(()=>{if(oe){const ue=localStorage.getItem("MoralValuesReorderList"),ge=localStorage.getItem("SimulationMetricsReorderList");let Oe=[];!ue&&!ge?Oe=[...oe.options].sort(()=>Math.random()-.5).slice(0,2):Oe=Mo(),o(Oe)}localStorage.removeItem("currentMetrics");const X=localStorage.getItem("finalValues");if(X)try{const ge=JSON.parse(X).slice(0,2).map(Oe=>Oe.name.toLowerCase());i(ge)}catch(ue){console.error("Error parsing matched stable values:",ue)}},[f,oe]),N.useEffect(()=>{f>0&&R([])},[f]);const Mo=N.useCallback(()=>{var Hs,Lo,Us,Fo;if(!oe)return[];if(localStorage.getItem("previousScenarioUsedSimulationMetrics")==="true"&&f>0){const Ce=localStorage.getItem("FinalTopTwoValues");if(Ce)try{const Le=JSON.parse(Ce);console.log("Previous scenario used simulation metrics. Using FinalTopTwoValues for initial options:",Le);const ye=oe.options.filter(xe=>Le.includes(xe.label.toLowerCase())).sort((xe,ke)=>{const Fe=Le.indexOf(xe.label.toLowerCase()),jt=Le.indexOf(ke.label.toLowerCase());return Fe-jt});if(ye.length>=2)return console.log("Found 2+ matching options from FinalTopTwoValues:",ye.map(xe=>xe.label)),ye.slice(0,2);if(ye.length===1){const xe=oe.options.filter(ke=>!Le.includes(ke.label.toLowerCase()));return console.log("Found 1 matching option from FinalTopTwoValues, adding best remaining:",[ye[0].label,(Hs=xe[0])==null?void 0:Hs.label]),[ye[0],xe[0]]}}catch(Le){console.error("Error parsing FinalTopTwoValues:",Le)}}const ue=localStorage.getItem("MoralValuesReorderList"),ge=localStorage.getItem("SimulationMetricsReorderList");if(ue)try{const Le=JSON.parse(ue).slice(0,2).map(xe=>xe.id.toLowerCase());console.log("Using reordered moral values for initial options:",Le);const ye=oe.options.filter(xe=>Le.includes(xe.label.toLowerCase())).sort((xe,ke)=>{const Fe=Le.indexOf(xe.label.toLowerCase()),jt=Le.indexOf(ke.label.toLowerCase());return Fe-jt});if(ye.length>=2)return console.log("Found 2+ matching options:",ye.map(xe=>xe.label)),ye.slice(0,2);if(ye.length===1){const xe=oe.options.filter(ke=>!Le.includes(ke.label.toLowerCase()));return console.log("Found 1 matching option, adding best remaining:",[ye[0].label,(Lo=xe[0])==null?void 0:Lo.label]),[ye[0],xe[0]]}}catch(Ce){console.error("Error parsing MoralValuesReorderList:",Ce)}if(ge)try{const Le=(Us=JSON.parse(ge)[0])==null?void 0:Us.id;if(Le)return[...oe.options].sort((ye,xe)=>{const ke=jt=>{switch(Le){case"livesSaved":return jt.impact.livesSaved;case"casualties":return jt.impact.humanCasualties;case"resources":return Math.abs(jt.impact.firefightingResource);case"infrastructure":return Math.abs(jt.impact.infrastructureCondition);case"biodiversity":return Math.abs(jt.impact.biodiversityCondition);case"properties":return Math.abs(jt.impact.propertiesCondition);case"nuclear":return Math.abs(jt.impact.nuclearPowerStation);default:return 0}};return Le==="livesSaved"?ke(xe)-ke(ye):ke(ye)-ke(xe)}).slice(0,2)}catch(Ce){console.error("Error parsing SimulationMetricsReorderList:",Ce)}const Oe=localStorage.getItem("preferenceTypeFlag"),We=JSON.parse(localStorage.getItem("simulationMetricsRanking")||"[]"),Je=JSON.parse(localStorage.getItem("moralValuesRanking")||"[]");if(fe)if(Oe==="true"){const Ce=(Fo=We[0])==null?void 0:Fo.id;if(Ce)return[...oe.options].sort((De,ye)=>{const xe=Fe=>{switch(Ce){case"livesSaved":return Fe.impact.livesSaved;case"casualties":return Fe.impact.humanCasualties;case"resources":return Math.abs(Fe.impact.firefightingResource);case"infrastructure":return Math.abs(Fe.impact.infrastructureCondition);case"biodiversity":return Math.abs(Fe.impact.biodiversityCondition);case"properties":return Math.abs(Fe.impact.propertiesCondition);case"nuclear":return Math.abs(Fe.impact.nuclearPowerStation);default:return 0}};return Ce==="livesSaved"?xe(ye)-xe(De):xe(De)-xe(ye)}).slice(0,2)}else{const Ce=Je.slice(0,2).map(ye=>ye.id.toLowerCase()),Le=oe.options.filter(ye=>Ce.includes(ye.label.toLowerCase())),De=Le.sort((ye,xe)=>{const ke=Ce.indexOf(ye.label.toLowerCase()),Fe=Ce.indexOf(xe.label.toLowerCase());return ke-Fe});if(Le.length>=2)return De.slice(0,2);if(Le.length===1){const ye=oe.options.filter(xe=>!Ce.includes(xe.label.toLowerCase()));return[De[0],ye[0]]}}if(r.length>0){const Ce=oe.options.filter(Le=>r.includes(Le.label.toLowerCase()));if(Ce.length>=2)return Ce.slice(0,2)}const Nt=de();if(Nt.length>0){const Ce=oe.options.filter(Le=>Nt.includes(Le.label.toLowerCase()));if(Ce.length>=2)return Ce.slice(0,2)}return[...oe.options].sort(()=>Math.random()-.5).slice(0,2)},[oe,f,r,fe]),Gt=N.useCallback(()=>s,[s]),Fm=N.useCallback(()=>{if(!oe)return[];const X=Gt().map(ge=>ge.id),ue=M.map(ge=>ge.id);return oe.options.filter(ge=>!X.includes(ge.id)&&!ue.includes(ge.id)).map(ge=>({...ge,isAlternative:!0}))},[oe,Gt,M]);N.useEffect(()=>{const X=Gt(),ue={};[...X,...M].forEach(ge=>{ue[ge.id]=!0}),P(ue)},[f,Gt,M]);const ee=X=>{D(X),F(!0)},Dt=X=>{const ue=X.label.toLowerCase(),ge=ie.includes(ue);yt.recordOptionSelection(X.id,X.label,ge),ce(!1),E(X),S(!0)},br=()=>{I&&(S(!1),u(I),k(!0),E(null))},Xn=()=>{S(!1),k(!1),L(!0),y(!0),E(null)},zn=X=>{if(v(!1),X){localStorage.setItem("cvrYesClicked","true"),localStorage.setItem("cvrNoClicked","false");const ue=localStorage.getItem("cvrYesClickedCount"),ge=ue?parseInt(ue)+1:1;localStorage.setItem("cvrYesClickedCount",ge.toString())}else{localStorage.setItem("cvrYesClicked","false"),localStorage.setItem("cvrNoClicked","true");const ue=localStorage.getItem("cvrNoClickedCount"),ge=ue?parseInt(ue)+1:1;localStorage.setItem("cvrNoClickedCount",ge.toString())}d&&yt.recordCVRAnswer(oe.id,X,d.id,d.label,d.cvrQuestion),X?k(!0):j(!0)},$i=X=>{R(ge=>[...ge,{...X,isAlternative:!0}]),y(!1);const ue=te+1;Ne(ue),localStorage.setItem("alternativesExploredCount",ue.toString()),yt.recordAlternativeAdded(oe.id,X.id,X.label),J(!0),setTimeout(()=>{J(!1)},5e3)},Wi=()=>{L(!0),oe&&yt.recordAlternativesExplored(oe.id),y(!0)},To=()=>{if(!z||!d)return;k(!1);const X={livesSaved:t.livesSaved+d.impact.livesSaved,humanCasualties:t.humanCasualties+d.impact.humanCasualties,firefightingResource:Math.max(0,t.firefightingResource+d.impact.firefightingResource),infrastructureCondition:Math.max(0,t.infrastructureCondition+d.impact.infrastructureCondition),biodiversityCondition:Math.max(0,t.biodiversityCondition+d.impact.biodiversityCondition),propertiesCondition:Math.max(0,t.propertiesCondition+d.impact.propertiesCondition),nuclearPowerStation:Math.max(0,t.nuclearPowerStation+d.impact.nuclearPowerStation)},ue=d.label.toLowerCase(),ge=ie.includes(ue),Oe={hasReorderedValues:localStorage.getItem("hasReorderedValues")==="true",cvrYesClicked:!1,cvrNoClicked:!1,simulationMetricsReorderingFlag:!1,moralValuesReorderingFlag:!1},We=[...Q],Je=d.label.toLowerCase(),Nt=[...ae,Je];ve(Nt),localStorage.setItem("ScenariosFinalDecisionLabels",JSON.stringify(Nt));const Ws=We.includes(Je)?"Aligned":"Misaligned",Hs=[...me,Ws];if(pe(Hs),localStorage.setItem("CheckingAlignmentList",JSON.stringify(Hs)),console.log(`Scenario ${oe.id} - Final Decision: ${Je}, Alignment: ${Ws}`),console.log("Current FinalTopTwoValues (before update):",We),ge)console.log("Aligned option confirmed. FinalTopTwoValues remains unchanged:",We);else{const De=d.label.toLowerCase(),ye=localStorage.getItem("finalValues"),xe=localStorage.getItem("MoralValuesReorderList");let ke=[];if(xe)try{ke=JSON.parse(xe)}catch(cn){console.error("Error parsing existing MoralValuesReorderList:",cn)}if(ye&&ke.length===0)try{ke=JSON.parse(ye).map(Nd=>({id:Nd.name.toLowerCase(),label:Nd.name}))}catch(cn){console.error("Error parsing matched stable values:",cn)}const Fe=ke.filter(cn=>cn.id!==De),jt=[{id:De,label:d.label},...Fe];localStorage.setItem("MoralValuesReorderList",JSON.stringify(jt)),qe(cn=>[De,...cn.filter(u1=>u1!==De)]);const Sd=[De,...We.filter(cn=>cn!==De)].slice(0,2);he(Sd),localStorage.setItem("FinalTopTwoValues",JSON.stringify(Sd)),console.log("Non-aligned option confirmed. Updated value lists:"),console.log("- MoralValuesReorderList:",jt),console.log("- matchedStableValues:",[De,...ie.filter(cn=>cn!==De)]),console.log("- FinalTopTwoValues:",Sd)}yt.confirmOption(d.id,d.label,ge,X,Oe,We),oe.id===1?(wn([]),localStorage.setItem("Scenario1_MoralValueReordered",JSON.stringify([]))):oe.id===2?(Ln([]),localStorage.setItem("Scenario2_MoralValueReordered",JSON.stringify([]))):oe.id===3&&(yr([]),localStorage.setItem("Scenario3_MoralValueReordered",JSON.stringify([]))),localStorage.setItem("selectedFromTop2Previous",se.toString());const Lo={scenarioId:oe.id,decision:d,topTwoValuesAtDecision:Q},Us=[...Y,Lo];re(Us),localStorage.setItem("simulationScenarioOutcomes",JSON.stringify(Us));const Fo=Object.keys(t).filter(De=>t[De]!==X[De]);c(Fo),n(X),setTimeout(()=>{c([])},1e3),u(null);const Ce=yt.endScenario(),Le=Se.getSessionId();if(Ce){let De=[];const ye=oe.id===3?Object.entries(Qn).filter(([xe,ke])=>ke).map(([xe,ke])=>{const Fe=[...Gt(),...M].find(jt=>jt.id===xe);return Fe?{id:Fe.id,label:Fe.label,title:Fe.title}:null}).filter(xe=>xe!==null):[];oe.id===3&&(De=[...Gt(),...M].filter(ke=>{const Fe=[];return t.firefightingResource+ke.impact.firefightingResource<0&&Fe.push("Resources"),t.infrastructureCondition+ke.impact.infrastructureCondition<0&&Fe.push("Infrastructure"),t.biodiversityCondition+ke.impact.biodiversityCondition<0&&Fe.push("Biodiversity"),t.propertiesCondition+ke.impact.propertiesCondition<0&&Fe.push("Properties"),Fe.length>0}).map(ke=>({id:ke.id,label:ke.label,title:ke.title,checked:Qn[ke.id]||!1})),localStorage.setItem("Scenario3_InfeasibleOptions",JSON.stringify(De))),Se.insertFinalDecision({session_id:Le,scenario_id:oe.id,scenario_title:oe.title,option_id:d.id,option_label:d.label,option_title:d.title,is_aligned:ge,from_top_two_ranked:se,total_switches:Ce.switchCount,total_time_seconds:Math.round((Ce.endTime-Ce.startTime)/1e3),cvr_visited:Ce.cvrVisited,cvr_visit_count:Ce.cvrVisitCount,cvr_yes_answers:Ce.cvrYesAnswers,apa_reordered:Ce.apaReordered,apa_reorder_count:Ce.apaReorderCount,alternatives_explored:Ce.alternativesExplored,final_metrics:X,infeasible_options_checked:oe.id===3?De:ye})}if(f<Sl.length-1){A(!0);let De="";X.nuclearPowerStation<50?De=" CRITICAL: Nuclear facility integrity compromised. Situation escalating - immediate action required!":X.firefightingResource<30?De=" WARNING: Resources critically low. New threats emerging - strategic decisions vital!":De="Scenario complete. Preparing for escalating situation...",U(De),setTimeout(()=>{A(!1),U(null),h(ye=>ye+1)},3e3),L(!1)}else{localStorage.setItem("finalSimulationMetrics",JSON.stringify(X));const De={event:"scenario_completed",scenarioId:oe.id,optionId:d.id,timestamp:new Date().toISOString(),finalMetrics:X},ye=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");ye.push(De),localStorage.setItem("sessionEventLogs",JSON.stringify(ye)),e("/thank-you")}},Zn=(X,ue)=>{j(!1),u(null),u(X),ce(ue),k(!0)},bd=(X,ue)=>{Fn(ge=>({...ge,[X.id]:ue}))},wd=N.useCallback(X=>{P(ue=>({...ue,[X]:!ue[X]}))},[]),Ao=N.useCallback(()=>{const X=["Fire Containment","Firefighter Risk","Resource Use","Infrastructure Damage","Biodiversity Impact","Ethical Fairness"],ge=[...Gt(),...M].filter(Oe=>O[Oe.id]).map((Oe,We)=>{const Je=["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"],Nt=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"];return{label:Oe.title,data:Oe.radarData?[Oe.radarData.fireContainment,Oe.radarData.firefighterRisk,Oe.radarData.resourceUse,Oe.radarData.infrastructureDamage,Oe.radarData.biodiversityImpact,Oe.radarData.ethicalFairness]:[],backgroundColor:Je[We%Je.length],borderColor:Nt[We%Nt.length],borderWidth:2}});return{labels:X,datasets:ge}},[Gt,M,O]),Sn={scales:{r:{min:0,max:100,ticks:{stepSize:20,showLabelBackdrop:!1,font:{size:10}},pointLabels:{font:{size:12}},grid:{color:"rgba(0, 0, 0, 0.1)"},angleLines:{color:"rgba(0, 0, 0, 0.1)"}}},plugins:{tooltip:{callbacks:{label:function(X){return`${X.dataset.label}: ${X.raw}`}}},legend:{position:"bottom",labels:{font:{size:12},padding:20}}},maintainAspectRatio:!1};if(!oe)return null;const Oo=Fm();return b?a.jsx(LM,{onBack:()=>{j(!1),u(null)},selectedOption:d,mainScenario:oe,onConfirm:Zn,scenarioId:oe.id,isLastScenario:f===Sl.length-1}):a.jsxs("div",{className:"h-screen bg-gray-50 p-4 flex flex-col",children:[a.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Wildfire Crisis Simulation"}),a.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["Scenario ",oe.id," of ",Sl.length]})]}),a.jsxs(wl,{id:"cumulative-metrics",title:"Understanding Your Cumulative Metrics",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"These metrics track your performance across all scenarios."})," Each decision you make will affect these cumulative scores, and they carry forward to subsequent scenarios."]}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Lives Saved:"})," Total lives protected by your decisions (higher is better)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Resources & Infrastructure:"})," Remaining capacity and condition (maintain above 30%)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Environmental Impact:"})," Biodiversity and nuclear safety (protect whenever possible)"]})]}),a.jsx("p",{className:"mt-2 font-medium",children:"Your goal is to balance these competing priorities while making ethical decisions under pressure."})]}),a.jsx(HI,{metrics:t,animatingMetrics:l}),a.jsxs(wl,{id:"scenario-context",title:"Understanding the Current Scenario",children:[a.jsxs("p",{children:["Each scenario presents a ",a.jsx("strong",{children:"unique wildfire crisis"})," requiring immediate action. Read the scenario description carefully to understand:"]}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"The immediate threat and what's at stake"}),a.jsx("li",{children:"The context and constraints you're facing"}),a.jsx("li",{children:"Why this decision matters for the overall crisis"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-teal-50 via-teal-100 to-cyan-50 border-2 border-teal-300 rounded-lg shadow-lg p-3 mb-3",children:[a.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider mb-1 text-teal-700",children:"Current Scenario"}),a.jsx("h3",{className:"text-lg font-bold mb-1 text-teal-900",style:{fontFamily:"Georgia, serif"},children:oe.title}),a.jsx("p",{className:"text-sm text-teal-800 leading-relaxed",style:{fontFamily:"Georgia, serif"},children:oe.description})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 flex-1 flex flex-col overflow-hidden",children:d?null:a.jsxs(a.Fragment,{children:[a.jsxs(wl,{id:"decision-options",title:"How to Evaluate Your Options",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Each option card shows the immediate impact"})," of that decision on your cumulative metrics. Consider:"]}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Trade-offs:"})," Most decisions involve sacrificing some values for others"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Expert opinions:"})," Click any option to see what experts recommend"]})]}),a.jsxs("p",{className:"mt-2",children:[a.jsx("strong",{children:'Click "View Trade-Off Comparison"'})," below to visualize how options differ across all metrics."]})]}),a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsx("h3",{className:"text-base font-medium text-gray-800",children:"Select Your Decision"})}),a.jsxs("div",{className:"relative",children:[V&&a.jsx("div",{className:"mb-3 bg-gradient-to-r from-cyan-50 to-teal-50 border-2 border-cyan-300 rounded-lg p-3 shadow-lg animate-pulse",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"bg-cyan-400 text-white rounded-full p-1.5",children:a.jsx(fr,{size:16})}),a.jsx("p",{className:"text-cyan-900 font-medium text-sm",children:" New alternative added! Scroll down to see it below."})]}),a.jsx("button",{onClick:()=>J(!1),className:"text-cyan-600 hover:text-cyan-800 transition-colors",children:a.jsx(An,{size:18})})]})}),a.jsx("div",{className:"flex flex-col gap-3 flex-1 overflow-y-auto",children:[...Gt(),...M].map(X=>a.jsx(UI,{option:X,onSelect:Dt,onReview:ee,currentMetrics:t,scenarioIndex:f,hasExploredAlternatives:z,onInfeasibleCheck:bd,isInfeasibleChecked:Qn[X.id]||!1},X.id))}),a.jsxs("div",{className:"sticky bottom-0 bg-gradient-to-t from-white via-white to-transparent pt-4 mt-4 -mx-4 px-4 pb-2",children:[f===0&&a.jsxs(wl,{id:"explore-alternatives",title:"Important: Explore All Alternatives Before Deciding",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"You must explore alternatives before confirming any decision."})," This ensures you've considered all available options."]}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Explore Alternatives:"})," View additional options beyond the initial two"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Add Alternative to Decision List:"})," Bring alternative options into your main view"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Compare visually:"})," Use the Trade-Off Comparison tool to see Radar Charts, Bar Charts, and Differences"]})]}),a.jsx("p",{className:"mt-2 font-medium",children:"After exploring, you can proceed with any option that best aligns with your values."})]}),a.jsxs("div",{className:"flex flex-col gap-2 relative",children:[a.jsxs("button",{onClick:Wi,className:`w-full flex items-center justify-center text-center text-base font-semibold px-6 py-3.5 rounded-lg transition-all duration-300 relative ${Oo.length===0?"bg-gray-100 text-gray-400 cursor-not-allowed":z?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl":"bg-gradient-to-r from-purple-500 to-pink-600 text-white hover:from-purple-600 hover:to-pink-700 animate-pulse shadow-xl shadow-purple-400/50"}`,disabled:Oo.length===0,children:[z?a.jsx(In,{size:20,className:"mr-2"}):a.jsx(fr,{size:20,className:"mr-2"}),z?`Alternatives Reviewed ${M.length>0?`(${M.length} added)`:""}`:"Explore Alternatives",!z&&Oo.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-400 rounded-full animate-ping"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-400 rounded-full"})]})]}),a.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center text-center text-base font-semibold bg-gradient-to-r from-blue-500 to-cyan-600 text-white hover:from-blue-600 hover:to-cyan-700 px-6 py-3.5 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl",children:[a.jsx(ks,{size:20,className:"mr-2"}),"View Trade-Off Comparison"]})]})]})]})]})})]}),a.jsx(YI,{isOpen:w,onClose:()=>{S(!1),E(null)},option:I,onKeepChoice:br,onReviewAlternatives:Xn,isAligned:I?ie.includes(I.label.toLowerCase()):!1,hasExploredAlternatives:z}),a.jsx(GI,{isOpen:C,onClose:()=>{k(!1),u(null)},option:d,onConfirmDecision:To,canConfirm:z,onReviewAlternatives:Wi,isAligned:d?ie.includes(d.label.toLowerCase()):!0,selectedOptionValue:(d==null?void 0:d.label)||"",userTopValues:ie}),a.jsx(ZI,{showRadarChart:m,onClose:()=>g(!1),currentScenario:{options:[...Gt(),...M],alternativeOptions:[]},toggledOptions:O,toggleOption:wd,prepareRadarChartData:Ao,radarOptions:Sn}),a.jsx(eP,{isOpen:x,onClose:()=>y(!1),alternativeOptions:Oo,onAddAlternative:$i}),(d==null?void 0:d.cvrQuestion)&&a.jsx(tP,{isOpen:p,onClose:()=>{v(!1),u(null)},question:d.cvrQuestion,onAnswer:zn}),H&&a.jsx(FM,{isOpen:_,onClose:()=>{F(!1),D(null)},option:H}),T&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"text-center max-w-lg mx-auto p-6",children:[a.jsx(Di,{className:"mx-auto text-orange-500 mb-4 animate-pulse",size:48}),a.jsx("h2",{className:"text-white text-2xl font-bold mb-4",children:W||"Scenario Complete"}),t.nuclearPowerStation<50&&a.jsxs("div",{className:"bg-red-900 bg-opacity-50 p-4 rounded-lg mb-4 flex items-center gap-2",children:[a.jsx(ut,{className:"text-red-500",size:24}),a.jsx("p",{className:"text-red-200",children:"Nuclear containment breach detected. Emergency protocols activated."})]}),a.jsx("p",{className:"text-gray-300 animate-pulse",children:"Analyzing situation developments..."})]})})]})},BM=()=>{const e=Yt(),[t,n]=N.useState(!1),[r,i]=N.useState(!0);N.useEffect(()=>{n(!0);const o=sessionStorage.getItem("metricsCalculated");if(sessionStorage.getItem("returningFromSilent")==="true"){console.log("[ThankYouPage] Returned from silent calculation, ready for user interaction"),sessionStorage.removeItem("returningFromSilent"),i(!1);return}o!=="true"?(console.log("[ThankYouPage] Triggering silent navigation to calculate metrics"),sessionStorage.setItem("returningFromSilent","true"),e("/view-results?silent=true",{replace:!0})):(console.log("[ThankYouPage] Metrics already calculated, skipping silent navigation"),i(!1))},[e]);const s=()=>{e("/feedback")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-teal-50 to-green-50 flex items-center justify-center p-4",children:a.jsx("div",{className:`max-w-3xl w-full transition-all duration-1000 transform ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"bg-gradient-to-br from-green-400 to-blue-500 rounded-full p-4 shadow-lg",children:a.jsx(cr,{className:"h-16 w-16 text-white",strokeWidth:2.5})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-900 mb-4",children:"Simulation Complete!"}),a.jsxs("div",{className:"flex justify-center items-center gap-4 mb-8",children:[a.jsx(Nf,{className:"h-8 w-8 text-yellow-500"}),a.jsx("p",{className:"text-xl text-center text-gray-700 font-medium",children:"Thank You for Your Participation"}),a.jsx(Nf,{className:"h-8 w-8 text-yellow-500"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg p-6 mb-8 border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(Uy,{className:"h-6 w-6 text-red-500 mt-1 flex-shrink-0"}),a.jsxs("p",{className:"text-gray-800 leading-relaxed",children:[a.jsx("strong",{children:"We deeply appreciate your time, effort, and thoughtful consideration"})," throughout this simulation. Your decisions and engagement provide invaluable insights into value-driven decision-making under pressure."]})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed ml-9",children:"You navigated complex scenarios, balanced competing priorities, and demonstrated the challenges of ethical decision-making in crisis situations. Your contribution helps advance our understanding of how people align their values with their choices."})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"bg-green-100 rounded-full p-2",children:a.jsx(cr,{className:"h-5 w-5 text-green-600"})}),a.jsx("span",{className:"text-lg",children:"All scenarios completed successfully"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:a.jsx(cr,{className:"h-5 w-5 text-blue-600"})}),a.jsx("span",{className:"text-lg",children:"Your decisions have been recorded"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx("div",{className:"bg-purple-100 rounded-full p-2",children:a.jsx(cr,{className:"h-5 w-5 text-purple-600"})}),a.jsx("span",{className:"text-lg",children:"Final analysis is ready for your review"})]})]}),a.jsxs("div",{className:"border-t-2 border-gray-200 pt-6",children:[a.jsx("p",{className:"text-center text-gray-600 mb-6 text-lg",children:"Please proceed to provide your feedback about the simulation experience"}),a.jsxs("button",{onClick:s,className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 text-white font-semibold text-lg py-4 px-6 rounded-lg hover:from-blue-700 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:["Continue to Feedback",a.jsx(Tn,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})]})})})},l1=({matches:e})=>{const t=i=>i.matchesImplicit?"Stable":i.matchesSimulation?"Context-Dependent":"Inconsistent",n=i=>i.matchesImplicit?"text-green-600":i.matchesSimulation?"text-orange-600":"text-red-600",r=i=>i.matchesImplicit?a.jsx(Rn,{size:16,className:"text-green-600"}):i.matchesSimulation?a.jsx(ut,{size:16,className:"text-orange-600"}):a.jsx(Ps,{size:16,className:"text-red-600"});return a.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scenario"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Selected Value"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stability"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(i=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Scenario ",i.scenarioId]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.selectedValue}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:i.matchesExplicit?"text-green-600":"text-gray-400",children:[i.matchesExplicit?"":""," Explicit Values"]}),a.jsxs("div",{className:i.matchesImplicit?"text-green-600":"text-gray-400",children:[i.matchesImplicit?"":""," Implicit Values"]}),a.jsxs("div",{className:i.matchesSimulation?"text-orange-600":"text-gray-400",children:[i.matchesSimulation?"":""," Simulation Values"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex items-center gap-1",children:[r(i),a.jsx("span",{className:n(i),children:t(i)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${i.stabilityScore>=75?"bg-green-600":i.stabilityScore>=50?"bg-orange-600":"bg-red-600"}`,style:{width:`${i.stabilityScore}%`}})}),a.jsxs("span",{className:"text-gray-600",children:[i.stabilityScore,"%"]})]})})]},i.scenarioId))})]})})};Vi.register(ro,io,vs,Ci,Pn,am,Zc,Xc);const c1=["Safety","Efficiency","Sustainability","Fairness","Nonmaleficence"],m0=()=>{const e={};return c1.forEach(t=>{e[t.toLowerCase()]=[]}),e},$M=()=>{const e=Yt(),[t,n]=N.useState({cvrInitialReconsideration:null,cvrFinalReconsideration:null,cvrPurposeClarity:4,cvrConfidenceChange:4,cvrHelpfulness:4,cvrClarity:4,cvrComfortLevel:4,cvrPerceivedValue:4,cvrOverallImpact:4,cvrComments:"",apaPurposeClarity:4,apaEaseOfUse:4,apaControlUnderstanding:4,apaDecisionReflection:null,apaScenarioAlignment:null,apaComparisonUsefulness:4,apaPerspectiveValue:4,apaConfidenceAfterReordering:4,apaPerceivedValue:4,apaTradeoffChallenge:4,apaReflectionDepth:4,apaComments:"",usedTradeoffComparison:null,vizClarity:4,vizHelpfulness:null,vizUsefulness:4,vizTradeoffEvaluation:4,vizTradeoffJustification:4,vizExpertUsefulness:4,vizExpertConfidenceImpact:null,vizComments:"",overallScenarioAlignment:null,overallDecisionSatisfaction:4,overallProcessSatisfaction:4,overallConfidenceConsistency:4,overallLearningInsight:4,overallComments:""}),[r,i]=N.useState(!1),[s,o]=N.useState(!1),[l,c]=N.useState(!1),[d,u]=N.useState(!1),[f,h]=N.useState(!1),[m,g]=N.useState(!1),[x,y]=N.useState(null),[p,v]=N.useState(!1),[b,j]=N.useState({}),[w,S]=N.useState({}),[C,k]=N.useState([]),[I,E]=N.useState(null),[_,F]=N.useState(0),[H,D]=N.useState(!1),[M,R]=N.useState(m0()),[O,P]=N.useState([]),[T,A]=N.useState([]);N.useEffect(()=>{W()},[]);const W=()=>{try{const z=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),L=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null"),se=JSON.parse(localStorage.getItem("finalValues")||"[]"),ce=localStorage.getItem("MoralValuesReorderList"),V=yt.getScenarioTrackingHistory(),J=yt.getAllEvents();if(!z.length||!L){console.error("Missing required data for metrics calculation");return}const Q=se.map(ee=>(ee.name||ee).toString().toLowerCase());let he=[];if(ce)try{he=JSON.parse(ce).map(Dt=>(Dt.id||Dt.name||Dt).toString().toLowerCase())}catch{he=Q}else he=Q;const te=J.filter(ee=>ee.event==="cvr_opened"),Ne=te.length,ae=J.filter(ee=>ee.event==="cvr_answered"),ve=ae.filter(ee=>ee.cvrAnswer===!0).length,me=ae.filter(ee=>ee.cvrAnswer===!1).length,pe=J.filter(ee=>ee.event==="apa_reordered"),Ze=pe.length,Re=[],$e=new Map;V.forEach(ee=>{if(ee.endTime&&ee.startTime){const Dt=(ee.endTime-ee.startTime)/1e3;Re.push(Dt),$e.set(ee.scenarioId,{timeSeconds:Math.round(Dt),switches:ee.switchCount||0,cvrVisited:ee.cvrVisited||!1,cvrVisitCount:ee.cvrVisitCount||0,cvrYesAnswers:ee.cvrYesAnswers||0,apaReordered:ee.apaReordered||!1,apaReorderCount:ee.apaReorderCount||0})}}),Re.length===0&&z.forEach(()=>{Re.push(75)});const wn=Re.length>0?Re.reduce((ee,Dt)=>ee+Dt,0)/Re.length:0,at=[],Ln=[];z.forEach((ee,Dt)=>{const br=(ee.decision.label||"").toLowerCase(),Xn=ee.scenarioId,zn=te.filter(Sn=>Sn.scenarioId===ee.scenarioId),$i=ae.filter(Sn=>Sn.scenarioId===ee.scenarioId&&Sn.cvrAnswer===!0);let Wi=!1;Xn===1?Wi=Q.includes(br):(Xn===2||Xn===3)&&(Wi=he.includes(br));const To=Wi&&$i.length===0;at.push(To);const Zn=$e.get(ee.scenarioId)||{timeSeconds:Math.round(Re[Dt]||0),switches:0,cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,apaReordered:!1,apaReorderCount:0},bd=J.filter(Sn=>Sn.event==="option_selected"&&Sn.scenarioId===ee.scenarioId),wd=Math.max(0,bd.length-1),Ao=pe.filter(Sn=>Sn.scenarioId===ee.scenarioId);Ln.push({scenarioId:ee.scenarioId,finalChoice:ee.decision.title||ee.decision.label||"Unknown",aligned:To,switches:Zn.switches||wd,timeSeconds:Zn.timeSeconds,cvrVisited:Zn.cvrVisited||zn.length>0,cvrVisitCount:Zn.cvrVisitCount||zn.length,cvrYesAnswers:Zn.cvrYesAnswers||$i.length,apaReordered:Zn.apaReordered||Ao.length>0,apaReorderCount:Zn.apaReorderCount||Ao.length})});const Bi=Ln.reduce((ee,Dt)=>ee+Dt.switches,0),yr=at.filter(Boolean).length,Qn=at.length>0?yr/at.length:0,Fn=U(L),oe=fe(L);let de=0,Mo=0;Ln.forEach(ee=>{const br=J.filter(zn=>zn.scenarioId===ee.scenarioId).find(zn=>zn.event==="option_confirmed"),Xn=br==null?void 0:br.flagsAtConfirmation;if(Xn){const zn=Xn.simulationMetricsReorderingFlag??!1,$i=Xn.moralValuesReorderingFlag??!1;(zn||$i)&&Mo++}ee.aligned||de++});const Gt=[];pe.forEach(ee=>{ee.valuesAfter&&ee.scenarioId!==void 0&&Gt.push({scenarioId:ee.scenarioId,values:ee.valuesAfter,preferenceType:ee.preferenceType||"unknown"})}),y({cvrArrivals:Ne,cvrYesCount:ve,cvrNoCount:me,apaReorderings:Ze,misalignAfterCvrApaCount:de,realignAfterCvrApaCount:Mo,switchCountTotal:Bi,avgDecisionTime:wn,decisionTimes:Re,valueConsistencyIndex:Qn,performanceComposite:Fn,balanceIndex:oe,finalAlignmentByScenario:at,valueOrderTrajectories:Gt,scenarioDetails:Ln})}catch(z){console.error("Error calculating metrics:",z)}},U=z=>{const L={livesSaved:Math.min(z.livesSaved/2e4,1),casualties:1-Math.min(z.humanCasualties/1e3,1),firefightingResource:z.firefightingResource/100,infrastructureCondition:z.infrastructureCondition/100,biodiversityCondition:z.biodiversityCondition/100,propertiesCondition:z.propertiesCondition/100,nuclearPowerStation:z.nuclearPowerStation/100},se=Object.values(L),ce=se.reduce((V,J)=>V+J,0)/se.length;return Math.round(ce*100)/100},fe=z=>{const L=[Math.min(z.livesSaved/2e4,1),1-Math.min(z.humanCasualties/1e3,1),z.firefightingResource/100,z.infrastructureCondition/100,z.biodiversityCondition/100,z.propertiesCondition/100,z.nuclearPowerStation/100],se=L.reduce((V,J)=>V+J,0)/L.length,ce=L.reduce((V,J)=>V+Math.pow(J-se,2),0)/L.length;return Math.round((1-ce)*100)/100},le=(z,L)=>{n(se=>({...se,[z]:L}))},Y=()=>{try{const z=JSON.parse(localStorage.getItem("explicitValues")||"[]"),L=JSON.parse(localStorage.getItem("deepValues")||"[]"),se=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),ce=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null");if(!z.length||!L.length||!se.length||!ce){D(!0);return}const V=JSON.parse(localStorage.getItem("ExplicitValueFrequencies")||"[]"),J=JSON.parse(localStorage.getItem("ImplicitValueFrequencies")||"[]");P(V),A(J);const Q={};z.forEach(ae=>{const ve=ae.value_selected.toLowerCase();Q[ve]=(Q[ve]||0)+1}),j(Q);const he={};L.forEach(ae=>{var me;const ve=(me=ae.name)==null?void 0:me.toLowerCase();ve&&(he[ve]=(he[ve]||0)+1)}),S(he);const te=m0();Object.keys(te).forEach(ae=>{te[ae]=[0,0,0]}),se.forEach((ae,ve)=>{const me=ae.decision.label.toLowerCase(),pe=ae.topTwoValuesAtDecision||[];ve<3&&(te[me]&&(te[me][ve]=100),pe.forEach(Ze=>{const Re=Ze.toLowerCase();Re!==me&&te[Re]&&(te[Re][ve]=50)}))}),R(te);const Ne=se.map(ae=>{const ve=ae.decision.label.toLowerCase(),me=Q[ve]>0,pe=he[ve]>0,$e=(me?40:0)+(pe?60:0);return{scenarioId:ae.scenarioId,selectedValue:ae.decision.label,matchesExplicit:me,matchesImplicit:pe,matchesSimulation:!0,stabilityScore:$e}});k(Ne),F(Ne.reduce((ae,ve)=>ae+ve.stabilityScore,0)/Ne.length),E(ce),D(!1)}catch(z){console.error("Error loading analysis data:",z),D(!0)}},re=()=>{const z=c1;return{labels:z,datasets:[{label:"Explicit Choices",data:z.map(L=>b[L.toLowerCase()]||0),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Implicit Choices",data:z.map(L=>w[L.toLowerCase()]||0),backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Simulation Decisions",data:z.map(L=>C.filter(se=>se.selectedValue.toLowerCase()===L.toLowerCase()).length),backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},ie=()=>{const z=Object.keys(M);return{labels:["Explicit Choices","Implicit Choices","Scenario 1","Scenario 2","Scenario 3"],datasets:z.map((L,se)=>{const ce=[{line:"rgb(239, 68, 68)",fill:"rgba(239, 68, 68, 0.1)"},{line:"rgb(59, 130, 246)",fill:"rgba(59, 130, 246, 0.1)"},{line:"rgb(16, 185, 129)",fill:"rgba(16, 185, 129, 0.1)"},{line:"rgb(245, 158, 11)",fill:"rgba(245, 158, 11, 0.1)"},{line:"rgb(139, 92, 246)",fill:"rgba(139, 92, 246, 0.1)"}],V=O.find(te=>te.value.toLowerCase()===L.toLowerCase()),J=V?V.percentage:0,Q=T.find(te=>te.value.toLowerCase()===L.toLowerCase()),he=Q?Q.percentage:0;return{label:L.charAt(0).toUpperCase()+L.slice(1),data:[J,he,...M[L]],borderColor:ce[se%ce.length].line,backgroundColor:ce[se%ce.length].fill,tension:.1,fill:!0}})}},qe=async()=>{var Q,he;if(!x)return;const z={...x,...t};localStorage.setItem("sessionResults",JSON.stringify(z));const L={event:"feedback_submitted",timestamp:new Date().toISOString(),data:z},se=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");se.push(L),localStorage.setItem("sessionEventLogs",JSON.stringify(se));const ce=Se.getSessionId(),V=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),J=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]");try{await Se.insertSessionFeedback({session_id:ce,cvr:{initialReconsideration:t.cvrInitialReconsideration,finalReconsideration:t.cvrFinalReconsideration,purposeClarity:t.cvrPurposeClarity,confidenceChange:t.cvrConfidenceChange,helpfulness:t.cvrHelpfulness,clarity:t.cvrClarity,comfortLevel:t.cvrComfortLevel,perceivedValue:t.cvrPerceivedValue,overallImpact:t.cvrOverallImpact,comments:t.cvrComments},apa:{purposeClarity:t.apaPurposeClarity,easeOfUse:t.apaEaseOfUse,controlUnderstanding:t.apaControlUnderstanding,decisionReflection:t.apaDecisionReflection,scenarioAlignment:t.apaScenarioAlignment,comparisonUsefulness:t.apaComparisonUsefulness,perspectiveValue:t.apaPerspectiveValue,confidenceAfterReordering:t.apaConfidenceAfterReordering,perceivedValue:t.apaPerceivedValue,tradeoffChallenge:t.apaTradeoffChallenge,reflectionDepth:t.apaReflectionDepth,comments:t.apaComments},visualization:{usedTradeoffComparison:t.usedTradeoffComparison,clarity:t.vizClarity,usefulness:t.vizUsefulness,tradeoffEvaluation:t.vizTradeoffEvaluation,tradeoffJustification:t.vizTradeoffJustification,expertUsefulness:t.vizExpertUsefulness,helpfulness:t.vizHelpfulness,expertConfidenceImpact:t.vizExpertConfidenceImpact,comments:t.vizComments},overall:{scenarioAlignment:t.overallScenarioAlignment,decisionSatisfaction:t.overallDecisionSatisfaction,processSatisfaction:t.overallProcessSatisfaction,confidenceConsistency:t.overallConfidenceConsistency,learningInsight:t.overallLearningInsight,comments:t.overallComments},metricsSnapshot:{valueConsistencyIndex:x.valueConsistencyIndex,performanceComposite:x.performanceComposite,balanceIndex:x.balanceIndex,cvrArrivals:x.cvrArrivals,cvrYesCount:x.cvrYesCount,cvrNoCount:x.cvrNoCount,apaReorderings:x.apaReorderings,totalSwitches:x.switchCountTotal,avgDecisionTime:x.avgDecisionTime,scenariosFinalDecisionLabels:V,checkingAlignmentList:J}}),h(!0),g(!0);try{await((Q=Se.updateUserSession)==null?void 0:Q.call(Se,ce,{is_completed:!0,completed_at:new Date().toISOString()}))}catch(te){console.debug("updateUserSession failed (non-blocking):",te)}try{await((he=Se.syncFallbackData)==null?void 0:he.call(Se))}catch(te){console.debug("syncFallbackData failed (non-blocking):",te)}}catch(te){console.error("Submit feedback failed:",te),alert("Sorrysaving feedback failed. Please try again.")}};return x?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ms,{className:"h-8 w-8 text-yellow-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Feedback"})]})})}),a.jsxs("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-teal-50 rounded-lg p-6 mb-8 border-2 border-blue-200",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[a.jsx(ja,{className:"h-6 w-6 text-blue-600"}),"We Value Your Experience"]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your feedback is crucial to understanding how this simulation helped you reflect on value-driven decision-making. Please take a moment to share your thoughts about the process and your experience."})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 via-amber-100 to-yellow-50 rounded-lg shadow-lg border-2 border-orange-300 p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-orange-900 flex items-center",children:[a.jsx(By,{className:"h-6 w-6 mr-2 text-orange-700"}),"Decision Support Tools"]}),a.jsxs("div",{className:"flex items-center gap-2 bg-orange-200 px-3 py-1.5 rounded-full shadow-sm",children:[a.jsx(fr,{className:"h-5 w-5 text-orange-900"}),a.jsx("span",{className:"text-xs font-bold text-orange-900",children:"Visualization & Analysis"})]})]}),a.jsx("p",{className:"text-sm text-orange-800 font-medium mb-6 leading-relaxed bg-white/60 p-3 rounded-lg",children:"Throughout the simulation, you had access to expert recommendations, trade-off visualizations (radar and bar charts), and comparison tools to help you understand the implications of different choices."}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Did you use the trade-off comparison view (i.e. Radar and Bar Chart)?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(z=>({...z,usedTradeoffComparison:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.usedTradeoffComparison===!0?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(z=>({...z,usedTradeoffComparison:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.usedTradeoffComparison===!1?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),t.usedTradeoffComparison===!0&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Visualization (Radar & Bar Charts)"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visualization Clarity: How clear were the radar and bar chart visualizations?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizClarity,onChange:z=>le("vizClarity",parseInt(z.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-orange-600",children:t.vizClarity})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very unclear"}),a.jsx("span",{children:"Very clear"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visualization Helpfulness: Did these visualizations help you make your decision?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(z=>({...z,vizHelpfulness:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.vizHelpfulness===!0?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(z=>({...z,vizHelpfulness:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.vizHelpfulness===!1?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Visualization Usefulness in Decision-Making: How useful were the radar and bar chart visualizations in your decision-making process?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizUsefulness,onChange:z=>le("vizUsefulness",parseInt(z.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-amber-600",children:t.vizUsefulness})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not useful"}),a.jsx("span",{children:"Very useful"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Trade-Off and Comparison Views"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trade-Off Evaluation: How valuable were the trade-off comparisons and difference views in helping you evaluate your options?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizTradeoffEvaluation,onChange:z=>le("vizTradeoffEvaluation",parseInt(z.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-yellow-600",children:t.vizTradeoffEvaluation})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not valuable"}),a.jsx("span",{children:"Very valuable"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Trade-Off Justification: How helpful were these trade-off views in helping you reach or justify a decision?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizTradeoffJustification,onChange:z=>le("vizTradeoffJustification",parseInt(z.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-lime-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-lime-600",children:t.vizTradeoffJustification})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not helpful"}),a.jsx("span",{children:"Very helpful"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-4",children:"Expert Analyses and Recommendations"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Expert Guidance Usefulness: How useful were the expert analyses and recommendations in making your decisions?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.vizExpertUsefulness,onChange:z=>le("vizExpertUsefulness",parseInt(z.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-orange-600",children:t.vizExpertUsefulness})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not useful"}),a.jsx("span",{children:"Very useful"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Expert Confidence Impact: Did the expert analyses increase your confidence in your chosen options?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(z=>({...z,vizExpertConfidenceImpact:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.vizExpertConfidenceImpact===!0?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(z=>({...z,vizExpertConfidenceImpact:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.vizExpertConfidenceImpact===!1?"bg-orange-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-orange-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(ja,{className:"h-4 w-4 mr-2 text-gray-500"}),"Optional Open-Ended Reflection",a.jsxs("button",{onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:()=>c(!l),className:"ml-2 text-orange-500 hover:text-orange-700 relative",children:[a.jsx(Ka,{className:"h-4 w-4"}),l&&a.jsx("div",{className:"absolute left-0 top-6 z-10 w-80 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:"Which visualization or analysis tool helped you most?"}),a.jsx("p",{children:"Did expert insights change your mind or reinforce your choice?"}),a.jsx("p",{children:"How did trade-off comparisons influence your decision process?"}),a.jsx("p",{children:"What could make these tools more intuitive or effective?"})]})})]})]}),a.jsx("textarea",{value:t.vizComments,onChange:z=>n(L=>({...L,vizComments:z.target.value})),rows:4,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Which tool helped you most in making your decision? Did expert insights change or reinforce your choice? What could improve the visualizations or comparison tools?"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 via-pink-100 to-rose-50 rounded-lg shadow-lg border-2 border-purple-300 p-6 mb-8",children:[a.jsxs("h3",{className:"text-xl font-bold text-purple-900 mb-6 flex items-center",children:[a.jsx(ms,{className:"h-6 w-6 mr-2 text-purple-700"}),"Overall Experience Feedback"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Scenario Alignment Over Time: As you progressed through the scenarios, did you notice that the initial solutions increasingly matched your values or priorities?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n(z=>({...z,overallScenarioAlignment:!0})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.overallScenarioAlignment===!0?"bg-purple-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-purple-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"Yes"}),a.jsx("button",{onClick:()=>n(z=>({...z,overallScenarioAlignment:!1})),disabled:f,className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${t.overallScenarioAlignment===!1?"bg-purple-600 text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-300 hover:border-purple-400"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"No"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Decision Satisfaction: How satisfied are you with the decisions you made across all scenarios?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.overallDecisionSatisfaction,onChange:z=>le("overallDecisionSatisfaction",parseInt(z.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-purple-600",children:t.overallDecisionSatisfaction})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very dissatisfied"}),a.jsx("span",{children:"Very satisfied"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Process Satisfaction: How satisfied are you with the overall decision-making process in the simulation?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.overallProcessSatisfaction,onChange:z=>le("overallProcessSatisfaction",parseInt(z.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-pink-600",children:t.overallProcessSatisfaction})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very poor"}),a.jsx("span",{children:"Excellent"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Confidence Consistency: How confident were you that your final decisions remained consistent with your personal or moral values throughout the simulation?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.overallConfidenceConsistency,onChange:z=>le("overallConfidenceConsistency",parseInt(z.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-rose-600",children:t.overallConfidenceConsistency})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not confident"}),a.jsx("span",{children:"Very confident"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Learning and Insight: How much did this simulation help you learn about how your values influence complex decision-making?"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:t.overallLearningInsight,onChange:z=>le("overallLearningInsight",parseInt(z.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:f}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-purple-600",children:t.overallLearningInsight})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not at all"}),a.jsx("span",{children:"A great deal"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(ja,{className:"h-4 w-4 mr-2 text-gray-500"}),"Optional Open-Ended Reflection",a.jsxs("button",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:()=>u(!d),className:"ml-2 text-purple-500 hover:text-purple-700 relative",children:[a.jsx(Ka,{className:"h-4 w-4"}),d&&a.jsx("div",{className:"absolute left-0 top-6 z-10 w-80 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{children:"Did your sense of alignment between values and outcomes improve over time?"}),a.jsx("p",{children:"Did the simulation change how you think about trade-offs?"}),a.jsx("p",{children:"What was most satisfying or frustrating about your overall experience?"}),a.jsx("p",{children:"What insights did you gain from interacting with multiple expert systems?"})]})})]})]}),a.jsx("textarea",{value:t.overallComments,onChange:z=>n(L=>({...L,overallComments:z.target.value})),rows:4,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"What did you learn about your values or decision process? Where did you feel most aligned or misaligned with the system? What part of the experience stood out most for you?"})]})]}),f?a.jsx("div",{className:"mt-6 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Rn,{className:"h-6 w-6 text-green-500 mr-3"}),a.jsx("span",{className:"text-green-800 font-semibold text-lg",children:"Feedback submitted successfully!"})]})}):a.jsxs("button",{onClick:qe,className:"mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:[a.jsx(ms,{size:20,className:"mr-2"}),"Submit Feedback"]})]}),f&&a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-6 border-2 border-purple-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Thank you for your feedback!"}),a.jsx("p",{className:"text-gray-700",children:"You can now explore your detailed results and analysis. Use the buttons below to access different views of your simulation performance."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6 text-center",children:"Explore Your Results"}),a.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[a.jsxs("button",{onClick:()=>{Y(),v(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold py-5 px-8 rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:[a.jsx(Y2,{className:"h-6 w-6"}),a.jsx("span",{className:"text-lg",children:"View Final Analysis Report"}),a.jsx(Tn,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),f&&a.jsxs("button",{onClick:()=>e("/study-complete"),className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white font-semibold py-5 px-8 rounded-lg hover:from-green-700 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:[a.jsx(Rn,{className:"h-6 w-6"}),a.jsx("span",{className:"text-lg",children:"Finish"}),a.jsx(Tn,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),!1]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-7xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ks,{className:"h-8 w-8 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Final Analysis Report"})]}),a.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:a.jsx(An,{className:"h-6 w-6"})})]}),H?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(ut,{className:"mx-auto text-red-500 mb-4",size:48}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Data Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please complete the simulation before accessing the final analysis."})]}):a.jsxs("div",{className:"p-8 space-y-8",children:[a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(xr,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Value Distribution Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your values were expressed across different assessment types"})]})]}),a.jsx("div",{className:"h-[400px]",children:a.jsx(lm,{data:re(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency",font:{size:13,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{padding:20,font:{size:13},usePointStyle:!0}},title:{display:!1}}}})})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(hs,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Value Stability Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How consistently your stated values aligned with your decisions"})]})]}),a.jsx("div",{className:"text-center mb-8",children:a.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:`text-5xl font-bold mb-2 ${_>=75?"text-green-600":_>=50?"text-orange-600":"text-red-600"}`,children:[_.toFixed(1),"%"]}),a.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Overall Value Stability Score"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"(Weighted: 40% Explicit, 60% Implicit Values)"})]})}),a.jsx(l1,{matches:C})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(ps,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Decision Alignment Overview"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Whether your final decisions matched your stated values"})]})]}),(()=>{const z=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),L=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]"),se=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]"),ce=L.filter(Q=>Q==="Aligned").length,V=L.length,J=V>0?ce/V*100:0;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-green-50 rounded-xl border border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Overall Alignment Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[ce," / ",V]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"scenarios aligned with your values"})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:`text-4xl font-bold ${J>=66?"text-green-600":J>=33?"text-orange-600":"text-red-600"}`,children:[J.toFixed(0),"%"]})})]})}),a.jsx("div",{className:"space-y-4",children:C.map((Q,he)=>{var wn;const te=z[he]||Q.selectedValue,Ne=L[he]||"Unknown",ae=Ne==="Aligned",me=se.filter(at=>at.scenarioId===Q.scenarioId||at.data&&at.data.scenarioId===Q.scenarioId).find(at=>at.event==="option_confirmed"||at.data&&at.data.event==="option_confirmed"),pe=((wn=me==null?void 0:me.data)==null?void 0:wn.flagsAtConfirmation)||(me==null?void 0:me.flagsAtConfirmation),Ze=(pe==null?void 0:pe.cvrYesClicked)??!1,Re=(pe==null?void 0:pe.cvrNoClicked)??!1,$e=(pe==null?void 0:pe.hasReorderedValues)??!1;return a.jsxs("div",{className:`p-5 rounded-xl border-2 transition-all ${ae?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("span",{className:"text-base font-bold text-gray-900",children:["Scenario ",Q.scenarioId]}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full font-bold text-xs ${ae?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"}`,children:[ae?a.jsx(Rn,{className:"h-3.5 w-3.5"}):a.jsx(Ps,{className:"h-3.5 w-3.5"}),Ne]})]}),a.jsxs("div",{className:"bg-white rounded-lg px-4 py-2.5 border border-gray-200",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:"Final Decision"}),a.jsx("p",{className:"text-base font-bold text-gray-900",children:te.charAt(0).toUpperCase()+te.slice(1)})]})]})}),(Ze||Re||$e)&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Interaction Flags"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ze&&a.jsx("span",{className:"px-2.5 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full border border-orange-300",children:"CVR: Would Change Decision"}),Re&&a.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full border border-blue-300",children:"CVR: Confirmed Decision"}),$e&&a.jsx("span",{className:"px-2.5 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full border border-purple-300",children:"Reordered Preferences"})]})]})]},Q.scenarioId)})})]})})()]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Gc,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Value Consistency Trend"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your value consistency evolved throughout the simulation"})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"h-[450px]",children:a.jsx(Wb,{data:ie(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Consistency Score (%)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{font:{size:12},callback:function(z){return z+"%"}}},x:{grid:{display:!1},ticks:{font:{size:12,weight:"bold"}}}},elements:{line:{borderWidth:3},point:{radius:6,hoverRadius:8,borderWidth:2,backgroundColor:"#ffffff"}},plugins:{legend:{position:"top",align:"center",labels:{padding:20,usePointStyle:!0,font:{size:13,weight:"bold"},boxWidth:12,boxHeight:12}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#4b5563",borderColor:"#d1d5db",borderWidth:2,padding:16,bodyFont:{size:13},titleFont:{size:15,weight:"bold"},displayColors:!0,boxWidth:12,boxHeight:12,boxPadding:6,callbacks:{label:function(z){return z.dataset.label+": "+z.parsed.y.toFixed(0)+"%"}}}},interaction:{mode:"index",intersect:!1}}})})})]}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(Di,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Final Simulation Metrics"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"The cumulative outcomes of your decisions"})]})]}),I&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Lives Saved"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:I.livesSaved})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-red-600 mb-1",children:"Casualties"}),a.jsx("p",{className:"text-2xl font-bold text-red-700",children:I.humanCasualties})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Resources Remaining"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${I.firefightingResource}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.firefightingResource,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Infrastructure Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-yellow-600 h-2.5 rounded-full",style:{width:`${I.infrastructureCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.infrastructureCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Biodiversity Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${I.biodiversityCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.biodiversityCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Properties Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${I.propertiesCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.propertiesCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nuclear Power Station"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${I.nuclearPowerStation<30?"bg-red-600":I.nuclearPowerStation<70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${I.nuclearPowerStation}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[I.nuclearPowerStation,"%"]})]})]})]})]})]})]})})]}),a.jsx("style",{children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider:disabled::-webkit-slider-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }

        .slider:disabled::-moz-range-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }
      `})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading feedback form..."})]})})};Vi.register(ro,io,vs,Ci,Pn,am,Zc,Xc);const d1=["Safety","Efficiency","Sustainability","Fairness","Nonmaleficence"],WM=()=>{const e={};return d1.forEach(t=>{e[t.toLowerCase()]=[]}),e},HM=()=>{const e=Yt(),[t,n]=N.useState({}),[r,i]=N.useState({}),[s,o]=N.useState([]),[l,c]=N.useState(null),[d,u]=N.useState(0),[f,h]=N.useState(!1),[m,g]=N.useState(WM()),[x,y]=N.useState([]),[p,v]=N.useState([]);N.useEffect(()=>{try{const w=JSON.parse(localStorage.getItem("explicitValues")||"[]"),S=JSON.parse(localStorage.getItem("deepValues")||"[]"),C=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),k=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null");if(!w.length||!S.length||!C.length||!k){h(!0);return}const I=JSON.parse(localStorage.getItem("ExplicitValueFrequencies")||"[]"),E=JSON.parse(localStorage.getItem("ImplicitValueFrequencies")||"[]");y(I),v(E);const _={};w.forEach(R=>{const O=R.value_selected.toLowerCase();_[O]=(_[O]||0)+1}),n(_);const F={};S.forEach(R=>{const O=R.name.toLowerCase();F[O]=(F[O]||0)+1}),i(F);const H=new Set(C.map(R=>R.decision.label.toLowerCase())),D={};H.forEach(R=>{D[R]=[]}),C.forEach(R=>{const O=R.decision.label.toLowerCase();H.forEach(P=>{const T=P===O,A=_[P]>0,W=F[P]>0;let U=0;T&&(U=(A?40:0)+(W?60:0)),D[P].push(U)})}),g(D);const M=C.map(R=>{const O=R.decision.label.toLowerCase(),P=_[O]>0,T=F[O]>0,A=(P?40:0)+(T?60:0);return{scenarioId:R.scenarioId,selectedValue:R.decision.label,matchesExplicit:P,matchesImplicit:T,matchesSimulation:!0,stabilityScore:A}});o(M),u(M.reduce((R,O)=>R+O.stabilityScore,0)/M.length),c(k)}catch(w){console.error("Error loading analysis data:",w),h(!0)}},[]);const b=()=>{const w=d1;return{labels:w,datasets:[{label:"Explicit Choices",data:w.map(S=>t[S.toLowerCase()]||0),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Implicit Choices",data:w.map(S=>r[S.toLowerCase()]||0),backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"Simulation Decisions",data:w.map(S=>s.filter(C=>C.selectedValue.toLowerCase()===S.toLowerCase()).length),backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},j=()=>{const w=[{line:"rgb(239, 68, 68)",fill:"rgba(239, 68, 68, 0.1)"},{line:"rgb(59, 130, 246)",fill:"rgba(59, 130, 246, 0.1)"},{line:"rgb(16, 185, 129)",fill:"rgba(16, 185, 129, 0.1)"},{line:"rgb(245, 158, 11)",fill:"rgba(245, 158, 11, 0.1)"},{line:"rgb(139, 92, 246)",fill:"rgba(139, 92, 246, 0.1)"}],S=Object.keys(m);return{labels:["Explicit Choices","Implicit Choices","Scenario 1","Scenario 2","Scenario 3"],datasets:S.map((C,k)=>{const I=x.find(H=>H.value.toLowerCase()===C.toLowerCase()),E=I?I.percentage:0,_=p.find(H=>H.value.toLowerCase()===C.toLowerCase()),F=_?_.percentage:0;return{label:C.charAt(0).toUpperCase()+C.slice(1),data:[E,F,...m[C]],borderColor:w[k%w.length].line,backgroundColor:w[k%w.length].fill,tension:.1,fill:!0}})}};return f?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[a.jsx(ut,{className:"mx-auto text-red-500 mb-4\\",size:48}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:"Data Not Found"}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Please complete the simulation before accessing the final analysis."}),a.jsx("button",{onClick:()=>e("/demographics"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Start New Simulation"})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ks,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Final Analysis Report"})]}),a.jsxs("button",{onClick:()=>e("/feedback"),className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-bold text-lg py-4 px-6 rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 group",children:[a.jsx(Tn,{size:20,className:"rotate-180 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{children:"Back to Feedback"})]})]})}),a.jsxs("main",{className:"max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8 space-y-8",children:[a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(xr,{className:"h-7 w-7 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Value Distribution Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your values were expressed across different assessment types"})]})]}),a.jsx("div",{className:"h-[400px]",children:a.jsx(lm,{data:b(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Frequency",font:{size:13,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},plugins:{legend:{position:"bottom",labels:{padding:20,font:{size:13},usePointStyle:!0}},title:{display:!1}}}})})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(hs,{className:"h-7 w-7 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Value Stability Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How consistently your stated values aligned with your decisions"})]})]}),a.jsx("div",{className:"text-center mb-8",children:a.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:`text-6xl font-bold mb-2 ${d>=75?"text-green-600":d>=50?"text-orange-600":"text-red-600"}`,children:[d.toFixed(1),"%"]}),a.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Overall Value Stability Score"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"(Weighted: 40% Explicit, 60% Implicit Values)"})]})}),a.jsx(l1,{matches:s})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(ps,{className:"h-7 w-7 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Decision Alignment Overview"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Whether your final decisions matched your stated values"})]})]}),(()=>{const w=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),S=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]"),C=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]"),k=S.filter(_=>_==="Aligned").length,I=S.length,E=I>0?k/I*100:0;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-green-50 rounded-xl border border-blue-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Overall Alignment Rate"}),a.jsxs("p",{className:"text-4xl font-bold text-gray-900",children:[k," / ",I]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"scenarios aligned with your values"})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:`text-5xl font-bold ${E>=66?"text-green-600":E>=33?"text-orange-600":"text-red-600"}`,children:[E.toFixed(0),"%"]})})]})}),a.jsx("div",{className:"space-y-4",children:s.map((_,F)=>{var U;const H=w[F]||_.selectedValue,D=S[F]||"Unknown",M=D==="Aligned",O=C.filter(fe=>fe.scenarioId===_.scenarioId||fe.data&&fe.data.scenarioId===_.scenarioId).find(fe=>fe.event==="option_confirmed"||fe.data&&fe.data.event==="option_confirmed"),P=((U=O==null?void 0:O.data)==null?void 0:U.flagsAtConfirmation)||(O==null?void 0:O.flagsAtConfirmation),T=(P==null?void 0:P.cvrYesClicked)??!1,A=(P==null?void 0:P.cvrNoClicked)??!1,W=(P==null?void 0:P.hasReorderedValues)??!1;return a.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all ${M?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["Scenario ",_.scenarioId]}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full font-bold text-sm ${M?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"}`,children:[M?a.jsx(Rn,{className:"h-4 w-4"}):a.jsx(Ps,{className:"h-4 w-4"}),D]})]}),a.jsxs("div",{className:"bg-white rounded-lg px-4 py-3 border border-gray-200",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Final Decision"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:H.charAt(0).toUpperCase()+H.slice(1)})]})]})}),(T||A||W)&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Interaction Flags"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[T&&a.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full border border-orange-300",children:"CVR: Would Change Decision"}),A&&a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full border border-blue-300",children:"CVR: Confirmed Decision"}),W&&a.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full border border-purple-300",children:"Reordered Preferences"})]})]})]},_.scenarioId)})})]})})()]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Gc,{className:"h-7 w-7 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Value Consistency Trend"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"How your value consistency evolved throughout the simulation"})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"h-[450px]",children:a.jsx(Wb,{data:j(),options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Consistency Score (%)",font:{size:14,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{font:{size:12},callback:function(w){return w+"%"}}},x:{grid:{display:!1},ticks:{font:{size:12,weight:"bold"}}}},elements:{line:{borderWidth:3},point:{radius:6,hoverRadius:8,borderWidth:2,backgroundColor:"#ffffff"}},plugins:{legend:{position:"top",align:"center",labels:{padding:20,usePointStyle:!0,font:{size:13,weight:"bold"},boxWidth:12,boxHeight:12}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#4b5563",borderColor:"#d1d5db",borderWidth:2,padding:16,bodyFont:{size:13},titleFont:{size:15,weight:"bold"},displayColors:!0,boxWidth:12,boxHeight:12,boxPadding:6,callbacks:{label:function(w){return w.dataset.label+": "+w.parsed.y.toFixed(0)+"%"}}}},interaction:{mode:"index",intersect:!1}}})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border-2 border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Rn,{className:"h-5 w-5 text-green-600"}),a.jsx("h3",{className:"text-sm font-bold text-green-800",children:"High Consistency"})]}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Values consistently align with both explicit and implicit preferences (75-100%)"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 p-4 rounded-xl border-2 border-orange-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ut,{className:"h-5 w-5 text-orange-600"}),a.jsx("h3",{className:"text-sm font-bold text-orange-800",children:"Medium Consistency"})]}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Values show moderate alignment with stated preferences (50-74%)"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 p-4 rounded-xl border-2 border-red-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ps,{className:"h-5 w-5 text-red-600"}),a.jsx("h3",{className:"text-sm font-bold text-red-800",children:"Low Consistency"})]}),a.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Values demonstrate significant deviation from preferences (0-49%)"})]})]})]}),a.jsxs("section",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(Di,{className:"h-7 w-7 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Final Simulation Metrics"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"The cumulative outcomes of your decisions"})]})]}),l&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Lives Saved"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:l.livesSaved})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-red-600 mb-1",children:"Casualties"}),a.jsx("p",{className:"text-2xl font-bold text-red-700",children:l.humanCasualties})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Resources Remaining"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${l.firefightingResource}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.firefightingResource,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Infrastructure Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-yellow-600 h-2.5 rounded-full",style:{width:`${l.infrastructureCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.infrastructureCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Biodiversity Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${l.biodiversityCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.biodiversityCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Properties Condition"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${l.propertiesCondition}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.propertiesCondition,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nuclear Power Station"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${l.nuclearPowerStation<30?"bg-red-600":l.nuclearPowerStation<70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${l.nuclearPowerStation}%`}})}),a.jsxs("p",{className:"text-right text-sm text-gray-600 mt-1",children:[l.nuclearPowerStation,"%"]})]})]})]})]})]})]})};function tr(e){try{const t=localStorage.getItem(e);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch{return[]}}function UM(e,t){try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch{return t}}const YM=()=>{const e=Yt(),[t]=L2(),[n,r]=N.useState(null),i=t.get("silent")==="true";N.useEffect(()=>{const c=sessionStorage.getItem("metricsCalculated");if(i&&c==="true"){console.log("[Silent Mode] Metrics already calculated, navigating back to thank-you page"),e("/thank-you",{replace:!0});return}s()},[i,e]);const s=async()=>{var c;try{const d=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),u=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null"),f=JSON.parse(localStorage.getItem("finalValues")||"[]"),h=localStorage.getItem("MoralValuesReorderList"),m=yt.getScenarioTrackingHistory(),g=yt.getAllEvents();if(!d.length||!u){console.error("Missing required data for metrics calculation");return}const x=f.map(V=>(V.name||V).toString().toLowerCase());let y=[];if(h)try{y=JSON.parse(h).map(J=>(J.id||J.name||J).toString().toLowerCase())}catch{y=x}else y=x;const p=g.filter(V=>V.event==="cvr_opened"),v=p.length,b=g.filter(V=>V.event==="cvr_answered"),j=b.filter(V=>V.cvrAnswer===!0).length,w=b.filter(V=>V.cvrAnswer===!1).length,S=g.filter(V=>V.event==="apa_reordered"),C=S.length,k=[],I=new Map;m.forEach(V=>{if(V.endTime&&V.startTime){const J=(V.endTime-V.startTime)/1e3;k.push(J),I.set(V.scenarioId,{timeSeconds:Math.round(J),switches:V.switchCount||0,cvrVisited:V.cvrVisited||!1,cvrVisitCount:V.cvrVisitCount||0,cvrYesAnswers:V.cvrYesAnswers||0,apaReordered:V.apaReordered||!1,apaReorderCount:V.apaReorderCount||0})}}),k.length===0&&d.forEach(()=>{k.push(75)});const E=k.length>0?k.reduce((V,J)=>V+J,0)/k.length:0,_=[],F=[];d.forEach((V,J)=>{const Q=(V.decision.label||"").toLowerCase(),he=V.scenarioId,te=p.filter($e=>$e.scenarioId===V.scenarioId),Ne=b.filter($e=>$e.scenarioId===V.scenarioId&&$e.cvrAnswer===!0);let ae=!1;he===1?ae=x.includes(Q):(he===2||he===3)&&(ae=y.includes(Q));const ve=ae&&Ne.length===0;_.push(ve);const me=I.get(V.scenarioId)||{timeSeconds:Math.round(k[J]||0),switches:0,cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,apaReordered:!1,apaReorderCount:0},pe=g.filter($e=>$e.event==="option_selected"&&$e.scenarioId===V.scenarioId),Ze=Math.max(0,pe.length-1),Re=S.filter($e=>$e.scenarioId===V.scenarioId);F.push({scenarioId:V.scenarioId,finalChoice:V.decision.title||V.decision.label||"Unknown",aligned:ve,switches:me.switches||Ze,timeSeconds:me.timeSeconds,cvrVisited:me.cvrVisited||te.length>0,cvrVisitCount:me.cvrVisitCount||te.length,cvrYesAnswers:me.cvrYesAnswers||Ne.length,apaReordered:me.apaReordered||Re.length>0,apaReorderCount:me.apaReorderCount||Re.length})});const H=F.reduce((V,J)=>V+J.switches,0),D=_.filter(Boolean).length,M=_.length>0?D/_.length:0,R=o(u),O=l(u);let P=0,T=0;F.forEach(V=>{const Q=g.filter(te=>te.scenarioId===V.scenarioId).find(te=>te.event==="option_confirmed"),he=Q==null?void 0:Q.flagsAtConfirmation;if(he){const te=he.simulationMetricsReorderingFlag??!1,Ne=he.moralValuesReorderingFlag??!1;(te||Ne)&&T++}V.aligned||P++});const A=[];S.forEach(V=>{V.valuesAfter&&V.scenarioId!==void 0&&A.push({scenarioId:V.scenarioId,values:V.valuesAfter,preferenceType:V.preferenceType||"unknown"})});const W={cvrArrivals:v,cvrYesCount:j,cvrNoCount:w,apaReorderings:C,misalignAfterCvrApaCount:P,realignAfterCvrApaCount:T,switchCountTotal:H,avgDecisionTime:E,decisionTimes:k,valueConsistencyIndex:M,performanceComposite:R,balanceIndex:O,finalAlignmentByScenario:_,valueOrderTrajectories:A,scenarioDetails:F};r(W);const U=Se.getSessionId(),fe=tr("ScenariosFinalDecisionLabels"),le=tr("CheckingAlignmentList"),re=tr("finalValues").map(V=>((V==null?void 0:V.name)??V??"").toString()),ie=tr("Scenario1_MoralValueReordered"),qe=tr("Scenario2_MoralValueReordered"),z=tr("Scenario3_MoralValueReordered"),L=tr("Scenario3_InfeasibleOptions"),ce=((n==null?void 0:n.scenarioDetails)??(W==null?void 0:W.scenarioDetails)??[]).map((V,J)=>{const Q=V.scenarioId,he=(fe[J]??"N/A").toString(),te=(le[J]??"Unknown").toString();let Ne=[],ae="";Q===1?(Ne=ie,ae="Scenario1_MoralValueReordered"):Q===2?(Ne=qe,ae="Scenario2_MoralValueReordered"):Q===3&&(Ne=z,ae="Scenario3_MoralValueReordered");const ve=g.filter(de=>(de==null?void 0:de.scenarioId)===Q),me=ve.find(de=>(de==null?void 0:de.event)==="option_confirmed"),pe=(me==null?void 0:me.flagsAtConfirmation)||{},Ze=((me==null?void 0:me.finalTopTwoValuesBeforeUpdate)??re??[]).map(de=>typeof de=="string"?de:(de==null?void 0:de.name)??"").filter(Boolean),Re=!!pe.hasReorderedValues,$e=!!pe.cvrYesClicked,wn=!!pe.cvrNoClicked,at=!!pe.simulationMetricsReorderingFlag,Ln=!!pe.moralValuesReorderingFlag,Bi=ve.filter(de=>(de==null?void 0:de.event)==="cvr_answered"&&(de==null?void 0:de.cvrAnswer)===!0).length,yr=ve.filter(de=>(de==null?void 0:de.event)==="cvr_answered"&&(de==null?void 0:de.cvrAnswer)===!1).length,Qn=ve.filter(de=>(de==null?void 0:de.event)==="apa_reordered").length,Fn=ve.filter(de=>(de==null?void 0:de.event)==="alternative_added").length,oe=Math.max(0,ve.filter(de=>(de==null?void 0:de.event)==="option_selected").length-1);return{scenarioId:Q,valueListsUsed:{scenarioMoralValueReorderedName:ae,scenarioMoralValueReordered:Ne,finalTopTwoValues:Ze,infeasibleOptions:Q===3?L:[]},finalDecisionLabel:he,alignmentStatus:te,flagsAtConfirmation:{apaReordered:Re,cvrYes:$e,cvrNo:wn,simMetricsReordered:at,moralValuesReordered:Ln},interactionCounters:{apaReorders:Qn,cvrYesCount:Bi,cvrNoCount:yr,alternativesAdded:Fn,switches:oe}}});try{const V=Se.getSessionId(),J=tr("ScenariosFinalDecisionLabels"),Q=UM("userValues",{explicit:[],implicit:[]}),te=tr("finalValues").map(Ze=>((Ze==null?void 0:Ze.name)??Ze??"").toString().toLowerCase()),Ne=(((c=n==null?void 0:n.scenarioDetails)==null?void 0:c.length)??J.length)||0,ae=Array.from({length:Ne}).map((Ze,Re)=>{const $e=(J[Re]??"").toString().toLowerCase(),wn=Q.explicit.map(Fn=>Fn.toLowerCase()).includes($e),at=Q.implicit.map(Fn=>Fn.toLowerCase()).includes($e),Ln=te.includes($e),Bi=(wn?.4:0)+(at?.6:0),yr=Math.round(Bi*100),Qn=yr>=60?"Stable":"Unstable";return{scenarioId:Re+1,scenarioLabel:`Scenario ${Re+1}`,selectedValue:$e,matches:{explicitValuesMatch:wn,implicitValuesMatch:at,simulationValuesMatch:Ln},stabilityStatus:Qn,scorePercent:yr}}),ve=ae.filter(Ze=>Ze.stabilityStatus==="Stable").length,me=ae.reduce((Ze,Re)=>Ze+((Re.matches.explicitValuesMatch?.4:0)+(Re.matches.implicitValuesMatch?.6:0)),0)/(ae.length||1),pe=Number((me*100).toFixed(1));await Se.insertValueStability({session_id:V,overallStabilityScorePercent:pe,weights:{explicitWeight:.4,implicitWeight:.6},scenarios:ae,summary:{totalStableCount:ve,totalScenarios:ae.length}})}catch(V){console.error("insertValueStability failed:",V)}await Se.insertSessionMetrics({session_id:U,...W,debug_tracking:{rows:ce}}),sessionStorage.setItem("metricsCalculated","true"),console.log("[ViewResultsPage] Metrics calculated and saved to database successfully"),i&&(console.log("[Silent Mode] Metrics saved, navigating back to thank-you page"),setTimeout(()=>{e("/thank-you",{replace:!0})},100))}catch(d){console.error("Error calculating metrics:",d),sessionStorage.setItem("metricsCalculated","true"),i&&(console.error("[Silent Mode] Error occurred, but navigating back to thank-you page anyway"),setTimeout(()=>{e("/thank-you",{replace:!0})},100))}},o=c=>{const d={livesSaved:Math.min(c.livesSaved/2e4,1),casualties:1-Math.min(c.humanCasualties/1e3,1),firefightingResource:c.firefightingResource/100,infrastructureCondition:c.infrastructureCondition/100,biodiversityCondition:c.biodiversityCondition/100,propertiesCondition:c.propertiesCondition/100,nuclearPowerStation:c.nuclearPowerStation/100},u=Object.values(d),f=u.reduce((h,m)=>h+m,0)/u.length;return Math.round(f*100)/100},l=c=>{const d=[Math.min(c.livesSaved/2e4,1),1-Math.min(c.humanCasualties/1e3,1),c.firefightingResource/100,c.infrastructureCondition/100,c.biodiversityCondition/100,c.propertiesCondition/100,c.nuclearPowerStation/100],u=d.reduce((h,m)=>h+m,0)/d.length,f=d.reduce((h,m)=>h+Math.pow(m-u,2),0)/d.length;return Math.round((1-f)*100)/100};return null},GM=()=>{const e=Yt(),[t,n]=N.useState(null),[r,i]=N.useState({decisionSatisfaction:4,processSatisfaction:4,perceivedTransparency:4,notesFreeText:""}),[s,o]=N.useState(!1),[l,c]=N.useState(!1);N.useEffect(()=>{d()},[]);const d=()=>{try{const p=JSON.parse(localStorage.getItem("simulationScenarioOutcomes")||"[]"),v=JSON.parse(localStorage.getItem("finalSimulationMetrics")||"null"),b=JSON.parse(localStorage.getItem("finalValues")||"[]"),j=localStorage.getItem("MoralValuesReorderList"),w=yt.getScenarioTrackingHistory(),S=yt.getAllEvents();if(!p.length||!v){console.error("Missing required data for metrics calculation");return}const C=b.map(L=>(L.name||L).toString().toLowerCase());let k=[];if(j)try{k=JSON.parse(j).map(se=>(se.id||se.name||se).toString().toLowerCase())}catch{k=C}else k=C;const I=S.filter(L=>L.event==="cvr_opened"),E=I.length,_=S.filter(L=>L.event==="cvr_answered"),F=_.filter(L=>L.cvrAnswer===!0).length,H=_.filter(L=>L.cvrAnswer===!1).length,D=S.filter(L=>L.event==="apa_reordered"),M=D.length,R=[],O=new Map;if(w.forEach(L=>{if(L.endTime&&L.startTime){const se=(L.endTime-L.startTime)/1e3;R.push(se),O.set(L.scenarioId,{timeSeconds:Math.round(se),switches:L.switchCount||0,cvrVisited:L.cvrVisited||!1,cvrVisitCount:L.cvrVisitCount||0,cvrYesAnswers:L.cvrYesAnswers||0,apaReordered:L.apaReordered||!1,apaReorderCount:L.apaReorderCount||0})}}),R.length===0){const L=new Map,se=new Map;S.forEach(ce=>{if(ce.scenarioId!==void 0){const V=new Date(ce.timestamp).getTime();ce.event==="scenario_started"?L.set(ce.scenarioId,V):(ce.event==="option_confirmed"||ce.event==="scenario_completed")&&se.set(ce.scenarioId,V)}}),p.forEach(ce=>{const V=L.get(ce.scenarioId),J=se.get(ce.scenarioId);if(V&&J){const Q=(J-V)/1e3;R.push(Q)}else R.push(75)})}const P=R.length>0?R.reduce((L,se)=>L+se,0)/R.length:0,T=[],A=[];p.forEach((L,se)=>{const ce=(L.decision.label||"").toLowerCase(),V=L.scenarioId,J=I.filter(pe=>pe.scenarioId===L.scenarioId),Q=_.filter(pe=>pe.scenarioId===L.scenarioId&&pe.cvrAnswer===!0);let he=!1;V===1?he=C.includes(ce):(V===2||V===3)&&(he=k.includes(ce));const te=he&&Q.length===0;T.push(te);const Ne=O.get(L.scenarioId)||{timeSeconds:Math.round(R[se]||0),switches:0,cvrVisited:!1,cvrVisitCount:0,cvrYesAnswers:0,apaReordered:!1,apaReorderCount:0},ae=S.filter(pe=>pe.event==="option_selected"&&pe.scenarioId===L.scenarioId),ve=Math.max(0,ae.length-1),me=D.filter(pe=>pe.scenarioId===L.scenarioId);A.push({scenarioId:L.scenarioId,finalChoice:L.decision.title||L.decision.label||"Unknown",aligned:te,switches:Ne.switches||ve,timeSeconds:Ne.timeSeconds,cvrVisited:Ne.cvrVisited||J.length>0,cvrVisitCount:Ne.cvrVisitCount||J.length,cvrYesAnswers:Ne.cvrYesAnswers||Q.length,apaReordered:Ne.apaReordered||me.length>0,apaReorderCount:Ne.apaReorderCount||me.length})});const W=A.reduce((L,se)=>L+se.switches,0),U=T.filter(Boolean).length,fe=T.length>0?U/T.length:0,le=u(v),Y=f(v);let re=0,ie=0;A.forEach((L,se)=>{const V=p[se].scenarioId,Q=S.filter(te=>te.scenarioId===L.scenarioId).find(te=>te.event==="option_confirmed"),he=Q==null?void 0:Q.flagsAtConfirmation;if(he){const te=he.simulationMetricsReorderingFlag??!1,Ne=he.moralValuesReorderingFlag??!1;(te||Ne)&&ie++}L.aligned||re++});const qe=[];D.forEach(L=>{L.valuesAfter&&L.scenarioId!==void 0&&qe.push({scenarioId:L.scenarioId,values:L.valuesAfter,preferenceType:L.preferenceType||"unknown"})}),n({cvrArrivals:E,cvrYesCount:F,cvrNoCount:H,apaReorderings:M,misalignAfterCvrApaCount:re,realignAfterCvrApaCount:ie,switchCountTotal:W,avgDecisionTime:P,decisionTimes:R,valueConsistencyIndex:fe,performanceComposite:le,balanceIndex:Y,finalAlignmentByScenario:T,valueOrderTrajectories:qe,scenarioDetails:A})}catch(p){console.error("Error calculating metrics:",p)}},u=p=>{const v={livesSaved:Math.min(p.livesSaved/2e4,1),casualties:1-Math.min(p.humanCasualties/1e3,1),firefightingResource:p.firefightingResource/100,infrastructureCondition:p.infrastructureCondition/100,biodiversityCondition:p.biodiversityCondition/100,propertiesCondition:p.propertiesCondition/100,nuclearPowerStation:p.nuclearPowerStation/100},b=Object.values(v),j=b.reduce((w,S)=>w+S,0)/b.length;return Math.round(j*100)/100},f=p=>{const v=[Math.min(p.livesSaved/2e4,1),1-Math.min(p.humanCasualties/1e3,1),p.firefightingResource/100,p.infrastructureCondition/100,p.biodiversityCondition/100,p.propertiesCondition/100,p.nuclearPowerStation/100],b=v.reduce((w,S)=>w+S,0)/v.length,j=v.reduce((w,S)=>w+Math.pow(S-b,2),0)/v.length;return Math.round((1-j)*100)/100},h=(p,v)=>{i(b=>({...b,[p]:v}))},m=async()=>{if(!t)return;const p={...t,...r};localStorage.setItem("sessionResults",JSON.stringify(p));const v={event:"feedback_submitted",timestamp:new Date().toISOString(),data:p},b=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");b.push(v),localStorage.setItem("sessionEventLogs",JSON.stringify(b));const j=Se.getSessionId(),w=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),S=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]");await Se.insertSessionFeedback({session_id:j,decision_satisfaction:r.decisionSatisfaction,process_satisfaction:r.processSatisfaction,perceived_transparency:r.perceivedTransparency,notes_free_text:r.notesFreeText,value_consistency_index:t.valueConsistencyIndex,performance_composite:t.performanceComposite,balance_index:t.balanceIndex,cvr_arrivals:t.cvrArrivals,cvr_yes_count:t.cvrYesCount,cvr_no_count:t.cvrNoCount,apa_reorderings:t.apaReorderings,total_switches:t.switchCountTotal,avg_decision_time:t.avgDecisionTime,scenarios_final_decision_labels:w,checking_alignment_list:S}),await Se.updateUserSession(j,{is_completed:!0,completed_at:new Date().toISOString()}),await Se.syncFallbackData(),o(!0),c(!0)},g=p=>{if(!t)return;const v={...t,...r,exportedAt:new Date().toISOString(),userDemographics:JSON.parse(localStorage.getItem("userDemographics")||"{}"),allEvents:yt.getAllEvents()};if(p==="json"){const b=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),j=URL.createObjectURL(b),w=document.createElement("a");w.href=j,w.download=`simulation-results-${Date.now()}.json`,w.click(),URL.revokeObjectURL(j)}else{const b=x(v),j=new Blob([b],{type:"text/csv"}),w=URL.createObjectURL(j),S=document.createElement("a");S.href=w,S.download=`simulation-results-${Date.now()}.csv`,S.click(),URL.revokeObjectURL(w)}},x=p=>{const v={};Object.keys(p).forEach(w=>{const S=p[w];Array.isArray(S)?typeof S[0]=="object"?v[w]=JSON.stringify(S):v[w]=S.join(";"):typeof S=="object"&&S!==null?v[w]=JSON.stringify(S):v[w]=S});const b=Object.keys(v),j=b.map(w=>{const S=v[w];return typeof S=="string"&&S.includes(",")?`"${S}"`:S});return[b.join(","),j.join(",")].join(`
`)},y=()=>{const p=localStorage.getItem("userDemographics");localStorage.clear(),p&&localStorage.setItem("userDemographics",p),e("/demographics")};return t?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(By,{className:"h-8 w-8 text-green-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Results & Feedback"})]}),a.jsxs("div",{className:"flex gap-3",children:[l&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>g("json"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[a.jsx(rg,{size:16,className:"mr-2"}),"JSON"]}),a.jsxs("button",{onClick:()=>g("csv"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:[a.jsx(rg,{size:16,className:"mr-2"}),"CSV"]})]}),a.jsxs("button",{onClick:y,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200",children:[a.jsx(Yy,{size:16,className:"mr-2"}),"Restart"]})]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(In,{className:"h-8 w-8 text-blue-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CVR Arrivals"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.cvrArrivals})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gy,{className:"h-8 w-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"APA Reorderings"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.apaReorderings})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gc,{className:"h-8 w-8 text-orange-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Switches"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.switchCountTotal})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(W2,{className:"h-8 w-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Decision Time"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(t.avgDecisionTime),"s"]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ja,{className:"h-5 w-5 mr-2 text-blue-600"}),"CVR Answers"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(gs,{className:"h-5 w-5 text-green-500 mr-3"}),"return [headers.join(','), values.join(',')].join('\\n');"]}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:t.cvrYesCount})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($h,{className:"h-5 w-5 text-red-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:'"No, I would not" Answers'})]}),a.jsx("span",{className:"text-xl font-bold text-red-600",children:t.cvrNoCount})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ng,{className:"h-5 w-5 mr-2 text-red-600"}),"Post-CVR/APA Alignment Changes"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ps,{className:"h-5 w-5 text-red-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Misalignment Switches"})]}),a.jsx("span",{className:"text-xl font-bold text-red-600",children:t.misalignAfterCvrApaCount})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rn,{className:"h-5 w-5 text-green-500 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Realignment Switches"})]}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:t.realignAfterCvrApaCount})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Performance Indices"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Value Consistency Index"}),a.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[(t.valueConsistencyIndex*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Performance Composite"}),a.jsx("span",{className:"text-xl font-bold text-green-600",children:t.performanceComposite.toFixed(2)})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Balance Index"}),a.jsx("span",{className:"text-xl font-bold text-purple-600",children:t.balanceIndex.toFixed(2)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Scenario Details"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scenario"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Final Choice"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Switches"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Time (s)"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"CVR Visits"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:'CVR "Yes"'}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"APA Count"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.scenarioDetails.map((p,v)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:["Scenario ",p.scenarioId]}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:p.finalChoice}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-medium text-gray-900",children:p.switches}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center text-gray-700",children:p.timeSeconds}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-blue-700",children:p.cvrVisitCount}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-green-700",children:p.cvrYesAnswers}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-purple-700",children:p.apaReorderCount})]},v))})]})})]}),a.jsxs("div",{className:"bg-yellow-50 rounded-lg shadow-lg p-6 mb-8 border-2 border-yellow-400",children:[a.jsxs("h3",{className:"text-lg font-semibold text-yellow-900 mb-4 flex items-center",children:[a.jsx(ng,{className:"h-5 w-5 mr-2"})," Debug Tracking - Comprehensive Scenario Behavior"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-yellow-300 bg-white rounded-lg",children:[a.jsx("thead",{className:"bg-yellow-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Scenario"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Value Lists Used"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Final Decision Label"}),a.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Alignment Status"}),a.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-yellow-900 uppercase border-r border-yellow-300",children:"Flags at Confirmation"}),a.jsx("th",{className:"px-3 py-3 text-center text-xs font-bold text-yellow-900 uppercase",children:"Interaction Counters"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-yellow-200",children:(()=>{const p=JSON.parse(localStorage.getItem("ScenariosFinalDecisionLabels")||"[]"),v=JSON.parse(localStorage.getItem("CheckingAlignmentList")||"[]");(()=>{try{const S=localStorage.getItem("finalValues");if(S)return JSON.parse(S).map(k=>(k.name||k).toString())}catch{}return[]})(),(()=>{try{const S=localStorage.getItem("MoralValuesReorderList");if(S)return JSON.parse(S).map(k=>(k.id||k.name||k).toString())}catch{}return[]})();const b=(()=>{try{const S=localStorage.getItem("Scenario1_MoralValueReordered");if(S)return JSON.parse(S)}catch{}return[]})(),j=(()=>{try{const S=localStorage.getItem("Scenario2_MoralValueReordered");if(S)return JSON.parse(S)}catch{}return[]})(),w=(()=>{try{const S=localStorage.getItem("Scenario3_MoralValueReordered");if(S)return JSON.parse(S)}catch{}return[]})();return t.scenarioDetails.map((S,C)=>{const k=S.scenarioId,I=p[C]||"N/A",E=v[C]||"Unknown";let _=[],F="";k===1?(_=b,F="Scenario1_MoralValueReordered"):k===2?(_=j,F="Scenario2_MoralValueReordered"):k===3&&(_=w,F="Scenario3_MoralValueReordered");const D=yt.getAllEvents().filter(ie=>ie.scenarioId===k),M=D.find(ie=>ie.event==="option_confirmed"),R=M==null?void 0:M.flagsAtConfirmation;console.log(`[Debug] Scenario ${k} - Confirmation event:`,M),console.log(`[Debug] Scenario ${k} - Flags at confirmation:`,R);const O=(R==null?void 0:R.hasReorderedValues)??!1,P=(R==null?void 0:R.cvrYesClicked)??!1,T=(R==null?void 0:R.cvrNoClicked)??!1,A=(R==null?void 0:R.simulationMetricsReorderingFlag)??!1,W=(R==null?void 0:R.moralValuesReorderingFlag)??!1,U=D.filter(ie=>ie.event==="cvr_answered"&&ie.cvrAnswer===!0).length,fe=D.filter(ie=>ie.event==="cvr_answered"&&ie.cvrAnswer===!1).length,le=D.filter(ie=>ie.event==="apa_reordered").length,Y=D.filter(ie=>ie.event==="alternative_added").length,re=Math.max(0,D.filter(ie=>ie.event==="option_selected").length-1);return console.log(`[Debug] Scenario ${k} - Counters - CVR Yes: ${U}, CVR No: ${fe}, APA: ${le}, Alternatives: ${Y}, Switches: ${re}`),M||console.warn(`[Warning] No confirmation event found for Scenario ${k}`),M&&!R&&console.warn(`[Warning] No flags captured at confirmation for Scenario ${k}`),a.jsxs("tr",{className:"hover:bg-yellow-50",children:[a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-bold text-gray-900 border-r border-yellow-200",children:["Scenario ",k]}),a.jsx("td",{className:"px-3 py-4 text-xs border-r border-yellow-200",children:a.jsxs("div",{className:"space-y-2",children:[_&&a.jsxs("div",{className:"bg-purple-50 p-2 rounded border-2 border-purple-400",children:[a.jsxs("p",{className:"font-bold text-purple-900 mb-1",children:[F,":"]}),a.jsx("p",{className:"text-purple-700 font-mono break-words",children:_.length>0?`[${_.map(ie=>ie.charAt(0).toUpperCase()+ie.slice(1)).join(", ")}]`:"[ Empty ]"})]}),a.jsxs("div",{className:"bg-green-50 p-2 rounded border-2 border-green-400",children:[a.jsx("p",{className:"font-bold text-green-900 mb-1",children:"FinalTopTwoValues:"}),a.jsx("p",{className:"text-green-700 font-mono break-words",children:M!=null&&M.finalTopTwoValuesBeforeUpdate&&M.finalTopTwoValuesBeforeUpdate.length>0?`[${M.finalTopTwoValuesBeforeUpdate.map(ie=>ie.charAt(0).toUpperCase()+ie.slice(1)).join(", ")}]`:"[ Empty ]"})]})]})}),a.jsx("td",{className:"px-3 py-4 text-sm border-r border-yellow-200",children:a.jsx("div",{className:"bg-cyan-50 px-3 py-2 rounded border border-cyan-300 inline-block",children:a.jsx("span",{className:"font-bold text-cyan-900",children:I.charAt(0).toUpperCase()+I.slice(1)})})}),a.jsx("td",{className:"px-3 py-4 text-center border-r border-yellow-200",children:a.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full font-bold text-sm ${E==="Aligned"?"bg-green-100 text-green-800 border-2 border-green-400":"bg-red-100 text-red-800 border-2 border-red-400"}`,children:[E==="Aligned"?a.jsx(Rn,{className:"h-4 w-4 mr-1"}):a.jsx(Ps,{className:"h-4 w-4 mr-1"}),E]})}),a.jsx("td",{className:"px-3 py-4 border-r border-yellow-200",children:R?a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${O?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:"APA Reordered:"}),a.jsx("span",{className:"ml-2 font-bold",children:O?" Yes":" No"})]}),a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${P?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:'CVR "Yes":'}),a.jsx("span",{className:"ml-2 font-bold",children:P?" Yes":" No"})]}),a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${T?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:'CVR "No":'}),a.jsx("span",{className:"ml-2 font-bold",children:T?" Yes":" No"})]}),a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${A?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:"Sim. Metrics Reord.:"}),a.jsx("span",{className:"ml-2 font-bold",children:A?" Yes":" No"})]}),a.jsxs("div",{className:`flex items-center justify-between px-2 py-1 rounded ${W?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600"}`,children:[a.jsx("span",{className:"font-semibold",children:"Moral Values Reord.:"}),a.jsx("span",{className:"ml-2 font-bold",children:W?" Yes":" No"})]})]}):a.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-400 rounded p-2 text-xs text-yellow-900 font-bold",children:" No flag data captured at confirmation"})}),a.jsx("td",{className:"px-3 py-4",children:a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-purple-50 rounded",children:[a.jsx("span",{className:"font-semibold text-purple-900",children:"APA Reorders:"}),a.jsx("span",{className:"ml-2 font-bold text-purple-700",children:le})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-green-50 rounded",children:[a.jsx("span",{className:"font-semibold text-green-900",children:'CVR "Yes":'}),a.jsx("span",{className:"ml-2 font-bold text-green-700",children:U})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-red-50 rounded",children:[a.jsx("span",{className:"font-semibold text-red-900",children:'CVR "No":'}),a.jsx("span",{className:"ml-2 font-bold text-red-700",children:fe})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-blue-50 rounded",children:[a.jsx("span",{className:"font-semibold text-blue-900",children:"Alternatives:"}),a.jsx("span",{className:"ml-2 font-bold text-blue-700",children:Y})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-orange-50 rounded",children:[a.jsx("span",{className:"font-semibold text-orange-900",children:"Switches:"}),a.jsx("span",{className:"ml-2 font-bold text-orange-700",children:re})]})]})})]},C)})})()})]})}),a.jsx("div",{className:"mt-4 pt-4 border-t-2 border-yellow-400",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-300",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Session Totals"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Total CVR Arrivals:"}),a.jsx("span",{className:"font-bold text-blue-700",children:t.cvrArrivals})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Total APA Reorderings:"}),a.jsx("span",{className:"font-bold text-purple-700",children:t.apaReorderings})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Total Switches:"}),a.jsx("span",{className:"font-bold text-orange-700",children:t.switchCountTotal})]})]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-300",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"CVR Response Summary"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:'"Yes, I would" answers:'}),a.jsx("span",{className:"font-bold text-green-700",children:t.cvrYesCount})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:'"No, I would not" answers:'}),a.jsx("span",{className:"font-bold text-red-700",children:t.cvrNoCount})]})]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-300",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Alignment Summary"}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Aligned Decisions:"}),a.jsxs("span",{className:"font-bold text-green-700",children:[t.finalAlignmentByScenario.filter(Boolean).length," / ",t.finalAlignmentByScenario.length]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Value Consistency:"}),a.jsxs("span",{className:"font-bold text-blue-700",children:[(t.valueConsistencyIndex*100).toFixed(1),"%"]})]})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-6 flex items-center",children:[a.jsx(ms,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Your Feedback"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Decision Satisfaction"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:r.decisionSatisfaction,onChange:p=>h("decisionSatisfaction",parseInt(p.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:s}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-blue-600",children:r.decisionSatisfaction})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very Dissatisfied"}),a.jsx("span",{children:"Very Satisfied"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Process Satisfaction"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:r.processSatisfaction,onChange:p=>h("processSatisfaction",parseInt(p.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:s}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-green-600",children:r.processSatisfaction})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Very Poor"}),a.jsx("span",{children:"Excellent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Perceived Transparency"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"1"}),a.jsx("input",{type:"range",min:"1",max:"7",value:r.perceivedTransparency,onChange:p=>h("perceivedTransparency",parseInt(p.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",disabled:s}),a.jsx("span",{className:"text-xs text-gray-500 w-4",children:"7"}),a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-base font-bold text-purple-600",children:r.perceivedTransparency})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1 px-8",children:[a.jsx("span",{children:"Not Transparent"}),a.jsx("span",{children:"Very Transparent"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[a.jsx(ja,{className:"h-4 w-4 mr-2 text-gray-500"}),"Additional Comments (Optional)"]}),a.jsx("textarea",{value:r.notesFreeText,onChange:p=>i(v=>({...v,notesFreeText:p.target.value})),rows:4,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Share any additional thoughts about your experience..."})]})]}),s?a.jsx("div",{className:"mt-6 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Rn,{className:"h-6 w-6 text-green-500 mr-3"}),a.jsx("span",{className:"text-green-800 font-semibold text-lg",children:"Feedback submitted successfully!"})]})}):a.jsxs("button",{onClick:m,className:"mt-6 w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:[a.jsx(ms,{size:20,className:"mr-2"}),"Submit Feedback"]})]})]}),a.jsx("style",{children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #3B82F6;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .slider:disabled::-webkit-slider-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }

        .slider:disabled::-moz-range-thumb {
          background: #9CA3AF;
          cursor: not-allowed;
        }
      `})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Calculating session metrics..."})]})})},qM=()=>{const[e,t]=N.useState(!1),[n,r]=N.useState(!1);return N.useEffect(()=>{window.scrollTo(0,0),(async()=>{t(!0),setTimeout(()=>r(!0),300);const s={event:"study_completed",timestamp:new Date().toISOString(),data:{completionStatus:"full"}},o=JSON.parse(localStorage.getItem("sessionEventLogs")||"[]");o.push(s),localStorage.setItem("sessionEventLogs",JSON.stringify(o));const l=localStorage.getItem("sessionId");l&&(await Se.updateSessionStatus(l,{status:"completed",completed_at:new Date().toISOString(),study_fully_completed:!0}),await Se.syncFallbackData())})()},[]),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-teal-50 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute bottom-20 right-10 w-72 h-72 bg-teal-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse delay-1000"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse delay-500"})]}),a.jsx("div",{className:`max-w-4xl w-full transition-all duration-1000 transform relative z-10 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 md:p-12 border border-gray-100",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 to-teal-500 rounded-full blur-xl opacity-50 animate-pulse"}),a.jsx("div",{className:"relative bg-gradient-to-br from-green-400 via-teal-500 to-blue-500 rounded-full p-5 shadow-2xl",children:a.jsx(cr,{className:"h-20 w-20 text-white",strokeWidth:2.5})})]})}),a.jsxs("div",{className:`transition-all duration-700 delay-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-gray-900 mb-3",children:"Study Complete"}),a.jsxs("div",{className:"flex justify-center items-center gap-3 mb-8",children:[a.jsx(ss,{className:"h-6 w-6 text-yellow-500"}),a.jsx("p",{className:"text-xl text-center text-gray-700 font-medium",children:"Your Journey Has Concluded"}),a.jsx(ss,{className:"h-6 w-6 text-yellow-500"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 via-teal-50 to-green-50 rounded-2xl p-8 mb-8 border-2 border-teal-200 shadow-inner",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-red-400 to-pink-500 rounded-full p-3 shadow-lg flex-shrink-0",children:a.jsx(Uy,{className:"h-7 w-7 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Thank You for Your Invaluable Contribution"}),a.jsx("p",{className:"text-gray-800 leading-relaxed text-lg",children:"Your thoughtful participation has provided crucial insights into how individuals navigate complex ethical decisions under pressure. Your engagement throughout this study demonstrates the depth and nuance of human decision-making in challenging circumstances."})]})]}),a.jsx("div",{className:"space-y-4 ml-0 md:ml-16",children:a.jsx("p",{className:"text-gray-700 leading-relaxed text-base",children:"Through your careful consideration of each scenario, you have helped advance our understanding of value alignment, moral reasoning, and the intricate relationship between personal beliefs and real-world choices."})})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-blue-100 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-blue-100 rounded-full p-4",children:a.jsx(ms,{className:"h-8 w-8 text-blue-600"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Meaningful Impact"}),a.jsx("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:"Your decisions contribute to research that may shape future tools for ethical decision-making"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-teal-100 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-teal-100 rounded-full p-4",children:a.jsx(Nf,{className:"h-8 w-8 text-teal-600"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Exemplary Dedication"}),a.jsx("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:"Your commitment to completing this comprehensive study reflects exceptional dedication"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border-2 border-green-100 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-green-100 rounded-full p-4",children:a.jsx(Gc,{className:"h-8 w-8 text-green-600"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Advancing Knowledge"}),a.jsx("p",{className:"text-gray-600 text-center text-sm leading-relaxed",children:"Your responses help build a deeper understanding of human values and decision processes"})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-gray-100 rounded-2xl p-8 border-2 border-gray-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"We Wish You All the Best"}),a.jsx("p",{className:"text-gray-700 text-lg leading-relaxed max-w-2xl mx-auto",children:"As you continue on your journey, may you carry forward the thoughtfulness and wisdom you demonstrated throughout this study. Your ability to navigate complex decisions with care and consideration is a valuable strength."}),a.jsx("div",{className:"pt-4",children:a.jsx("p",{className:"text-gray-600 font-medium",children:"Thank you once again for your time, effort, and invaluable insights."})})]})}),a.jsx("div",{className:"mt-8 pt-6 border-t-2 border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-center gap-4 text-gray-500",children:[a.jsx(cr,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-sm",children:"Study Completed Successfully"}),a.jsx(cr,{className:"h-5 w-5 text-green-600"})]})})]})]})})]})};function JM(){return a.jsx(O2,{basename:"/VRDS_BASELINE",children:a.jsxs(R2,{children:[a.jsx(Mt,{path:"/",element:a.jsx(E2,{to:"/demographics",replace:!0})}),a.jsx(Mt,{path:"/demographics",element:a.jsx(ej,{})}),a.jsx(Mt,{path:"/explicitvaluepage",element:a.jsx(tj,{})}),a.jsx(Mt,{path:"/preferences",element:a.jsx(nj,{})}),a.jsx(Mt,{path:"/completion",element:a.jsx(rj,{})}),a.jsx(Mt,{path:"/values",element:a.jsx(ij,{})}),a.jsx(Mt,{path:"/tutorial",element:a.jsx(sj,{})}),a.jsx(Mt,{path:"/simulation",element:a.jsx(VM,{})}),a.jsx(Mt,{path:"/thank-you",element:a.jsx(BM,{})}),a.jsx(Mt,{path:"/feedback",element:a.jsx($M,{})}),a.jsx(Mt,{path:"/final-analysis",element:a.jsx(HM,{})}),a.jsx(Mt,{path:"/view-results",element:a.jsx(YM,{})}),a.jsx(Mt,{path:"/results-feedback",element:a.jsx(GM,{})}),a.jsx(Mt,{path:"/study-complete",element:a.jsx(qM,{})})]})})}Iy(document.getElementById("root")).render(a.jsx(JM,{}));
